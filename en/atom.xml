<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://xiaoyureed.github.io/en/</id>
    <title>xiaoyureed</title>
    <updated>2023-04-20T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://xiaoyureed.github.io/en/"/>
    <subtitle>Xiaoyureed çš„ç½‘ç»œ Wiki Blog</subtitle>
    <icon>https://xiaoyureed.github.io/en/img/favicon.ico</icon>
    <rights>Copyright Â© 2023 Xiaoyureed, Inc. Built with â¤ï¸ by xiaoyu.</rights>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ docusaurus å’Œ github pages å‘å¸ƒåšå®¢]]></title>
        <id>https://xiaoyureed.github.io/en/2023/04/20/docusaurus-github-pages-blog</id>
        <link href="https://xiaoyureed.github.io/en/2023/04/20/docusaurus-github-pages-blog"/>
        <updated>2023-04-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.]]></summary>
        <content type="html"><![CDATA[<p>This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.</p><p>Official website: <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">https://docusaurus.io/</a></p><p>Docusaurus æ˜¯ Facebook å‡ºå“çš„ä¸€ä¸ªæ–‡æ¡£ç”Ÿæˆå·¥å…·, åŸºäº react, ç®€å•å¥½ç”¨, åŠŸèƒ½ä¸°å¯Œ, è¿™é‡Œè®°å½•ä¸€ä¸‹æ­å»ºæœ¬ç«™ç‚¹çš„è¿‡ç¨‹.</p><h1>æœ¬åœ°åˆå§‹åŒ–</h1><p>é¦–å…ˆ <code>npx create-docusaurus@latest my-website classic --typescript</code>, ä¼šåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„åˆå§‹åŒ–ä»“åº“.</p><p>ä¿®æ”¹ é…ç½®æ–‡ä»¶ä¸­çš„ projectName, organizationName, baseUrl ...</p><h1>åˆ›å»º github è¿œç¨‹ä»“åº“</h1><p>Create a github repository called <code>&lt;username&gt;.github.io</code></p><p><code>git remote add origin xxx</code></p><p><code>git push -u origin main</code></p><h1>æ·»åŠ  github actions</h1><p>Create ci.yml within the path <code>.github/workflows</code></p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Build and Deploy</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)"># Allows you to run this workflow manually from the Actions tab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">workflow_dispatch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key atrule">branches</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">permissions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">contents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> read</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">id-token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Allow one concurrent deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">concurrency</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">group</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"pages"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">cancel-in-progress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)"># Hosted GitHub runners have 7 GB of memory available, let's use 6 GB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">NODE_OPTIONS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">old</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">space</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">size=6144</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">jobs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">build-and-deploy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">#concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Checkout ğŸ›ï¸</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Set up nodejs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">node-version</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> 18.x</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">cache</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Install dependencies </span><span class="token important">&amp;&amp;</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token scalar string" style="color:rgb(163, 21, 21)"></span><br></span><span class="token-line" style="color:#000000"><span class="token scalar string" style="color:rgb(163, 21, 21)">          yarn install --frozen-lockfile --non-interactive</span><br></span><span class="token-line" style="color:#000000"><span class="token scalar string" style="color:rgb(163, 21, 21)">          yarn build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> Deploy to github pages ğŸš€</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> JamesIves/github</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">action@v4</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">folder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> build </span><span class="token comment" style="color:rgb(0, 128, 0)"># The folder the action should deploy.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">secrets.access_token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">clean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token key atrule">branch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> gh</span><span class="token punctuation" style="color:rgb(4, 81, 165)">-</span><span class="token plain">pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="docusaurus" term="docusaurus"/>
        <category label="github pages" term="github pages"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æœé›†æœºå™¨å­¦ä¹ ç”¨äºé£Ÿå“è¡Œä¸šçš„æ¡ˆä¾‹]]></title>
        <id>https://xiaoyureed.github.io/en/2023/01/01/food-machine-learning</id>
        <link href="https://xiaoyureed.github.io/en/2023/01/01/food-machine-learning"/>
        <updated>2023-01-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/]]></summary>
        <content type="html"><![CDATA[<p><a href="https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/" target="_blank" rel="noopener noreferrer">https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/</a></p><p>Google æœç´¢ "food machine learning"</p><p>é£Ÿå“æº¯æº</p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="food" term="food"/>
        <category label="machine learning" term="machine learning"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ€æ ·å†™å¥½ä¸€ç¯‡å¯å®æ–½çš„æŠ€æœ¯æ–¹æ¡ˆ]]></title>
        <id>https://xiaoyureed.github.io/en/2022/12/12/writing-tech-doc</id>
        <link href="https://xiaoyureed.github.io/en/2022/12/12/writing-tech-doc"/>
        <updated>2022-12-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://www.jianshu.com/p/13503e2e7195]]></summary>
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/13503e2e7195" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/13503e2e7195</a></p><p><a href="https://xie.infoq.cn/article/dda03f839ec34b8b202f4f49e" target="_blank" rel="noopener noreferrer">https://xie.infoq.cn/article/dda03f839ec34b8b202f4f49e</a></p><p><a href="https://blog.csdn.net/kid_2412/article/details/106062531" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/kid_2412/article/details/106062531</a></p><p><a href="https://zhuanlan.zhihu.com/p/83661877" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/83661877</a></p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="writing" term="writing"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[BT torrent åè®®ä»¥åŠå°è¯•å†™ä¸€ä¸ªä¸‹è½½å·¥å…·]]></title>
        <id>https://xiaoyureed.github.io/en/2022/11/10/bt-torrent-download</id>
        <link href="https://xiaoyureed.github.io/en/2022/11/10/bt-torrent-download"/>
        <updated>2022-11-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://www.triadprogram.com/bt-download-tool/ bt åŸç†]]></summary>
        <content type="html"><![CDATA[<p><a href="https://www.triadprogram.com/bt-download-tool/" target="_blank" rel="noopener noreferrer">https://www.triadprogram.com/bt-download-tool/</a> bt åŸç†</p><p><a href="https://www.triadprogram.com/aria2-mac/" target="_blank" rel="noopener noreferrer">https://www.triadprogram.com/aria2-mac/</a></p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="BT" term="BT"/>
        <category label="torrent" term="torrent"/>
        <category label="download" term="download"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Web å¼€å‘æ¨¡å¼çš„è¿›åŒ–]]></title>
        <id>https://xiaoyureed.github.io/en/2022/06/11/web-dev-history</id>
        <link href="https://xiaoyureed.github.io/en/2022/06/11/web-dev-history"/>
        <updated>2022-06-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://www.jianshu.com/p/bec6736dcc3d]]></summary>
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/bec6736dcc3d" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/bec6736dcc3d</a></p><p><a href="https://blog.csdn.net/JavaEETeacher/article/details/6478450" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/JavaEETeacher/article/details/6478450</a></p><p><a href="https://www.bilibili.com/video/BV1qc411W78Q" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1qc411W78Q</a> æ¶æ„çš„æ¼”è¿›</p><p>In this blog I am going to talk about the development history of Java Web </p><h1>å‰åç«¯åˆ†ç¦»</h1><p><a href="https://github.com/calidion/calidion.github.io/issues/17" target="_blank" rel="noopener noreferrer">https://github.com/calidion/calidion.github.io/issues/17</a>
<a href="https://blog.csdn.net/shaobingj126/article/details/49420145" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/shaobingj126/article/details/49420145</a>
<a href="https://www.zhihu.com/question/267014376" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/267014376</a>
<a href="https://www.jianshu.com/p/2a14bb3c7505" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/2a14bb3c7505</a></p><ul><li><p>è®¾è®¡</p><p>  åç«¯: æ•°æ®åº“, ä¸­é—´ä»¶, ç¼“å­˜</p><p>  å‰ç«¯:</p><p>  äº¤äº’: é€šè¿‡ http æ¥å£, å®šä¹‰å¥½æ•°æ®æ ¼å¼ (json)</p></li><li><p>å¼€å‘ and æµ‹è¯•</p><p>  å‰åç«¯åŒæ—¶ç‹¬ç«‹å¼€å‘</p><p>  å‰ç«¯å¯ä»¥æš‚æ—¶ä» mock server æ‹¿è®¾è®¡é˜¶æ®µè§„åˆ’å¥½çš„æ•°æ®ä½¿ç”¨.</p></li><li><p>éƒ¨ç½²</p><p>  å‰åç«¯ç‹¬ç«‹éƒ¨ç½², ä¸¤è€…çš„ç‰ˆæœ¬è¦ä¸€ä¸€å¯¹åº”.</p><p>  Jenkins æŒç»­å‘å¸ƒ</p></li></ul><h1>DDD</h1><p>domain driven design é¢†åŸŸé©±åŠ¨å¼€å‘</p><p>é¢†åŸŸé©±åŠ¨æ¶æ„ï¼ˆDDDï¼‰å»ºæ¨¡ä¸­çš„æ¨¡å‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ - dz902çš„å›ç­” - çŸ¥ä¹
<a href="https://www.zhihu.com/question/25089273/answer/233316164" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/25089273/answer/233316164</a></p><p><a href="https://www.cnblogs.com/ealenxie/p/9559781.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/ealenxie/p/9559781.html</a> - å¾®æœåŠ¡ + DDD</p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="history" term="history"/>
        <category label="web" term="web"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç§»åŠ¨ç«¯æŠ€æœ¯é€‰å‹]]></title>
        <id>https://xiaoyureed.github.io/en/2022/05/04/mobile-technology</id>
        <link href="https://xiaoyureed.github.io/en/2022/05/04/mobile-technology"/>
        <updated>2022-05-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://github.com/didi/DoraemonKit ç§»åŠ¨ç«¯ app æµ‹è¯•å·¥å…·åŒ…]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/didi/DoraemonKit" target="_blank" rel="noopener noreferrer">https://github.com/didi/DoraemonKit</a> ç§»åŠ¨ç«¯ app æµ‹è¯•å·¥å…·åŒ…</p><h1>ç§»åŠ¨ç«¯é€‰å‹</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åŸç”Ÿ-native">åŸç”Ÿ native<a href="#åŸç”Ÿ-native" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å¦‚androidã€iosã€wp</p><p>ä¼˜ç‚¹: ä½“éªŒæœ€å¥½, åŠŸèƒ½æœ€å¼º</p><p>ç¼ºç‚¹:</p><ul><li><p>å¼€å‘æˆæœ¬é«˜, æ— æ³•è·¨å¹³å°</p></li><li><p>ä¸Šçº¿æ—¶é—´ä¸ç¨³å®šï¼Œéœ€è¦å®¡æ ¸ï¼Œç‰¹åˆ«æ˜¯è‹¹æœå®¡æ ¸æœºåˆ¶ï¼Œå®¡æ ¸æ—¶é—´é•¿çŸ­ä¸ä¸€ï¼Œå¯¹å†…å®¹è¿˜æœ‰æ§åˆ¶</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="react-native">react native<a href="#react-native" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>ä½¿ç”¨react-nativeå¯ä»¥ç»´æŠ¤å¤šç§å¹³å°ï¼ˆWebï¼ŒAndroidå’ŒIOSï¼‰, åŸç†æ˜¯å°† js è½¬ä¸º å¹³å°å¯¹åº”çš„ç»„ä»¶</p><p>react-nativeçš„ä¼˜ç‚¹ï¼šä¸ç”¨webview,æ‘†è„±äº†webviewçš„äº¤äº’å’Œæ€§èƒ½é—®é¢˜ï¼›æœ‰è¾ƒå¼ºçš„æ‰©å±•æ€§ï¼Œjavaç«¯æä¾›äº†åŸºç¡€æ§ä»¶ï¼Œjså¯ä»¥è‡ªç”±ç»„åˆä½¿ç”¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç»„åˆæ§ä»¶ï¼›</p><p>react-nativeçš„ç¼ºç‚¹ï¼šç»„ä»¶ä¸å…¨ï¼Œç¬¬ä¸‰æ–¹ç»„ä»¶ä¹Ÿä¸å…¨ï¼Œé‡åˆ°æŸäº›ç‰¹æ®ŠåŠŸèƒ½ï¼Œéœ€è¦èŠ±å¤§åŠ›æ°”å†™ï¼›æ€§èƒ½æ–¹é¢ä¹Ÿæ— æ³•åª²ç¾åŸç”Ÿï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æŸè€—ï¼Œç‰¹åˆ«æ˜¯äº¤æ¢å¤§æ•°æ®æ—¶ï¼›IOSç‰ˆæœ¬ç•¥å¥½ï¼Œandroiå‘å±•è¾ƒæ…¢ï¼›ioså’Œandroidä»£ç å¹¶éé€šç”¨ï¼Œæœ‰å¯èƒ½éœ€è¦ç»´æŠ¤ä¸¤å¥—ä»£ç æˆ–è€…åœ¨ä»£ç ä¸­åšä¸€äº›åˆ¤æ–­ï¼›å¼€å‘äººå‘˜è¿˜æ˜¯éœ€è¦ä¼šåŸç”Ÿå¼€å‘ï¼Œä¸ç„¶è‡ªå®šä¹‰ç»„ä»¶æ— æ³•ç¼–ç ï¼›</p><p>ç›®å‰å¾—åˆ°ç»éªŒæ˜¯IOSç‰ˆæœ¬æ¯”è¾ƒç¨³å®šï¼Œandroidç‰ˆæœ¬è¿˜ä¸å¤ªæˆç†Ÿ</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flutter">flutter<a href="#flutter" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å¼€å‘ä¸€å¥—ä»£ç åŒæ—¶è¿è¡Œåœ¨iOSå’ŒAndroidå¹³å°, åŸç†æ˜¯é€šè¿‡ç»˜å›¾å¼•æ“ç›´æ¥å°† dart ç»˜åˆ¶ä¸ºå›¾å½¢, çœå»äº† rn çš„è½¬æ¢æ­¥éª¤</p><p>ç”Ÿæ€ä¸å®Œå–„, éœ€è¦è‡ªå·±é€ è½®å­</p><p><a href="https://www.zhihu.com/question/359468918" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/359468918</a> ä¸ºä»€ä¹ˆè¦åˆ›é€  dart ä¸ç›´æ¥ç”¨ java?</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="h5-hybird-æ··åˆå¼€å‘">h5 hybird æ··åˆå¼€å‘<a href="#h5-hybird-æ··åˆå¼€å‘" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å³æ··åˆå¼€å‘,ç”±Nativeé€šè¿‡JSBridgeç­‰æ–¹æ³•æä¾›ç»Ÿä¸€çš„API,ç„¶åç”¨Html5+JSæ¥å†™å®é™…çš„é€»è¾‘,è°ƒç”¨API</p><p>æ¡†æ¶: Ionic</p><p>ä¼˜ç‚¹: </p><ul><li><p>è°ƒè¯•é€‚é…ç®€å•, ç›´æ¥åœ¨ç½‘é¡µä¸Šè°ƒè¯•å’Œä¿®æ”¹ï¼Œå‡ ä¹ä¸ç”¨è€ƒè™‘ç”¨æˆ·æœºå‹å’Œé€‚é…çš„é—®é¢˜</p></li><li><p>ç‰ˆæœ¬å‡çº§ä¼˜åŠ¿ï¼Œç½‘é¡µçš„å‡çº§ä¸ç”¨æˆ·æ— å…³ï¼Œç”¨æˆ·æ— éœ€ä¸‹è½½æ›´æ–°å®‰è£…, æ›´æ–°ç‰ˆæœ¬æ— éœ€å®¡æ ¸</p></li><li><p>éƒ¨åˆ†æ€§èƒ½è¦æ±‚çš„é¡µé¢å¯ç”¨åŸç”Ÿå®ç°è¿™åº”è¯¥æ˜¯Hybridæ¨¡å¼çš„æœ€å¤šä¸€ä¸ªå¥½å¤„äº†,å› ä¸ºè¿™ç§æ¨¡å¼æ˜¯åŸç”Ÿæ··åˆweb,æ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥å°†äº¤äº’å¼º,æ€§èƒ½è¦æ±‚é«˜çš„é¡µé¢ç”¨åŸç”Ÿå†™,ç„¶åä¸€äº›å…¶å®ƒé¡µé¢ç”¨JSå†™,åµŒå…¥webviewä¸­,è¾¾åˆ°æœ€ä½³ä½“éªŒ</p></li></ul><p>ç¼ºç‚¹: (ä¸»è¦æ˜¯æ€§èƒ½é—®é¢˜)</p><ul><li><p>H5åŠ è½½å¤§å›¾ç‰‡çš„æ—¶å€™æ€§èƒ½ä¼šä¸‹é™</p></li><li><p>å¤§é‡ç”¨æˆ·è®¿é—®åŒä¸€ä¸ªH5åº”ç”¨æ—¶æ€§èƒ½ä¼šä¸‹é™</p></li><li><p>ä¸é€‚ç”¨äºäº¤äº’æ€§è¾ƒå¼ºçš„appè¿™ç§æ¨¡å¼çš„ä¸»è¦åº”ç”¨æ˜¯:ä¸€äº›æ–°é—»é˜…è¯»ç±»,ä¿¡æ¯å±•ç¤ºç±»çš„app;ä½†æ˜¯ä¸é€‚ç”¨äºä¸€äº›äº¤äº’è¾ƒå¼ºæˆ–è€…æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„app(æ¯”å¦‚åŠ¨ç”»è¾ƒå¤šå°±ä¸é€‚åˆ)</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="web-app">web app<a href="#web-app" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å³ç§»åŠ¨ç«¯çš„ç½‘ç«™,å°†é¡µé¢éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Š,ç„¶åç”¨æˆ·ä½¿ç”¨å„å¤§æµè§ˆå™¨è®¿é—®,ä¸æ˜¯ç‹¬ç«‹APP, æ³›æŒ‡ SPA(Single Page Application)æ¨¡å¼å¼€å‘å‡ºçš„ç½‘ç«™</p><p>pros (advantage/superiority):</p><ul><li>å¼€å‘æˆæœ¬ä½,å¯ä»¥è·¨å¹³å°,è°ƒè¯•æ–¹ä¾¿</li></ul><p>cons (disadvantage/weakness):</p><ul><li>æ€§èƒ½ä½,ç”¨æˆ·ä½“éªŒå·®, åŠŸèƒ½å—é™,å¤§é‡åŠŸèƒ½æ— æ³•å®ç°</li><li>ä¾èµ–äºç½‘ç»œ,é¡µé¢è®¿é—®é€Ÿåº¦æ…¢,è€—è´¹æµé‡</li><li>ä¸´æ—¶æ€§å…¥å£,ç”¨æˆ·ç•™å­˜ç‡ä½è¿™æ—¢æ˜¯å®ƒçš„ä¼˜ç‚¹,ä¹Ÿæ˜¯ç¼ºç‚¹,ä¼˜ç‚¹æ˜¯æ— éœ€å®‰è£…,ç¡®å®šæ˜¯ç”¨å®Œåæœ‰æ—¶å€™å¾ˆéš¾å†æ‰¾åˆ°,æˆ–è€…è¯´å¾ˆéš¾ä¸“é—¨ä¸ºæŸä¸ªweb appç•™å­˜ä¸€ä¸ªå…¥å£</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jetpack">jetpack<a href="#jetpack" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="mobile" term="mobile"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[äººè„¸è¯†åˆ«å¼€æºæ–¹æ¡ˆè°ƒæŸ¥]]></title>
        <id>https://xiaoyureed.github.io/en/2021/09/20/face-recognition-detection-ocr</id>
        <link href="https://xiaoyureed.github.io/en/2021/09/20/face-recognition-detection-ocr"/>
        <updated>2021-09-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[æœ¬æ–‡æ”¶é›†äº†ç›®å‰äººè„¸è¯†åˆ«é¢†åŸŸçš„å¼€æºæ–¹æ¡ˆ, åŸºäºè¿™äº›å¼€æºæ–¹æ¡ˆ, å®ç°äº†ä¸€ä¸ªåŸºç¡€ demo]]></summary>
        <content type="html"><![CDATA[<p>æœ¬æ–‡æ”¶é›†äº†ç›®å‰äººè„¸è¯†åˆ«é¢†åŸŸçš„å¼€æºæ–¹æ¡ˆ, åŸºäºè¿™äº›å¼€æºæ–¹æ¡ˆ, å®ç°äº†ä¸€ä¸ªåŸºç¡€ demo</p><h1>äººè„¸è¯†åˆ«</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ¦‚å¿µ">æ¦‚å¿µ<a href="#æ¦‚å¿µ" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>æµç¨‹: face detection -&gt; face alignment -&gt; face verification -&gt; face identification</p><ul><li><p>äººè„¸æ£€æµ‹/è·Ÿè¸ª /å®šä½ face detection</p><p>åœ¨å›¾åƒ/è§†é¢‘ä¸­æ‰¾åˆ°å„ä¸ªäººè„¸æ‰€åœ¨çš„ä½ç½®å’Œå¤§å°, æ¡†å‡ºæ¥ï¼›å¯¹äºè·Ÿè¸ªè€Œè¨€ï¼Œè¿˜éœ€è¦ç¡®å®šå¸§é—´ä¸åŒäººè„¸é—´çš„å¯¹åº”å…³ç³»</p><p>åœ¨OpenCVä¸­æœ‰ç›´æ¥èƒ½æ‹¿å‡ºæ¥ç”¨çš„Harråˆ†ç±»å™¨</p></li><li><p>äººè„¸ç‰¹å¾ç‚¹å®šä½ </p><p>ç¡®å®šè„¸éƒ¨ç‰¹å¾ç‚¹ï¼ˆçœ¼ç›ã€å˜´å·´ä¸­å¿ƒç‚¹ã€çœ¼ç›ã€å˜´å·´è½®å»“ç‰¹å¾ç‚¹ã€å™¨å®˜è½®å»“ç‰¹å¾ç‚¹ç­‰ï¼‰çš„ä½ç½®ã€‚äººè„¸ç‰¹å¾ç‚¹å®šä½çš„åŸºæœ¬æ€è·¯ï¼Œä¸»è¦æ˜¯å°†äººè„¸å±€éƒ¨å™¨å®˜çš„çº¹ç†ç‰¹å¾å’Œå™¨å®˜ç‰¹å¾ç‚¹ä¹‹é—´çš„ä½ç½®çº¦æŸè¿›è¡Œç»“åˆæ¥è¿›è¡Œå¤„ç†</p></li><li><p>äººè„¸æ ¡å‡†ï¼ˆface alignmentï¼‰</p><p>æ£€æµ‹å‡ºäººè„¸ç‰¹å¾ç‚¹å, è¿›è¡Œå§¿æ€çš„æ ¡æ­£ï¼Œä½¿å…¶äººè„¸å°½å¯èƒ½çš„â€æ­£â€, å¯ä»¥æé«˜äººè„¸è¯†åˆ«çš„ç²¾åº¦</p></li><li><p>äººè„¸ç¡®è®¤ï¼ˆface verificationï¼‰</p><p>pair matching: æ¯”å¯¹è¾“å…¥çš„äººè„¸å’Œ å·²æœ‰çš„äººè„¸æ˜¯å¦åŒ¹é…</p></li><li><p>äººè„¸é‰´åˆ«ï¼ˆface identification/recognitionï¼‰</p><p>å¯¹è¿›è¡Œäººè„¸æ£€æµ‹ã€äººè„¸æ ¡æ­£åçš„å›¾åƒï¼ˆäººè„¸ï¼‰è¿›è¡Œåˆ†ç±»(face grouping)</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ´»ä½“æ£€æµ‹">æ´»ä½“æ£€æµ‹<a href="#æ´»ä½“æ£€æµ‹" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>ä¸€èˆ¬æœ‰ çœ¨çœ¼æ£€æµ‹, å˜´å·´å¼ /é—­æ£€æµ‹</p><ul><li><p>çœ¨çœ¼æ£€æµ‹æ–¹æ³•</p><p>æŠ“å–æ‘„åƒå¤´ä¼ æ¥çš„è¿ç»­å¸§, äººè„¸ç‰¹å¾ç‚¹å®šä½,æŸä¸ªæ—¶åˆ»ä¸ºççœ¼, ä¸‹ä¸€å¸§ä¸ºé—­çœ¼, æ¥ç€ä¸ºççœ¼, è§†ä¸ºä¸€æ¬¡çœ¨çœ¼</p><p>æˆ–è€…å¯ä»¥è€ƒè™‘å°†è¿™ä¸ªé—®é¢˜å½“åšå›¾åƒåˆ†ç±»é—®é¢˜ï¼Œç±»åˆ«ä¸ºï¼šççœ¼å’Œé—­çœ¼ã€‚å…ˆé€šè¿‡äººè„¸æ£€æµ‹æ¨¡å‹ï¼Œæ¯”å¦‚dlibã€face_recognitionï¼Œä»äººè„¸ç…§ç‰‡ä¸­è£å‰ªå‡ºçœ¼éƒ¨å›¾ç‰‡ï¼Œå†å¯¹çœ¼éƒ¨å›¾ç‰‡è¿›è¡Œåˆ†ç±»ã€‚</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¼€æºæ–¹æ¡ˆ">å¼€æºæ–¹æ¡ˆ<a href="#å¼€æºæ–¹æ¡ˆ" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/ageitgey/face_recognition" target="_blank" rel="noopener noreferrer">https://github.com/ageitgey/face_recognition</a>  åŸºäº dlib<ul><li>dlib,opencv (<a href="https://zhuanlan.zhihu.com/p/79784400" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/79784400</a>) dlib 19.7.0 å’Œface_recognition 1.2.1 ; <a href="https://zhuanlan.zhihu.com/p/45827914" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/45827914</a></li></ul></li><li><a href="https://github.com/deepinsight/insightface" target="_blank" rel="noopener noreferrer">https://github.com/deepinsight/insightface</a> MXNet and PyTorch</li><li><a href="https://github.com/davidsandberg/facenet" target="_blank" rel="noopener noreferrer">https://github.com/davidsandberg/facenet</a> Tensorflow</li><li><a href="https://github.com/cmusatyalab/openface" target="_blank" rel="noopener noreferrer">https://github.com/cmusatyalab/openface</a> Torch</li><li><a href="https://github.com/justadudewhohacks" target="_blank" rel="noopener noreferrer">https://github.com/justadudewhohacks</a> js åº“</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¦‚ä½•å­˜å‚¨">å¦‚ä½•å­˜å‚¨<a href="#å¦‚ä½•å­˜å‚¨" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p><a href="https://shentuzhigang.blog.csdn.net/article/details/103793031" target="_blank" rel="noopener noreferrer">https://shentuzhigang.blog.csdn.net/article/details/103793031</a>
<a href="https://blog.csdn.net/xia4215/article/details/113888148" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/xia4215/article/details/113888148</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ref">ref<a href="#ref" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p><a href="https://www.cnblogs.com/GarfieldEr007/p/5372345.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/GarfieldEr007/p/5372345.html</a>
<a href="https://blog.csdn.net/u014696921/article/details/74779798" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/u014696921/article/details/74779798</a>
<a href="https://www.face-rec.org/general-info/" target="_blank" rel="noopener noreferrer">https://www.face-rec.org/general-info/</a>
<a href="https://www.zhihu.com/question/64860792/answer/233782977" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/64860792/answer/233782977</a></p><p>åŸºç¡€åº“
<a href="https://github.com/opencv/opencv" target="_blank" rel="noopener noreferrer">https://github.com/opencv/opencv</a>
<a href="https://github.com/opencv/opencv_contrib" target="_blank" rel="noopener noreferrer">https://github.com/opencv/opencv_contrib</a>
<a href="http://dlib.net/" target="_blank" rel="noopener noreferrer">http://dlib.net/</a></p><p><a href="https://ai.arcsoft.com.cn/course/index.html" target="_blank" rel="noopener noreferrer">https://ai.arcsoft.com.cn/course/index.html</a> å…¬å¼€è¯¾</p><p><a href="https://github.com/ChanChiChoi/awesome-Face_Recognition#face-application" target="_blank" rel="noopener noreferrer">https://github.com/ChanChiChoi/awesome-Face_Recognition#face-application</a> è®ºæ–‡é›†</p><p><a href="https://github.com/weslynn/AlphaTree-graphic-deep-neural-network" target="_blank" rel="noopener noreferrer">https://github.com/weslynn/AlphaTree-graphic-deep-neural-network</a> ææ–™</p><p><a href="https://viusuangio.github.io/2018/10/08/face_datasets_table/" target="_blank" rel="noopener noreferrer">https://viusuangio.github.io/2018/10/08/face_datasets_table/</a> å…¬å¼€æ•°æ®é›†</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä»£ç å®ç°">ä»£ç å®ç°<a href="#ä»£ç å®ç°" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p><a href="https://blog.csdn.net/libo1004/article/details/110874855" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/libo1004/article/details/110874855</a> base64 å›¾ç‰‡ api</p><p><a href="https://blog.csdn.net/weixin_43796192/article/details/90111437" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_43796192/article/details/90111437</a> å›¾ç‰‡ä¼ è¾“ åè®®é€‰æ‹©
<a href="https://blog.csdn.net/ymaini/article/details/80645917" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/ymaini/article/details/80645917</a>
<a href="https://blog.csdn.net/sinat_29552923/article/details/70833455" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/sinat_29552923/article/details/70833455</a></p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="face recognition" term="face recognition"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[web å¼€å‘æ¡†æ¶è®¾è®¡æ„æ€]]></title>
        <id>https://xiaoyureed.github.io/en/2019/09/27/web-framework-design</id>
        <link href="https://xiaoyureed.github.io/en/2019/09/27/web-framework-design"/>
        <updated>2019-09-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://my.oschina.net/huangyong/blog/158380]]></summary>
        <content type="html"><![CDATA[<p><a href="https://my.oschina.net/huangyong/blog/158380" target="_blank" rel="noopener noreferrer">https://my.oschina.net/huangyong/blog/158380</a></p><ul><li><a href="#1-action">1. Action</a></li><li><a href="#2-action%E5%88%86%E5%8F%91%E6%9C%BA%E5%88%B6">2. Actionåˆ†å‘æœºåˆ¶</a></li><li><a href="#3-entity%E5%AE%9E%E4%BD%93">3. entityå®ä½“</a></li><li><a href="#4-%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B">4. æŠ€æœ¯é€‰å‹</a></li><li><a href="#5-java%E7%83%AD%E6%8F%92%E6%8B%94">5. Javaçƒ­æ’æ‹”</a></li></ul><h1>Action</h1><p>ç±»æ¯” controller</p><h1>Actionåˆ†å‘æœºåˆ¶</h1><p>ä¾é å”¯ä¸€çš„ Servlet : DispatcherServlet</p><ol><li><p>ä» ServletRequest ä¸­å¾—åˆ° request url, éå†è·¯ç”±åº“æ‰¾åˆ°å¯¹åº”çš„ Action (åŒ…æ‹¬ Action ç±»ä¸ Action æ–¹æ³•)</p></li><li><p>è§£æ url ä¸­çš„å ä½ç¬¦, å¾—åˆ° Action æ–¹æ³•å‚æ•°</p></li><li><p>åå°„åˆ›å»º Action, æ‰§è¡Œå¯¹åº”æ–¹æ³•, å¾—åˆ°è¿”å›å€¼ (è¿›ä¸€æ­¥è½¬ä¸º json/xml, æ ¹æ®æ³¨è§£åˆ¤æ–­)</p></li></ol><h1>entityå®ä½“</h1><ul><li><p>å®šä¹‰ä¸€ä¸ªé¡¶çº§ Bean ç±» å®ç° åºåˆ—åŒ–æ¥å£, æä¾› hashcode, equals, tostring, toJson, toXml æ–¹æ³•, ä½¿ç”¨äº† Apache Commons çš„  lang åŒ…æ¥å®ç°; (æ— è®ºæ˜¯å¦ entity ç±», éƒ½å¯ç»§æ‰¿è¿™ä¸ªç±»å¤ç”¨); </p></li><li><p>æ‰§è¡Œ SQL è¯­å¥ï¼Œå°† ResultSet æ˜ å°„ä¸º Map(å°¤å…¶æ˜¯æ‰§è¡Œå¤šè¡¨è¿æ¥çš„æ—¶å€™ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„åˆ—æ¥è‡ªäºä¸åŒçš„è¡¨ï¼Œè€Œä¸”æ•°é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå°±æ²¡æœ‰å¿…è¦å†å†™ä¸€ä¸ª Entity å»æ˜ å°„äº†ï¼Œç›´æ¥æ‹¿åˆ°ä¸€ä¸ª Mapï¼Œæœ€åå°†å…¶è½¬ä¸º JSON ç»™å‰ç«¯)</p></li></ul><h1>æŠ€æœ¯é€‰å‹</h1><p>JUintï¼šç”¨äºå•å…ƒæµ‹è¯•ã€‚
Apache Commonsï¼šç”¨äºæä¾›æœ€åŸºç¡€çš„æ”¯æŒï¼Œä¾‹å¦‚ï¼šLangã€Collectionsã€BeanUtilsã€DBCPã€DbUtils ç­‰ã€‚
Log4Jï¼šç”¨äºè®°å½•æ—¥å¿—ã€‚
Jacksonï¼šç”¨äºå¤„ç† JSON æ•°æ®ã€‚
CGLibï¼šç”¨äºåŠ¨æ€ä»£ç†ã€‚</p><h1>Javaçƒ­æ’æ‹”</h1><p>TODO</p><p><a href="https://blog.csdn.net/tonyhuang_google_com/article/details/49702291" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/tonyhuang_google_com/article/details/49702291</a> é€šè¿‡ Java spi
<a href="https://blog.csdn.net/javierhui111/article/details/3830833" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/javierhui111/article/details/3830833</a> é€šè¿‡ osgi
<a href="https://segmentfault.com/q/1010000005736656" target="_blank" rel="noopener noreferrer">https://segmentfault.com/q/1010000005736656</a> é€šè¿‡springä¾èµ–æ³¨å…¥</p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="java" term="java"/>
        <category label="web design" term="web design"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®åº“å®ç°èµ„æ–™æ¢³ç†]]></title>
        <id>https://xiaoyureed.github.io/en/2021/11/04/make-database-db</id>
        <link href="https://xiaoyureed.github.io/en/2021/11/04/make-database-db"/>
        <updated>2019-04-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://www.bilibili.com/video/BV1ct411k7jn?p=3]]></summary>
        <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1ct411k7jn?p=3" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1ct411k7jn?p=3</a>
<a href="https://github.com/aosabook/500lines/tree/master/data-store" target="_blank" rel="noopener noreferrer">https://github.com/aosabook/500lines/tree/master/data-store</a></p><p><a href="https://www.bilibili.com/video/BV17a411C7Kv/?spm_id_from=333.788.recommend_more_video.0" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV17a411C7Kv/?spm_id_from=333.788.recommend_more_video.0</a> åˆ†å¸ƒå¼æ•°æ®åº“</p><p><a href="https://www.bilibili.com/video/BV1Zv411G7ty/?spm_id_from=333.788.recommend_more_video.3%E5%8E%9F%E7%90%86" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1Zv411G7ty/?spm_id_from=333.788.recommend_more_video.3åŸç†</a></p><p><a href="https://www.bilibili.com/video/BV1ct411k7jn?p=3" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1ct411k7jn?p=3</a></p><p><a href="https://www.bilibili.com/video/BV1aZ4y1w7Uz#reply4366921730" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1aZ4y1w7Uz#reply4366921730</a></p><p><a href="https://www.bilibili.com/video/BV16N411X7y8/?spm_id_from=333.788.recommend_more_video.2" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV16N411X7y8/?spm_id_from=333.788.recommend_more_video.2</a></p><p><a href="https://www.bilibili.com/video/BV1jS4y1N7QU/?spm_id_from=333.788" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1jS4y1N7QU/?spm_id_from=333.788</a></p><p><a href="https://zhuanlan.zhihu.com/p/351897096" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/351897096</a>
<a href="http://www.zhihu.com/question/35382593/answer/102269843" target="_blank" rel="noopener noreferrer">www.zhihu.com/question/35382593/answer/102269843</a>
<a href="http://www.zhihu.com/question/30803867/answer/1987624954" target="_blank" rel="noopener noreferrer">www.zhihu.com/question/30803867/answer/1987624954</a>
<a href="http://www.zhihu.com/question/26802517/answer/1234617717" target="_blank" rel="noopener noreferrer">www.zhihu.com/question/26802517/answer/1234617717</a>
<a href="https://zhuanlan.zhihu.com/p/43411082" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/43411082</a>
<a href="https://www.zhihu.com/question/27677011/answer/240670571" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/27677011/answer/240670571</a>
<a href="https://www.zhihu.com/question/36571460/answer/68880015" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/36571460/answer/68880015</a>
<a href="https://www.zhihu.com/question/35382593/answer/102269843" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/35382593/answer/102269843</a>
<a href="https://zhuanlan.zhihu.com/p/29401694" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/29401694</a></p>]]></content>
        <category label="database" term="database"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ©ç”¨ Redis åšç™»å½•æ¬¡æ•°é™åˆ¶]]></title>
        <id>https://xiaoyureed.github.io/en/2018/05/25/redis-login-limitation</id>
        <link href="https://xiaoyureed.github.io/en/2018/05/25/redis-login-limitation"/>
        <updated>2018-05-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[æ¯”å¦‚å¸Œæœ›è¾¾åˆ°çš„è¦æ±‚æ˜¯è¿™æ ·: åœ¨ 1min å†…ç™»é™†å¼‚å¸¸æ¬¡æ•°è¾¾åˆ°5æ¬¡, é”å®šè¯¥ç”¨æˆ· 1h]]></summary>
        <content type="html"><![CDATA[<p>æ¯”å¦‚å¸Œæœ›è¾¾åˆ°çš„è¦æ±‚æ˜¯è¿™æ ·: åœ¨ 1min å†…ç™»é™†å¼‚å¸¸æ¬¡æ•°è¾¾åˆ°5æ¬¡, é”å®šè¯¥ç”¨æˆ· 1h</p><p>é‚£ä¹ˆç™»é™†è¯·æ±‚çš„å‚æ•°ä¸­, ä¼šæœ‰ä¸€ä¸ªå‚æ•°å”¯ä¸€æ ‡è¯†ä¸€ä¸ª user, æ¯”å¦‚ é‚®ç®±/æ‰‹æœºå·/userName</p><p>ç”¨è¿™ä¸ªå‚æ•°ä½œä¸ºkeyå­˜å…¥redis, å¯¹åº”çš„valueä¸ºç™»é™†é”™è¯¯çš„æ¬¡æ•°, string ç±»å‹, å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º 1min. å½“è·å–åˆ°çš„ value == "4" , è¯´æ˜å½“å‰è¯·æ±‚ä¸ºç¬¬ 5 æ¬¡ç™»é™†å¼‚å¸¸, é”å®š.</p><p>æ‰€è°“çš„é”å®š, å°±æ˜¯å°†å¯¹åº”çš„valueè®¾ç½®ä¸ºæŸä¸ªæ ‡è¯†ç¬¦, æ¯”å¦‚"lock", å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º 1h</p><h1>æ ¸å¿ƒä»£ç </h1><p>å®šä¹‰ä¸€ä¸ªæ³¨è§£, ç”¨æ¥æ ‡è¯†éœ€è¦ç™»é™†æ¬¡æ•°æ ¡éªŒçš„æ–¹æ³•</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">package</span><span class="token plain"> </span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">github</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">xiaoyureed</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">redispractice</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">anno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import namespace">lang</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Documented</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">ElementType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">METHOD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Retention</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RetentionPolicy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">RUNTIME</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisLimit</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æ ‡è¯†å‚æ•°å, å¿…é¡»æ˜¯è¯·æ±‚å‚æ•°ä¸­çš„ä¸€ä¸ª</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">identifier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * åœ¨å¤šé•¿æ—¶é—´å†…ç›‘æ§, å¦‚å¸Œæœ›åœ¨ 60s å†…å°è¯•</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æ¬¡æ•°é™åˆ¶ä¸º5æ¬¡, é‚£ä¹ˆ watch=60; unit: s</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">watch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * é”å®šæ—¶é•¿, unit: s</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * é”™è¯¯çš„å°è¯•æ¬¡æ•°</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">times</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–å†™åˆ‡é¢, åœ¨ç›®æ ‡æ–¹æ³•å‰åè¿›è¡Œæ ¡éªŒ, å¤„ç†...</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">package</span><span class="token plain"> </span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">github</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">xiaoyureed</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">redispractice</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">aop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Aspect</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Ensure that current advice is outer compared with ControllerAOP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// so we can handling login limitation Exception in this aop advice.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//@Order(9)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Slf4j</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisLimitAOP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringRedisTemplate</span><span class="token plain"> stringRedisTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Around</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"@annotation(io.github.xiaoyureed.redispractice.anno.RedisLimit)"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleLimit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ProceedingJoinPoint</span><span class="token plain"> joinPoint</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">MethodSignature</span><span class="token plain">  methodSignature </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MethodSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> joinPoint</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Method</span><span class="token plain">     method          </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> methodSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisLimit</span><span class="token plain"> redisLimitAnno  </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> method</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisLimit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">// è²Œä¼¼å¯ä»¥ç›´æ¥åœ¨æ–¹æ³•å‚æ•°ä¸­æ³¨å…¥ todo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> identifier </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> redisLimitAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">identifier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain">   watch      </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> redisLimitAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">watch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain">    times      </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> redisLimitAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">times</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain">   lock       </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> redisLimitAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// final ServletRequestAttributes att             = (ServletRequestAttributes) RequestContextHolder.currentRequestAttributes();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// final HttpServletRequest       request         = att.getRequest();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// final String                   identifierValue = request.getParameter(identifier);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> identifierValue </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> arg           </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> joinPoint</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Field</span><span class="token plain">  declaredField </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> arg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getClass</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getDeclaredField</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            declaredField</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setAccessible</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            identifierValue </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> declaredField</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">NoSuchFieldException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"&gt;&gt;&gt; invalid identifier [{}], cannot find this field in request params"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IllegalAccessException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isBlank</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"&gt;&gt;&gt; the value of RedisLimit.identifier cannot be blank, invalid identifier: {}"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// check User locked</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueOperations</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> ssOps </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> stringRedisTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">opsForValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain">                          flag  </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">flag </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"lock"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contentEquals</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">flag</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseResp</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseResp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setErrMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"user locked"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"1"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> joinPoint</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">proceed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleLoginException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> watch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> times</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleLoginException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain"> watch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> times</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">long</span><span class="token plain"> lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseResp</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseResp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"1"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e </span><span class="token keyword" style="color:rgb(0, 0, 255)">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LoginException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">info</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"&gt;&gt;&gt; handle login exception..."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueOperations</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> ssOps </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> stringRedisTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">opsForValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Boolean</span><span class="token plain">                               exist </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> stringRedisTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// key doesn't exist, so it is the first login failure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">exist </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">exist</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"1"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> watch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeUnit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SECONDS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setErrMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMessage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// has been reached the limitation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parseInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> times</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">info</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"&gt;&gt;&gt; [{}] has been reached the limitation and will be locked for {}s"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"lock"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeUnit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SECONDS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setErrMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"user locked"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">increment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setErrMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMessage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"; you have try "</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> ssOps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifierValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"times."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"&gt;&gt;&gt; RedisLimitAOP cannot handle {}"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getClass</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™æ ·ä½¿ç”¨:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">package</span><span class="token plain"> </span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">github</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">xiaoyureed</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">redispractice</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token namespace">web</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SessionResources</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SessionService</span><span class="token plain"> sessionService</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 1 min ä¹‹å†…å°è¯•è¶…è¿‡5æ¬¡, é”å®š user 1h</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RedisLimit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">identifier </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"name"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> watch </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> times </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> lock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestMapping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"/session"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">LoginResp</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">login</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Validated</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestBody</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LoginReq</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sessionService</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">login</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>references</h1><p><a href="https://github.com/xiaoyureed/redis-login-limitation" target="_blank" rel="noopener noreferrer">https://github.com/xiaoyureed/redis-login-limitation</a></p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="redis" term="redis"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[é€ ä¸ªå°è½®å­ My IOC]]></title>
        <id>https://xiaoyureed.github.io/en/2017/02/01/create-my-own-ioc</id>
        <link href="https://xiaoyureed.github.io/en/2017/02/01/create-my-own-ioc"/>
        <updated>2017-02-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å®šä¹‰å®¹å™¨æ¥å£è§„èŒƒ, æœ‰æ³¨å†Œ, è·å–ç­‰å‡ ä¸ªæ–¹æ³•]]></summary>
        <content type="html"><![CDATA[<p>å®šä¹‰å®¹å™¨æ¥å£è§„èŒƒ, æœ‰æ³¨å†Œ, è·å–ç­‰å‡ ä¸ªæ–¹æ³•</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * container æ¥å£(æ·»åŠ /ç§»é™¤/è·å–)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @version 0.1</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @author xy</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @date 2018å¹´6æœˆ5æ—¥ ä¸‹åˆ5:00:34</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Container</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * åˆå§‹åŒ–</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param clazzSet </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">register</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * è²Œä¼¼æš‚æ—¶ç”¨ä¸åˆ°</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//    void remove();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æ ¹æ® class è·å– bean</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param clazz</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @return</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getByType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param name</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @return</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getByName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æä¾›ä¸€ä¸ªé»˜è®¤å®ç°</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * default container</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @version 0.1</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @author xy</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @date 2018å¹´6æœˆ5æ—¥ ä¸‹åˆ11:20:02</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Container</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Logger</span><span class="token plain"> log </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LoggerFactory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getLogger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * store beans</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * key -- value</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * beanSimpleName -- bean</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> beanMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConcurrentHashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * store dependencies, key: æ³¨å…¥å…³ç³», value: bean's name(beansMapçš„key)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * key--value</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * beanSimpleName.fieldName--beanSimpleName</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> relationMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConcurrentHashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/////////////// å•ä¾‹ start //////////////////////////</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainerHolder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token plain"> instance </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">me</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token class-name punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainerHolder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//////////////////end//////////////////////</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@SuppressWarnings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"unchecked"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getByType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token plain"> beanAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">beanAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isValid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">beanAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// use specified beanName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> specifiedName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> beanAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">debug</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"class [{}]æŒ‡å®šäº†æœ‰æ•ˆbeanName[{}]"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> specifiedName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">specifiedName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// use beanSimpleName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> simpleName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getSimpleName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">debug</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"class [{}]æ²¡æŒ‡å®šæœ‰æ•ˆçš„beanName, ä½¿ç”¨é»˜è®¤å€¼(simple bean name)"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">simpleName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@SuppressWarnings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"unchecked"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">T</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getByName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">register</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazzSet </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">scanPackage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">clazzSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">inject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æ³¨å…¥</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">inject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Iterator</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Entry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> ite </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> relationMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">entrySet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">iterator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ite</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasNext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> next </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ite</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> key </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> split </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">split</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"\\."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">PropertyUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setProperty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">split</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> split</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IllegalAccessException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">InvocationTargetException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">NoSuchMethodException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * åˆ›å»ºbeanå®ä¾‹, åˆ›å»ºæ³¨å…¥å…³ç³»</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * (ä¹Ÿå°±æ˜¯å¡«å……ä¸¤ä¸ªmap)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param clazzSet</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazzSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Iterator</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> ite </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazzSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">iterator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ite</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasNext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazz </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ite</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> bean </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                bean </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ReflectUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createInstance</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"åˆ›å»ºbean[{}]å‡ºç°é—®é¢˜"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> specName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isValid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">specName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">specName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ²¡æœ‰æŒ‡å®šbeanname, ä½¿ç”¨bean çš„ qualifiedName æ³¨å†Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">beanMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// åˆå§‹åŒ– relationMap</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Field</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> fields </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getDeclaredFields</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Field</span><span class="token plain"> f</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> fields</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Inject</span><span class="token plain"> injectAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Inject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">injectAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// æŒ‡å®šäº†æ³¨å…¥çš„name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isValid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">injectAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//                        this.relationMap.put(clazz.getName().concat(".").concat(f.getName()), injectAnno.value());</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">relationMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">specName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">concat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">concat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> injectAnno</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ²¡æœ‰æŒ‡å®šinjection name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//                        this.relationMap.put(clazz.getName() + "." + f.getName(), f.getName());</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">relationMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">specName </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"."</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æ‰«ææ‰€æœ‰class</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param packageName</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @return</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">scanPackage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LinkedHashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ClassLoader</span><span class="token plain"> classLoader </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">currentThread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getContextClassLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// classpath ä¸‹æ‰€æœ‰çš„èµ„æºæ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enumeration</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics">URL</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> urls </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            urls </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getResources</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">replace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"/"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasMoreElements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">URL</span><span class="token plain"> url </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> urls</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> protocol </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getProtocol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ–‡æœ¬ä¸­çš„ class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"file"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">equals</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">protocol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token plain"> packageFile </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">URLDecoder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">decode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"UTF-8"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">packageFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token operator" style="color:rgb(0, 0, 0)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">packageFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isDirectory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"package: [{}]æ— æ•ˆ"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> files </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> packageFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">listFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token function" style="color:rgb(0, 0, 255)">handleFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">UnsupportedEncodingException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// jar ä¸­çš„ class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"jar"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">equals</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">protocol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">JarURLConnection</span><span class="token plain"> jarConn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    jarConn </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">JarURLConnection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">openConnection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">JarFile</span><span class="token plain"> jarFile </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> jarConn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getJarFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enumeration</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">JarEntry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> jarEntry </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> jarFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">entries</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//                    handleJarFile();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// TODO Auto-generated catch block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"è·å–packageä¸‹èµ„æºçš„protocalå‡ºé”™."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ClassLoader</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token plain"> f</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// it's a folder, é€’å½’</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isDirectory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token function" style="color:rgb(0, 0, 255)">handleFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">listFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> packageName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ˜¯æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> clazz </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">loadClass</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">packageName </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">"."</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">substring</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">lastIndexOf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"."</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// è¢« @Bean æ³¨è§£æ‰æ‰«æ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token plain"> beanAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">beanAnno </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token comment" style="color:rgb(0, 128, 0)">/*// specified name</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                        if (StringUtil.isValid(beanAnno.value()) {</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                            </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                        }</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                        // é»˜è®¤, ä½¿ç”¨ bean çš„ SimpleName </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                        else {</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                            </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">                        }*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">clazz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ClassNotFoundException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"æ‰«ææ–‡ä»¶[{}]å‘ç”Ÿé”™è¯¯"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getPath</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//                    e.printStackTrace();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å½“ç„¶, è¿˜éœ€è¦æœ€å°‘ä¸¤ä¸ªæ³¨è§£. é¦–å…ˆæ˜¯@bean, æ ‡è¯†çº³å…¥container</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * put into the Ioc container</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @version 0.1</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @author xy</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @date 2018å¹´6æœˆ5æ—¥ ä¸‹åˆ7:48:17</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Documented</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Retention</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RetentionPolicy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">RUNTIME</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">ElementType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">TYPE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Bean</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">""</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæ˜¯@inject, ä¾èµ–æ³¨å…¥æ—¶å€™ç”¨:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * inject resources into </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @version 0.1</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @author xy</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @date 2018å¹´6æœˆ5æ—¥ ä¸‹åˆ7:53:21</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Documented</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Retention</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RetentionPolicy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">RUNTIME</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">ElementType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">FIELD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Inject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>æµ‹è¯•</h1><p>å…ˆå®šä¹‰bean</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"son"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Son</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Bean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"mama"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Data</span><span class="token comment" style="color:rgb(0, 128, 0)">// éœ€è¦å¼•å…¥lombok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Mama</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Inject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"son"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Son</span><span class="token plain"> son</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// lombok æä¾› getter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainerTest</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">testDefaultContainer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token plain"> container </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultContainer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">me</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        container</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">register</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"com.xiaoyu.ioc.bean"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> oMama </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> container</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getByName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"mama"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">oMama</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="ioc" term="ioc"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Raspberry Pi as a Dev Serveræ ‘è“æ´¾æŠ˜è…¾è®°å½•]]></title>
        <id>https://xiaoyureed.github.io/en/2016/04/09/toss-about-raspberrypi</id>
        <link href="https://xiaoyureed.github.io/en/2016/04/09/toss-about-raspberrypi"/>
        <updated>2016-04-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å‡ ä¸ªæœˆå‰æˆ‘ä¹°äº†ä¸€ä¸ªæ ‘è“æ´¾, æ–°é²œåŠ²å„¿å»äº†å°±ä¸€ç›´åœ¨åƒç°, æœ€è¿‘é—²ä¸‹æ¥ æƒ³æŠŠå®ƒæ‰“é€ æˆä¸€ä¸ªå°æœåŠ¡å™¨, è·‘ä¸€è·‘ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä»£ç , é‚£ä¹ˆ, è¯´å¹²å°±å¹².]]></summary>
        <content type="html"><![CDATA[<p>å‡ ä¸ªæœˆå‰æˆ‘ä¹°äº†ä¸€ä¸ªæ ‘è“æ´¾, æ–°é²œåŠ²å„¿å»äº†å°±ä¸€ç›´åœ¨åƒç°, æœ€è¿‘é—²ä¸‹æ¥ æƒ³æŠŠå®ƒæ‰“é€ æˆä¸€ä¸ªå°æœåŠ¡å™¨, è·‘ä¸€è·‘ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä»£ç , é‚£ä¹ˆ, è¯´å¹²å°±å¹².</p><p>ç½‘ç»œï¼šç”µä¿¡1000Må®½å¸¦
è½¯è·¯ç”±ï¼šJ4125å››å£å·¥æ§ä¸»æœº
è½¯è·¯ç”±ç³»ç»Ÿï¼šUnraidä¸¨OpenWrt ä¸¨iKuai
äº¤æ¢æœºï¼šç½‘ä»¶8å£åƒå…†äº¤æ¢æœº GS308
ç¡¬è·¯ç”±ï¼šå°ç±³AX3600ä¸¨åç¡•RT-AC86U ä¸¨ NewWfi-3
å°å¼æœºï¼šé»‘æœ+Windows10 åŒç³»ç»Ÿç»„è£…æœº ä¸¨M1 Mac mini
ç¬”è®°æœ¬ï¼š MacBook Pro 2015ä¸¨ MacBook Pro 2019ä¸¨ Mac Mini M1
å¹³æ¿ï¼šIpad Air
è½¯ä»¶ï¼šFinal Cut Proä¸¨ å‰ªæ˜ ä¸“ä¸šç‰ˆä¸¨ PR
é”®ç›˜ï¼šFILCO 108 çº¢è½´ ä¸¨AkkO 3098 è“è½´ ä¸¨ Keychron K2ä¸¨ ç‚èŠ K75
ç›¸æœºï¼šSONY a6300 ä¸¨ä½³èƒ½ G7X mark III
æ‰‹æœºï¼šiPhone 13 Pro ä¸¨iPhone 13 Mini
ç›¸æœºé•œå¤´ï¼šç´¢å°¼16-50mmç‹—å¤´ä¸¨é€‚é©¬30mm F1.4
è¯ç­’ï¼šçŒ›çŠ¸æ— çº¿éº¦å…‹é£
ç§»åŠ¨ç¡¬ç›˜ï¼šä¸œèŠ 4Tä¸¨å¥¥ç¿ç§‘M.2ç§»åŠ¨ç¡¬ç›˜ç›’+256ç¡¬ç›˜ä¸¨ é›·ç”µ 3 æ‰©å±•å + SN550
Uç›˜ï¼šé—ªè¿ª64G<em>3
NASï¼šDS218 Play 4T</em>2</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…-ubuntu-server">å®‰è£… Ubuntu server<a href="#å®‰è£…-ubuntu-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">version: 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ethernets:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  eth0:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    dhcp4: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    optional: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#wifis:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#  wlan0:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    dhcp4: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    optional: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    access-points:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#      myhomewifi:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#        password: "S3kr1t"</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#      myworkwifi:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#        password: "correct battery horse staple"</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#      workssid:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#        auth:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#          key-management: eap</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#          method: peap</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#          identity: "me@example.com"</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#          password: "passw0rd"</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#          ca-certificate: /etc/my_ca.pem</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">wifis:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  wlan0:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    dhcp4: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    optional: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    access-points:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      CMCC-2EE8-5G:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        password: "ezVL7XjF"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é…ç½®-raspberry-pi">é…ç½® raspberry pi<a href="#é…ç½®-raspberry-pi" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä¹‹å‰åˆšä¹°å›æ¥æ ‘è“æ´¾å°±é…ç½®å¥½äº†, ä¸ºäº†ä¿æŒæ–‡ç« çš„å®Œæ•´æ€§, è¿˜æ˜¯è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># raspberry é»˜è®¤ user æ˜¯ pi/raspberry</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å¦‚æœæ˜¯ Ubuntu ç³»ç»Ÿ, åˆ™æ˜¯ ubuntu/ubuntu (ç™»å…¥åéœ€è¦ä¿®æ”¹å¯†ç )</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># è”ç½‘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å…ˆæ’æœ‰çº¿, å®‰è£… iw, ifconfig, iwconfig è¿™äº›å·¥å…·</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo iwconfig # wlan0 æ— çº¿ç½‘å¡æ˜¯å¦å­˜åœ¨</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ifconfig wlan0 up # å¯åŠ¨</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ip link set wlan0 up # å¯åŠ¨</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iw dev wlan0 scan | grep SSID # æ‰«æå¯ç”¨ ssid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">####</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vim /etc/network/interfaces</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">auto lo //è¡¨ç¤ºä½¿ç”¨localhost</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iface eth0 inet dhcp //è¡¨ç¤ºå¦‚æœæœ‰ç½‘å¡ech0, åˆ™ç”¨dhcpè·å¾—IPåœ°å€ (è¿™ä¸ªç½‘å¡æ˜¯æœ¬æœºçš„ç½‘å¡ï¼Œè€Œä¸æ˜¯WIFIç½‘å¡)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">auto wlan0 //è¡¨ç¤ºå¦‚æœæœ‰wlanè®¾å¤‡ï¼Œä½¿ç”¨wlan0è®¾å¤‡å</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">allow-hotplug wlan0 //è¡¨ç¤ºwlanè®¾å¤‡å¯ä»¥çƒ­æ’æ‹¨</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">iface wlan0 inet dhcp //è¡¨ç¤ºå¦‚æœæœ‰WLANç½‘å¡wlan0 (å°±æ˜¯WIFIç½‘å¡), åˆ™ç”¨dhcpè·å¾—IPåœ°å€</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">wpa-ssid â€œä½ çš„wifiåç§°â€//è¡¨ç¤ºè¿æ¥SSIDå</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">wpa-psk â€œä½ çš„wifiå¯†ç â€//è¡¨ç¤ºè¿æ¥WIFIç½‘ç»œæ—¶ï¼Œä½¿ç”¨wpa-pskè®¤è¯æ–¹å¼ï¼Œè®¤è¯å¯†ç </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#####</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">## é™æ€ip https://www.jianshu.com/p/ac9d784f112b</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vi /etc/dhcpcd.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">###### å†…å®¹å¦‚ä¸‹:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">interface eth0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static ip_address=192.168.0.10/24 # é™æ€ip</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static routers=192.168.1.1 # ç½‘å…³</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static domain_name_servers=192.168.0.1 # dns</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">interface wlan0 # æ— çº¿ç½‘å¡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static ip_address=192.168.0.200/24</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static routers=192.168.1.1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">static domain_name_servers=192.168.0.1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">######</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#é‡å¯</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo reboot</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># é…ç½®å›½å†…æº</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å¦‚æœæ˜¯ raspberry os, åˆ™:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># åˆ†ä¸ºè½¯ä»¶æ›´æ–°æº, ç³»ç»Ÿæ›´æ–°æº</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak # å…ˆå¤‡ä»½æ€»æ˜¯æ²¡é”™çš„</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak # å¤‡ä»½</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vim /etc/apt/sources.list</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># modify the content like this:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ç„¶åæ˜¯ä¿®æ”¹ç³»ç»Ÿæ›´æ–°æº</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vim /etc/apt/sources.list.d/raspi.list</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ä¿®æ”¹æˆè¿™æ ·:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">deb http://mirrors.ustc.edu.cn/archive.raspberrypi.org/debian/ stretch main ui</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å¦‚æœæ˜¯ Ubuntu os åˆ™:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">http://mirrors.ustc.edu.cn/ubuntu-ports</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ›´æ–°è½¯ä»¶åŒ…</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt update </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt full-upgrade</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># é…ç½®é™æ€ ip</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vim  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">## åˆ‡æ¢ root</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo passwd root # ç„¶åè®¾ç½® root å¯†ç </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…-docker">å®‰è£… docker<a href="#å®‰è£…-docker" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p><a href="https://shumeipai.nxez.com/2019/05/20/how-to-install-docker-on-your-raspberry-pi.html" target="_blank" rel="noopener noreferrer">https://shumeipai.nxez.com/2019/05/20/how-to-install-docker-on-your-raspberry-pi.html</a></p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">sudo apt update </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt full-upgrade</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt-get install apt-transport-https \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                       ca-certificates \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                       software-properties-common</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ–¹æ³•ä¸€:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo curl -sSL https://get.docker.com | sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ–¹æ³•äºŒ:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ›´æ–°è½¯ä»¶åº“ç´¢å¼•</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å…ˆå®‰è£… https ä¾èµ–åŒ…</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt install -y apt-transport-https \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                       ca-certificates \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                       software-properties-common</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ·»åŠ  Docker çš„ GPG key</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">curl -fsSL https://yum.dockerproject.org/gpg | sudo apt-key add -</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># éªŒè¯ä¸€ä¸‹:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">apt-key fingerprint 58118E89F3A912897C070ADBF76221572C52609D</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt install -y docker-engine   </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># (ä¸€æ¬¡æ€§)ä½¿ç”¨å›½å†…é•œåƒæº</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docker run hello-world --registry-mirror=https://docker.mirrors.ustc.edu.cn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ¨èæ–¹æ³•:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">vim /etc/docker/daemn.json</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">"registry-mirrors": ["https://docker.mirrors.ustc.edu.cn"] </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å…è®¸ é root ä½¿ç”¨</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo usermod -aG docker pi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">################################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># å®‰è£… docker-compose</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">apt-get update</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">apt-get install -y python python-pip</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">apt-get install libffi-dev</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pip3 install docker-compose # å¿…é¡»ä½¿ç”¨ Python3 å®‰è£…</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docker-compose -v</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è¿è¡Œç¯å¢ƒ">è¿è¡Œç¯å¢ƒ<a href="#è¿è¡Œç¯å¢ƒ" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docker pull hypriot/rpi-mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docker run --name mysql -d -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 --restart=always hypriot/rpi-mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># æ–°å¯åŠ¨ä¸€ä¸ªå®¹å™¨ä½œä¸º client å»è¿æ¥ MySQL server</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docker run --rm -it --link mysql:ms hypriot/rpi-mysql mysql -hms -uroot -p</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># jdk8</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt-get purge openjdk-8-jre-headless</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt-get install openjdk-8-jre-headless</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt-get install openjdk-8-jre</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é…ç½®åŠ¨æ€åŸŸåæœåŠ¡-ddns">é…ç½®åŠ¨æ€åŸŸåæœåŠ¡ ddns<a href="#é…ç½®åŠ¨æ€åŸŸåæœåŠ¡-ddns" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å…¬ç½‘vps æ˜¯å¿…é¡»çš„</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é€šè¿‡-sshéš§é“">é€šè¿‡ sshéš§é“<a href="#é€šè¿‡-sshéš§é“" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h3><p>ssh éš§é“è¿œç¨‹ç«¯å£è½¬å‘(ssh remote forwarding) : æœ¬åœ°æ‰§è¡Œ <code>ssh -NTf -R 8080:127.0.0.1:8080 username@12.34.56.78</code>, å°†è¿œç¨‹ serverçš„ 8080 æ˜ å°„åˆ° æœ¬åœ°çš„ 8080; å†å¦‚: <code>ssh -NTf -R 8080:github.com:80 username@12.34.56.78</code> å°±èƒ½é€šè¿‡ 12.34.56.78:8080 å»è®¿é—® github.com:80 äº†ã€‚</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token constant" style="color:rgb(129, 31, 63)">N</span><span class="token plain">å‚æ•°ï¼šè¡¨ç¤ºåªè¿æ¥è¿œç¨‹ä¸»æœºï¼Œä¸æ‰“å¼€è¿œç¨‹shellï¼›</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">T</span><span class="token plain">å‚æ•°ï¼šè¡¨ç¤ºä¸ä¸ºè¿™ä¸ªè¿æ¥åˆ†é…</span><span class="token constant" style="color:rgb(129, 31, 63)">TTY</span><span class="token plain">ï¼›</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">få‚æ•°ï¼šè¡¨ç¤ºè¿æ¥æˆåŠŸåï¼Œè½¬å…¥åå°è¿è¡Œï¼›</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">R</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> è¿œç¨‹è½¬å‘ </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½†æ˜¯ SSH éš§é“æ˜¯ä¸ç¨³å®šçš„ï¼Œåœ¨ç½‘ç»œæ¶åŠ£çš„æƒ…å†µä¸‹å¯èƒ½éšæ—¶æ–­å¼€, AutoSSH èƒ½è®© SSH éš§é“ä¸€ç›´ä¿æŒæ‰§è¡Œï¼Œä»–ä¼šå¯åŠ¨ä¸€ä¸ª SSH è¿›ç¨‹ï¼Œå¹¶ç›‘æ§è¯¥è¿›ç¨‹çš„å¥åº·çŠ¶å†µï¼›å½“ SSH è¿›ç¨‹å´©æºƒæˆ–åœæ­¢é€šä¿¡æ—¶ï¼ŒAutoSSH å°†é‡å¯åŠ¨ SSH è¿›ç¨‹: <code>autossh -N -R 8080:127.0.0.1:8080 username@12.34.56.78</code></p><p>éœ€è¦å»å¤–ç½‘æœåŠ¡å™¨ä¸Šä¿®æ”¹ /etc/ssh/sshd_config æ–‡ä»¶å¦‚ä¸‹: (é‡å¯<code>service sshd restart</code>)</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token maybe-class-name">GatewayPorts</span><span class="token plain"> yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ„æ€æ˜¯ï¼ŒSSH éš§é“ç›‘å¬çš„æœåŠ¡çš„ IP æ˜¯å¯¹å¤–å¼€æ”¾çš„ 0.0.0.0ï¼Œè€Œä¸æ˜¯åªå¯¹æœ¬æœºçš„ 127.0.0.1ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é€šè¿‡-frpæœåŠ¡-å®ç°-å†…ç½‘ç©¿é€">é€šè¿‡ frpæœåŠ¡ å®ç° å†…ç½‘ç©¿é€<a href="#é€šè¿‡-frpæœåŠ¡-å®ç°-å†…ç½‘ç©¿é€" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h3><p>frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®</p><p>frp æ¯” SSH éš§é“åŠŸèƒ½æ›´å¤šï¼Œé…ç½®é¡¹æ›´å¤šï¼›
frp ä¹Ÿéœ€è¦ä¸€å°å¤–ç½‘æœåŠ¡å™¨ï¼Œå¹¶ä¸”éœ€è¦åœ¨å¤–ç½‘æœåŠ¡å™¨ä¸Šå®‰è£… frpsï¼Œåœ¨æœ¬åœ°å¼€å‘æœºä¸Šå®‰è£… frpc</p><p>è¿˜æœ‰å•†ç”¨æ–¹æ¡ˆ ngrok, ZeroTier(ä¸ªäººå…è´¹)</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è¿æ¥ä¸Š-wifi-ä½†æ— æ³•ä¸Šç½‘">è¿æ¥ä¸Š WiFi ä½†æ— æ³•ä¸Šç½‘<a href="#è¿æ¥ä¸Š-wifi-ä½†æ— æ³•ä¸Šç½‘" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># æ·»åŠ  nameserver 8.8.8.8</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo vim /etc/resolv.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># relead</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo resolvconf -u </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># restart network</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo /etc/init.d/networking restart</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å°è¯•åè²Œä¼¼æ— æ•ˆ</p><p>ä¸‹é¢æœ‰æ•ˆ: (<a href="https://www.geek-share.com/detail/2755498900.html" target="_blank" rel="noopener noreferrer">https://www.geek-share.com/detail/2755498900.html</a>)</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">sudo nano /etc/dhcpcd.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># è®¾ç½® WiFi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…-node">å®‰è£… node<a href="#å®‰è£…-node" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p><a href="https://blog.csdn.net/sunxdd/article/details/105894882" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/sunxdd/article/details/105894882</a></p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="raspberrypi" term="raspberrypi"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç±»å†²çªæ£€æµ‹ğŸŒˆ]]></title>
        <id>https://xiaoyureed.github.io/en/2015/10/04/class-conflict-check</id>
        <link href="https://xiaoyureed.github.io/en/2015/10/04/class-conflict-check"/>
        <updated>2015-10-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç”¨äºæ£€æµ‹jaråŒ…ä¾èµ–å†²çªï¼Œå¤šä¸ªç‰ˆæœ¬åŒæ—¶å­˜åœ¨]]></summary>
        <content type="html"><![CDATA[<p>ç”¨äºæ£€æµ‹jaråŒ…ä¾èµ–å†²çªï¼Œå¤šä¸ªç‰ˆæœ¬åŒæ—¶å­˜åœ¨
java.lang.NoSuchMethodException, java.lang.ClassNotFoundException</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä»£ç ">ä»£ç <a href="#ä»£ç " class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ClassConflictCheck</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// keyï¼šclass name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// value: jar name ï¼ˆç”±äºç‰ˆæœ¬é—®é¢˜,ä¸€ä¸ªclasså¯èƒ½å­˜åœ¨äºå¤šä¸ªjarä¸­ï¼Œæ‰€ä»¥æ˜¯ setï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> classMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">check</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> classPath</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token plain"> dir </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">classPath</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> jarFiles </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> dir</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">listFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token plain"> jarFile </span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> jarFiles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// éå†æ¯ä¸ª jar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">endsWith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">".jar"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">JarFile</span><span class="token plain"> jar </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">JarFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarFile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enumeration</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">JarEntry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> enumeration </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> jar</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">entries</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">enumeration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasMoreElements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// éå†æ¯ä¸ª class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">JarEntry</span><span class="token plain"> jarEntry </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> enumeration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarEntry</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">endsWith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">".class"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token function" style="color:rgb(0, 0, 255)">storeClassAndJarRel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarEntry</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> jar</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    * put className-jarName into map</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">storeClassAndJarRel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> className</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> jarName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token comment" style="color:rgb(0, 128, 0)">// è·å– jar set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> jarSet </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> classMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">className</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarSet </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            jarSet </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        jarSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">substring</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">lastIndexOf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"/"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        classMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">className</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> jarSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//args = new String[] { "/Users/yuekuo/soft/taobao-tomcat-7.0.54.1/deploy/cloud-mobile-cloudapi-gateway/WEB-INF/lib" };</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> arg </span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token function" style="color:rgb(0, 0, 255)">check</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> isConflict </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Iterator</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics class-name punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Entry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> iterator </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> classMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">entrySet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">iterator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> iterator</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasNext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token class-name punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entry</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> entry </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> iterator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashSet</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> jarSet </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">size</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// è‹¥æŸä¸ª class å¯¹åº” çš„ jar æœ‰å¤šä¸ªï¼Œ åˆ™å†²çª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">isConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    isConflict </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">List</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> jarList </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Arrays</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">asList</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">jarSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">toArray</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ‰“å°å†²çªçš„class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"Class conflict!!! the class :"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">" has been duplicate inclusioned in the jars : "</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> jarList</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">isConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">// æ²¡æœ‰å†²çª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">"no class conflict"</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ€ä¹ˆä½¿ç”¨">æ€ä¹ˆä½¿ç”¨<a href="#æ€ä¹ˆä½¿ç”¨" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">javac ClassConflictCheck.java</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">java ClassConflictCheck xxx/WEB-INF/lib</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åŸç†">åŸç†<a href="#åŸç†" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>éå†æ‰«ææŒ‡å®šç›®å½•ä¸‹ æ‰€æœ‰.jar ç»“å°¾çš„æ–‡ä»¶, é€šè¿‡æ™®é€šçš„ File ç±»æ„é€  jdk æçš„ JarFile å¯¹è±¡, éå†å†…éƒ¨å‡ºå†…éƒ¨çš„ JarEntry, å¯ä»¥è·å–åˆ° classname å’Œ å¯¹åº”çš„ jarName , å¦‚æœä¸€ä¸ª classname æ‰¾åˆ°äº†å¤šä¸ª Jarname, é‚£ä¹ˆ å°±æ˜¯é‡å¤çš„, å¯ä»¥æ ‡è¯†å‡ºæ¥</p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="java" term="java"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ ‡æ³¨ç¼–ç¨‹éšæƒ³çš„æ–‡ç« ]]></title>
        <id>https://xiaoyureed.github.io/en/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking</id>
        <link href="https://xiaoyureed.github.io/en/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking"/>
        <updated>2015-05-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[æ¥è‡ª: ç¼–ç¨‹éšæƒ³; Java ç¨‹åºçŒ¿çš„æ¯›ç—…]]></summary>
        <content type="html"><![CDATA[<div align="center">æ¥è‡ª: [ç¼–ç¨‹éšæƒ³](https://program-think.blogspot.com/2009/01/defect-of-java-beginner-0-overview.html); Java ç¨‹åºçŒ¿çš„æ¯›ç—…</div><h1>å¯¹ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸ç†Ÿæ‚‰</h1><p>â˜…ä»€ä¹ˆæ—¶å€™è¯¥ç”¨æ•°ç»„å‹å®¹å™¨ã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨é“¾è¡¨å‹å®¹å™¨ï¼Ÿ<font color="green"> &gt; å‰è€…é€‚ç”¨äºæŸ¥è¯¢è¾ƒå¤šçš„åœºæ™¯å¢åˆ ç‰¹åˆ«æ…¢å› ä¸ºæ¶‰åŠåˆ°æ•°ç»„åˆ›å»ºå¤åˆ¶, åè€…é€‚åˆå¢åˆ å¤šçš„åœºæ™¯</font>
â˜…ä»€ä¹ˆæ˜¯æ•£åˆ—å‡½æ•°ï¼ŸHashMap çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ<font color="green"> &gt; æ•£åˆ—å‡½æ•° see <a href="https://www.zhihu.com/question/26762707" target="_blank" rel="noopener noreferrer">link</a>, hashmapé€šè¿‡å“ˆå¸Œè¡¨å®ç°, åšå®¢å†…æœç´¢ "java core Note" </font>
â˜…ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿå¦‚æœä½ ä»¥å‰ä»æ¥æ²¡å†™è¿‡é€’å½’å‡½æ•°ï¼Œå°è¯•ç€å†™ä¸€ä¸ªï¼ˆæ¯”å¦‚ç”¨é€’å½’å‡½æ•°è¿›è¡Œç›®å½•æ ‘éå†ï¼‰ã€‚<font color="green"> &gt; ç®€å•ç†è§£å°±æ˜¯å‡½æ•°è°ƒç”¨è‡ªèº«, éœ€è¦æœ‰ç»“æŸæ¡ä»¶, ä¸ç„¶å°±æ­»å¾ªç¯äº† </font>
â˜…ä»€ä¹ˆæ˜¯ç®—æ³•å¤æ‚åº¦ï¼Ÿ
â˜…ä½ æ˜¯å¦ç†è§£ç©ºé—´æ¢æ—¶é—´çš„æ€æƒ³ï¼Ÿ
â˜…å†™ä¸€ä¸ªé’ˆå¯¹æ•´æ•°æ•°ç»„çš„å†’æ³¡æ’åºå‡½æ•°ï¼Œçœ‹çœ‹ä½ è¦ä¿®æ”¹å‡ æ¬¡æ‰èƒ½è·‘é€šã€‚
â˜…å†™ä¸€ä¸ªé’ˆå¯¹æ•´æ•°æ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾å‡½æ•°ï¼Œçœ‹çœ‹ä½ è¦ä¿®æ”¹å‡ æ¬¡æ‰èƒ½è·‘é€šã€‚</p><h1>ç¦»å¼€å¼€å‘æ¡†æ¶æ´»ä¸äº†</h1><p>å¯¹ Springã€Hibernate ç­‰æ¡†æ¶äº†å¦‚æŒ‡æŒï¼›ä½†å¦‚æœç»™ä»–ä¸€ä¸ªç®€å•éœ€æ±‚ï¼Œè®©ä»–å†™ä¸€ä¸ªè„±ç¦» Web æ¡†æ¶çš„ç‹¬ç«‹ Applicationï¼Œä»–å°±ä¸çŸ¥æ‰€æªäº†</p><p>â˜…åŸºäºæ¥å£çš„ç»§æ‰¿å’ŒåŸºäºå®ç°çš„ç»§æ‰¿å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ
â˜…ç»§æ‰¿ï¼ˆåŒ…æ‹¬ extend å’Œ implementï¼‰æœ‰ä»€ä¹ˆã€ç¼ºç‚¹ã€‘ï¼Ÿ
â˜…å¤šæ€ï¼ˆpolymorphismï¼‰æœ‰ä»€ä¹ˆã€ç¼ºç‚¹ã€‘ï¼Ÿ
â˜…ä¸ºä»€ä¹ˆ Java å¯ä»¥å¤šç»§æ‰¿ interfaceï¼Œè€Œä¸å¯ä»¥å¤šç»§æ‰¿ classï¼Ÿ<font color="green"> &gt; å¤šç»§æ‰¿classä¸­æœ‰ç›¸åŒæ–¹æ³•æ—¶åº”è¯¥é€‰ç”¨å“ªä¸ªç‰ˆæœ¬å‘¢? å¦å¤–, java8å¼€å§‹å·²ç»å…è®¸æ¥å£é‡Œé¢æœ‰ default methodäº†, å‘ç°ç»§æ‰¿å¤šä¸ªé»˜è®¤æ–¹æ³•å®ç°å¹¶ä¸”æ²¡æœ‰overrideæ—¶æŠ¥é”™, é¿å…äº†é›†æˆå¤šä¸ªclassé€‰æ‹©å“ªä¸ªç‰ˆæœ¬çš„é—®é¢˜ </font>
â˜…å‡å¦‚è®©ä½ å†™ä¸€ä¸ªå°æ¸¸æˆï¼ˆæ¯”å¦‚äººæœºå¯¹æˆ˜çš„äº”å­æ£‹ï¼‰ï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡ç±»ç»“æ„ï¼Ÿ
â˜…ç±»ç»“æ„è®¾è®¡æ—¶ï¼Œå¦‚ä½•è€ƒè™‘å¯æ‰©å±•æ€§ï¼Ÿ</p><h1>ç¼–ç¨‹ä¹ æƒ¯</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="éšæ„åœ°å‘½å">éšæ„åœ°å‘½å<a href="#éšæ„åœ°å‘½å" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>åé¢: ä½¿ç”¨å•å­—æ¯å‘½åå˜é‡ï¼›ä½¿ç”¨ä¸€äº›æ²¡å¤ªå¤§æ„ä¹‰çš„å˜é‡åï¼ˆä¾‹å¦‚ s1ã€s2ã€s3ï¼‰ï¼›å¯¹åŒä¸€ä¸ªä¸šåŠ¡æ¦‚å¿µä½¿ç”¨ä¸åŒçš„æœ¯è¯­/ç¼©å†™ï¼ˆå®¹æ˜“è®©è¯»ä»£ç çš„äººç¥ç»åˆ†è£‚ï¼‰ï¼›ä½¿ç”¨æ‹¼éŸ³å‘½åï¼ˆå¦‚æœä½ å›¢é˜Ÿä¸­æœ‰æ¸¯å°äººå£«æˆ–è€…è€å¤–ï¼Œå°±æƒ¨äº†ï¼‰</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¹ æƒ¯äºä»£ç çš„-copy--paste">ä¹ æƒ¯äºä»£ç çš„ copy &amp; paste<a href="#ä¹ æƒ¯äºä»£ç çš„-copy--paste" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>åé¢ï¼šå¦‚æœå‘ç°è¦å†™çš„æŸä¸ªå‡½æ•°å’Œå‰å‡ å¤©å†™çš„æŸä¸ªå‡½æ•°å·®ä¸å¤šï¼Œå°±æŠŠåŸæ¥çš„é‚£ä¸ªå‡½æ•°è´´è¿‡æ¥ï¼Œç„¶åç¨å¾®æ”¹å‡ ä¸‹ï¼Œå¿ƒä¸­è¿˜æš—å–œï¼šâ€œåˆå¿«é€Ÿæå®šäº†ä¸€ä¸ªåŠŸèƒ½â€....... è¿™ç§åšæ³•æ˜¯ä»£ç è‡­å‘³ï¼ˆå€Ÿç”¨ã€Šé‡æ„ - æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹çš„ææ³•ï¼‰çš„ä¸»è¦æ¥æºï¼Œå¯¼è‡´ä»£ç å¯ç»´æŠ¤æ€§å¤§å¤§ä¸‹é™ã€‚å½“ä½ å°†æ¥éœ€è¦å¢åŠ åŠŸèƒ½æˆ–ä¿®æ”¹ bug çš„æ—¶å€™ï¼Œè¦åŒæ—¶æ”¹åŠ¨å¤šä¸ªåœ°æ–¹ï¼Œè€Œé‚£æ—¶ä½ ä¼°è®¡å·²ç»æƒ³ä¸èµ·æ¥è¿™ç £ä»£ç æœ‰å‡ ä¸ªå…‹éš†äº†</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="magic-number-æ»¡å¤©é£">Magic Number æ»¡å¤©é£<a href="#magic-number-æ»¡å¤©é£" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>å‡è®¾æœ‰ä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦è¿›è¡Œ10ç§’çš„è¶…æ—¶ç­‰å¾…ï¼Œä½ ä¼šæ€ä¹ˆå†™è¿™ä¸ªsleepè¯­å¥ï¼Ÿæˆ‘ä¼°è®¡å¤§éƒ¨åˆ†äººä¸å¤–ä¹ä¸‹é¢ä¸‰ç§å†™æ³•:
1ã€ç›´æ¥å†™ä¸Š sleep(10<em>1000); äº†äº‹ ----æœ€å·®, ç¼ºä¹å¯è¯»æ€§, ä»£ç è‡­å‘³
2ã€å®šä¹‰ä¸€ä¸ªå¸¸é‡ TIMEOUT_XXX = 10</em>1000; ç„¶å sleep(TIMEOUT_XXX); ---- æ¯”1ç¨å¥½, ä½†æ˜¯ï¼Œå°†æ¥ä¸€æ—¦å‘ç”Ÿéœ€æ±‚å˜æ›´ï¼Œè¦æ±‚åœ¨ã€è¿è¡Œæ—¶ã€‘è°ƒæ•´è¶…æ—¶é—´éš”ï¼ˆç”šè‡³è¦æ±‚è®©ç”¨æˆ·æ¥é…åˆ¶è¶…æ—¶é—´éš”ï¼‰ï¼Œåˆ™å†™æ³•2çš„ç¼ºç‚¹ç«‹é©¬æš´éœ²æ— é—
3ã€<code>åœ¨é…åˆ¶æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªè¶…æ—¶é¡¹ï¼Œç„¶åç¨‹åºè¯»å–é…åˆ¶æ–‡ä»¶è·å¾—è¶…æ—¶å€¼ï¼Œç„¶åè°ƒç”¨ sleep</code>ã€‚------  æ­£ç¡®æ–¹å¼.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä»£ç è€¦åˆåº¦å¤ªå¤§">ä»£ç è€¦åˆåº¦å¤ªå¤§<a href="#ä»£ç è€¦åˆåº¦å¤ªå¤§" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>åˆç†ä½¿ç”¨  MVCæˆ–è€…è®¾è®¡æ¨¡å¼ (ä»£ç è€¦åˆåˆ†åˆ«ç”±å“ªäº›æƒ…å†µå¼•èµ·ï¼Ÿä»€ä¹ˆæ˜¯æ­£äº¤çš„è®¾è®¡ï¼Ÿ)</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸æ³¨æ„èµ„æºå›æ”¶">ä¸æ³¨æ„èµ„æºå›æ”¶<a href="#ä¸æ³¨æ„èµ„æºå›æ”¶" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>Java åœ¨è¯­è¨€å±‚é¢æä¾›äº†å†…å­˜çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œç¨‹åºå‘˜åªç®¡ç”³è¯·å†…å­˜ï¼Œä¸éœ€è¦å†å…³å¿ƒé‡Šæ”¾çš„é—®é¢˜. æ­¤å¾ˆå¤šæ–°æ‰‹å…»æˆäº†åä¹ æƒ¯ï¼Œå¯¹äºå…¶å®ƒèµ„æºï¼ˆæ¯”å¦‚æ•°æ®åº“è¿æ¥ï¼‰ä¹Ÿåªç”³è¯·ä¸é‡Šæ”¾ï¼ˆæœ‰äº›äººç”šè‡³å¤©çœŸåœ°ä»¥ä¸º JVM ä¼šå¸®ä½ æå®šèµ„æºå›æ”¶ï¼‰. è¿™ä¸ªåä¹ æƒ¯ä¼šå¯¼è‡´èµ„æºçš„æ³„éœ²ï¼Œè€Œèµ„æºæ³„éœ²å¾€å¾€æ¯”å†…å­˜æ³„éœ²æ›´è¦å‘½ã€‚å¦‚æœä½ å†™çš„ç¨‹åºæ˜¯é•¿æ—¶é—´è¿è¡Œçš„ï¼ˆæ¯”å¦‚è¿è¡Œåœ¨ Web Server ä¸Šï¼‰ï¼Œæ—¶é—´é•¿äº†ä¼šç”±äºèµ„æºè€—å°½è€Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹å‡ºé—®é¢˜</p><h1>å¼‚å¸¸å¤„ç†ä½¿ç”¨ä¸å½“</h1><p><a href="http://codebuild.blogspot.com/2012/01/15-best-practices-about-exception.html" target="_blank" rel="noopener noreferrer">å¼‚å¸¸çš„å¤„ç†åŸåˆ™</a>, æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªå…³äºå¼‚å¸¸å¤„ç†çš„ç»éªŒ <a href="https://www.ibm.com/developerworks/cn/java/j-lo-exception-misdirection/index.html" target="_blank" rel="noopener noreferrer">link1</a>, <a href="https://www.ibm.com/developerworks/cn/java/j-lo-exception/index.html" target="_blank" rel="noopener noreferrer">link2</a></p><ul><li><p>å¼‚å¸¸çš„åå­—å¿…é¡»æ¸…æ™°è€Œä¸”æœ‰å…·ä½“çš„æ„æ€ï¼Œè¡¨ç¤ºå¼‚å¸¸å‘ç”Ÿçš„é—®é¢˜ï¼Œä¾‹å¦‚ FileNotFoundException å°±å¾ˆæ¸…æ™°ç›´è§‚</p></li><li><p>å®šä¹‰ä½ è‡ªå·±çš„å¼‚å¸¸ç±»å±‚æ¬¡ï¼Œä¾‹å¦‚ UserException å’Œ SystemException åˆ†åˆ«ä»£è¡¨ç”¨æˆ·çº§åˆ«çš„å¼‚å¸¸ä¿¡æ¯å’Œç³»ç»Ÿçº§åˆ«çš„å¼‚å¸¸ä¿¡æ¯ï¼Œè€Œå…¶ä»–çš„å¼‚å¸¸åœ¨è¿™ä¸¤ä¸ªåŸºç±»ä¸Šè¿›è¡Œæ‰©å±•</p></li><li><p>å—æ£€å¼‚å¸¸å’Œéå—æ£€å¼‚å¸¸: å‰è€…ç”¨åœ¨<!-- -->[é”™è¯¯éœ€è¦è¿›ä¸€æ­¥å¤„ç†å’Œæ¢å¤, å¦‚SQLException, éœ€è¦è¿›ä¸€æ­¥å…³é—­connection, transactionå›æ»š]<!-- -->, åè€…ç”¨åœ¨ <!-- -->[ç¨‹åºä¸èƒ½ç»§ç»­æ‰§è¡Œ, ä¹Ÿæ²¡å¿…è¦è¿›ä¸€æ­¥å¯¹å¼‚å¸¸å¤„ç†, å¦‚æœåŠ¡å™¨è¿æ¥ä¸ä¸Šã€å‚æ•°ä¸æ­£ç¡®]</p></li><li><p>é¿å…æŠ›å‡ºå¼‚å¸¸å¯¹ä»£ç å±‚æ¬¡æ±¡æŸ“(è®¾è®¡éš”ç¦»åŸåˆ™)</p><ul><li>ä¾‹å¦‚daoå±‚æŸä¸ªæ–¹æ³•æŠ›å‡ºsqlexception, æ­¤æ—¶å°±ä¸è¦ç»§ç»­å‘ä¸ŠæŠ›äº†, åº”è¯¥åœ¨catchä¹‹åå¤„ç†æˆruntimeExceptionæŠ›å‡º</li></ul></li></ul><ul><li><p>ç©ºçš„ catch è¯­å¥å—</p><ul><li>å³ä½¿æœ‰ex.printStacktrace()ä¹Ÿç®—ç©ºçš„catchå—, å› ä¸ºè¯¥æ–¹æ³•åªæ˜¯æ‰“å°å †æ ˆä¿¡æ¯, è€Œä¸”å¼‚å¸¸å¹¶æ²¡æœ‰ä½¿å¾—ç¨‹åºç»ˆç«¯æ‰§è¡Œ, å¯¼è‡´æ›´å¤šçš„å¼‚å¸¸ã€‚</li><li>å¯ä»¥catchåæŠ›å‡ºéå—æ£€å¼‚å¸¸, finallyé‡Œé¢å¤„ç†å…¶ä»–åç»­æ“ä½œå¦‚å…³é—­èµ„æºç­‰ç­‰</li></ul></li></ul><ul><li><p>æ²¡æœ‰ä½¿ç”¨ finally å¯èƒ½ä¼šäº§ç”Ÿèµ„æºæ³„éœ²</p></li><li><p>ä¸è¦ä½¿ç”¨å‡½æ•°è¿”å›å€¼è¿›è¡Œé”™è¯¯å¤„ç†</p><ul><li><p>æ”¾ç€ Java çš„å¼‚å¸¸æœºåˆ¶ä¸ç”¨ï¼Œè€Œç”¨å‡½æ•°è¿”å›å€¼æ¥è¡¨ç¤ºæˆåŠŸ/å¤±è´¥, ç®€ç›´æ˜¯â€œæ§ç€é‡‘ç¢—è¦é¥­â€</p><ol><li>è¿”å›å€¼ä¸€èˆ¬ç”¨æ•´æ•°å€¼æˆ–å¸ƒå°”å€¼è¡¨ç¤ºï¼Œä¼ é€’çš„ä¿¡æ¯è¿‡äºç®€é™‹ï¼›</li><li>ä¸€æ—¦è°ƒç”¨è€…å¿½ç•¥äº†é”™è¯¯è¿”å›ç ï¼Œå°±ä¼šå¯¼è‡´å’Œâ€œç©º catch è¯­å¥å—â€ç±»ä¼¼çš„é—®é¢˜ï¼›</li><li>å¯¹åŒä¸€ä¸ªå‡½æ•°çš„å¤šå¤„è°ƒç”¨ï¼Œéƒ½éœ€è¦å¯¹è¿”å›å€¼è¿›è¡Œé‡å¤åˆ¤æ–­ï¼Œå¯¼è‡´ä»£ç å†—ä½™</li></ol></li></ul></li><li><p>å¾ªç¯å—ä¸­ä¸è¦æœ‰try...catch</p><ul><li>å¼‚å¸¸å¤„ç†å ç”¨ç³»ç»Ÿèµ„æº</li><li>åŒæ ·, è¿™æ ·çš„ä¾‹å­ä¹Ÿè¦é¿å…: ç±» A ä¸­æ‰§è¡Œäº†ä¸€æ®µå¾ªç¯ï¼Œå¾ªç¯ä¸­è°ƒç”¨äº† B ç±»çš„æ–¹æ³•ï¼ŒB ç±»ä¸­è¢«è°ƒç”¨çš„æ–¹æ³•å´åˆåŒ…å« try-catch è¿™æ ·çš„è¯­å¥å—</li></ul></li></ul><ul><li><p>å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªruntimeException, æ„é€ å‡½æ•°æ¥å—å„ç±»å—æ£€Exception, å¹¶å°†æœ‰æ•ˆçš„å¼‚å¸¸ä¿¡æ¯å¤åˆ¶åˆ°è‡ªèº«å±æ€§, è¿™æ ·å¯ä»¥åœ¨ä½¿ç”¨æ—¶ç»Ÿä¸€æ•æ‰Exception, å¯ä»¥çœä¸å°‘åŠ›æ°”(å¤šæ—¶å€™æ²¡æœ‰å¿…è¦æ¯ä¸ªä¸åŒç±»å‹çš„ Exception å†™ä¸€æ®µ catch è¯­å¥ï¼Œå¯¹äºå¼€å‘æ¥è¯´ï¼Œä»»ä½•ä¸€ç§å¼‚å¸¸éƒ½è¶³å¤Ÿè¯´æ˜äº†ç¨‹åºçš„å…·ä½“é—®é¢˜ã€‚)</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">* è‡ªå®šä¹‰ RuntimeException</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">* æ·»åŠ é”™è¯¯ä»£ç å±æ€§</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name namespace" style="color:rgb(38, 127, 153)">java</span><span class="token class-name namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name namespace" style="color:rgb(38, 127, 153)">lang</span><span class="token class-name namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//é»˜è®¤é”™è¯¯ä»£ç  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token plain"> GENERIC </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1000000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//é”™è¯¯ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">//åˆ©ç”¨é€šç”¨é”™è¯¯ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">GENERIC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// é‚£ä¹ˆå½“ Exception çš„ç±»å‹å·²ç»æ˜¯ RuntimeException æ—¶ï¼Œæˆ‘ä»¬åˆåšäº†ä¸€æ¬¡å°è£…ã€‚å°† RuntimeException åˆé‡æ–°å°è£…äº†ä¸€æ¬¡ï¼Œè¿›è€Œä¸¢å¤±äº†åŸæœ‰çš„ RuntimeException æºå¸¦çš„æœ‰æ•ˆä¿¡æ¯ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ·»åŠ ç›¸å…³çš„æ£€æŸ¥ï¼Œç¡®è®¤å‚æ•° Throwable ä¸æ˜¯ RuntimeException çš„å®ä¾‹ã€‚å¦‚æœæ˜¯ï¼Œå°†æ‹·è´ç›¸åº”çš„å±æ€§åˆ°æ–°å»ºçš„å®ä¾‹ä¸Š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cause </span><span class="token keyword" style="color:rgb(0, 0, 255)">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">msg </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">errorCode </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> cause</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getErrorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åé¢ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥è¿™æ ·äº†</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//å¯èƒ½æŠ›å‡º RuntimeExceptionã€IOExeption æˆ–è€…å…¶å®ƒï¼›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//æ³¨æ„è¿™é‡Œå’Œè¯¯åŒºå…­çš„åŒºåˆ«ï¼Œè¿™é‡Œæ˜¯ä¸€æ®µä»£ç æŠ›å‡ºå¤šç§å¼‚å¸¸ã€‚ä»¥ä¸Šæ˜¯å¤šæ®µä»£ç ï¼Œå„è‡ªæŠ›å‡ºä¸åŒçš„å¼‚å¸¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//ä¸€å¦‚æ—¢å¾€çš„å°† Exception è½¬æ¢æˆ RuntimeExceptionï¼Œä½†æ˜¯è¿™é‡Œçš„ e å…¶å®æ˜¯ RuntimeException çš„å®ä¾‹ï¼Œå·²ç»åœ¨å‰æ®µä»£ç ä¸­å°è£…è¿‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token comment" style="color:rgb(0, 128, 0)">/**/</span><span class="token plain">code</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">/**/</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>é¿å…æ‰“å°å¤šå±‚æ¬¡çš„é‡å¤çš„å¼‚å¸¸</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">A</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LoggerFactory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getLogger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">A</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//å®ä¾‹åŒ– B ç±»ï¼Œå¯ä»¥æ¢æˆå…¶å®ƒæ³¨å…¥ç­‰æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">B</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">B</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// è§£å†³åŠæ³•æ˜¯: è¿™é‡Œçš„éƒ¨åˆ†åº”è¯¥æ‹¿å‡ºtry...catchå—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//other code might cause exception</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">XXXException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//å¦‚æœ B ç±» process æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸ä¼šåœ¨ B ç±»ä¸­è¢«æ‰“å°ï¼Œåœ¨è¿™é‡Œä¹Ÿä¼šè¢«æ‰“å°ï¼Œä»è€Œä¼šæ‰“å° 2 æ¬¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// å¦‚æœå±‚æ¬¡å†å¤æ‚ä¸€ç‚¹ï¼Œä¸å»è€ƒè™‘æ‰“å°æ—¥å¿—æ¶ˆè€—çš„ç³»ç»Ÿæ€§èƒ½ï¼Œä»…ä»…åœ¨å¼‚å¸¸æ—¥å¿—ä¸­å»å®šä½å¼‚å¸¸å…·ä½“çš„é—®é¢˜å·²ç»å¤Ÿå¤´ç–¼çš„äº†ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// å…¶å®æ‰“å°æ—¥å¿—åªéœ€è¦åœ¨ä»£ç çš„æœ€å¤–å±‚æ•æ‰æ‰“å°å°±å¯ä»¥äº†ï¼Œå¼‚å¸¸æ‰“å°ä¹Ÿå¯ä»¥å†™æˆ AOPï¼Œç»‡å…¥åˆ°æ¡†æ¶çš„æœ€å¤–å±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token comment" style="color:rgb(0, 128, 0)">/* é”™è¯¯ä»£ç  */</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">/*å¼‚å¸¸ä¿¡æ¯*/</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">B</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">LoggerFactory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getLogger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">B</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">//å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">XXXException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token comment" style="color:rgb(0, 128, 0)">/* é”™è¯¯ä»£ç  */</span><span class="token plain"> errorCode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">/*å¼‚å¸¸ä¿¡æ¯*/</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h1>å…³äºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a href="#è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token class-name" style="color:rgb(38, 127, 153)">StringBuffer</span><span class="token plain"> str </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringBuffer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">123</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// è¯¥ StringBuffer ã€å¯¹è±¡ã€‘çš„å†…å®¹æ˜¯å­˜å‚¨åœ¨å †ï¼ˆHeapï¼‰ä¸Šçš„ï¼Œéœ€è¦ç”³è¯·å †å†…å­˜ã€‚è€Œå˜é‡ str åªä¸è¿‡æ˜¯é’ˆå¯¹è¯¥ StringBuffer å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼ˆæˆ–è€…å«åœ°å€ï¼‰ã€‚å˜é‡ str çš„ã€å€¼ã€‘ï¼ˆä¹Ÿå°±æ˜¯ StringBuffer å¯¹è±¡çš„åœ°å€ï¼‰æ˜¯å­˜å‚¨åœ¨ã€æ ˆã€‘ä¸Šçš„ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// å˜é‡ n çš„ã€å€¼ã€‘ä¹Ÿæ˜¯å­˜å‚¨åœ¨æ ˆï¼ˆStackï¼‰ä¸Šçš„ï¼Œä½†æ˜¯è¿™ä¸ªè¯­å¥ä¸éœ€è¦å†ä»å †ä¸­ç”³è¯·å†…å­˜äº†ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a href="#è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>Stack: åªèƒ½è¢«æœ¬çº¿ç¨‹è®¿é—®; å†…å­˜ç”³è¯·ç®€å•; å†…å­˜æœ‰é™
Heap: èƒ½å¤Ÿè¢«è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹è®¿é—®; å†…å­˜ç”³è¯·å¤æ‚(ç”±äºå¤šçº¿ç¨‹å…±äº«, éœ€è¦åŠ é”); å†…å­˜å……è¶³</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="è¿™ä¸¤ç§ç±»å‹å¯¹äº-gc-æœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹å¯¹äº GC æœ‰ä»€ä¹ˆåŒºåˆ«<a href="#è¿™ä¸¤ç§ç±»å‹å¯¹äº-gc-æœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><h1>å…³äºåƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼‰</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jvm-çš„å†…å­˜ç©ºé—´">JVM çš„å†…å­˜ç©ºé—´<a href="#jvm-çš„å†…å­˜ç©ºé—´" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>â—‡æ ˆå†…å­˜ï¼ˆStackï¼‰ï¼šæ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„ã€‚
â—‡å †å†…å­˜ï¼ˆHeapï¼‰ï¼šæ‰€æœ‰çº¿ç¨‹å…¬ç”¨çš„ã€‚
â—‡æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼šæœ‰ç‚¹åƒä»¥å‰å¸¸è¯´çš„â€œè¿›ç¨‹ä»£ç æ®µâ€ï¼Œè¿™é‡Œé¢å­˜æ”¾äº†æ¯ä¸ªåŠ è½½ç±»çš„åå°„ä¿¡æ¯ã€ç±»å‡½æ•°çš„ä»£ç ã€ç¼–è¯‘æ—¶å¸¸é‡ç­‰ä¿¡æ¯ã€‚
â—‡åŸç”Ÿæ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ï¼šä¸»è¦ç”¨äº JNI ä¸­çš„åŸç”Ÿä»£ç ï¼Œå¹³æ—¶å¾ˆå°‘æ¶‰åŠã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹">åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹<a href="#åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>åƒåœ¾å›æ”¶æœºåˆ¶å–å†³äºä¸åŒjvm, è¿™é‡Œä»¥å®˜æ–¹jvmä»‹ç»</p><ul><li>ä½•æ—¶å›æ”¶?<ul><li>å½“ JVM å‘ç°å †å†…å­˜æ¯”è¾ƒç´§å¼ ã€ä¸å¤ªå¤Ÿç”¨æ—¶ï¼Œå®ƒå°±ä¼šç€æ‰‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œã€‚JVM è¿›è¡Œ GC çš„æ—¶é—´ç‚¹æ˜¯æ— æ³•å‡†ç¡®é¢„çŸ¥çš„ã€‚å› ä¸º GC å¯åŠ¨çš„æ—¶åˆ»ä¼šå—åˆ°å„ç§è¿è¡Œç¯å¢ƒå› ç´ çš„å½±å“ï¼Œéšæœºæ€§å¤ªå¤§</li><li>é€šè¿‡ JVM çš„å‘½ä»¤è¡Œå‚æ•°â€œ-XX:+PrintGCâ€æŠŠç›¸å…³å›æ”¶ä¿¡æ¯æ‰“å°å‡ºæ¥</li></ul></li><li>è°è´Ÿè´£å›æ”¶?<ul><li>JVM ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸“é—¨çš„åƒåœ¾å›æ”¶çº¿ç¨‹ï¼Œç”±å®ƒä»¬è´Ÿè´£æ¸…ç†å›æ”¶åƒåœ¾å†…å­˜ã€‚</li></ul></li><li>å¦‚ä½•å‘ç°åƒåœ¾å¯¹è±¡ï¼Ÿ<ul><li>åƒåœ¾å›æ”¶çº¿ç¨‹ä¼šä»â€œæ ¹é›†ï¼ˆRoot Setï¼‰â€å¼€å§‹è¿›è¡Œå¯¹è±¡å¼•ç”¨çš„éå†ã€‚æ‰€è°“çš„â€œæ ¹é›†â€ï¼Œå°±æ˜¯æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ä¸­ï¼Œå¯ä»¥è®¿é—®çš„ã€å¼•ç”¨å˜é‡ã€‘çš„é›†åˆï¼ˆæ¯”å¦‚æ‰€æœ‰çº¿ç¨‹å½“å‰å‡½æ•°çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€å½“å‰ç±»çš„æˆå‘˜å˜é‡ç­‰ç­‰ï¼‰ã€‚åƒåœ¾å›æ”¶çº¿ç¨‹å…ˆæ‰¾å‡ºè¢«æ ¹é›†ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ï¼ˆä¸å¦¨å«é›†åˆ1ï¼‰ï¼Œç„¶åå†æ‰¾å‡ºè¢«é›†åˆ1ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ï¼ˆä¸å¦¨å«é›†åˆ2ï¼‰ï¼Œç„¶åå†æ‰¾å‡ºè¢«é›†åˆ2ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡......å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œç›´åˆ°æŠŠèƒ½éå†åˆ°çš„å¯¹è±¡éƒ½éå†å®Œã€‚å¦‚æœèƒ½å¤Ÿéå†åˆ°, åˆ™æœ‰æ•ˆ, æ²¡æœ‰éå†åˆ°åˆ™å›æ”¶</li><li>æŠŠåƒåœ¾å†…å­˜é‡æ–°å˜ä¸ºå¯ç”¨å†…å­˜ã€è¿›è¡Œå†…å­˜çš„æ•´ç†ä»¥æ¶ˆé™¤å†…å­˜ç¢ç‰‡ã€ç­‰ç­‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šæ¶‰åŠåˆ°è‹¥å¹²ç®—æ³•</li></ul></li><li>åˆ†ä»£<ul><li>æ—©æœŸçš„jvmæ²¡æœ‰åˆ†ä»£æŠ€æœ¯, æ‰€æœ‰è¢« GC ç®¡ç†çš„å¯¹è±¡éƒ½å­˜æ”¾åœ¨åŒä¸€ä¸ªå †é‡Œé¢,æ¯æ¬¡è¿›è¡ŒGCéƒ½è¦éå†æ‰€æœ‰å¯¹è±¡ï¼Œå¼€é”€å¾ˆå¤§,ä» JDK 1.2 ä¹‹åï¼ŒJVM å¼€å§‹ä½¿ç”¨åˆ†ä»£çš„åƒåœ¾å›æ”¶ï¼ˆGenerational Garbage Collectionï¼‰</li><li>â€œå¹´è€ä»£â€ï¼ˆTenuredï¼‰å’Œâ€œå¹´è½»ä»£â€ï¼ˆNurseryï¼‰ã€â€œæŒä¹…ä»£â€ï¼ˆPermanentï¼Œå¯¹åº”äº JVM è§„èŒƒçš„â€œæ–¹æ³•åŒºâ€ï¼‰</li><li>ã€å¤§éƒ¨åˆ†ã€‘å¯¹è±¡åœ¨åˆšåˆ›å»ºæ—¶ï¼Œéƒ½ä½äºâ€œå¹´è½»ä»£â€ã€‚å¦‚æœæŸå¯¹è±¡ç»å†äº†å‡ è½® GC è¿˜æ´»ç€ï¼ˆå¤§é¾„å¯¹è±¡ï¼‰ï¼Œå°±æŠŠå®ƒç§»åˆ°â€œå¹´è€ä»£â€ã€‚å¦å¤–ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡åœ¨åˆ›å»ºæ—¶æ¯”è¾ƒå¤§ï¼Œå¯èƒ½å°±ç›´æ¥è¢«ä¸¢åˆ°å¹´è€ä»£ã€‚ç»è¿‡è¿™ç§ç­–ç•¥ï¼Œä½¿å¾—å¹´è½»ä»£æ€»æ˜¯ä¿å­˜é‚£äº›çŸ­å‘½çš„å°å¯¹è±¡ã€‚åœ¨ç©ºé—´å°ºå¯¸ä¸Šï¼Œâ€œå¹´è½»ä»£â€ç›¸å¯¹è¾ƒå°ï¼Œè€Œâ€œå¹´è€ä»£â€ç›¸å¯¹è¾ƒå¤§ã€‚</li><li>å› ä¸ºæœ‰äº†åˆ†ä»£æŠ€æœ¯ï¼ŒJVM çš„ GC ä¹Ÿç›¸åº”åˆ†ä¸ºä¸¤ç§â€”â€”ä¸»è¦æ”¶é›†ï¼ˆMajor Collectionï¼‰å’Œæ¬¡è¦æ”¶é›†ï¼ˆMinor Collectionï¼‰ã€‚â€œä¸»è¦æ”¶é›†â€åŒæ—¶æ¸…ç†å¹´è€ä»£å’Œå¹´è½»ä»£ï¼Œå› æ­¤å¼€é”€å¾ˆå¤§ï¼Œä¸å¸¸è¿›è¡Œï¼›â€œæ¬¡è¦æ”¶é›†â€ä»…ä»…æ¸…ç†å¹´è½»ä»£ï¼Œå¼€é”€å¾ˆå°ï¼Œç»å¸¸è¿›è¡Œã€‚</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gcå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“">GCå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“<a href="#gcå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><ul><li>é€ æˆå½“å‰è¿è¡Œçº¿ç¨‹çš„åœé¡¿</li><li>éå†å¯¹è±¡å¼•ç”¨çš„å¼€é”€</li><li>æ¸…ç†å’Œå›æ”¶åƒåœ¾çš„å¼€é”€(éƒ¨åˆ†å¼€é”€å¯èƒ½åŒ…æ‹¬å¤åˆ¶å†…å­˜å—ã€æ›´æ–°å¯¹è±¡å¼•ç”¨ç­‰ç­‰ã€‚)</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å‡ ç§æ”¶é›†å™¨">å‡ ç§æ”¶é›†å™¨<a href="#å‡ ç§æ”¶é›†å™¨" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><p>è¡¡é‡ GC æ€§èƒ½çš„ä¸¤ä¸ªé‡è¦æŒ‡æ ‡ï¼šååé‡ï¼ˆThroughputï¼‰å’Œåœé¡¿æ—¶é—´ï¼ˆPause Timeï¼‰ã€‚ååé‡è¿™ä¸ªè¯ä¸æ˜¯å¾ˆç›´è§‚ï¼Œè§£é‡Šä¸€ä¸‹ï¼šå°±æ˜¯ JVMã€ä¸ç”¨äºã€‘GC çš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”ç‡ã€‚â€œååé‡â€æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œâ€œåœé¡¿æ—¶é—´â€æ˜¯è¶Šå°è¶Šå¥½ã€‚</p><ul><li>ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerial Collectorï¼‰</li><li>å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParallel Throughput Collectorï¼‰</li><li>å¹¶å‘æ”¶é›†å™¨ï¼ˆConcurrent Low Pause Collectorï¼‰</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¦‚ä½•é™ä½gcçš„å½±å“">å¦‚ä½•é™ä½GCçš„å½±å“ï¼Ÿ<a href="#å¦‚ä½•é™ä½gcçš„å½±å“" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">â€‹</a></h2><ul><li>å°½é‡å‡å°‘å †å†…å­˜çš„ä½¿ç”¨</li><li>è®¾ç½®åˆé€‚çš„å †å†…å­˜å¤§å°<ul><li>JVM çš„å †å†…å­˜æ˜¯æœ‰è®²ç©¶çš„ï¼Œä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°ã€‚å¦‚æœå †å†…å­˜å¤ªå°ï¼ŒJVM è€æ˜¯æ„Ÿè§‰å†…å­˜ä¸å¤Ÿç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¢‘ç¹è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå½±å“äº†æ€§èƒ½ï¼›å¦‚æœå †å†…å­˜å¤ªå¤§ï¼Œä»¥è‡³äºæ“ä½œç³»ç»Ÿçš„å¤§éƒ¨åˆ†ç‰©ç†å†…å­˜éƒ½è¢« JVM è‡ªä¸ªå„¿éœ¸å äº†ï¼Œé‚£å¯èƒ½ä¼šå½±å“å…¶å®ƒåº”ç”¨ç¨‹åºç”šè‡³æ“ä½œç³»ç»Ÿæœ¬èº«çš„æ€§èƒ½ã€‚å¦å¤–ï¼Œå¹´è½»ä»£çš„å¤§å°ï¼ˆæˆ–è€…è¯´â€œå¹´è½»ä»£â€ä¸â€œå¹´è€ä»£â€çš„æ¯”å€¼ï¼‰å¯¹äº GC çš„æ€§èƒ½ä¹Ÿæœ‰æ˜æ˜¾å½±å“ã€‚å¦‚æœå¹´è½»ä»£å¤ªå°ï¼Œå¯èƒ½å¯¼è‡´æ¬¡è¦æ”¶é›†å¾ˆé¢‘ç¹ï¼›å¦‚æœå¹´è½»ä»£å¤ªå¤§ï¼Œå¯¼è‡´æ¬¡è¦æ”¶é›†çš„åœé¡¿å¾ˆæ˜æ˜¾ã€‚</li></ul></li><li>ååé‡å’Œåœé¡¿çš„å–èˆ<ul><li>(1)çœ‹é‡ååé‡ï¼Œå¯¹åœé¡¿æ—¶é—´æ— æ‰€è°“ï¼›(2)ä¾§é‡äºåœé¡¿æ—¶é—´ã€‚</li><li>å¯¹äºæŸäº›åœ¨åå°çš„ã€å•çº¯è¿ç®—å¯†é›†å‹çš„åº”ç”¨ï¼Œå±äºç¬¬ä¸€ç§ã€‚æ¯”å¦‚æŸäº›ç§‘å­¦è®¡ç®—çš„åº”ç”¨ã€‚è¿™æ—¶å€™å»ºè®®ä½¿ç”¨å¹¶è¡Œæ”¶é›†å™¨ã€‚</li><li>å¯¹äºæ¶‰åŠç”¨æˆ· UI äº¤äº’çš„ã€å®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜ã€ç¨‹åºéœ€è¦å¿«é€Ÿå“åº”çš„ï¼Œå±äºç¬¬äºŒç§ã€‚æ¯”å¦‚æŸäº›æ¡Œé¢æ¸¸æˆã€æŸäº›ç”µä¿¡äº¤æ¢ç³»ç»Ÿã€‚è¿™æ—¶å€™å»ºè®®ä½¿ç”¨å¹¶å‘æ”¶é›†å™¨ã€‚</li></ul></li></ul><h1>å…³äºèŒƒå‹ï¼ˆGeneric Programmingï¼‰</h1><p>GP æ˜¯åœ¨ç¼–è¯‘æ—¶å®ç°çš„è¿˜æ˜¯åœ¨è¿è¡Œæ—¶å®ç°çš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå®ç°ï¼Ÿ
GP çš„ç±»å‹æ“¦é™¤æœºåˆ¶æ˜¯å’‹å›äº‹ï¼Ÿæœ‰å•¥ä¼˜ç‚¹/ç¼ºç‚¹ï¼Ÿ
ä½¿ç”¨èŒƒå‹å®¹å™¨ï¼ˆç›¸å¯¹äºä¼ ç»Ÿå®¹å™¨ï¼‰åœ¨æ€§èƒ½ä¸Šæœ‰å•¥å½±å“ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><h1>å…³äºå¤šçº¿ç¨‹</h1><p>synchronized å…³é”®å­—æ˜¯æ€ä¹ˆèµ·ä½œç”¨æ»´ï¼Ÿ</p><p>synchronized çš„é¢—ç²’åº¦ï¼ˆæˆ–è€…è¯´ä½œç”¨åŸŸï¼‰å¦‚ä½•ï¼Ÿæ˜¯é’ˆå¯¹æŸä¸ªç±»è¿˜æ˜¯é’ˆå¯¹æŸä¸ªç±»å¯¹è±¡å®ä¾‹ï¼Ÿ</p><p>synchronized å¯¹æ€§èƒ½æœ‰æ²¡æœ‰å½±å“ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><p>volatile å…³é”®å­—åˆæ˜¯æ´¾å•¥ç”¨æ»´ï¼Ÿå•¥æ—¶å€™éœ€è¦ç”¨è¿™ä¸ªå…³é”®å­—æï¼Ÿ</p>]]></content>
        <author>
            <name>Xiao Yu</name>
            <uri>https://github.com/xiaoyureed</uri>
        </author>
        <category label="java" term="java"/>
    </entry>
</feed>