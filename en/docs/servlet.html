<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-servlet">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Servlet Note | Xiaoyureed&#x27;s ç½‘ç»œ Wiki </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xiaoyureed.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xiaoyureed.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xiaoyureed.github.io/en/docs/servlet"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Servlet Note | Xiaoyureed&#x27;s ç½‘ç»œ Wiki "><meta data-rh="true" name="description" content="Servlet note"><meta data-rh="true" property="og:description" content="Servlet note"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xiaoyureed.github.io/en/docs/servlet"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/en/docs/servlet" hreflang="en"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/servlet" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/servlet" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Xiaoyureed&#39;s ç½‘ç»œ Wiki  RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Xiaoyureed&#39;s ç½‘ç»œ Wiki  Atom Feed"><link rel="stylesheet" href="/en/assets/css/styles.c6a654bf.css">
<link rel="preload" href="/en/assets/js/runtime~main.b94328d8.js" as="script">
<link rel="preload" href="/en/assets/js/main.fc98d8e0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="xiaoyureed Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.png" alt="xiaoyureed Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Xiaoyureed</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/en/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/xiaoyureed" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/FreeMarker-note">FreeMarker Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/SpringBoot-note">Spring Boot å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/agile-development-user-story-scrum">æ•æ·å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/android">Android å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/autohotkey">Autohotkey è„šæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/blockchain">blockchainåŒºå—é“¾</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/c-sharp-and-dot-net">C# &amp; .NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/chatgpt">Chatgpt Usage Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/cloud-native-platform">äº‘æœåŠ¡å¹³å°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/cpp">CPP and C å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/cross-gfw">Cross The GFW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/cs-note">Computer Science Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/css-pre-processor">å‡ ç§CSSé¢„å¤„ç†å™¨æ¯”è¾ƒé€‰å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/data-structure-and-algorithm">Data Structure and Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/design-pattern-note">Design Pattern ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/dev-resources">å¼€å‘è€…èµ„æº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/devops">DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/distributed-system">Distributed System åˆ†å¸ƒå¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/docker-note-virtual-dev-env">Docker Note &amp; Other Virtual Develop Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/effective-java-reading-note">Effective Java é˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/elk-elastic-log">Distributed log collectionåˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/english-note">è‹±è¯­å­¦ä¹ ğŸ”¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/extjs-note">Extjs ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/flutter">flutter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/games-development-introduce">æ¸¸æˆå¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/git-note">Git å¤‡å¿˜ ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/github-starts">Github æ˜Ÿæ ‡â­ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/golang-note">Golang ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/gps-gis-tracing">åŸºäºåœ°ç†ä½ç½®å¼€å‘æŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/gradle">gradle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/greasy-monkey">æ²¹çŒ´æ’ä»¶&amp;ç¼–å†™è„šæœ¬ğŸ’</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/groovy-note">groovy note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/health">Health å…³çˆ±ç¨‹åºå‘˜å¥åº·ğŸ¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/how-to-test-java-app">How to Test Java App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/html-note">HTML å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/idea-note">InteliJ idea tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/interview-system-design">ç»å…¸çš„ç³»ç»Ÿè®¾è®¡æ€è·¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/iot">Iot ç‰©è”ç½‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/java-code-clean">Java Clean Code Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/java-concurrent">Java ConcurrentğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/java-memory-model-jmm-jvm">JMM and GCğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/java-note">Java Core ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/jquery-note">JQuery notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/js-tutorial">JavaScript tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/kotlin">kotlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/kubernetes-k8s">kubernetes-k8s â˜ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/linux-note">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœé˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/mac">Mac å¼€å‘ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/machine-learning-ml">machine-learning-ml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/maven-note">Maven NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/message-queue">Message QueueğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/money">Investment Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/mongodb-note">MongoDB NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/monitor-system-grafana-prometheus-influxdb-hbase">monitor-system-grafana-prometheusç›‘æ§ğŸ–¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/mvc-mvvm">MVC to MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/mybatis-note">MyBatis Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/netty-note">netty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/nlp-natural-language-processing">nlp-natural-language-processingğŸ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/nodejs-yarn-npm">Nodejs, Yarn, Npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/oracle">Oracle å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-audio-video">Audio and Video development Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-big-data-introduce">å¤§æ•°æ®å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-cache">Cache ç¼“å­˜ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-computational-ad">è®¡ç®—å¹¿å‘Š Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-crawler-spider">ç½‘ç»œçˆ¬è™« Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-db-design-note">å…³ç³»å‹æ•°æ®åº“è¡¨è®¾è®¡ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-desktop-develop">æ¡Œé¢åº”ç”¨å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-http">HTTP protocol Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-reactive-programming">å“åº”å¼ç¼–ç¨‹ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-rest-api">RESTful api åŠ å…¶ä»–webServiceæŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-rpc">RPC Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/outline-about-rule-engine-note">è§„åˆ™å¼•æ“ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/php-note">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/play-framework">Playæ¡†æ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/postgres-note">Postgres noteğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/process-workflow-bpm-engine">å·¥ä½œæµå¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/protect-your-app-authentication-oauth2-jwt-https">Protect Your App å®‰å…¨ä¿æŠ¤è®¤è¯é‰´æƒğŸ”‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/python-note">PythonğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/quant-money">é‡åŒ–äº¤æ˜“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/react-note">ReactğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/real-time-communication-protocol">å®æ—¶é€šä¿¡ Real-time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/redis-note">RedisğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/regex">Regular Expression æ­£åˆ™ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/rust-note">Rust ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/saas-paas-iaas-as-a-service">SaaS Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/service-mesh">service mesh æœåŠ¡ç½‘æ ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/en/docs/servlet">Servlet Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/shell-bash-note">shell-bashè„šæœ¬æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/spring-note">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/springcloud-note">Spring Cloud ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/springmvc-note">Spring MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/task-schedule-note">Task Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/tcp-ip-note">TCP IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/tomcat-jetty-nginx">Tomcat Jetty Nginx ç­‰ web å®¹å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/vertx">Vertx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/video-creator">æ‹æ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/webassembly">webassembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/webpack-esbuild-vite-rollup">å‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/windows-sub-system-on-linux">WSL ä½¿ç”¨</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Servlet Note</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Servlet Note</h1></header><div align="center">Servlet note Servlet æ˜¯å•å®ä¾‹å¤šçº¿ç¨‹çš„, å› æ­¤ä¼šæœ‰ thread-safe é—®é¢˜</div><ul><li><a href="#1-%E4%BB%8E%E8%B5%84%E6%BA%90%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B%E8%AF%B4%E8%B5%B7">1. ä»èµ„æºè¯·æ±‚è¿‡ç¨‹è¯´èµ·</a></li><li><a href="#2-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8A%A8%E6%80%81%E8%B5%84%E6%BA%90">2. ä»€ä¹ˆæ˜¯åŠ¨æ€èµ„æº</a><ul><li><a href="#21-%E6%89%8B%E5%8A%A8%E5%BC%80%E5%8F%91servlet">2.1. æ‰‹åŠ¨å¼€å‘Servlet</a></li><li><a href="#22-%E5%80%9F%E5%8A%A9%E5%B7%A5%E5%85%B7%E5%BC%80%E5%8F%91servlet">2.2. å€ŸåŠ©å·¥å…·å¼€å‘Servlet</a></li></ul></li><li><a href="#3-%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83">3. ç›®å½•è§„èŒƒ</a></li><li><a href="#4-%E8%A7%A3%E5%86%B3web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E4%B9%B1%E7%A0%81">4. è§£å†³webé¡¹ç›®ä¸­çš„ä¹±ç </a></li><li><a href="#5-web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98">5. webé¡¹ç›®ä¸­çš„è·¯å¾„é—®é¢˜</a></li><li><a href="#6-%E5%92%8C%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E7%9A%84api">6. å’Œè·¯å¾„ç›¸å…³çš„api</a></li><li><a href="#7-servlet-details">7. Servlet details</a><ul><li><a href="#71-%E6%80%BB%E7%BB%93">7.1. æ€»ç»“</a></li><li><a href="#72-tomcat%E6%9E%84%E9%80%A0servlet%E8%BF%87%E7%A8%8B">7.2. Tomcatæ„é€ Servletè¿‡ç¨‹</a></li><li><a href="#73-servlet%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84">7.3. Servletæ˜ å°„è·¯å¾„</a></li><li><a href="#74-servlet%E7%BC%BA%E7%9C%81%E8%B7%AF%E5%BE%84">7.4. Servletç¼ºçœè·¯å¾„</a></li><li><a href="#75-servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">7.5. Servletç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="#76-servlet%E6%8F%90%E5%89%8D%E5%8A%A0%E8%BD%BDload-on-startup">7.6. Servletæå‰åŠ è½½load-on-startup</a></li><li><a href="#77-initinitxxx%E5%8C%BA%E5%88%AB">7.7. init,initxxxåŒºåˆ«</a></li><li><a href="#78-servlet%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE">7.8. Servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®</a></li><li><a href="#79-servletconfig%E5%AF%B9%E8%B1%A1">7.9. ServletConfigå¯¹è±¡</a></li><li><a href="#710-servletcontext%E5%AF%B9%E8%B1%A1">7.10. ServletContextå¯¹è±¡</a></li><li><a href="#711-demo">7.11. demo</a></li><li><a href="#712-%E5%9F%9F%E5%AF%B9%E8%B1%A1%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">7.12. åŸŸå¯¹è±¡å…±äº«æ•°æ®</a></li></ul></li><li><a href="#8-jsp%E4%B9%9D%E4%B8%AA%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%9B%9B%E4%B8%AA%E5%9F%9F%E5%AF%B9%E8%B1%A1servlet%E4%B8%89%E5%A4%A7%E5%9F%9F%E5%AF%B9%E8%B1%A1">8. jspä¹ä¸ªå†…ç½®å¯¹è±¡/å››ä¸ªåŸŸå¯¹è±¡,servletä¸‰å¤§åŸŸå¯¹è±¡</a></li><li><a href="#9-%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6">9. ä¸‰ç§æ–¹å¼è¯»å–èµ„æºæ–‡ä»¶</a></li><li><a href="#10-%E8%BD%AC%E5%8F%91%E9%87%8D%E5%AE%9A%E5%90%91">10. è½¬å‘&amp;é‡å®šå‘</a><ul><li><a href="#101-%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F">10.1. è°ƒç”¨æ–¹å¼</a></li><li><a href="#102-%E6%9C%AC%E8%B4%A8%E5%8C%BA%E5%88%AB">10.2. æœ¬è´¨åŒºåˆ«</a></li><li><a href="#103-%E4%BB%A3%E7%A0%81%E4%BE%8B%E5%AD%90">10.3. ä»£ç ä¾‹å­</a></li></ul></li><li><a href="#11-%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86">11. ä¼šè¯ç®¡ç†</a></li><li><a href="#12-%E8%BF%87%E6%BB%A4%E5%99%A8filter">12. è¿‡æ»¤å™¨filter</a><ul><li><a href="#121-%E4%BC%A0%E7%BB%9F%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95%E5%BC%80%E5%8F%91-filter">12.1. ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘ filter</a></li><li><a href="#122-%E6%A1%88%E4%BE%8B%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86%E7%BC%96%E7%A0%81">12.2. æ¡ˆä¾‹:ç»Ÿä¸€å¤„ç†ç¼–ç </a></li><li><a href="#123-%E6%A1%88%E4%BE%8B%E7%99%BB%E5%BD%95%E8%BF%87%E6%BB%A4">12.3. æ¡ˆä¾‹:ç™»å½•è¿‡æ»¤</a></li><li><a href="#124-%E6%A1%88%E4%BE%8B%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95">12.4. æ¡ˆä¾‹:è‡ªåŠ¨ç™»å½•</a></li><li><a href="#125-spring-boot-%E4%B8%AD%E4%BD%BF%E7%94%A8filter">12.5. spring boot ä¸­ä½¿ç”¨filter</a></li></ul></li><li><a href="#13-%E7%9B%91%E5%90%AC%E5%99%A8listener">13. ç›‘å¬å™¨listener</a><ul><li><a href="#131-%E6%A6%82%E5%BF%B5">13.1. æ¦‚å¿µ</a></li><li><a href="#132-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%9B%91%E5%90%AC%E5%99%A8">13.2. æœ‰å“ªäº›ç›‘å¬å™¨</a></li><li><a href="#133-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%91%E5%90%AC%E5%99%A8">13.3. ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨</a></li><li><a href="#134-%E5%B1%9E%E6%80%A7%E7%9B%91%E5%90%AC%E5%99%A8">13.4. å±æ€§ç›‘å¬å™¨</a></li><li><a href="#135-session%E7%BB%91%E5%AE%9A%E7%9B%91%E5%90%AC%E5%99%A8">13.5. sessionç»‘å®šç›‘å¬å™¨</a></li></ul></li><li><a href="#14-i18n">14. i18n</a></li><li><a href="#15-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD">15. æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</a><ul><li><a href="#151-form%E4%B8%AD%E5%8F%AA%E6%9C%89%E7%BA%AF%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE">15.1. formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®</a></li><li><a href="#152-form%E4%B8%AD%E5%90%AB%E6%9C%89%E6%96%87%E6%9C%AC%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6">15.2. formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶</a></li></ul></li><li><a href="#16-javamail%E9%82%AE%E4%BB%B6%E5%BC%80%E5%8F%91">16. javamailé‚®ä»¶å¼€å‘</a></li><li><a href="#17-servlet30">17. servlet3.0</a><ul><li><a href="#171-%E5%BC%82%E6%AD%A5%E6%94%AF%E6%8C%81">17.1. å¼‚æ­¥æ”¯æŒ</a><ul><li><a href="#1711-%E5%AE%9E%E7%8E%B0%E8%AF%B7%E6%B1%82%E7%BA%BF%E7%A8%8B%E6%B1%A0%E9%9A%94%E7%A6%BB">17.1.1. å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»</a></li></ul></li><li><a href="#172-%E6%8F%92%E4%BB%B6%E5%BC%8F%E5%BC%80%E5%8F%91">17.2. æ’ä»¶å¼å¼€å‘</a></li><li><a href="#173-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91">17.3. æ³¨è§£å¼€å‘</a></li></ul></li><li><a href="#18-xxxwapper">18. xxxWapper</a></li><li><a href="#19-servlet%E5%92%8C%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98">19. servletå’Œçº¿ç¨‹å®‰å…¨é—®é¢˜</a></li></ul><h1>ä»èµ„æºè¯·æ±‚è¿‡ç¨‹è¯´èµ·</h1><h1>ä»€ä¹ˆæ˜¯åŠ¨æ€èµ„æº</h1><p>åŠ¨æ€èµ„æºæ˜¯ç›¸å¯¹äºé™æ€èµ„æºæ¥è¯´çš„, å½“å¤šä¸ªuserè®¿é—®åŠ¨æ€èµ„æº, é¡µé¢æºä»£ç å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜</p><p>Servletæœ¬è´¨æ˜¯ä¸€ä¸ªæ¥å£, æ˜¯å®šä¹‰çš„ä¸€å¥—å¼€å‘è§„èŒƒ, è‡ªå®šä¹‰çš„servletéœ€è¦å®ç°è¯¥æ¥å£, å®ç°å¯¹åº”çš„æ–¹æ³•, å¦‚init(), service(), destroy();</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ‰‹åŠ¨å¼€å‘servlet">æ‰‹åŠ¨å¼€å‘Servlet<a href="#æ‰‹åŠ¨å¼€å‘servlet" class="hash-link" aria-label="Direct link to æ‰‹åŠ¨å¼€å‘Servlet" title="Direct link to æ‰‹åŠ¨å¼€å‘Servlet">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¬¬ä¸€ä¸ªservletç¨‹åº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HelloServlet extends HttpServlet{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void doGet(HttpServletRequest req, HttpServletResponse resp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        resp.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å‘æµè§ˆå™¨è¾“å‡ºå†…å®¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        resp.getWriter().write(&quot;è¿™æ˜¯ç¬¬ä¸€ä¸ªservletç¨‹åºã€‚å½“å‰æ—¶é—´ä¸ºï¼š&quot;+new Date());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–è¯‘å,æ‹·è´helloServletåˆ°Tomcaté‡Œçš„webé¡¹ç›®çš„WEB-INF/classes.</p><p>é…ç½®web.xml:</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- é…ç½®ä¸€ä¸ªservletç¨‹åº --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- servletçš„å†…éƒ¨åç§° ï¼Œå¯ä»¥è‡ªå®šä¹‰--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">HelloServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- servletç±»åï¼š åŒ…å+ç®€å•ç±»å--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">gz.itcast.d_servlet.HelloServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- servletçš„å†…éƒ¨åç§°ï¼Œå’Œä¸Šé¢çš„åç§°ä¿æŒä¸€è‡´ï¼ï¼ï¼--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">HelloServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- servletçš„è®¿é—®åç§°ï¼š /åç§° --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/hello</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è®¿é—®: http://localhost:8080/projectName/hello</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å€ŸåŠ©å·¥å…·å¼€å‘servlet">å€ŸåŠ©å·¥å…·å¼€å‘Servlet<a href="#å€ŸåŠ©å·¥å…·å¼€å‘servlet" class="hash-link" aria-label="Direct link to å€ŸåŠ©å·¥å…·å¼€å‘Servlet" title="Direct link to å€ŸåŠ©å·¥å…·å¼€å‘Servlet">â€‹</a></h2><ol><li>å¸¸è§web project</li><li>åœ¨webrootæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºé™æ€èµ„æºæ–‡ä»¶, å¦‚js, cssç­‰</li><li>srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºåŠ¨æ€èµ„æºæ–‡ä»¶</li><li>åœ¨å·¥å…·ä¸­å…³è”Tomcat</li><li>éƒ¨ç½²(æ‹·è´web app åˆ°Tomcatçš„webappsæ–‡ä»¶å¤¹ä¸‹)</li><li>å¯åŠ¨Tomcat, è®¿é—®</li></ol><h1>ç›®å½•è§„èŒƒ</h1><p><a href="https://blog.csdn.net/u011687186/article/details/61194580" target="_blank" rel="noopener noreferrer">java webé¡¹ç›®WEB-INFä¸META-INFçš„ä½œç”¨</a></p><p>ä½¿ç”¨ eclipse ç”Ÿæˆçš„ maven web é¡¹ç›® ç›®å½•è§„èŒƒå¦‚ä¸‹:</p><h1>è§£å†³webé¡¹ç›®ä¸­çš„ä¹±ç </h1><p><a href="https://blog.csdn.net/xiazdong/article/details/7217022" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/xiazdong/article/details/7217022</a></p><p>spring web åŒ…æä¾›ä¸€ä¸ªfilter è§£å†³ post è¯·æ±‚ä¹±ç </p><p>web.xmlé…ç½®</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ç¼–ç è¿‡æ»¤å™¨ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CharacterEncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.web.filter.CharacterEncodingFilter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">encoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">UTF-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CharacterEncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>webé¡¹ç›®ä¸­çš„è·¯å¾„é—®é¢˜</h1><p>æ ¹æ®request è·å–çš„å„ç§è·¯å¾„(ä»¥åŠ, ç™»å½•æˆåŠŸåæ€ä¹ˆæ ¹æ®è®°ä½çš„URLè·³å›ç”¨æˆ·æœ€åè®¿é—®çš„é¡µé¢): <a href="https://www.cnblogs.com/JemBai/archive/2010/11/10/1873764.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/JemBai/archive/2010/11/10/1873764.html</a></p><p>è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„æœ‰ä»€ä¹ˆåŒºåˆ«? çœ‹çœ‹è¿™ä¸ªä¾‹å­</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * webåº”ç”¨ä¸­è·¯å¾„é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PathDemo extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ç›®æ ‡èµ„æºï¼š target.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ€è€ƒï¼š ç›®æ ‡èµ„æºæ˜¯ç»™è°ä½¿ç”¨çš„ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *      ç»™æœåŠ¡å™¨ä½¿ç”¨çš„ï¼š   / è¡¨ç¤ºåœ¨å½“å‰webåº”ç”¨çš„æ ¹ç›®å½•ï¼ˆwebRootä¸‹ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *      ç»™æµè§ˆå™¨ä½¿ç”¨çš„ï¼š /  è¡¨ç¤ºåœ¨webappsçš„æ ¹ç›®å½•ä¸‹-----æ„å‘³ç€åœ°å€è¦åŠ é¡¹ç›®å</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 1.è½¬å‘, ç»™serverç”¨, &quot;/&quot;ä»£è¡¨å½“å‰é¡¹ç›®çš„webroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request.getRequestDispatcher(&quot;/target.html&quot;).forward(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //  2.è¯·æ±‚é‡å®šå‘, ç»™clientç”¨, &quot;/&quot;ä»£è¡¨Tomcatçš„webappsç›®å½•ä¸‹, éœ€è¦å¸¦ä¸Šé¡¹ç›®åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.sendRedirect(&quot;/day11/target.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         // 3.htmlé¡µé¢çš„è¶…è¿æ¥href</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.getWriter().write(&quot;&lt;html&gt;&lt;body&gt;&lt;a href=&#x27;/day11/target.html&#x27;&gt;è¶…é“¾æ¥&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 4.htmlé¡µé¢ä¸­çš„formæäº¤åœ°å€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.getWriter().write(&quot;&lt;html&gt;&lt;body&gt;&lt;form action=&#x27;/day11/target.html&#x27;&gt;&lt;input type=&#x27;submit&#x27;/&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>å’Œè·¯å¾„ç›¸å…³çš„api</h1><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//å‡å®šä½ çš„web application åç§°ä¸ºnews,ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¯·æ±‚è·¯å¾„ï¼šhttp://localhost:8080/news/main/list.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//åˆ™æ‰§è¡Œä¸‹é¢ä»£ç åæ‰“å°å‡ºå¦‚ä¸‹ç»“æœï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> System.out.println(request.getContextPath());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ‰“å°ç»“æœï¼š/news</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(request.getServletPath());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ‰“å°ç»“æœï¼š/main/list.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(request.getRequestURI());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ‰“å°ç»“æœï¼š/news/main/list.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(request.getRequestURL());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ‰“å°ç»“æœï¼šhttp://localhost:8080/news/main/list.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(request.getRealPath(&quot;/&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ‰“å°ç»“æœï¼šF:\Tomcat 6.0\webapps\news\test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>å¦‚æœæ˜¯Servlet , Action , Controller, æˆ–è€…Filter , Listener , æ‹¦æˆªå™¨ç­‰ç›¸å…³ç±»æ—¶ï¼Œ æˆ‘ä»¬åªéœ€è¦è·å¾—ServletContextï¼Œ ç„¶åé€šè¿‡ServletContext.getRealPath(&quot;/&quot;)æ¥è·å–å½“å‰åº”ç”¨åœ¨æœåŠ¡å™¨ä¸Šçš„ç‰©ç†åœ°å€ã€‚</li><li>å¦‚æœåœ¨ç±»ä¸­å–ä¸åˆ°ServletContextæ—¶ï¼Œåˆ©ç”¨Javaçš„ç±»åŠ è½½æœºåˆ¶ï¼šè°ƒç”¨XXX.class.getClassLoader().getResource(&quot;&quot;); æ–¹æ³•æ¥è·å–åˆ°ClassPath , ç„¶åå¤„ç†è·å¾—WebRootç›®å½•ã€‚</li><li>è¿™ç§æ–¹å¼åªèƒ½æ˜¯è¯¥classåœ¨WebRoot/WEB-INF/classesä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼Œ å¦‚æœè¯¥classè¢«æ‰“åŒ…åˆ°ä¸€ä¸ªjaræ–‡ä»¶ä¸­ï¼Œ åˆ™è¯¥æ–¹æ³•å¤±æ•ˆã€‚</li></ul><h1>Servlet details</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="Direct link to æ€»ç»“" title="Direct link to æ€»ç»“">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Servletç¼–ç¨‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1ï¼‰Servletç”Ÿå‘½å‘¨æœŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    æ„é€ æ–¹æ³•ï¼š åˆ›å»ºservletå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è®¿é—®servletå¯¹è±¡æ—¶ã€‚åªè°ƒç”¨1æ¬¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initæ–¹æ³•ï¼ˆæœ‰å‚ï¼‰ï¼š åˆ›å»ºå®Œservletå¯¹è±¡åè°ƒç”¨ã€‚åªè°ƒç”¨1æ¬¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            æ³¨æ„ï¼š ä¼šè°ƒç”¨æ— å‚çš„initæ–¹æ³•ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serviceæ–¹æ³•ï¼š servletæä¾›æœåŠ¡çš„æ–¹æ³•ã€‚æ¯æ¬¡å‘å‡ºè¯·æ±‚è°ƒç”¨ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            æ³¨æ„ï¼š requestå¯¹è±¡ ï¼Œresponseå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    destroyæ–¹æ³•ï¼š tomcatæœåŠ¡å™¨åœæ­¢æˆ–webåº”ç”¨é‡æ–°éƒ¨ç½²ï¼Œservletå¯¹è±¡é”€æ¯ï¼Œdestroyæ–¹æ³•è¢«è°ƒç”¨ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2ï¼‰ServletConfigå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        è·å–servletçš„åˆå§‹åŒ–å‚æ•°ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            getInitParameter(&quot;name    &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            getInitParameterNames();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3ï¼‰ServletContextå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        å¾—åˆ°webåº”ç”¨è·¯å¾„ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getContextPath();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                request.getContextPath();  ç­‰ä»·äºä¸Šé¢çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        å¾—åˆ°webåº”ç”¨å‚æ•°ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getInitParameter(&quot;name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getInitParameterNames();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        åŸŸå¯¹è±¡:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.setAttribute(&quot;name&quot;,Object): ä¿å­˜æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getAttribute(&quot;name&quot;)   å¾—åˆ°æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.removeAttribue(&quot;name&quot;)  æ¸…é™¤æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        è½¬å‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getRequestDispatcher(&quot;è·¯å¾„&quot;).forward(request,response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                request.getRequestDispacher(&quot;è·¯å¾„&quot;).forward(request,response);  ç­‰ä»·äºä¸Šé¢çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        å¾—åˆ°webåº”ç”¨ä¸­çš„èµ„æºæ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getRealPath(&quot;è·¯å¾„&quot;)          è¿™é‡Œçš„è·¯å¾„ä¸€èˆ¬æ˜¯/WEB-INF/classes/db.propertiesï¼Œå¾—åˆ°çš„æ˜¯ç»å¯¹è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context.getResourceAsStream(&quot;è·¯å¾„&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                clazz.getResourceAcStream(&quot;/xxx&quot;);----------------å¸¦æœ‰æ–œæ ï¼Œsrcç›®å½•ä¸‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                clazz.getClassLoader().getResourceAsStream(â€œxxxâ€);------------ä¸å¸¦æ–œæ ï¼Œsrcç›®å½•ä¸‹</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tomcatæ„é€ servletè¿‡ç¨‹">Tomcatæ„é€ Servletè¿‡ç¨‹<a href="#tomcatæ„é€ servletè¿‡ç¨‹" class="hash-link" aria-label="Direct link to Tomcatæ„é€ Servletè¿‡ç¨‹" title="Direct link to Tomcatæ„é€ Servletè¿‡ç¨‹">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletæ˜ å°„è·¯å¾„">Servletæ˜ å°„è·¯å¾„<a href="#servletæ˜ å°„è·¯å¾„" class="hash-link" aria-label="Direct link to Servletæ˜ å°„è·¯å¾„" title="Direct link to Servletæ˜ å°„è·¯å¾„">â€‹</a></h2><p>servlet çš„ url pattern</p><p>demo:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletç¼ºçœè·¯å¾„">Servletç¼ºçœè·¯å¾„<a href="#servletç¼ºçœè·¯å¾„" class="hash-link" aria-label="Direct link to Servletç¼ºçœè·¯å¾„" title="Direct link to Servletç¼ºçœè·¯å¾„">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletç”Ÿå‘½å‘¨æœŸ">Servletç”Ÿå‘½å‘¨æœŸ<a href="#servletç”Ÿå‘½å‘¨æœŸ" class="hash-link" aria-label="Direct link to Servletç”Ÿå‘½å‘¨æœŸ" title="Direct link to Servletç”Ÿå‘½å‘¨æœŸ">â€‹</a></h2><p>Servletç”Ÿå‘½å‘¨æœŸç”±Tomcatæ§åˆ¶(ä½•æ—¶åˆ›å»º, ä½•æ—¶è°ƒç”¨, ä½•æ—¶é”€æ¯)</p><p>å››ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletæå‰åŠ è½½load-on-startup">Servletæå‰åŠ è½½(load-on-startup)<a href="#servletæå‰åŠ è½½load-on-startup" class="hash-link" aria-label="Direct link to Servletæå‰åŠ è½½(load-on-startup)" title="Direct link to Servletæå‰åŠ è½½(load-on-startup)">â€‹</a></h2><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">LifeDemo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">gz.itcast.c_life.LifeDemo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- è®©servletå¯¹è±¡è‡ªåŠ¨åŠ è½½ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å½“å€¼ &gt;=0 æ—¶ï¼Œè¡¨ç¤ºå®¹å™¨åœ¨åº”ç”¨å¯åŠ¨æ—¶å°±åŠ è½½è¿™ä¸ªservletï¼›æ•´æ•°å€¼è¶Šå¤§ï¼Œåˆ›å»ºä¼˜å…ˆçº§è¶Šä½</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                    å½“ &lt;0 æˆ–è€… æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œåˆ™æŒ‡ç¤ºå®¹å™¨åœ¨è¯¥servletè¢«é€‰æ‹©æ—¶æ‰åŠ è½½ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                    é»˜è®¤å€¼ = -1 --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">load-on-startup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">load-on-startup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initinitxxxåŒºåˆ«">init(),init(xxx)åŒºåˆ«<a href="#initinitxxxåŒºåˆ«" class="hash-link" aria-label="Direct link to init(),init(xxx)åŒºåˆ«" title="Direct link to init(),init(xxx)åŒºåˆ«">â€‹</a></h2><p>çœ‹ä¸‹é¢demo</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æœ‰å‚æ•°çš„initå’Œæ— å‚çš„initæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class InitDemo extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * æœ‰å‚æ•°çš„initæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * è¯¥æ–¹æ³•æ˜¯servletçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä¸€å®šä¼šè¢«tomcatæœåŠ¡å™¨è°ƒç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * æ³¨æ„ï¼šå¦‚æœè¦ç¼–å†™åˆå§‹ä»£ç ï¼Œä¸éœ€è¦è¦†ç›–æœ‰å‚æ•°çš„initæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*@Override------------è¿™æ˜¯é”™è¯¯çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(ServletConfig config) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;æœ‰å‚æ•°çš„initæ–¹æ³•&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * æ— å‚æ•°çš„initæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * è¯¥æ–¹æ³•æ˜¯servletçš„ç¼–å†™åˆå§‹åŒ–ä»£ç çš„æ–¹æ³•ã€‚æ˜¯Sunå…¬å¸è®¾è®¡å‡ºæ¥ä¸“é—¨ç»™å¼€å‘è€…è¿›è¡Œè¦†ç›–ï¼Œç„¶ååœ¨é‡Œé¢ç¼–å†™servletçš„åˆå§‹é€»è¾‘ä»£ç çš„æ–¹æ³•ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init() throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;æ— å‚æ•°çš„initæ–¹æ³•&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®">Servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®<a href="#servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®" class="hash-link" aria-label="Direct link to Servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®" title="Direct link to Servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®">â€‹</a></h2><p>demo: è®°å½•ç¬¬å‡ ä½è®¿å®¢</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * servletçš„å¤šçº¿ç¨‹å¹¶å‘é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TheradDemo extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int count = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synchronized (TheradDemo.class) {//é”å¯¹è±¡å¿…é¡»å”¯ä¸€ã€‚å»ºè®®ä½¿ç”¨ç±»å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.getWriter().write(&quot;ä½ ç°åœ¨æ˜¯å½“å‰ç½‘ç«™çš„ç¬¬&quot;+count+&quot;ä¸ªè®¿å®¢&quot;);   //çº¿ç¨‹1æ‰§è¡Œå®Œ  ï¼Œ çº¿ç¨‹2æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            count++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletconfigå¯¹è±¡">ServletConfigå¯¹è±¡<a href="#servletconfigå¯¹è±¡" class="hash-link" aria-label="Direct link to ServletConfigå¯¹è±¡" title="Direct link to ServletConfigå¯¹è±¡">â€‹</a></h2><p>æ¯ä¸ª servlet éƒ½æœ‰ä¸€ä¸ª ServletConfig</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ConfigDemo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.xy.ConfigDemo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- åˆå§‹å‚æ•°ï¼š è¿™äº›å‚æ•°ä¼šåœ¨åŠ è½½webåº”ç”¨çš„æ—¶å€™ï¼Œå°è£…åˆ°ServletConfigå¯¹è±¡ä¸­, servletçš„å‚æ•°åªèƒ½ç”±å½“å‰çš„è¿™ä¸ªsevletè·å–--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">path</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">e:/b.txt</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">BBB</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">BBB&#x27;s value</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CCCC</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CCCC&#x27;s value</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è·å–åˆå§‹åŒ–å‚æ•°çš„api</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ConfigDemo extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     *  1ï¼‰tomcatæœåŠ¡å™¨æŠŠè¿™äº›å‚æ•°ä¼šåœ¨åŠ è½½webåº”ç”¨çš„æ—¶å€™ï¼Œå°è£…åˆ°ServletConfigå¯¹è±¡ä¸­ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     *  2ï¼‰tomcatæœåŠ¡å™¨è°ƒç”¨initæ–¹æ³•ä¼ å…¥ServletConfigå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /* è¿™æ˜¯å†…éƒ¨éšè—çš„ä»£ç :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ServletConfig config;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(ServletConfig config) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.config = config;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * è¯»å–servletçš„åˆå§‹å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String path = this.getServletConfig().getInitParameter(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        File file = new File(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è¯»å–å†…å®¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BufferedReader br = new BufferedReader(new FileReader(file));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while( (str=br.readLine())!=null ){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æŸ¥è¯¢å½“å‰servletçš„æ‰€æœ‰åˆå§‹åŒ–å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Enumeration&lt;String&gt; enums = this.getServletConfig().getInitParameterNames();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(enums.hasMoreElements()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String paramName = enums.nextElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String paramValue = this.getServletConfig().getInitParameter(paramName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(paramName+&quot;=&quot;+paramValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å¾—åˆ°servletçš„åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String servletName = this.getServletConfig().getServletName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(servletName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="servletcontextå¯¹è±¡">ServletContextå¯¹è±¡<a href="#servletcontextå¯¹è±¡" class="hash-link" aria-label="Direct link to ServletContextå¯¹è±¡" title="Direct link to ServletContextå¯¹è±¡">â€‹</a></h2><p><a href="https://www.zhihu.com/question/38481443" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/38481443</a></p><ul><li>æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ServletContextå¯¹è±¡ã€‚å®ƒä¸èƒ½è·¨åº”ç”¨ç¨‹åºã€‚å®ƒå¯ä»¥å®ç°åº”ç”¨ç¨‹åºå†…çš„æ•°æ®å…±äº«ã€‚</li><li>å®ƒçš„å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªMapé›†åˆï¼Œè¯¥é›†åˆä¸­æ”¾çš„å°±æ˜¯å…±äº«çš„æ•°æ®ã€‚</li><li>ç”¨ä»€ä¹ˆæ–¹æ³•å¯ä»¥æ“ä½œè¿™ä¸ªé›†åˆå‘¢ï¼Ÿ<ul><li>setAttribute(key,value);//æ”¾key-valueå¯¹</li><li>Object obj = getAttribute(key);  //å–å€¼</li><li>removeAttribute(key);       //ç§»é™¤key-valueå¯¹</li><li>ServletContextçš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸åº”ç”¨ç¨‹åºå…±å­˜ã€‚</li></ul></li></ul><p>ServletContextçš„è®¾è®¡æ˜¯è¿™æ ·çš„</p><p>api:</p><p>å¦‚ä½•è·å–?</p><ul><li>config.getServletContext();</li><li>this.getServletContext()</li></ul><p>æœ‰å“ªäº›ä½œç”¨?</p><ul><li>è·å–å…¨å±€ï¼ˆwebåº”ç”¨ï¼‰åˆå§‹åŒ–å‚æ•°</li><li>è½¬å‘(è·å–è½¬å‘å™¨)</li><li>æ ¹æ®ç›¸å¯¹è·¯å¾„å¾—åˆ°ç»å¯¹è·¯å¾„</li><li>ç¼“å­˜(Webç¼“å­˜----æŠŠä¸ç»å¸¸æ›´æ”¹çš„å†…å®¹è¯»å…¥å†…å­˜ï¼Œæ‰€ä»¥æœåŠ¡å™¨å“åº”è¯·æ±‚çš„æ—¶å€™å°±ä¸éœ€è¦è¿›è¡Œæ…¢é€Ÿçš„ç£ç›˜I/Oäº†ã€‚)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demo">demo<a href="#demo" class="hash-link" aria-label="Direct link to demo" title="Direct link to demo">â€‹</a></h2><ul><li>å¾—åˆ°webåº”ç”¨è·¯å¾„, è½¬å‘, é‡å®šå‘</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * å¾—åˆ°webåº”ç”¨è·¯å¾„, è½¬å‘, é‡å®šå‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ContextDemo1 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.å¾—åˆ°ServletContextå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ServletContext context = this.getServletConfig().getServletContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServletContext context = this.getServletContext(); //ï¼ˆæ¨èä½¿ç”¨ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.å¾—åˆ°webåº”ç”¨è·¯å¾„  /day10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * webåº”ç”¨è·¯å¾„ï¼šéƒ¨ç½²åˆ°tomcatæœåŠ¡å™¨ä¸Šè¿è¡Œçš„webåº”ç”¨åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String contextPath = context.getContextPath();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(contextPath);    //--     /day10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ¡ˆä¾‹ï¼šåº”ç”¨åˆ°è¯·æ±‚é‡å®šå‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.sendRedirect(contextPath+&quot;/index.html&quot;);//é‡å®šå‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context.getRequestDispatcher(&quot;servletå&quot;).forward(request,response);//è½¬å‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>è·å–Contextå‚æ•°(webå‚æ•°å¯ä»¥è®©åº”ç”¨ä¸­æ‰€æœ‰çš„Servletè·å–, è€ŒServletå‚æ•°åªèƒ½è®©å¯¹åº”çš„ä¸€ä¸ªservletè·å–)</li></ul><p>web.xmlé…ç½®æ–‡ä»¶æ˜¯è¿™æ ·:</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">web-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- é…ç½®webåº”ç”¨å‚æ•° --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">AAA</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">AAA&#x27;s value</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">BBB</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">BBB&#x27;s value</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CCC</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">CCC&#x27;s value</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">context-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">web-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * å¾—åˆ°webåº”ç”¨å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ContextDemo2 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å¾—åˆ°SErvletContextå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServletContext context = this.getServletContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;å‚æ•°&quot;+context.getInitParameter(&quot;AAA&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Enumeration&lt;String&gt; enums = context.getInitParameterNames();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(enums.hasMoreElements()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String paramName = enums.nextElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String paramValue  =context.getInitParameter(paramName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(paramName+&quot;=&quot;+paramValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å°è¯•å¾—åˆ°ConfigDemoä¸­çš„servletå‚æ•°ï¼Œä½†æ˜¯å¾—ä¸åˆ°, servletå‚æ•°ä¸äº’é€š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String path = this.getServletConfig().getInitParameter(&quot;path&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;path=&quot;+path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>è¯»å–åº”ç”¨ä¸‹çš„èµ„æºæ–‡ä»¶ï¼ˆå¦‚propertiesæ–‡ä»¶ï¼‰</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è¯»å–webåº”ç”¨ä¸‹çš„èµ„æºæ–‡ä»¶ï¼ˆä¾‹å¦‚propertiesï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ResourceDemo extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * â€œ .â€ ä»£è¡¨javaå‘½ä»¤è¿è¡Œç›®å½•ã€‚æ­¤æ—¶ åœ¨tomcat/binç›®å½•ä¸‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *  åœ¨webé¡¹ç›®ä¸­ï¼Œ . ä»£è¡¨åœ¨tomcat/binç›®å½•ä¸‹å¼€å§‹ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨è¿™ç§ç›¸å¯¹è·¯å¾„ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*File file = new File(&quot;./src/db.properties&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FileInputStream in = new FileInputStream(file);*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ä½¿ç”¨webåº”ç”¨ä¸‹åŠ è½½èµ„æºæ–‡ä»¶çš„æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 1. getRealPathè¯»å–,è¿”å›èµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String path = this.getServletContext().getRealPath(&quot;/WEB-INF/classes/db.properties&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        File file = new File(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FileInputStream in = new FileInputStream(file);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 2. getResourceAsStream()ï¼Œè¿”å›çš„æ˜¯è¾“å…¥æµ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InputStream in = this.getServletContext().getResourceAsStream(&quot;/WEB-INF/classes/db.properties&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties prop = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è¯»å–èµ„æºæ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.load(in);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String user = prop.getProperty(&quot;user&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String password = prop.getProperty(&quot;password&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;user=&quot;+user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;password=&quot;+password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="åŸŸå¯¹è±¡å…±äº«æ•°æ®">åŸŸå¯¹è±¡å…±äº«æ•°æ®<a href="#åŸŸå¯¹è±¡å…±äº«æ•°æ®" class="hash-link" aria-label="Direct link to åŸŸå¯¹è±¡å…±äº«æ•°æ®" title="Direct link to åŸŸå¯¹è±¡å…±äº«æ•°æ®">â€‹</a></h2><h1>jspä¹ä¸ªå†…ç½®å¯¹è±¡/å››ä¸ªåŸŸå¯¹è±¡,servletä¸‰å¤§åŸŸå¯¹è±¡</h1><p>æœç´¢&quot;jsp-note&quot;â¬…ï¸</p><h1>ä¸‰ç§æ–¹å¼è¯»å–èµ„æºæ–‡ä»¶</h1><ul><li>servletContext.getRealPath(&quot;xxx&quot;)</li><li>ResourceBundle.getBundle(&quot;xxx&quot;)</li><li>this.getClass().getClassLoader().getResourceAsStram(&quot;xxx&quot;)</li></ul><p>demo:</p><h1>è½¬å‘&amp;é‡å®šå‘</h1><p><a href="#web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98">è½¬å‘å’Œé‡å®šå‘æ—¶å€™çš„è·¯å¾„é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è°ƒç”¨æ–¹å¼">è°ƒç”¨æ–¹å¼<a href="#è°ƒç”¨æ–¹å¼" class="hash-link" aria-label="Direct link to è°ƒç”¨æ–¹å¼" title="Direct link to è°ƒç”¨æ–¹å¼">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨servletä¸­è°ƒç”¨è½¬å‘ã€é‡å®šå‘çš„è¯­å¥å¦‚ä¸‹ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">request.getRequestDispatcher(&quot;new.jsp&quot;).forward(request, response);//è½¬å‘åˆ°new.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response.sendRedirect(&quot;new.jsp&quot;);//é‡å®šå‘åˆ°new.jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ¨jspé¡µé¢ä¸­ä½ ä¹Ÿä¼šçœ‹åˆ°é€šè¿‡ä¸‹é¢çš„æ–¹å¼å®ç°è½¬å‘ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;jsp:forward page=&quot;apage.jsp&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å½“ç„¶ä¹Ÿå¯ä»¥åœ¨jspé¡µé¢ä¸­å®ç°é‡å®šå‘ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%response.sendRedirect(&quot;new.jsp&quot;);//é‡å®šå‘åˆ°new.jsp%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœ¬è´¨åŒºåˆ«">æœ¬è´¨åŒºåˆ«<a href="#æœ¬è´¨åŒºåˆ«" class="hash-link" aria-label="Direct link to æœ¬è´¨åŒºåˆ«" title="Direct link to æœ¬è´¨åŒºåˆ«">â€‹</a></h2><p><a href="https://blog.csdn.net/meiyalei/article/details/2129120" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/meiyalei/article/details/2129120</a></p><p>è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸ºï¼Œé‡å®šå‘æ˜¯å®¢æˆ·ç«¯è¡Œä¸º</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç ä¾‹å­">ä»£ç ä¾‹å­<a href="#ä»£ç ä¾‹å­" class="hash-link" aria-label="Direct link to ä»£ç ä¾‹å­" title="Direct link to ä»£ç ä¾‹å­">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è½¬å‘ï¼ˆæ•ˆæœï¼šè·³è½¬é¡µé¢ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ForwardDemo1 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è½¬å‘    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ³¨æ„ï¼šä¸èƒ½è½¬å‘å½“å‰webåº”ç”¨ä»¥å¤–çš„èµ„æºã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.getServletContext().getRequestDispatcher(&quot;/GetDateServlet&quot;).forward(request, response);// å† serveræœåŠ¡å™¨å†…éƒ¨å°±å®Œæˆäº†, so è·¯å¾„æ— éœ€åŠ é¡¹ç›®åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //åŒ…å«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.getServletContext().getRequestDispatcher(&quot;&quot;).include(request, response);//å°†ç›®æ ‡ç»“æœåŒ…å«åˆ°æºï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*é‡å®šå‘æ•ˆæœ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RedirectDemo1 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ä¿å­˜æ•°æ®åˆ°requeståŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request.setAttribute(&quot;name&quot;, &quot;rose&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //é‡å®šå‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ³¨æ„ï¼šå¯ä»¥è·³è½¬åˆ°webåº”ç”¨å†…ï¼Œæˆ–å…¶ä»–webåº”ç”¨ï¼Œç”šè‡³å…¶ä»–å¤–éƒ¨åŸŸåã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        å¯ä»¥è·³è½¬åˆ° servlet, é¡µé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //response.sendRedirect(&quot;/day09/adv.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.sendRedirect(&quot;/day10/GetDataServlet&quot;);// è·¯å¾„éœ€è¦åŠ ä¸Šé¡¹ç›®å</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>ä¼šè¯ç®¡ç†</h1><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1) ä¼šè¯ç®¡ç†ï¼š ç®¡ç†æµè§ˆå™¨å®¢æˆ·ç«¯ å’Œ æœåŠ¡å™¨ç«¯ä¹‹é—´ä¼šè¯è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¼šè¯æ•°æ®ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸€æ¬¡ä¼šè¯ï¼š æ‰“å¼€æµè§ˆå™¨ -&gt; è®¿é—®ä¸€äº›æœåŠ¡å™¨å†…å®¹ -&gt; å…³é—­æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> eg ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç™»å½•åœºæ™¯ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    æ‰“å¼€æµè§ˆå™¨ -&gt; æµè§ˆåˆ°ç™»é™†é¡µé¢ -&gt; è¾“å…¥ç”¨æˆ·åå’Œå¯†ç  -&gt; è®¿é—®åˆ°ç”¨æˆ·ä¸»é¡µ(æ˜¾ç¤ºç”¨æˆ·å)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è´­ç‰©åœºæ™¯ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     æ‰“å¼€æµè§ˆå™¨ -&gt; æµè§ˆå•†å“åˆ—è¡¨  -&gt; åŠ å…¥è´­ç‰©è½¦(æŠŠå•†å“ä¿¡æ¯ä¿å­˜ä¸‹æ¥)  -&gt; å…³é—­æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     æ‰“å¼€æµè§ˆå™¨-&gt;  ç›´æ¥è¿›å…¥è´­ç‰©è½¦ -&gt; æŸ¥çœ‹åˆ°ä¸Šæ¬¡åŠ å…¥è´­ç‰©è½¦çš„å•†å“ -&gt; ä¸‹è®¢å• -&gt; æ”¯ä»˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼š ä¼šè¯è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•ä¿å­˜å•†å“ä¿¡æ¯æˆ–è€…ç”¨æˆ·ä¿¡æ¯ï¼Ÿï¼Ÿ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åŸŸå¯¹è±¡ï¼š å®ç°èµ„æºä¹‹é—´çš„æ•°æ®å…±äº«ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    requeståŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    contextåŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å°è¯•è§£å†³ä¿å­˜æ•°æ®çš„é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç™»å½•åœºæ™¯ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å°å¼ ï¼š è¾“å…¥â€œå¼ ä¸‰â€ ï¼ˆä¿å­˜æ•°æ®ï¼š context.setAttribute(&quot;name&quot;,&quot;å¼ ä¸‰&quot;)ï¼‰ -&gt; ç”¨æˆ·ä¸»é¡µï¼ˆæ˜¾ç¤ºâ€œå¼ ä¸‰â€ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å°æï¼š è¾“å…¥â€œæå››â€(ä¿å­˜æ•°æ®ï¼šcontext.setAttribute(&quot;name&quot;,&quot;æå››&quot;)) -&gt;     ç”¨æˆ·ä¸»é¡µï¼ˆæ˜¾ç¤ºâ€œæå››â€ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é—®é¢˜ï¼š contextæ˜¯æ‰€æœ‰ç”¨æˆ·å…¬æœ‰çš„èµ„æºï¼ä¼šè¦†ç›–æ•°æ®ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å…¶å®æœ€å¥½çš„åŠæ³•ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å¯ä»¥ä½¿ç”¨sessionåŸŸå¯¹è±¡æ¥ä¿å­˜ä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¼šè¯æŠ€æœ¯: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CookieæŠ€æœ¯ï¼šä¼šè¯æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SessionæŠ€æœ¯ï¼šä¼šè¯æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2ï¼‰CookieæŠ€æœ¯ï¼š ä¼šè¯æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cookieæ ¸å¿ƒçš„API/åŸç†ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.1 åœ¨æœåŠ¡å™¨ç«¯åˆ›å»ºCookieå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookeie cookie = new Cookie(&quot;name&quot;,&quot;value&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void setPath(java.lang.String uri)   ï¼šè®¾ç½®cookieçš„æœ‰æ•ˆè®¿é—®è·¯å¾„, å½“è®¿é—®çš„resourceä¸å†æœ‰æ•ˆè·¯å¾„, åˆ™ä¸å¸¦cookies;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            eg1: cookie.setPath(&quot;/day17&quot;), æµè§ˆå™¨å†æ¬¡è®¿é—®/day17/xxx/xxx.jspï¼ˆå°±æ˜¯é¡¹ç›®/day17ä¸‹çš„èµ„æºï¼‰æ—¶ï¼Œå°±æºå¸¦cookieä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            eg2: cookie.setPath(&quot;/&quot;);ï¼Œåˆ™è¡¨ç¤ºè®¿é—®è®¿é—®ä»»ä½•èµ„æºéƒ½å¸¦cookieä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void setMaxAge(int expiry) ï¼š è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            æ­£æ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„ç¼“å­˜ç›®å½•ï¼ˆç¡¬ç›˜ä¸­ï¼‰ï¼Œæ•°å€¼è¡¨ç¤ºä¿å­˜çš„æ—¶é—´ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            è´Ÿæ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„å†…å­˜ä¸­ã€‚æµè§ˆå™¨å…³é—­cookieå°±ä¸¢å¤±äº†ï¼ï¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            é›¶ï¼šè¡¨ç¤ºåˆ é™¤åŒåçš„cookieæ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void setValue(java.lang.String newValue) ï¼šè®¾ç½®cookieçš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.2 æŠŠcookieå‘é€ç»™æµè§ˆå™¨ç«¯ï¼ˆéšå¼å‘é€äº†ä¸€ä¸ªå“åº”å¤´ï¼šset-cookie: name=valueï¼‰ä¿å­˜èµ·æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.addCookie(cookie);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.3 å†æ¬¡è®¿é—®, æµè§ˆå™¨å¸¦ç€cookieä¿¡æ¯è®¿é—®æœåŠ¡å™¨ï¼ˆé€šè¿‡è¯·æ±‚å¤´ï¼šcookieï¼‰ï¼ŒæœåŠ¡å™¨å¾—åˆ°cookieä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie[] cookies = request.getCookies();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å±€é™ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1ï¼‰åªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸èƒ½ä¿å­˜ä¸­æ–‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2ï¼‰å¯ä»¥ä¿å­˜å¤šä¸ªcookieï¼Œä½†æ˜¯æµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾300ä¸ªCookieï¼Œæ¯ä¸ªç«™ç‚¹æœ€å¤šå­˜æ”¾20ä¸ªCookieï¼Œæ¯ä¸ªCookieçš„å¤§å°é™åˆ¶ä¸º4KB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3ï¼‰SessionæŠ€æœ¯ï¼šä¼šè¯æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯(å†…å­˜ä¸­)ã€‚æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«ä¸åŒçš„æµè§ˆè€…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sessionæ ¸å¿ƒçš„API/åŸç†ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3.1 åˆ›å»ºæˆ–å¾—åˆ°sessionå¯¹è±¡    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession(); //åˆ›å»ºæˆ–å¾—åˆ°sessionå¯¹è±¡, è‹¥æ²¡æœ‰åŒ¹é…çš„sessionç¼–å·, åˆ™è¿”å›æ–°åˆ›å»ºçš„session</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request.getSession(false); //å¾—åˆ°sessionå¯¹è±¡, è‹¥æ²¡æœ‰åŒ¹é…çš„ç¼–å·, è¿”å›null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3.2 ä¼šè¯æ•°æ®ä¿å­˜sessionå¯¹è±¡ä¸­ï¼Œå’Œå¾—åˆ°ä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.setAttribute(&quot;name&quot;,Object);  ä¿å­˜æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.getAttribute(&quot;name&quot;)   å¾—åˆ°æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void removeAttribute(java.lang.String name) ï¼š æ¸…é™¤æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3.3 è®¾ç½®sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void setMaxInactiveInterval(int interval)  ï¼š è®¾ç½®sessionçš„æœ‰æ•ˆæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            é»˜è®¤æƒ…å†µ30åˆ†é’ŸæœåŠ¡å™¨è‡ªåŠ¨å›æ”¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- ä¿®æ”¹sessionå…¨å±€æœ‰æ•ˆæ—¶é—´:   åˆ†é’Ÿï¼› åœ¨&lt;web-app&gt;é‡Œé¢--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;session-config&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;session-timeout&gt;1&lt;/session-timeout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/session-config&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void invalidate()     ï¼š æ‰‹åŠ¨é”€æ¯sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String getId()  ï¼š å¾—åˆ°sessionç¼–å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sessionåŸç†:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1ï¼‰ç¬¬ä¸€æ¬¡è®¿é—®åˆ›å»ºsessionå¯¹è±¡ï¼Œç»™sessionå¯¹è±¡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œå«JSESSIONID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2ï¼‰æŠŠJSESSIONIDä½œä¸ºCookieçš„å€¼å‘é€ç»™æµè§ˆå™¨ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, sessionID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.addCookie(cookie);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3ï¼‰ç¬¬äºŒæ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¸¦ç€JSESSIONIDçš„cookieè®¿é—®æœåŠ¡å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4ï¼‰æœåŠ¡å™¨å¾—åˆ°JSESSIONIDï¼Œåœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­æœç´¢æ˜¯å¦å­˜æ”¾å¯¹åº”ç¼–å·çš„sessionå¯¹è±¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å³æœç´¢è¿™æ ·çš„æ•°æ®ç»“æ„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String,HttpSession&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;&quot;s001&quot;, s1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;&quot;s001,&quot;s2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(æ‰¾åˆ°){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return map.get(sessionID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        åˆ›å»ºæ–°çš„sessionå¯¹è±¡ï¼Œç»§ç»­èµ°1çš„æµç¨‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç»“è®ºï¼šé€šè¿‡å­˜å‚¨æ—©æµè§ˆå™¨ä¸­çš„JSESSIONçš„cookieå€¼åœ¨æœåŠ¡å™¨æ‰¾sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é—®é¢˜: å¦‚ä½•é¿å…æµè§ˆå™¨çš„JSESSIONIDçš„cookieéšç€æµè§ˆå™¨å…³é—­è€Œä¸¢å¤±çš„é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æ‰‹åŠ¨å‘é€ä¸€ä¸ªç¡¬ç›˜ä¿å­˜çš„cookieç»™æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cookie c = new Cookie(&quot;JSESSIONID&quot;,session.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c.setMaxAge(60*60);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response.addCookie(c);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>cookies demo:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¬¬ä¸€ä¸ªcookieçš„ç¨‹åº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CookieDemo1 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.åˆ›å»ºCookieå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie cookie1 = new Cookie(&quot;name&quot;,&quot;eric&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //Cookie cookie2 = new Cookie(&quot;email&quot;,&quot;jacky@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //Cookie cookie1 = new Cookie(&quot;email&quot;,&quot;eric@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 1ï¼‰è®¾ç½®cookieçš„æœ‰æ•ˆè·¯å¾„ã€‚é»˜è®¤æƒ…å†µï¼šæœ‰æ•ˆè·¯å¾„åœ¨å½“å‰webåº”ç”¨ä¸‹ã€‚ /day11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //cookie1.setPath(&quot;/day11&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //cookie2.setPath(&quot;/day12&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 2)è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ­£æ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„ç¼“å­˜ç›®å½•ï¼ˆç¡¬ç›˜ä¸­ï¼‰ï¼Œæ•°å€¼è¡¨ç¤ºä¿å­˜çš„æ—¶é—´ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            è´Ÿæ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„å†…å­˜ä¸­ã€‚æµè§ˆå™¨å…³é—­cookieå°±ä¸¢å¤±äº†ï¼ï¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            é›¶ï¼šè¡¨ç¤ºåˆ é™¤åŒåçš„cookieæ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //cookie1.setMaxAge(20); //20ç§’ï¼Œä»æœ€åä¸è°ƒç”¨cookieå¼€å§‹è®¡ç®—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cookie1.setMaxAge(-1); //cookieä¿å­˜åœ¨æµè§ˆå™¨å†…å­˜ï¼ˆä¼šè¯cookieï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //cookie1.setMaxAge(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.æŠŠcookieæ•°æ®å‘é€åˆ°æµè§ˆå™¨ï¼ˆé€šè¿‡å“åº”å¤´å‘é€ï¼š set-cookieåç§°ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //response.setHeader(&quot;set-cookie&quot;, cookie.getName()+&quot;=&quot;+cookie.getValue()+&quot;,email=eric@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œé¿å…æ‰‹åŠ¨å‘é€cookieä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.addCookie(cookie1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //response.addCookie(cookie2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //response.addCookie(cookie1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3.æ¥æ”¶æµè§ˆå™¨å‘é€çš„cookieä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String name = request.getHeader(&quot;cookie&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è·å–æ‰€æœ‰çš„cookies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie[] cookies = request.getCookies();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æ³¨æ„ï¼šåˆ¤æ–­null,å¦åˆ™ç©ºæŒ‡é’ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(cookies!=null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //éå†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for(Cookie c:cookies){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String name = c.getName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String value = c.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(name+&quot;=&quot;+value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;æ²¡æœ‰æ¥æ”¶cookieæ•°æ®&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>session demo: </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ä¿å­˜ä¼šè¯æ•°æ®åˆ°sessionåŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SessionDemo1 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.åˆ›å»ºsessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * å¾—åˆ°sessionç¼–å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;id=&quot;+session.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ä¿®æ”¹sessionçš„æœ‰æ•ˆæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.setMaxInactiveInterval(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ‰‹åŠ¨å‘é€ä¸€ä¸ªç¡¬ç›˜ä¿å­˜çš„cookieç»™æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie c = new Cookie(&quot;JSESSIONID&quot;,session.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.setMaxAge(60*60);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.addCookie(c);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.ä¿å­˜ä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.setAttribute(&quot;name&quot;, &quot;rose&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ä»sessionåŸŸå¯¹è±¡ä¸­å–å‡ºä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SessionDemo2 extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.å¾—åˆ°sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(session==null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„sessinoå¯¹è±¡&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * å¾—åˆ°sessionç¼–å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;id=&quot;+session.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.å–å‡ºæ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String name = (String)session.getAttribute(&quot;name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;name=&quot;+name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * é”€æ¯sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DeleteSession extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(session!=null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            session.invalidate();//æ‰‹åŠ¨é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;é”€æ¯æˆåŠŸ&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ¡ˆä¾‹: ä¸Šæ¬¡è®¿é—®æ—¶é—´</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æ¡ˆä¾‹-ç”¨æˆ·ä¸Šæ¬¡è®¿é—®æ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HistServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è·å–å½“å‰æ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String curTime = format.format(new Date());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å–å¾—cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cookie[] cookies = request.getCookies();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String lastTime = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ç¬¬næ¬¡è®¿é—®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(cookies!=null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (Cookie cookie : cookies) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(cookie.getName().equals(&quot;lastTime&quot;)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    //æœ‰lastTimeçš„cookieï¼Œå·²ç»æ˜¯ç¬¬næ¬¡è®¿é—®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    lastTime = cookie.getValue();//ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    //ç¬¬næ¬¡è®¿é—®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    //1.æŠŠä¸Šæ¬¡æ˜¾ç¤ºæ—¶é—´æ˜¾ç¤ºåˆ°æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    response.getWriter().write(&quot;æ¬¢è¿å›æ¥ï¼Œä½ ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´ä¸ºï¼š&quot;+lastTime+&quot;,å½“å‰æ—¶é—´ä¸ºï¼š&quot;+curTime);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    //2.æ›´æ–°cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    cookie.setValue(curTime);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    cookie.setMaxAge(1*30*24*60*60);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    //3.æŠŠæ›´æ–°åçš„cookieå‘é€åˆ°æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    response.addCookie(cookie);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ç¬¬ä¸€æ¬¡è®¿é—®ï¼ˆæ²¡æœ‰cookie æˆ– æœ‰cookieï¼Œä½†æ²¡æœ‰åä¸ºlastTimeçš„cookieï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(cookies==null || lastTime==null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //1.æ˜¾ç¤ºå½“å‰æ—¶é—´åˆ°æµè§ˆå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.getWriter().write(&quot;ä½ æ˜¯é¦–æ¬¡è®¿é—®æœ¬ç½‘ç«™ï¼Œå½“å‰æ—¶é—´ä¸ºï¼š&quot;+curTime);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //2.åˆ›å»ºCookieå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Cookie cookie = new Cookie(&quot;lastTime&quot;,curTime);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cookie.setMaxAge(1*30*24*60*60);//ä¿å­˜ä¸€ä¸ªæœˆï¼Œå•ä½s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //3.æŠŠcookieå‘é€åˆ°æµè§ˆå™¨ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.addCookie(cookie);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ¡ˆä¾‹: ç™»å½•/æ³¨é”€åœºæ™¯</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * å¤„ç†ç™»å½•çš„é€»è¾‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LoginServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request.setCharacterEncoding(&quot;utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.æ¥æ”¶å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String userName = request.getParameter(&quot;userName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String userPwd = request.getParameter(&quot;userPwd&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.åˆ¤æ–­é€»è¾‘ï¼ˆè¿™é‡Œå†™æ­»äº†ï¼Œæ­£å¸¸åº”è¯¥è¦åˆ°æ•°æ®åº“ä¸­æ¯”å¯¹ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(&quot;eric&quot;.equals(userName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 &amp;&amp; &quot;123456&quot;.equals(userPwd)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //ç™»å½•æˆåŠŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             * åˆ†æï¼šé€‰å–å“ªä¸ªåŸŸå¯¹è±¡ï¼Ÿ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             *    contextåŸŸå¯¹è±¡ï¼šä¸åˆé€‚ï¼Œå¯èƒ½ä¼šè¦†ç›–æ•°æ®ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             *    requeståŸŸå¯¹è±¡ï¼š ä¸åˆé€‚ï¼Œæ•´ä¸ªç½‘ç«™å¿…é¡»å¾—ä½¿ç”¨è½¬å‘æŠ€æœ¯æ¥è·³è½¬é¡µé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             *    sessionåŸŸå¯¹è±¡ï¼šåˆé€‚ï¼Œæ¯ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªsessionã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             * ä¸€ã€ç™»å½•æˆåŠŸåï¼ŒæŠŠç”¨æˆ·æ•°æ®ä¿å­˜sessionå¯¹è±¡ä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //1.åˆ›å»ºsessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HttpSession session = request.getSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //2.æŠŠæ•°æ®ä¿å­˜åˆ°sessionåŸŸä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            session.setAttribute(&quot;loginName&quot;, userName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //3.è·³è½¬åˆ°ç”¨æˆ·ä¸»é¡µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.sendRedirect(request.getContextPath()+&quot;/IndexServlet&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //ç™»å½•å¤±è´¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //è¯·æ±‚é‡å®šå‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.sendRedirect(request.getContextPath()+&quot;/fail.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doPost(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doGet(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç”¨æˆ·ä¸»é¡µçš„é€»è¾‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class IndexServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PrintWriter writer = response.getWriter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String html = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * äºŒã€åœ¨ç”¨æˆ·ä¸»é¡µï¼Œåˆ¤æ–­sessionä¸ä¸ºç©ºä¸”å­˜åœ¨æŒ‡å®šçš„å±æ€§æ‰è§†ä¸ºç™»å½•æˆåŠŸï¼æ‰èƒ½è®¿é—®èµ„æºã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ä»sessionåŸŸä¸­è·å–ä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.å¾—åˆ°sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(session==null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //æ²¡æœ‰ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.sendRedirect(request.getContextPath()+&quot;/login.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.å–å‡ºä¼šè¯æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String loginName = (String)session.getAttribute(&quot;loginName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(loginName==null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //æ²¡æœ‰ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.sendRedirect(request.getContextPath()+&quot;/login.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        html = &quot;&lt;html&gt;&lt;body&gt;æ¬¢è¿å›æ¥ï¼Œ&quot;+loginName+&quot;ï¼Œ&lt;a href=&#x27;&quot;+request.getContextPath()+&quot;/LogoutServlet&#x27;&gt;å®‰å…¨é€€å‡º&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        writer.write(html);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doPost(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doGet(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * é€€å‡ºé€»è¾‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LogoutServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * ä¸‰ã€å®‰å…¨é€€å‡ºï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *      åˆ é™¤æ‰sessionå¯¹è±¡ä¸­æŒ‡å®šçš„loginNameå±æ€§å³å¯ï¼  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.å¾—åˆ°sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = request.getSession(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(session!=null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //2.åˆ é™¤å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            session.removeAttribute(&quot;loginName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.å›æ¥ç™»å½•é¡µé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.sendRedirect(request.getContextPath()+&quot;/login.html&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doPost(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doGet(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>è¿‡æ»¤å™¨filter</h1><p><a href="https://blog.csdn.net/hanghangde/article/details/51298221" target="_blank" rel="noopener noreferrer">filteræ’é™¤æŒ‡å®šservlet</a></p><p>filter init() ä¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œ, è€Œ dofilter() ä¼šåœ¨æ‹¦æˆªè¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œ</p><p>è¿‡æ»¤å™¨ï¼Œè®¾è®¡æ‰§è¡Œæµç¨‹ï¼š</p><ol><li>ç”¨æˆ·è®¿é—®æœåŠ¡å™¨</li><li>è¿‡æ»¤å™¨ï¼š å¯¹Servletè¯·æ±‚è¿›è¡Œæ‹¦æˆª</li><li>å…ˆè¿›å…¥è¿‡æ»¤å™¨ï¼Œ è¿‡æ»¤å™¨å¤„ç†</li><li>è¿‡æ»¤å™¨å¤„ç†å®Œåï¼Œ å†æ”¾è¡Œï¼Œ æ­¤æ—¶ï¼Œè¯·æ±‚åˆ°è¾¾Servlet/JSP</li><li>Servletå¤„ç†</li><li>Servletå¤„ç†å®Œåï¼Œå†å›åˆ°è¿‡æ»¤å™¨, æœ€ååœ¨ç”±tomcatæœåŠ¡å™¨å›åº”ç”¨æˆ·</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘-filter">ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘ filter<a href="#ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘-filter" class="hash-link" aria-label="Direct link to ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘ filter" title="Direct link to ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘ filter">â€‹</a></h2><ol><li><p>ç¼–å†™javaç±»å®ç°Filteræ¥å£ï¼Œå¹¶å®ç°å…¶doFilteræ–¹æ³•ã€‚</p></li><li><p>åœ¨web.xmlæ–‡ä»¶ä¸­ä½¿ç”¨<code>&lt;filter&gt;</code>å’Œ<code>&lt;filter-mapping&gt;</code>å…ƒç´ å¯¹ç¼–å†™çš„filterç±»è¿›è¡Œæ³¨å†Œï¼Œå¹¶è®¾ç½®å®ƒæ‰€èƒ½æ‹¦æˆªçš„èµ„æºã€‚</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è¿‡æ»¤å™¨ï¼Œæµ‹è¯•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HelloFilter implements Filter{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // åˆ›å»ºå®ä¾‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public HelloFilter(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;1. åˆ›å»ºè¿‡æ»¤å™¨å®ä¾‹&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(FilterConfig filterConfig) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;2. æ‰§è¡Œè¿‡æ»¤å™¨åˆå§‹åŒ–æ–¹æ³•&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è·å–è¿‡æ»¤å™¨åœ¨web.xmlä¸­é…ç½®çš„åˆå§‹åŒ–å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String encoding = filterConfig.getInitParameter(&quot;encoding&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(encoding);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è·å–è¿‡æ»¤å™¨åœ¨web.xmlä¸­é…ç½®çš„åˆå§‹åŒ–å‚æ•° çš„åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Enumeration&lt;String&gt; enums =  filterConfig.getInitParameterNames();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while (enums.hasMoreElements()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è·å–æ‰€æœ‰å‚æ•°åç§°ï¼šencodingã€path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    String name = enums.nextElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è·å–åç§°å¯¹åº”çš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    String value = filterConfig.getInitParameter(name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(name + &quot;\t&quot; + value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è¿‡æ»¤å™¨ä¸šåŠ¡å¤„ç†æ–¹æ³•ï¼š åœ¨è¯·æ±‚åˆ°è¾¾servletä¹‹å‰å…ˆè¿›å…¥æ­¤æ–¹æ³•å¤„ç†å…¬ç”¨çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doFilter(ServletRequest request, ServletResponse response,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    FilterChain chain) throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;3. æ‰§è¡Œè¿‡æ»¤å™¨ä¸šåŠ¡å¤„ç†æ–¹æ³•&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ”¾è¡Œ (å»åˆ°Servlet)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // å¦‚æœæœ‰ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦åˆ™å°±æ‰§è¡Œè®¿é—®servlet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chain.doFilter(request, response);     //å¿…é¡»è¦æ­¤è¡Œä»£ç æ‰èƒ½è®¿é—®èµ„æº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;5. Servletå¤„ç†å®Œæˆï¼Œåˆå›åˆ°è¿‡æ»¤å™¨&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void destroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;6. é”€æ¯è¿‡æ»¤å™¨å®ä¾‹&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- è¿‡æ»¤å™¨é…ç½® --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- é…ç½®åˆå§‹åŒ–å‚æ•° --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">encoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">UTF-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">path</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">c:/...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å†…éƒ¨åç§° --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hello_filter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- è¿‡æ»¤å™¨ç±»çš„å…¨å --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">cn.itcast.a_filter_hello.HelloFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- filterå†…éƒ¨åç§° --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hello_filter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æ‹¦æˆªèµ„æº, /* è¡¨ç¤ºå¯¹æ‰€æœ‰è¯·æ±‚è¿‡æ»¤ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 1. æ‹¦æˆªæ‰€æœ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 2. æ‹¦æˆªæŒ‡å®šçš„jsp ï¼Œæ‹¦æˆªå¤šä¸ªèµ„æº</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     &lt;url-pattern&gt;/index.jsp&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     &lt;url-pattern&gt;/list.jsp&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æ‹¦æˆªæ‰€æœ‰çš„jsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 3. æ ¹æ®servletçš„å†…éƒ¨åç§°æ‹¦æˆª</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      &lt;servlet-name&gt;IndexServlet&lt;/servlet-name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">       --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æ‹¦æˆªæŒ‡å®šçš„servlet </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      &lt;url-pattern&gt;/index&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 4. æ‹¦æˆªæŒ‡å®šçš„ç±»å‹ï¼Œ&lt;dispatcher&gt;æŒ‡å®šè¿‡æ»¤å™¨æ‰€æ‹¦æˆªçš„èµ„æºè¢« Servlet å®¹å™¨è°ƒç”¨çš„æ–¹å¼ï¼Œå¯ä»¥æ˜¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            REQUEST(é»˜è®¤): æ‹¦æˆªæµè§ˆå™¨ç›´æ¥è®¿é—®oré‡å®šå‘,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            INCLUDE: æ‹¦æˆªè½¬å‘,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            FORWARD: æ‹¦æˆªåŒ…å«çš„é¡µé¢(RequestDispatcher.include(&quot;/page.jsp&quot;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            ERROR: æ‹¦æˆªå£°æ˜å¼å¼‚å¸¸ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ï¼Œç”¨æˆ·å¯ä»¥è®¾ç½®å¤šä¸ª&lt;dispatcher&gt; å­å…ƒç´ ç”¨æ¥æŒ‡å®š Filter å¯¹èµ„æºçš„å¤šç§è°ƒç”¨æ–¹å¼è¿›è¡Œæ‹¦æˆª</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">       --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¡ˆä¾‹ç»Ÿä¸€å¤„ç†ç¼–ç ">æ¡ˆä¾‹:ç»Ÿä¸€å¤„ç†ç¼–ç <a href="#æ¡ˆä¾‹ç»Ÿä¸€å¤„ç†ç¼–ç " class="hash-link" aria-label="Direct link to æ¡ˆä¾‹:ç»Ÿä¸€å¤„ç†ç¼–ç " title="Direct link to æ¡ˆä¾‹:ç»Ÿä¸€å¤„ç†ç¼–ç ">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">è¿‡æ»¤å™¨ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¼–ç å¤„ç†ç»Ÿä¸€å†™åˆ°è¿™é‡Œ(servletä¸­ä¸éœ€è¦å†å¤„ç†ç¼–ç )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EncodingFilter implements Filter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è¿‡æ»¤å™¨ä¸šåŠ¡å¤„ç†æ–¹æ³•ï¼šåŒ…å«çš„æ˜¯å…¬ç”¨çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doFilter(ServletRequest req, ServletResponse res,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    FilterChain chain) throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è½¬å‹ï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final HttpServletRequest request = (HttpServletRequest) req;    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletResponse response = (HttpServletResponse) res;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ä¸€ã€å¤„ç†å…¬ç”¨ä¸šåŠ¡ï¼ˆå…¬å…±ä»£ç ï¼‰// ä½†æ˜¯åªå¯¹POSTæäº¤æœ‰æ•ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request.setCharacterEncoding(&quot;UTF-8&quot;);                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * å½“æ—¶GETæäº¤æ–¹å¼æ—¶ï¼Œå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œæ˜¯å› ä¸ºåœ¨request.getParameteræ–¹æ³•å†…éƒ¨æ²¡æœ‰è¿›è¡Œæäº¤æ–¹å¼åˆ¤æ–­å¹¶å¤„ç†ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * String name = request.getParameter(&quot;userName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * è§£å†³ï¼šå¯¹æŒ‡å®šæ¥å£çš„æŸä¸€ä¸ªæ–¹æ³•è¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *      å¯¹requestå¯¹è±¡(ç›®æ ‡å¯¹è±¡)ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletRequest proxy =  (HttpServletRequest) Proxy.newProxyInstance(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            request.getClass().getClassLoader(),         // æŒ‡å®šå½“å‰ä½¿ç”¨çš„ç±»åŠ è½½å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Class[]{HttpServletRequest.class},         // ç›®æ ‡å¯¹è±¡å®ç°äº†å“ªäº›æ¥å£ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new InvocationHandler() {                    // äº‹ä»¶å¤„ç†å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public Object invoke(Object proxy, Method method, Object[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                throws Throwable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // å®šä¹‰æ–¹æ³•è¿”å›å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Object returnValue = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è·å–æ–¹æ³•å</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    String methodName = method.getName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // åˆ¤æ–­ï¼šå¯¹getParameteræ–¹æ³•æ·»åŠ è¿›è¡ŒGETæäº¤ä¸­æ–‡å¤„ç†çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (&quot;getParameter&quot;.equals(methodName)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // è·å–è¯·æ±‚æ•°æ®å€¼ã€ &lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;ã€‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        String value = request.getParameter(args[0].toString());    // è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„getPrameter()æ–¹æ³•å¾—åˆ°æœªå¤„ç†çš„ç»“æœ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // è·å–æäº¤æ–¹å¼ GET   POST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        String methodSubmit = request.getMethod(); // ç›´æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // åˆ¤æ–­å¦‚æœæ˜¯GETæäº¤ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†  (POSTæäº¤å·²ç»å¤„ç†è¿‡äº†)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if (&quot;GET&quot;.equals(methodSubmit)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            if (value != null &amp;&amp; !&quot;&quot;.equals(value.trim())){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                // å¦‚æœä¸ç©ºï¼Œå¤„ç†GETä¸­æ–‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value = new String(value.getBytes(&quot;ISO8859-1&quot;),&quot;UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        /*è¿™é‡Œè¿˜å¯ä»¥æ’å…¥ç‰¹æ®Šè¯è¿‡æ»¤çš„ä»£ç */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        return value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            // æ‰§è¡Œrequestå¯¹è±¡çš„å…¶ä»–æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        returnValue = method.invoke(request, args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return returnValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // äºŒã€æ”¾è¡Œ (æ‰§è¡Œä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–è€…servlet)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chain.doFilter(proxy, response);        // ä¼ å…¥requestçš„ä»£ç†å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(FilterConfig filterConfig) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void destroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿‡æ»¤å™¨é…ç½®:</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">è¿‡æ»¤å™¨é…ç½®ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ç¼–ç å¤„ç†è¿‡æ»¤å™¨é…ç½® --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">encoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">cn.itcast.a_loginFilter.EncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">encoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¡ˆä¾‹ç™»å½•è¿‡æ»¤">æ¡ˆä¾‹:ç™»å½•è¿‡æ»¤<a href="#æ¡ˆä¾‹ç™»å½•è¿‡æ»¤" class="hash-link" aria-label="Direct link to æ¡ˆä¾‹:ç™»å½•è¿‡æ»¤" title="Direct link to æ¡ˆä¾‹:ç™»å½•è¿‡æ»¤">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//  è¿‡æ»¤å™¨ï¼Œæ ¹æ®è®¿é—®é¡µé¢åšå‡ºä¸åŒå¤„ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LoginFilter implements Filter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void destroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // TODO Auto-generated method stub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(FilterConfig arg0) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // TODO Auto-generated method stub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doFilter(ServletRequest arg0, ServletResponse arg1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FilterChain arg2) throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         String uri = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletRequest request = (HttpServletRequest)arg0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletResponse response = (HttpServletResponse)arg1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String requestUri = request.getRequestURI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String requestPath = requestUri.substring(requestUri.lastIndexOf(&quot;/&quot;) + 1, requestUri.length());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(&quot;login&quot;.equals(requestPath) || &quot;login.jsp&quot;.equals(requestPath)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //å¦‚æœè®¿é—®çš„æ˜¯login.jsp, æ”¾è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                arg2.doFilter(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //å¦‚æœä¸æ˜¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HttpSession session = request.getSession(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(session != null) {//åˆ¤æ–­æ˜¯å¦ç™»å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Admin admin = (Admin)session.getAttribute(&quot;loginInfo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(admin != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        arg2.doFilter(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        uri = &quot;/login.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    uri = &quot;/login.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            request.getRequestDispatcher(uri).forward(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¡ˆä¾‹è‡ªåŠ¨ç™»å½•">æ¡ˆä¾‹:è‡ªåŠ¨ç™»å½•<a href="#æ¡ˆä¾‹è‡ªåŠ¨ç™»å½•" class="hash-link" aria-label="Direct link to æ¡ˆä¾‹:è‡ªåŠ¨ç™»å½•" title="Direct link to æ¡ˆä¾‹:è‡ªåŠ¨ç™»å½•">â€‹</a></h2><p>åˆ†æ: </p><ul><li>éœ€è¦ä½¿ç”¨çš„cookieçš„æŠ€æœ¯ï¼Œä¿å­˜ç”¨æˆ·åå’Œå¯†ç <ul><li>ç”¨æˆ·å¦‚æœé€‰æ‹©äº†è‡ªåŠ¨ç™»å½•çš„åŠŸèƒ½ï¼Œæ‰ä¼šä¿å­˜cookie     </li></ul></li><li>éœ€è¦ä½¿ç”¨Filterçš„æŠ€æœ¯ï¼Œå®Œæˆè‡ªåŠ¨ç™»é™†çš„åŠŸèƒ½</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loginServletä»£ç ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç™»å½•åŠŸèƒ½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LoginServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * æ¥æ”¶ç”¨æˆ·åå’Œå¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å»æ•°æ®åº“ä¸­æŸ¥è¯¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *  * å¦‚æœæŸ¥è¯¢åˆ°äº†ç”¨æˆ·ï¼Œè¯´æ˜æ²¡æœ‰é—®é¢˜ï¼Œç™»å½•æˆåŠŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         *  * å¦‚æœæŸ¥è¯¢ä¸åˆ°ç”¨æˆ·ï¼Œè¯´æ˜ç™»å½•å¤±è´¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ¥æ”¶ç”¨æˆ·åå’Œå¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String username = request.getParameter(&quot;username&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String password = request.getParameter(&quot;password&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è°ƒç”¨æŒä¹…å±‚æŸ¥è¯¢æ•°æ®åº“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UserDao dao = new UserDao();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ç™»å½•åŠŸèƒ½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            User existUser = dao.login(username, password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // å¦‚æœï¼Œè¿”å›existUserä¸ºnullï¼Œè¯´æ˜ç™»å½•å¤±è´¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(existUser == null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                request.setAttribute(&quot;msg&quot;, &quot;ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                request.getRequestDispatcher(&quot;/pages/login.jsp&quot;).forward(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }else{// ç™»å½•, sessionä¸­ä¿å­˜user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // å…ˆåˆ¤æ–­ï¼Œç”¨æˆ·æ˜¯å¦å·²ç»å‹¾é€‰è‡ªåŠ¨ç™»å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String autologin = request.getParameter(&quot;autologin&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(&quot;auto_ok&quot;.equals(autologin)){// å¦‚æœå‹¾é€‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // æŠŠç”¨æˆ·åå’Œå¯†ç ï¼Œä¿å­˜åˆ°cookieä¸­ï¼Œå›å†™cookie, ä¿å­˜åˆ°å®¢æˆ·ç«¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    String value = username+&quot;#xxx#&quot;+password;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Cookie cookie = new Cookie(&quot;autologin&quot;,value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è®¾ç½®cookieçš„ä¸€äº›å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½æ˜¯ç§’, 1hä¹‹å†…èƒ½å¤Ÿè‡ªåŠ¨ç™»å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    cookie.setMaxAge(60*60);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // è®¾ç½®cookieçš„æœ‰æ•ˆè·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    cookie.setPath(&quot;/&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // å›å†™cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    response.addCookie(cookie);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // ä¿å­˜user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                request.getSession().setAttribute(&quot;existUser&quot;, existUser);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                response.sendRedirect(request.getContextPath()+&quot;/pages/home.jsp&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (SQLException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doPost(HttpServletRequest request, HttpServletResponse response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws ServletException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doGet(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filterä»£ç ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è‡ªåŠ¨ç™»å½•çš„è¿‡æ»¤å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AutologinFilter implements Filter{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doFilter(ServletRequest request, ServletResponse response,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            FilterChain chain) throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ä»sessionä¸­è·å–åˆ°ç”¨æˆ·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletRequest req = (HttpServletRequest) request;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = req.getSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è·å–ç”¨æˆ·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        User user = (User) session.getAttribute(&quot;existUser&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å¦‚æœuserä¸ä¸ºnull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(user != null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ”¾è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chain.doFilter(req, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è¯´æ˜ï¼Œç”¨æˆ·ä¸ºnulläº†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è·å–æŒ‡å®šåç§°çš„cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Cookie[] cookies = req.getCookies();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // é€šè¿‡æŒ‡å®šåç§°æŸ¥æ‰¾cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Cookie cookie = MyCookieUtil.findCookieByName(cookies, &quot;autologin&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // åˆ¤æ–­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(cookie == null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // è¯´æ˜ï¼Œæ²¡æ‰¾åˆ°ï¼Œç™»å½•æ—¶æ²¡æœ‰å‹¾é€‰è‡ªåŠ¨ç™»å½•åŠŸèƒ½,æ”¾è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                chain.doFilter(req, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // è¯´æ˜å·²ç»æ‰¾åˆ°äº†è¯¥cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // è·å–åˆ°cookieä¸­çš„value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String value = cookie.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String username = value.split(&quot;#xxx#&quot;)[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String password = value.split(&quot;#xxx#&quot;)[1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å»æ•°æ®åº“æŸ¥è¯¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                UserDao dao = new UserDao();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // æŸ¥è¯¢ç”¨æˆ·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    User existUser = dao.login(username, password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // åˆ¤æ–­ï¼Œå¦‚æœç”¨æˆ·ä¸ºnullï¼Œè¯´æ˜ç™»å½•å¤±è´¥äº†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(existUser == null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // æ”¾è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        chain.doFilter(req, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // ä¸ä¸ºnullï¼Œç™»å½•æˆåŠŸ,å¸®ç”¨æˆ·åšè‡ªåŠ¨ç™»å½•åŠŸèƒ½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        session.setAttribute(&quot;existUser&quot;, existUser);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // æ”¾è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        chain.doFilter(req, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } catch (SQLException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void destroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(FilterConfig arg0) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="spring-boot-ä¸­ä½¿ç”¨filter">spring boot ä¸­ä½¿ç”¨filter<a href="#spring-boot-ä¸­ä½¿ç”¨filter" class="hash-link" aria-label="Direct link to spring boot ä¸­ä½¿ç”¨filter" title="Direct link to spring boot ä¸­ä½¿ç”¨filter">â€‹</a></h2><p>spring ä¸­å¼€å‘ filter ç»§æ‰¿ æŠ½è±¡ç±» GenericFilterBean , è¯¥ç±»æä¾›äº† spring ä¸­çš„è®¸å¤šä¿¡æ¯, å®ç°äº†å¦‚ä¸‹ 5 ä¸ªæ¥å£:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">javax.servlet.Filterã€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.beans.factory.BeanNameAwareã€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.context.EnvironmentAwareã€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.web.context.ServletContextAwareã€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.beans.factory.InitializingBean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.beans.factory.DisposableBean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœä¸‹å¾€æ‰€æœ‰çš„è¯·æ±‚åªæ‹¦æˆªä¸€æ¬¡, æ¨è OncePerRequestFilter, å¹¶ä¸æ˜¯æ‰€æœ‰çš„containeréƒ½åƒæˆ‘ä»¬æœŸæœ›çš„å¯¹äºåŠ å…¥äº†filterçš„è¯·æ±‚åªè¿‡æ»¤ä¸€æ¬¡ï¼Œservletç‰ˆæœ¬ä¸åŒï¼Œè¡¨ç°ä¹Ÿä¸åŒ, æ¯”å¦‚ æœåŠ¡å™¨å†…éƒ¨ä½¿ç”¨forwardè½¬å‘çš„è¯·æ±‚, servlet-2.3 éƒ½ä¼šæ‹¦æˆª, ä½†æ˜¯ servlet-2.4ä¸­Filteré»˜è®¤ä¸‹åªæ‹¦æˆªå¤–éƒ¨æäº¤çš„è¯·æ±‚ï¼Œforwardå’Œincludeè¿™äº›å†…éƒ¨è½¬å‘éƒ½ä¸ä¼š</p><p>========================åŸå§‹çš„ filter å¼€å‘å¦‚ä¸‹:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å¯åŠ¨ç±»éœ€è¦é…ç½® servlet æ‰«æ @ServletComponentScan(basePackages={&quot;&quot;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@WebFilter(urlPatterns=&quot;/*&quot;,filterName=&quot;helloFilter&quot;,initParams= {@WebInitParam(name=&quot;paramName&quot;,value=&quot;paramValue&quot;),@WebInitParam(name=&quot;paramName2&quot;,value=&quot;paramValue2&quot;)})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@order(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UrlFilter implements Filter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(FilterConfig filterConfig) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;-----------------------&gt;è¿‡æ»¤å™¨è¢«åˆ›å»º&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpServletRequest req = (HttpServletRequest) servletRequest;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String requestURI = req.getRequestURI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;---------------------&gt;è¿‡æ»¤å™¨ï¼šè¯·æ±‚åœ°å€&quot;+requestURI);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!requestURI.contains(&quot;info&quot;)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            servletRequest.getRequestDispatcher(&quot;/failed&quot;).forward(servletRequest, servletResponse);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filterChain.doFilter(servletRequest, servletResponse);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void destroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;-----------------------&gt;è¿‡æ»¤å™¨è¢«é”€æ¯&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœä¸ä½¿ç”¨æ³¨è§£, å¯ä»¥åœ¨é…ç½®ç±»ä¸­æŒ‡å®š interceptor</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration   //ç›¸å½“äºspringä¸­çš„&lt;beans&gt;æ ‡ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WebConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean   //ç›¸å½“äºspringä¸­&lt;bean&gt;æ ‡ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public FilterRegistrationBean&lt;MyFilter&gt; testFilterRegistration() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FilterRegistrationBean&lt;MyFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registration.setFilter(new MyFilter());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registration.addUrlPatterns(&quot;/*&quot;);//é…ç½®è¿‡æ»¤è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registration.addInitParameter(&quot;paramName&quot;, &quot;paramValue&quot;);//æ·»åŠ åˆå§‹å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registration.setName(&quot;myFilter&quot;);//è®¾ç½®filteråç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registration.setOrder(1);//è¯·æ±‚ä¸­è¿‡æ»¤å™¨æ‰§è¡Œçš„å…ˆåé¡ºåºï¼Œå€¼è¶Šå°è¶Šå…ˆæ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return registration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>ç›‘å¬å™¨listener</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¦‚å¿µ">æ¦‚å¿µ<a href="#æ¦‚å¿µ" class="hash-link" aria-label="Direct link to æ¦‚å¿µ" title="Direct link to æ¦‚å¿µ">â€‹</a></h2><p>ç›‘å¬å™¨ï¼šä¸»è¦æ˜¯ç”¨æ¥ç›‘å¬ç‰¹å®šå¯¹è±¡çš„åˆ›å»ºæˆ–é”€æ¯ã€å±æ€§çš„å˜åŒ–çš„. æ˜¯ä¸€ä¸ªå®ç°ç‰¹å®šæ¥å£çš„æ™®é€šjavaç±»</p><p>ä¸»è¦æ˜¯ä¸€äº›å®¹å™¨åˆ›å»ºçš„å¯¹è±¡éœ€è¦ç›‘å¬, å¦‚request / session / servletContext, åˆ†åˆ«å¯¹åº”çš„æ˜¯requestç›‘å¬å™¨ã€sessionç›¸å…³ç›‘å¬å™¨ã€servletContextç›‘å¬å™¨</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœ‰å“ªäº›ç›‘å¬å™¨">æœ‰å“ªäº›ç›‘å¬å™¨<a href="#æœ‰å“ªäº›ç›‘å¬å™¨" class="hash-link" aria-label="Direct link to æœ‰å“ªäº›ç›‘å¬å™¨" title="Direct link to æœ‰å“ªäº›ç›‘å¬å™¨">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸‰ç±»:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. ServletContext ç›‘å¬ (åˆ›å»º, é”€æ¯, å±æ€§å˜åŒ–)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface ServletContextListener     ç›‘å¬servletContextå¯¹è±¡çš„åˆ›å»ºæˆ–é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface ServletContextAttributeListener  ç›‘å¬servletContextå¯¹è±¡å±æ€§å˜åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. HttpSession ç›‘å¬ (åˆ›å»º, é”€æ¯, å±æ€§å˜åŒ–)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface HttpSessionListener        ç›‘å¬sessionå¯¹è±¡çš„åˆ›å»ºæˆ–é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface HttpSessionAttributeListener    ç›‘å¬sessionå¯¹è±¡å±æ€§å˜åŒ–: æ·»åŠ ã€ç§»é™¤ã€ä¿®æ”¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. ServletRequest ç›‘å¬ (åˆ›å»º, é”€æ¯, å±æ€§å˜åŒ–)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface ServletRequestListener     ç›‘å¬requestå¯¹è±¡çš„åˆ›å»ºæˆ–é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface ServletRequestAttributeListener ç›‘å¬requestå¯¹è±¡å±æ€§å˜åŒ–: æ·»åŠ ã€ç§»é™¤ã€ä¿®æ”¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sessionå¯¹è±¡ç»‘å®šç›¸å…³ç›‘å¬å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Interface HttpSessionBindingListener   ç›‘å¬å¯¹è±¡ç»‘å®šåˆ°sessionä¸Šçš„äº‹ä»¶    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                HttpSessionListeneråªéœ€è¦è®¾ç½®åˆ°web.xmlä¸­å°±å¯ä»¥ç›‘å¬æ•´ä¸ªåº”ç”¨ä¸­çš„æ‰€æœ‰sessionã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 HttpSessionBindingListenerå¿…é¡»å®ä¾‹åŒ–åé€šè¿‡session.setAttributeæ”¾å…¥æŸä¸€ä¸ªsessionä¸­ï¼Œæ‰å¯ä»¥è¿›è¡Œç›‘å¬ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨">ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨<a href="#ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨" class="hash-link" aria-label="Direct link to ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨" title="Direct link to ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *  ç›‘å¬requestå¯¹è±¡çš„åˆ›å»ºæˆ–é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyRequestListener implements ServletRequestListener{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å¯¹è±¡é”€æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void requestDestroyed(ServletRequestEvent sre) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è·å–requestä¸­å­˜æ”¾çš„æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Object obj = sre.getServletRequest().getAttribute(&quot;cn&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(obj);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;MyRequestListener.requestDestroyed()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å¯¹è±¡åˆ›å»º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void requestInitialized(ServletRequestEvent sre) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;MyRequestListener.requestInitialized()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Web.xml , &lt;web-app&gt;ä¸‹ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ç›‘å¬requestå¯¹è±¡åˆ›å»ºã€é”€æ¯ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">listener</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">listener-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">cn.itcast.a_life.MyRequestListener</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">listener-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">listener</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Jspæ–‡ä»¶ï¼š --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%request.setAttribute(&quot;cn&quot;,&quot;China&quot;);%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å±æ€§ç›‘å¬å™¨">å±æ€§ç›‘å¬å™¨<a href="#å±æ€§ç›‘å¬å™¨" class="hash-link" aria-label="Direct link to å±æ€§ç›‘å¬å™¨" title="Direct link to å±æ€§ç›‘å¬å™¨">â€‹</a></h2><p>ç›‘å¬sessionåŸŸå±æ€§å˜åŒ–</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç›‘å¬sessionå¯¹è±¡å±æ€§çš„å˜åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MySessionAttrListener implements HttpSessionAttributeListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å±æ€§æ·»åŠ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void attributeAdded(HttpSessionBindingEvent se) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å…ˆè·å–sessionå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = se.getSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è·å–æ·»åŠ çš„å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object obj = session.getAttribute(&quot;userName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æµ‹è¯•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;æ·»åŠ çš„å±æ€§ï¼š&quot; + obj);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å±æ€§ç§»é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void attributeRemoved(HttpSessionBindingEvent se) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;å±æ€§ç§»é™¤&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å±æ€§è¢«æ›¿æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void attributeReplaced(HttpSessionBindingEvent se) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è·å–sesisonå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpSession session = se.getSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è·å–æ›¿æ¢å‰çš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object old = se.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;åŸæ¥çš„å€¼ï¼š&quot; + old);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è·å–æ–°å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object obj_new = session.getAttribute(&quot;userName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;æ–°å€¼ï¼š&quot; + obj_new);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sessionç»‘å®šç›‘å¬å™¨">sessionç»‘å®šç›‘å¬å™¨<a href="#sessionç»‘å®šç›‘å¬å™¨" class="hash-link" aria-label="Direct link to sessionç»‘å®šç›‘å¬å™¨" title="Direct link to sessionç»‘å®šç›‘å¬å™¨">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* HttpSessionBindingListener   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç›‘å¬å¯¹è±¡ç»‘å®š/è§£é™¤ç»‘å®šåˆ°sesisonä¸Šçš„äº‹ä»¶!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ­¥éª¤ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å¯¹è±¡å®ç°æ¥å£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session.setAttribute(&quot;onlineUserBindingListener&quot;, new OnlineUserBindingListener(username));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ä¸ç”¨web.xmlé…ç½®(åŸå› :å› ä¸ºç›‘å¬çš„å¯¹è±¡æ˜¯è‡ªå·±åˆ›å»ºçš„å¯¹è±¡ï¼Œä¸æ˜¯æœåŠ¡å™¨å¯¹è±¡ï¼ä¸ç”¨é…ç½®web.xml)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å…¸å‹åº”ç”¨ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (ç™»é™†å,æ˜¾ç¤ºä¸Šçº¿æé†’ï¼) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç›‘å¬æ­¤å¯¹è±¡ç»‘å®šåˆ°sessionä¸Šçš„è¿‡ç¨‹ï¼Œéœ€è¦å®ç°sessionç‰¹å®šæ¥å£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Admin implements HttpSessionBindingListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     çœç•¥getter/setterâ€¦â€¦â€¦â€¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¯¹è±¡æ”¾å…¥session</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void valueBound(HttpSessionBindingEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;Adminå¯¹è±¡å·²ç»æ”¾å…¥session&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                è¿™é‡Œå¯ä»¥æ˜¾ç¤ºä¸Šçº¿æé†’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å¯¹è±¡ä»sessionä¸­ç§»é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void valueUnbound(HttpSessionBindingEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;Adminå¯¹è±¡ä»sessionä¸­ç§»é™¤ï¼&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®ç°ç”¨æˆ·ä¸Šçº¿æé†’, åˆ†æ:
éœ€æ±‚ï¼šåšä¸€ä¸ªåœ¨çº¿åˆ—è¡¨æé†’çš„åŠŸèƒ½!
æ˜¾ç¤ºç™»é™†ä¿¡æ¯ï¼Œåˆ—è¡¨å±•ç¤ºã€‚(list.jsp)
æ˜¾ç¤ºåœ¨çº¿ç”¨æˆ·åˆ—è¡¨        (list.jsp)
åˆ—è¡¨ç‚¹å‡»è¿›å…¥â€œåœ¨çº¿åˆ—è¡¨é¡µé¢â€   onlineuser.jsp</p><p>å®ç°ï¼š</p><ol><li>å…ˆå¢åŠ é€€å‡ºåŠŸèƒ½ï¼›  å†æŠŠsessionæ´»è·ƒæ—¶é—´1min;</li><li>å†™ç›‘å¬å™¨ï¼Œç›‘å¬servletContextå¯¹è±¡çš„åˆ›å»ºï¼š åˆå§‹åŒ–é›†åˆ(onlineuserlist)</li><li>ç™»é™†åŠŸèƒ½ï¼š ç”¨æˆ·ç™»é™†æ—¶å€™ï¼ŒæŠŠæ•°æ®ä¿å­˜åˆ°servletContextä¸­çš„onlineListé›†åˆ</li><li>List.jsp  å¢åŠ è¶…é“¾æ¥ï¼Œ ç‚¹å‡»æ—¶å€™æäº¤ç›´æ¥è·³è½¬åˆ°online.jsp</li><li>å†™ç›‘å¬å™¨ï¼š ç›‘å¬sessioné”€æ¯ï¼ŒæŠŠå½“å‰ç™»é™†ç”¨æˆ·ä»onlineuserlistç§»é™¤ï¼</li></ol><h1>i18n</h1><h1>æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</h1><p>æ€ä¹ˆè·å–è¡¨å•ä¸­çš„æ•°æ®? æœ‰2ä¸­æƒ…å†µ:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®">formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®<a href="#formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®" class="hash-link" aria-label="Direct link to formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®" title="Direct link to formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">String username = request.getParameter(&quot;username&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String sex = request.getParameter(&quot;sex&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String education = request.getParameter(&quot;education&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String[] hobby = request.getParameterValues(&quot;hobby&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ•°æ®ç¼–ç ï¼š å¯¹äºçº¯æ–‡æœ¬çš„è¡¨å•ï¼Œå…¶å­—æ®µenctype=application/x-www-form-urlencoded æ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºè¡¨å•çš„æ•°æ®è¿›è¡Œurlç¼–ç ï¼Œå¦‚ï¼šè¡¨å•çš„æ•°æ®è¢«ç¼–ç æˆusername=123&amp;password=222 ã€‚</p><p>ä¼ è¾“æ–¹å¼ï¼š æ•°æ®ä¼ è¾“æ–¹å¼method ï¼š å¦‚æœä½¿ç”¨get ï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²ä¼šè¿½åŠ åˆ°è¯·æ±‚çš„urlåœ°å€åé¢ï¼›è€Œå¦‚æœä½¿ç”¨post ï¼Œé‚£ä¹ˆæ‰“å¼€è°ƒè¯•å°ï¼ŒæŸ¥çœ‹Form Data é¡¹ä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°å­—ç¬¦ä¸²ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶">formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶<a href="#formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶" class="hash-link" aria-label="Direct link to formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶" title="Direct link to formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶">â€‹</a></h2><p>å…·ä½“å‚è€ƒ <a href="https://docs.oracle.com/javaee/7/tutorial/servlets011.htm#BABFGCHB" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>)</p><p>æ¯”å¦‚:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/webapp/formServlet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">method</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">post</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">enctype</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">multipart/form-data</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">æäº¤</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>servlet 3.0 å°†äºŒè¿›åˆ¶æ–‡ä»¶å°è£…ä¸º Part å¯¹è±¡</p><p>ä¼ è¾“æ–¹å¼ï¼š å› ä¸ºæ˜¯äºŒè¿›åˆ¶æµï¼Œ æ‰€ä»¥method åªèƒ½ä½¿ç”¨post è¿›è¡Œæäº¤ï¼Œæ— æ³•ä½¿ç”¨get ã€‚</p><h1>javamailé‚®ä»¶å¼€å‘</h1><h1>servlet3.0</h1><p><a href="https://stackoverflow.com/questions/1638865/what-are-the-differences-between-servlet-2-5-and-3" target="_blank" rel="noopener noreferrer">main conception (sos)</a></p><p><a href="https://developer.ibm.com/zh/articles/j-lo-servlet30/" target="_blank" rel="noopener noreferrer">https://developer.ibm.com/zh/articles/j-lo-servlet30/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¼‚æ­¥æ”¯æŒ">å¼‚æ­¥æ”¯æŒ<a href="#å¼‚æ­¥æ”¯æŒ" class="hash-link" aria-label="Direct link to å¼‚æ­¥æ”¯æŒ" title="Direct link to å¼‚æ­¥æ”¯æŒ">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»">å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»<a href="#å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»" class="hash-link" aria-label="Direct link to å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»" title="Direct link to å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»">â€‹</a></h3><p><a href="https://blog.csdn.net/sumlyl/article/details/108749779" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/sumlyl/article/details/108749779</a>
<a href="https://blog.csdn.net/liyantianmin/article/details/103760241" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/liyantianmin/article/details/103760241</a>
<a href="https://www.jianshu.com/p/0529c126e166?utm_campaign" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/0529c126e166?utm_campaign</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ’ä»¶å¼å¼€å‘">æ’ä»¶å¼å¼€å‘<a href="#æ’ä»¶å¼å¼€å‘" class="hash-link" aria-label="Direct link to æ’ä»¶å¼å¼€å‘" title="Direct link to æ’ä»¶å¼å¼€å‘">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ³¨è§£å¼€å‘">æ³¨è§£å¼€å‘<a href="#æ³¨è§£å¼€å‘" class="hash-link" aria-label="Direct link to æ³¨è§£å¼€å‘" title="Direct link to æ³¨è§£å¼€å‘">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//     web.xml å¯é€‰, æ–°å¢æ³¨è§£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@WebServlet(name=&quot;myServlet&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    urlPatterns={&quot;/path/to/my/servlet&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initParams={@InitParam(name=&quot;configFile&quot;, value=&quot;config.xml&quot;)})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyAwesomeServlet extends HttpServlet { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ServletFilter(name=&quot;myFilter&quot;, urlPatterns={&quot;/path/to/my/filter&quot;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyAwesomeFilter implements Filter { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@WebServletContextListener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyAwesomeListener implements ServletContextListener { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    Modularization of web.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// n servlets 3, each &quot;loadable&quot; jar can have a web-fragment.xml in its META-INF directory specifying servlets, filters, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//       åŠ¨æ€å¢åŠ  servlets, filters and listeners</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// following methods added to SevletContext: addServlet(), addFilter() and addListener()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//     å¼‚æ­¥çš„ servlet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// servlet 2.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyAwesomeServlet extends HttpSerlvet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        runSlowProcess();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // no async support, thread will be free when runSlowProcess() and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // doGet finish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// servlet 3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@WebServlet(name=&quot;myServlet&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             urlPatterns={&quot;/mySlowProcess&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             asyncSupported=true) // asyncSupported MUST be specified for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  // servlets that support asynchronous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  // processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyAwesomeServlet extends HttpSerlvet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest request, HttpServletResponse response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // an AsyncContext is created, now the response will be completed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // not when doGet finalizes its execution, but when</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // myAsyncContext.complete() is called.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AsyncContext myAsyncContext = request.startAsync(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // myAsyncContext is passed to another thread</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delegateExecutionToProcessingThread(myAsyncContext);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // done, now this thread is free to serve another request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ... and somewhere in another part of the code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyProcessingObject {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doSlowProcess() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        runSlowProcess();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        myAsyncContext.complete(); // request is now completed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¦å¤–çš„ä¸€ä¸ªç¤ºä¾‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@WebServlet(urlPatterns = &quot;/demo&quot;, asyncSupported = true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AsyncDemoServlet extends HttpServlet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doGet(HttpServletRequest req, HttpServletResponse resp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throws IOException, ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        resp.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PrintWriter out = resp.getWriter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        out.println(&quot;è¿›å…¥Servletçš„æ—¶é—´ï¼š&quot; + new Date() + &quot;.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        out.flush();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œä¸šåŠ¡è°ƒç”¨ï¼Œå¹¶ç”±å…¶è´Ÿè´£è¾“å‡ºå“åº”ï¼Œä¸»çº¿ç¨‹é€€å‡º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AsyncContext ctx = req.startAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new Thread(new Executor(ctx)).start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        out.println(&quot;ç»“æŸServletçš„æ—¶é—´ï¼š&quot; + new Date() + &quot;.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        out.flush();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Executor implements Runnable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private AsyncContext ctx = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Executor(AsyncContext ctx){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.ctx = ctx;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void run(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //ç­‰å¾…åç§’é’Ÿï¼Œä»¥æ¨¡æ‹Ÿä¸šåŠ¡æ–¹æ³•çš„æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Thread.sleep(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PrintWriter out = ctx.getResponse().getWriter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            out.println(&quot;ä¸šåŠ¡å¤„ç†å®Œæ¯•çš„æ—¶é—´ï¼š&quot; + new Date() + &quot;.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            out.flush();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ctx.complete();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    å¯ç¼–ç¨‹çš„ ç™»é™† ç™»å‡º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In servlets 3, the interface HttpServletRequest has been added two new methods: login(username, password) and logout().  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>xxxWapper</h1><p>HttpServletRequestWrapper ...</p><p>å°½ç®¡ä¸èƒ½æ”¹å˜ServletRequestä¸å˜å¯¹è±¡æœ¬èº«ï¼Œä½†å´å¯ä»¥é€šè¿‡ä½¿ç”¨è£…é¥°æ¨¡å¼(åˆ›å»ºxxxWapper)æ¥æ”¹å˜å…¶çŠ¶æ€. ä¸€èˆ¬å’Œ filter è”åˆä½¿ç”¨</p><p><a href="http://uule.iteye.com/blog/1947192" target="_blank" rel="noopener noreferrer">http://uule.iteye.com/blog/1947192</a></p><h1>servletå’Œçº¿ç¨‹å®‰å…¨é—®é¢˜</h1><p><a href="https://www.cnblogs.com/chanshuyi/p/5052426.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/chanshuyi/p/5052426.html</a>
<a href="http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html" target="_blank" rel="noopener noreferrer">http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html</a></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">åŒæ—¶æœ‰å¤šä¸ª http request åŒä¸€ä¸ª servlet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> è¿™ä¸ª servletå®šä¹‰äº† æˆå‘˜å˜é‡</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">é™æ€å˜é‡</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="#Servlet%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE">å¹¶å‘è®¿é—® servlet</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/en/docs/tags/servlet">servlet</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xiaoyureed/xiaoyureed.github.io/tree/main/docs/servlet.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/service-mesh"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">service mesh æœåŠ¡ç½‘æ ¼</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/shell-bash-note"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">shell-bashè„šæœ¬æ”¶é›†</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ‰‹åŠ¨å¼€å‘servlet" class="table-of-contents__link toc-highlight">æ‰‹åŠ¨å¼€å‘Servlet</a></li><li><a href="#å€ŸåŠ©å·¥å…·å¼€å‘servlet" class="table-of-contents__link toc-highlight">å€ŸåŠ©å·¥å…·å¼€å‘Servlet</a></li><li><a href="#æ€»ç»“" class="table-of-contents__link toc-highlight">æ€»ç»“</a></li><li><a href="#tomcatæ„é€ servletè¿‡ç¨‹" class="table-of-contents__link toc-highlight">Tomcatæ„é€ Servletè¿‡ç¨‹</a></li><li><a href="#servletæ˜ å°„è·¯å¾„" class="table-of-contents__link toc-highlight">Servletæ˜ å°„è·¯å¾„</a></li><li><a href="#servletç¼ºçœè·¯å¾„" class="table-of-contents__link toc-highlight">Servletç¼ºçœè·¯å¾„</a></li><li><a href="#servletç”Ÿå‘½å‘¨æœŸ" class="table-of-contents__link toc-highlight">Servletç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="#servletæå‰åŠ è½½load-on-startup" class="table-of-contents__link toc-highlight">Servletæå‰åŠ è½½(load-on-startup)</a></li><li><a href="#initinitxxxåŒºåˆ«" class="table-of-contents__link toc-highlight">init(),init(xxx)åŒºåˆ«</a></li><li><a href="#servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®" class="table-of-contents__link toc-highlight">Servletå¤šçº¿ç¨‹å¹¶å‘è®¿é—®</a></li><li><a href="#servletconfigå¯¹è±¡" class="table-of-contents__link toc-highlight">ServletConfigå¯¹è±¡</a></li><li><a href="#servletcontextå¯¹è±¡" class="table-of-contents__link toc-highlight">ServletContextå¯¹è±¡</a></li><li><a href="#demo" class="table-of-contents__link toc-highlight">demo</a></li><li><a href="#åŸŸå¯¹è±¡å…±äº«æ•°æ®" class="table-of-contents__link toc-highlight">åŸŸå¯¹è±¡å…±äº«æ•°æ®</a></li><li><a href="#è°ƒç”¨æ–¹å¼" class="table-of-contents__link toc-highlight">è°ƒç”¨æ–¹å¼</a></li><li><a href="#æœ¬è´¨åŒºåˆ«" class="table-of-contents__link toc-highlight">æœ¬è´¨åŒºåˆ«</a></li><li><a href="#ä»£ç ä¾‹å­" class="table-of-contents__link toc-highlight">ä»£ç ä¾‹å­</a></li><li><a href="#ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘-filter" class="table-of-contents__link toc-highlight">ä¼ ç»Ÿé…ç½®æ–¹æ³•å¼€å‘ filter</a></li><li><a href="#æ¡ˆä¾‹ç»Ÿä¸€å¤„ç†ç¼–ç " class="table-of-contents__link toc-highlight">æ¡ˆä¾‹:ç»Ÿä¸€å¤„ç†ç¼–ç </a></li><li><a href="#æ¡ˆä¾‹ç™»å½•è¿‡æ»¤" class="table-of-contents__link toc-highlight">æ¡ˆä¾‹:ç™»å½•è¿‡æ»¤</a></li><li><a href="#æ¡ˆä¾‹è‡ªåŠ¨ç™»å½•" class="table-of-contents__link toc-highlight">æ¡ˆä¾‹:è‡ªåŠ¨ç™»å½•</a></li><li><a href="#spring-boot-ä¸­ä½¿ç”¨filter" class="table-of-contents__link toc-highlight">spring boot ä¸­ä½¿ç”¨filter</a></li><li><a href="#æ¦‚å¿µ" class="table-of-contents__link toc-highlight">æ¦‚å¿µ</a></li><li><a href="#æœ‰å“ªäº›ç›‘å¬å™¨" class="table-of-contents__link toc-highlight">æœ‰å“ªäº›ç›‘å¬å™¨</a></li><li><a href="#ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨" class="table-of-contents__link toc-highlight">ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨</a></li><li><a href="#å±æ€§ç›‘å¬å™¨" class="table-of-contents__link toc-highlight">å±æ€§ç›‘å¬å™¨</a></li><li><a href="#sessionç»‘å®šç›‘å¬å™¨" class="table-of-contents__link toc-highlight">sessionç»‘å®šç›‘å¬å™¨</a></li><li><a href="#formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®" class="table-of-contents__link toc-highlight">formä¸­åªæœ‰çº¯æ–‡æœ¬æ•°æ®</a></li><li><a href="#formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶" class="table-of-contents__link toc-highlight">formä¸­å«æœ‰æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶</a></li><li><a href="#å¼‚æ­¥æ”¯æŒ" class="table-of-contents__link toc-highlight">å¼‚æ­¥æ”¯æŒ</a><ul><li><a href="#å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»" class="table-of-contents__link toc-highlight">å®ç°è¯·æ±‚çº¿ç¨‹æ± éš”ç¦»</a></li></ul></li><li><a href="#æ’ä»¶å¼å¼€å‘" class="table-of-contents__link toc-highlight">æ’ä»¶å¼å¼€å‘</a></li><li><a href="#æ³¨è§£å¼€å‘" class="table-of-contents__link toc-highlight">æ³¨è§£å¼€å‘</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.b94328d8.js"></script>
<script src="/en/assets/js/main.fc98d8e0.js"></script>
</body>
</html>