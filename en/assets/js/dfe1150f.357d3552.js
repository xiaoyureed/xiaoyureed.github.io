"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5195],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return d}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=c(t),d=r,g=m["".concat(l,".").concat(d)]||m[d]||u[d]||i;return t?a.createElement(g,o(o({ref:n},s),{},{components:t})):a.createElement(g,o({ref:n},s))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var c=2;c<i;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},17301:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return u}});var a=t(83117),r=t(80102),i=(t(67294),t(3905)),o=["components"],p={title:"Maven Notes\ud83c\udf08",tags:["maven"],date:new Date("2014-03-20T13:22:27.000Z"),toc_min_heading_level:2,toc_max_heading_level:5},l=void 0,c={unversionedId:"maven-note",id:"maven-note",title:"Maven Notes\ud83c\udf08",description:"https://github.com/blinkfox/jpack-maven-plugin \u5bf9 SpringBoot \u670d\u52a1\u6253\u5305\u4e3a Windows\u3001Linux\u3001Docker\u3001Helm Chart\u4e0b\u53ef\u90e8\u7f72\u5305\u7684 Maven \u63d2\u4ef6",source:"@site/docs/maven-note.md",sourceDirName:".",slug:"/maven-note",permalink:"/en/docs/maven-note",draft:!1,tags:[{label:"maven",permalink:"/en/docs/tags/maven"}],version:"current",frontMatter:{title:"Maven Notes\ud83c\udf08",tags:["maven"],date:"2014-03-20T13:22:27.000Z",toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"machine-learning-ml",permalink:"/en/docs/machine-learning-ml"},next:{title:"Message Queue\ud83c\udf08",permalink:"/en/docs/message-queue"}},s={},u=[{value:"aliyun \u963f\u91cc\u4e91\u4ed3\u5e93",id:"aliyun-\u963f\u91cc\u4e91\u4ed3\u5e93",level:2},{value:"spring \u4ed3\u5e93",id:"spring-\u4ed3\u5e93",level:2},{value:"\u914d\u7f6e\u672c\u5730\u4ed3\u5e93\u5730\u5740",id:"\u914d\u7f6e\u672c\u5730\u4ed3\u5e93\u5730\u5740",level:2},{value:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93",id:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93",level:2},{value:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u8ba4\u8bc1(\u975e\u5fc5\u987b)",id:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u8ba4\u8bc1\u975e\u5fc5\u987b",level:2},{value:"\u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93",id:"\u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93",level:2},{value:"\u963f\u91cc\u4e91 aliyun \u955c\u50cf",id:"\u963f\u91cc\u4e91-aliyun-\u955c\u50cf",level:2},{value:"\u57fa\u672c\u5143\u7d20",id:"\u57fa\u672c\u5143\u7d20",level:2},{value:"scope",id:"scope",level:2},{value:"\u4f20\u9012\u6027\u4f9d\u8d56",id:"\u4f20\u9012\u6027\u4f9d\u8d56",level:2},{value:"Maven\u7684\u4f9d\u8d56\u8c03\u89e3\u7279\u6027",id:"maven\u7684\u4f9d\u8d56\u8c03\u89e3\u7279\u6027",level:2},{value:"\u53ef\u9009\u4f9d\u8d56",id:"\u53ef\u9009\u4f9d\u8d56",level:2},{value:"\u6392\u9664\u4f9d\u8d56",id:"\u6392\u9664\u4f9d\u8d56",level:2},{value:"\u4f9d\u8d56\u7684\u4f18\u5316",id:"\u4f9d\u8d56\u7684\u4f18\u5316",level:2},{value:"\u5f15\u5165\u5916\u90e8\u4f9d\u8d56",id:"\u5f15\u5165\u5916\u90e8\u4f9d\u8d56",level:2},{value:"\u9700\u6c42",id:"\u9700\u6c42",level:2},{value:"\u7b80\u5355\u7684\u8bbe\u8ba1",id:"\u7b80\u5355\u7684\u8bbe\u8ba1",level:2},{value:"account-email\u6a21\u5757",id:"account-email\u6a21\u5757",level:2},{value:"parent-pom",id:"parent-pom",level:3},{value:"email-pom",id:"email-pom",level:3},{value:"\u4e3b\u4ee3\u7801&amp;\u6d4b\u8bd5",id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u8d44\u6e90-\u4e3b\u8d44\u6e90\u8bfb\u53d6\u987a\u5e8f",id:"\u6d4b\u8bd5\u8d44\u6e90-\u4e3b\u8d44\u6e90\u8bfb\u53d6\u987a\u5e8f",level:3},{value:"spring\u6ce8\u5165\u914d\u7f6e",id:"spring\u6ce8\u5165\u914d\u7f6e",level:3},{value:"account-persist\u6a21\u5757",id:"account-persist\u6a21\u5757",level:2},{value:"account-persist\u7684pom",id:"account-persist\u7684pom",level:3},{value:"\u4e3b\u4ee3\u7801&amp;\u6d4b\u8bd5",id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5-1",level:3},{value:"\u6ce8\u5165\u914d\u7f6e",id:"\u6ce8\u5165\u914d\u7f6e",level:3},{value:"account-captcha\u6a21\u5757",id:"account-captcha\u6a21\u5757",level:2},{value:"captcha\u6a21\u5757\u7684pom",id:"captcha\u6a21\u5757\u7684pom",level:3},{value:"\u4e3b\u4ee3\u7801&amp;\u6d4b\u8bd5",id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5-2",level:3},{value:"\u6ce8\u5165\u914d\u7f6e\u6587\u4ef6",id:"\u6ce8\u5165\u914d\u7f6e\u6587\u4ef6",level:3},{value:"account-service\u6a21\u5757",id:"account-service\u6a21\u5757",level:2},{value:"service-pom\u914d\u7f6e",id:"service-pom\u914d\u7f6e",level:3},{value:"\u4e3b\u4ee3\u7801",id:"\u4e3b\u4ee3\u7801",level:3},{value:"spring\u914d\u7f6e\u6587\u4ef6",id:"spring\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u5b89\u88c5account-service\u6a21\u5757\u6ce8\u610f",id:"\u5b89\u88c5account-service\u6a21\u5757\u6ce8\u610f",level:3},{value:"account-web\u6a21\u5757",id:"account-web\u6a21\u5757",level:2},{value:"web.xml",id:"webxml",level:3},{value:"pom.xml",id:"pomxml",level:3},{value:"maven-surefire-plugin",id:"maven-surefire-plugin",level:2},{value:"\u5982\u4f55\u8df3\u8fc7\u6d4b\u8bd5",id:"\u5982\u4f55\u8df3\u8fc7\u6d4b\u8bd5",level:2},{value:"\u52a8\u6001\u6307\u5b9a\u8fd0\u884c\u7684\u6d4b\u8bd5\u7c7b",id:"\u52a8\u6001\u6307\u5b9a\u8fd0\u884c\u7684\u6d4b\u8bd5\u7c7b",level:2},{value:"\u5305\u542b&amp;\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b",id:"\u5305\u542b\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b",level:2},{value:"\u6d4b\u8bd5\u62a5\u544a&amp;\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a",id:"\u6d4b\u8bd5\u62a5\u544a\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a",level:2},{value:"\u6539\u7528TestNG\u4ee3\u66ffJunit",id:"\u6539\u7528testng\u4ee3\u66ffjunit",level:2},{value:"\u6253\u5305\u6d4b\u8bd5\u4ee3\u7801",id:"\u6253\u5305\u6d4b\u8bd5\u4ee3\u7801",level:2},{value:"\u67e5\u770b\u63d2\u4ef6\u5e2e\u52a9\u6587\u6863",id:"\u67e5\u770b\u63d2\u4ef6\u5e2e\u52a9\u6587\u6863",level:2},{value:"\u63d2\u4ef6\u7ed1\u5b9a",id:"\u63d2\u4ef6\u7ed1\u5b9a",level:2},{value:"\u63d2\u4ef6\u7684\u81ea\u5b9a\u4e49\u7ed1\u5b9a",id:"\u63d2\u4ef6\u7684\u81ea\u5b9a\u4e49\u7ed1\u5b9a",level:2},{value:"\u5728\u547d\u4ee4\u884c\u7ed9\u63d2\u4ef6\u8bbe\u7f6e\u53c2\u6570",id:"\u5728\u547d\u4ee4\u884c\u7ed9\u63d2\u4ef6\u8bbe\u7f6e\u53c2\u6570",level:2},{value:"\u5728pom\u4e2d\u8bbe\u7f6e\u63d2\u4ef6\u7684\u5168\u5c40\u53c2\u6570",id:"\u5728pom\u4e2d\u8bbe\u7f6e\u63d2\u4ef6\u7684\u5168\u5c40\u53c2\u6570",level:2},{value:"\u5728pom\u4e2d\u7ed9\u63d2\u4ef6\u4efb\u52a1\u914d\u7f6e\u4e2a\u6027\u5316\u53c2\u6570",id:"\u5728pom\u4e2d\u7ed9\u63d2\u4ef6\u4efb\u52a1\u914d\u7f6e\u4e2a\u6027\u5316\u53c2\u6570",level:2},{value:"\u5e38\u7528\u7684\u63d2\u4ef6",id:"\u5e38\u7528\u7684\u63d2\u4ef6",level:2},{value:"\u6253\u53ef\u6267\u884c\u5305\u63d2\u4ef6",id:"\u6253\u53ef\u6267\u884c\u5305\u63d2\u4ef6",level:3},{value:"maven-war-plugin",id:"maven-war-plugin",level:3},{value:"maven-eclipse-plugin",id:"maven-eclipse-plugin",level:3},{value:"exec-maven-plugin",id:"exec-maven-plugin",level:3},{value:"bash-maven-plugin",id:"bash-maven-plugin",level:3},{value:"maven-antrun-plugin",id:"maven-antrun-plugin",level:3},{value:"versions-maven-plugin",id:"versions-maven-plugin",level:3},{value:"build-helper-maven-plugin",id:"build-helper-maven-plugin",level:3},{value:"maven-dependency-plugin",id:"maven-dependency-plugin",level:3},{value:"jetty\u548ctomcat",id:"jetty\u548ctomcat",level:3},{value:"maven-source-plugin",id:"maven-source-plugin",level:3},{value:"maven-resources-plugins",id:"maven-resources-plugins",level:3},{value:"maven-assembly-plugin",id:"maven-assembly-plugin",level:3},{value:"maven-compiler-plugin",id:"maven-compiler-plugin",level:3},{value:"spring-boot-maven-plugin",id:"spring-boot-maven-plugin",level:3},{value:"maven-install-plugin",id:"maven-install-plugin",level:3},{value:"\u7f16\u5199maven\u63d2\u4ef6",id:"\u7f16\u5199maven\u63d2\u4ef6",level:2},{value:"profile \u57fa\u672c\u4f7f\u7528",id:"profile-\u57fa\u672c\u4f7f\u7528",level:2},{value:"profile build",id:"profile-build",level:2},{value:"\u914d\u7f6e\u9ed8\u8ba4 jdk \u7f16\u8bd1\u7248\u672c",id:"\u914d\u7f6e\u9ed8\u8ba4-jdk-\u7f16\u8bd1\u7248\u672c",level:2},{value:"archetype\u7ec4\u6210\u5143\u7d20",id:"archetype\u7ec4\u6210\u5143\u7d20",level:2},{value:"archetype-demo",id:"archetype-demo",level:2},{value:"archetype\u81ea\u8eabpom",id:"archetype\u81ea\u8eabpom",level:3},{value:"\u6a21\u7248\u6570\u636e",id:"\u6a21\u7248\u6570\u636e",level:3},{value:"\u63cf\u8ff0\u7b26\u6587\u4ef6",id:"\u63cf\u8ff0\u7b26\u6587\u4ef6",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:3},{value:"archetype-catalog",id:"archetype-catalog",level:2}],m={toc:u};function d(e){var n=e.components,t=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("div",{align:"center"},(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/blinkfox/jpack-maven-plugin"},"https://github.com/blinkfox/jpack-maven-plugin")," \u5bf9 SpringBoot \u670d\u52a1\u6253\u5305\u4e3a Windows\u3001Linux\u3001Docker\u3001Helm Chart\u4e0b\u53ef\u90e8\u7f72\u5305\u7684 Maven \u63d2\u4ef6"),(0,i.kt)("p",null,"Maven Note | ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/takari/polyglot-maven"},"\u66ff\u6362pom.xml\u4e3a\u5176\u4ed6\u683c\u5f0f\u7684\u6587\u4ef6")," | ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/eirslett/frontend-maven-plugin"},"\u4e00\u4e2a\u63d2\u4ef6\u4f7f\u7528\u6240\u6709\u524d\u7aef\u5de5\u5177"),"\n\u8de8\u5e73\u53f0, \u670d\u52a1\u4e8ejava\u9879\u76ee\u7684\u7ba1\u7406\u5de5\u5177(\u9879\u76ee\u6784\u5efa, \u4f9d\u8d56\u7ba1\u7406, \u9879\u76ee\u4fe1\u606f\u7ba1\u7406)\n\u7c7b\u4f3c\u7684\u8fd8\u6709 Gradle."),(0,i.kt)("p",null,"jetbrains package search : ",(0,i.kt)("a",{parentName:"p",href:"https://pkg.biuaxia.cn/"},"https://pkg.biuaxia.cn/"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1-%E5%91%BD%E4%BB%A4%E8%A1%8C"},"1. \u547d\u4ee4\u884c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#2-spring-io-platform"},"2. spring-io-platform")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#3-why-maven"},"3. why maven")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#4-maven%E6%98%AF%E4%BB%80%E4%B9%88"},"4. Maven\u662f\u4ec0\u4e48")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#5-%E5%AE%89%E8%A3%85"},"5. \u5b89\u88c5"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#51-aliyun-%E9%98%BF%E9%87%8C%E4%BA%91%E4%BB%93%E5%BA%93"},"5.1. aliyun \u963f\u91cc\u4e91\u4ed3\u5e93")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#52-spring-%E4%BB%93%E5%BA%93"},"5.2. spring \u4ed3\u5e93")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#53-%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80"},"5.3. \u914d\u7f6e\u672c\u5730\u4ed3\u5e93\u5730\u5740")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#54-%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"},"5.4. \u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#55-%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E8%AE%A4%E8%AF%81%E9%9D%9E%E5%BF%85%E9%A1%BB"},"5.5. \u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u8ba4\u8bc1\u975e\u5fc5\u987b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#56-%E9%83%A8%E7%BD%B2%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"},"5.6. \u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#57-%E9%98%BF%E9%87%8C%E4%BA%91-aliyun-%E9%95%9C%E5%83%8F"},"5.7. \u963f\u91cc\u4e91 aliyun \u955c\u50cf")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#6-maven%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83"},"6. Maven\u9879\u76ee\u76ee\u5f55\u89c4\u8303")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#7-demo"},"7. demo")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#8-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%91%BD%E4%BB%A4-and-%E5%8C%85%E5%90%AB%E6%95%88%E6%9E%9C"},"8. \u751f\u547d\u5468\u671f\u547d\u4ee4 and \u5305\u542b\u6548\u679c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#9-%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%8C%85"},"9. \u5b89\u88c5\u5378\u8f7d\u672c\u5730\u5305")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#10-%E6%89%93%E5%8C%85%E6%88%90%E5%8F%AF%E6%89%A7%E8%A1%8Cjar"},"10. \u6253\u5305\u6210\u53ef\u6267\u884cjar")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#11-%E4%BD%BF%E7%94%A8archetype%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE%E9%AA%A8%E6%9E%B6"},"11. \u4f7f\u7528archetype\u751f\u6210\u9879\u76ee\u9aa8\u67b6")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#12-%E5%9D%90%E6%A0%87"},"12. \u5750\u6807")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#13-%E5%BF%AB%E7%85%A7%E7%89%88%E6%9C%AC%E5%92%8C%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC"},"13. \u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#14-%E4%BE%9D%E8%B5%96%E7%9A%84%E9%85%8D%E7%BD%AE"},"14. \u4f9d\u8d56\u7684\u914d\u7f6e"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#141-%E5%9F%BA%E6%9C%AC%E5%85%83%E7%B4%A0"},"14.1. \u57fa\u672c\u5143\u7d20")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#142-scope"},"14.2. scope")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#143-%E4%BC%A0%E9%80%92%E6%80%A7%E4%BE%9D%E8%B5%96"},"14.3. \u4f20\u9012\u6027\u4f9d\u8d56")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#144-maven%E7%9A%84%E4%BE%9D%E8%B5%96%E8%B0%83%E8%A7%A3%E7%89%B9%E6%80%A7"},"14.4. Maven\u7684\u4f9d\u8d56\u8c03\u89e3\u7279\u6027")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#145-%E5%8F%AF%E9%80%89%E4%BE%9D%E8%B5%96"},"14.5. \u53ef\u9009\u4f9d\u8d56")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#146-%E6%8E%92%E9%99%A4%E4%BE%9D%E8%B5%96"},"14.6. \u6392\u9664\u4f9d\u8d56")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#147-%E4%BE%9D%E8%B5%96%E7%9A%84%E4%BC%98%E5%8C%96"},"14.7. \u4f9d\u8d56\u7684\u4f18\u5316")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#148-%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E4%BE%9D%E8%B5%96"},"14.8. \u5f15\u5165\u5916\u90e8\u4f9d\u8d56")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#15-%E6%A1%88%E4%BE%8B%E8%B4%A6%E6%88%B7%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1"},"15. \u6848\u4f8b:\u8d26\u6237\u6ce8\u518c\u670d\u52a1"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#151-%E9%9C%80%E6%B1%82"},"15.1. \u9700\u6c42")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#152-%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%BE%E8%AE%A1"},"15.2. \u7b80\u5355\u7684\u8bbe\u8ba1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#153-account-email%E6%A8%A1%E5%9D%97"},"15.3. account-email\u6a21\u5757"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1531-parent-pom"},"15.3.1. parent-pom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1532-email-pom"},"15.3.2. email-pom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1533-%E4%B8%BB%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"},"15.3.3. \u4e3b\u4ee3\u7801&\u6d4b\u8bd5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1534-%E6%B5%8B%E8%AF%95%E8%B5%84%E6%BA%90-%E4%B8%BB%E8%B5%84%E6%BA%90%E8%AF%BB%E5%8F%96%E9%A1%BA%E5%BA%8F"},"15.3.4. \u6d4b\u8bd5\u8d44\u6e90-\u4e3b\u8d44\u6e90\u8bfb\u53d6\u987a\u5e8f")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1535-spring%E6%B3%A8%E5%85%A5%E9%85%8D%E7%BD%AE"},"15.3.5. spring\u6ce8\u5165\u914d\u7f6e")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#154-account-persist%E6%A8%A1%E5%9D%97"},"15.4. account-persist\u6a21\u5757"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1541-account-persist%E7%9A%84pom"},"15.4.1. account-persist\u7684pom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1542-%E4%B8%BB%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"},"15.4.2. \u4e3b\u4ee3\u7801&\u6d4b\u8bd5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1543-%E6%B3%A8%E5%85%A5%E9%85%8D%E7%BD%AE"},"15.4.3. \u6ce8\u5165\u914d\u7f6e")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#155-account-captcha%E6%A8%A1%E5%9D%97"},"15.5. account-captcha\u6a21\u5757"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1551-captcha%E6%A8%A1%E5%9D%97%E7%9A%84pom"},"15.5.1. captcha\u6a21\u5757\u7684pom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1552-%E4%B8%BB%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"},"15.5.2. \u4e3b\u4ee3\u7801&\u6d4b\u8bd5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1553-%E6%B3%A8%E5%85%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"},"15.5.3. \u6ce8\u5165\u914d\u7f6e\u6587\u4ef6")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#156-account-service%E6%A8%A1%E5%9D%97"},"15.6. account-service\u6a21\u5757"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1561-service-pom%E9%85%8D%E7%BD%AE"},"15.6.1. service-pom\u914d\u7f6e")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1562-%E4%B8%BB%E4%BB%A3%E7%A0%81"},"15.6.2. \u4e3b\u4ee3\u7801")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1563-spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"},"15.6.3. spring\u914d\u7f6e\u6587\u4ef6")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1564-%E5%AE%89%E8%A3%85account-service%E6%A8%A1%E5%9D%97%E6%B3%A8%E6%84%8F"},"15.6.4. \u5b89\u88c5account-service\u6a21\u5757\u6ce8\u610f")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#157-account-web%E6%A8%A1%E5%9D%97"},"15.7. account-web\u6a21\u5757"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1571-webxml"},"15.7.1. web.xml")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1572-pomxml"},"15.7.2. pom.xml")))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#16-maven%E4%B8%AD%E7%9A%84%E6%B5%8B%E8%AF%95"},"16. Maven\u4e2d\u7684\u6d4b\u8bd5"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#161-maven-surefire-plugin"},"16.1. maven-surefire-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#162-%E5%A6%82%E4%BD%95%E8%B7%B3%E8%BF%87%E6%B5%8B%E8%AF%95"},"16.2. \u5982\u4f55\u8df3\u8fc7\u6d4b\u8bd5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#163-%E5%8A%A8%E6%80%81%E6%8C%87%E5%AE%9A%E8%BF%90%E8%A1%8C%E7%9A%84%E6%B5%8B%E8%AF%95%E7%B1%BB"},"16.3. \u52a8\u6001\u6307\u5b9a\u8fd0\u884c\u7684\u6d4b\u8bd5\u7c7b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#164-%E5%8C%85%E5%90%AB%E6%8E%92%E9%99%A4%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"},"16.4. \u5305\u542b&\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#165-%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E6%B5%8B%E8%AF%95%E8%A6%86%E7%9B%96%E7%8E%87%E6%8A%A5%E5%91%8A"},"16.5. \u6d4b\u8bd5\u62a5\u544a&\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#166-%E6%94%B9%E7%94%A8testng%E4%BB%A3%E6%9B%BFjunit"},"16.6. \u6539\u7528TestNG\u4ee3\u66ffJunit")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#167-%E6%89%93%E5%8C%85%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"},"16.7. \u6253\u5305\u6d4b\u8bd5\u4ee3\u7801")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#17-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"},"17. \u751f\u547d\u5468\u671f")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18-%E6%8F%92%E4%BB%B6"},"18. \u63d2\u4ef6"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#181-%E6%9F%A5%E7%9C%8B%E6%8F%92%E4%BB%B6%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3"},"18.1. \u67e5\u770b\u63d2\u4ef6\u5e2e\u52a9\u6587\u6863")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#182-%E6%8F%92%E4%BB%B6%E7%BB%91%E5%AE%9A"},"18.2. \u63d2\u4ef6\u7ed1\u5b9a")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#183-%E6%8F%92%E4%BB%B6%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%91%E5%AE%9A"},"18.3. \u63d2\u4ef6\u7684\u81ea\u5b9a\u4e49\u7ed1\u5b9a")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#184-%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%BB%99%E6%8F%92%E4%BB%B6%E8%AE%BE%E7%BD%AE%E5%8F%82%E6%95%B0"},"18.4. \u5728\u547d\u4ee4\u884c\u7ed9\u63d2\u4ef6\u8bbe\u7f6e\u53c2\u6570")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#185-%E5%9C%A8pom%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%8F%92%E4%BB%B6%E7%9A%84%E5%85%A8%E5%B1%80%E5%8F%82%E6%95%B0"},"18.5. \u5728pom\u4e2d\u8bbe\u7f6e\u63d2\u4ef6\u7684\u5168\u5c40\u53c2\u6570")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#186-%E5%9C%A8pom%E4%B8%AD%E7%BB%99%E6%8F%92%E4%BB%B6%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE%E4%B8%AA%E6%80%A7%E5%8C%96%E5%8F%82%E6%95%B0"},"18.6. \u5728pom\u4e2d\u7ed9\u63d2\u4ef6\u4efb\u52a1\u914d\u7f6e\u4e2a\u6027\u5316\u53c2\u6570")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#187-%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8F%92%E4%BB%B6"},"18.7. \u5e38\u7528\u7684\u63d2\u4ef6"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1871-%E6%89%93%E5%8F%AF%E6%89%A7%E8%A1%8C%E5%8C%85%E6%8F%92%E4%BB%B6"},"18.7.1. \u6253\u53ef\u6267\u884c\u5305\u63d2\u4ef6")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1872-maven-war-plugin"},"18.7.2. maven-war-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1873-maven-eclipse-plugin"},"18.7.3. maven-eclipse-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1874-exec-maven-plugin"},"18.7.4. exec-maven-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1875-bash-maven-plugin"},"18.7.5. bash-maven-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1876-maven-antrun-plugin"},"18.7.6. maven-antrun-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1877-versions-maven-plugin"},"18.7.7. versions-maven-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1878-build-helper-maven-plugin"},"18.7.8. build-helper-maven-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#1879-maven-dependency-plugin"},"18.7.9. maven-dependency-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18710-jetty%E5%92%8Ctomcat"},"18.7.10. jetty\u548ctomcat")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18711-maven-source-plugin"},"18.7.11. maven-source-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18712-maven-resources-plugins"},"18.7.12. maven-resources-plugins")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18713-maven-assembly-plugin"},"18.7.13. maven-assembly-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18714-maven-compiler-plugin"},"18.7.14. maven-compiler-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18715-spring-boot-maven-plugin"},"18.7.15. spring-boot-maven-plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#18716-maven-install-plugin"},"18.7.16. maven-install-plugin")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#188-%E7%BC%96%E5%86%99maven%E6%8F%92%E4%BB%B6"},"18.8. \u7f16\u5199maven\u63d2\u4ef6")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#19-maven%E5%B1%9E%E6%80%A7"},"19. maven\u5c5e\u6027")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#20-%E5%BC%80%E5%90%AF%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E8%BF%87%E6%BB%A4"},"20. \u5f00\u542f\u8d44\u6e90\u6587\u4ef6\u8fc7\u6ee4")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#21-%E5%BC%80%E5%90%AFweb%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4"},"21. \u5f00\u542fweb\u8d44\u6e90\u8fc7\u6ee4")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#22-maven-profile-%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"},"22. maven profile \u591a\u73af\u5883\u914d\u7f6e"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#221-profile-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"22.1. profile \u57fa\u672c\u4f7f\u7528")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#222-profile-build"},"22.2. profile build")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#223-%E9%85%8D%E7%BD%AE%E9%BB%98%E8%AE%A4-jdk-%E7%BC%96%E8%AF%91%E7%89%88%E6%9C%AC"},"22.3. \u914d\u7f6e\u9ed8\u8ba4 jdk \u7f16\u8bd1\u7248\u672c")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#23-%E6%A8%A1%E5%9D%97%E7%9A%84%E8%81%9A%E5%90%88%E7%BB%A7%E6%89%BF"},"23. \u6a21\u5757\u7684\u805a\u5408&\u7ee7\u627f")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#24-dependencymangement%E5%85%83%E7%B4%A0"},"24. dependencyMangement\u5143\u7d20")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#25-pluginmanagement%E5%85%83%E7%B4%A0"},"25. pluginManagement\u5143\u7d20")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#26-%E5%8F%8D%E5%BA%94%E5%A0%86"},"26. \u53cd\u5e94\u5806")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#27-%E5%8E%86%E5%8F%B2%E9%A1%B9%E7%9B%AE%E6%94%B9%E9%80%A0%E4%B8%BAmaven%E9%A1%B9%E7%9B%AE"},"27. \u5386\u53f2\u9879\u76ee\u6539\u9020\u4e3amaven\u9879\u76ee")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#28-%E6%A3%80%E6%9F%A5%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81"},"28. \u68c0\u67e5\u4f9d\u8d56\u51b2\u7a81")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#29-maven%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90"},"29. Maven\u9879\u76ee\u7684\u6301\u7eed\u96c6\u6210")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#30-%E7%BC%96%E5%86%99maven%E6%A8%A1%E6%9D%BFarchetype"},"30. \u7f16\u5199Maven\u6a21\u677farchetype"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#301-archetype%E7%BB%84%E6%88%90%E5%85%83%E7%B4%A0"},"30.1. archetype\u7ec4\u6210\u5143\u7d20")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#302-archetype-demo"},"30.2. archetype-demo"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#3021-archetype%E8%87%AA%E8%BA%ABpom"},"30.2.1. archetype\u81ea\u8eabpom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#3022-%E6%A8%A1%E7%89%88%E6%95%B0%E6%8D%AE"},"30.2.2. \u6a21\u7248\u6570\u636e")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#3023-%E6%8F%8F%E8%BF%B0%E7%AC%A6%E6%96%87%E4%BB%B6"},"30.2.3. \u63cf\u8ff0\u7b26\u6587\u4ef6")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#3024-%E4%BD%BF%E7%94%A8"},"30.2.4. \u4f7f\u7528")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#303-archetype-catalog"},"30.3. archetype-catalog"))))),(0,i.kt)("h1",{id:"\u547d\u4ee4\u884c"},"\u547d\u4ee4\u884c"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://blog.csdn.net/fangzg811107320/article/details/72763704"},"\u624b\u52a8\u5b89\u88c5jar\u5230\u672c\u5730\u4ed3\u5e93"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn install:install-file -Dfile=D:/soft/ojdbc6.jar -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0.3 -Dpackaging=jar -DgeneratePom=true")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"mvn install:install-file -Dfile=/Users/xiaoyu/repo/sanxia_gaoke/resources/ojdbc8/19.3.0.0/ojdbc8-19.3.0.0.jar -DgoupId=com.oracle -DartifactId=ojdbc8 -Dversion=19.3.0.0 -Dpackaging=jar -DgeneratePom=true\n\n")),(0,i.kt)("h1",{id:"spring-io-platform"},"spring-io-platform"),(0,i.kt)("p",null,"Spring IO Platform\u6846\u67b6\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u7248\u672c\u53f7\u517c\u5bb9\u7cfb\u7edf\uff0c\u662f\u4e00\u4e2a\u4f9d\u8d56\u7ef4\u62a4\u5e73\u53f0"),(0,i.kt)("p",null,"\u5b83\u5c06\u5e38\u7528\u7b2c\u4e09\u65b9\u7c7b\u5e93\u7684\u517c\u5bb9\u7684\u7248\u672c\u7ec4\u7ec7\u8d77\u6765\u3002\u53ea\u8981\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u5f15\u7528\u4e86Spring IO Platform\uff0c\u5c31\u4e0d\u9700\u8981\u4e3a\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u7c7b\u5e93\u8bbe\u7f6e\u7248\u672c\u53f7\u4e86\uff0cSpring IO Platform\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8bbe\u7f6e\u6240\u6709\u517c\u5bb9\u7684\u7248\u672c\u53f7"),(0,i.kt)("p",null,"\u53ef\u4ee5\u5b8c\u7f8e\u7684\u652f\u6301Maven\u548cGradle\uff1b"),(0,i.kt)("p",null,"\u76f4\u63a5\u5bfc\u5165"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>io.spring.platform</groupId>\n                <artifactId>platform-bom</artifactId>\n                <version>Brussels-SR3</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n")),(0,i.kt)("p",null,"or \u8bbe\u7f6e\u4e3a parent pom"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<parent>\n        <groupId>io.spring.platform</groupId>\n        <artifactId>platform-bom</artifactId>\n        <version>Brussels-SR3</version>\n        <relativePath/>\n    </parent>\n")),(0,i.kt)("p",null,"\u5982\u679c\u9700\u8981\u8986\u76d6\u67d0\u4e2a\u7c7b\u5e93\u7684\u7248\u672c\u53f7:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<properties>\n    <foo.version>1.1.0.RELEASE</foo.version>\n</properties>\n")),(0,i.kt)("p",null,"\u770b\u4e00\u4e2a  spring boot \u9879\u76ee\u7684\u5b8c\u6574\u4f8b\u5b50:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>helloworld</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n\n   <dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>io.spring.platform</groupId>\n                <artifactId>platform-bom</artifactId>\n                <version>Athens-SR2</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n\n            <dependency>\n                \x3c!-- Import dependency management from Spring Boot --\x3e\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-dependencies</artifactId>\n                <version>1.4.3.RELEASE</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n    \n    \x3c!-- Additional lines to be added here... --\x3e\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>com.google.code.gson</groupId>\n            <artifactId>gson</artifactId>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <version>1.4.3.RELEASE</version>\n                \x3c!-- \u56e0\u4e3a\u4e0d\u662f\u7ee7\u627f parent pom, --\x3e\n                \x3c!-- \u9700\u8981\u81ea\u5df1\u6dfb\u52a0\u914d\u7f6e\uff0c\u7ed1\u5b9arepackage Goal --\x3e\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>repackage</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>\n')),(0,i.kt)("h1",{id:"why-maven"},"why maven"),(0,i.kt)("p",null,"ant\u6709\u4e00\u4e2a\u5f88\u81f4\u547d\u7684\u7f3a\u9677\uff0c\u90a3\u5c31\u662f\u6ca1\u529e\u6cd5\u7ba1\u7406\u4f9d\u8d56"),(0,i.kt)("h1",{id:"maven\u662f\u4ec0\u4e48"},"Maven\u662f\u4ec0\u4e48"),(0,i.kt)("p",null,"\u4e00\u822c\u6765\u8bf4\u6211\u4eec\u5178\u578b\u7684\u5de5\u4f5c\u573a\u666f\u662f\u8fd9\u6837\u7684: \u4e00\u5929\u7684\u5de5\u4f5c\u5f00\u59cb\u4e4b\u524d, \u5148\u4ece\u6e90\u7801\u5e93 pull \u51fa\u65b0\u7684\u4ee3\u7801, \u7136\u540e\u5355\u5143\u6d4b\u8bd5, \u5982\u679c\u53d1\u73b0bug, \u8054\u7cfb\u4f5c\u8005\u4e00\u8d77\u8c03\u8bd5, \u7136\u540e\u8fdb\u884c\u81ea\u5df1\u7684\u5de5\u4f5c(\u7f16\u5199\u81ea\u5df1\u7684\u5355\u5143\u6d4b\u8bd5\u548c\u4ee3\u7801); \u5982\u679c\u8fd9\u65f6 QA \u53d1\u8fc7\u6765\u51e0\u4e2abug, \u5148\u672c\u5730\u91cd\u73b0(\u751f\u6210war\u5305, \u90e8\u7f72\u5230web\u5bb9\u5668, \u542f\u52a8\u67e5\u770b), bug\u89e3\u51b3\u9996\u63d0\u4ea4\u4ee3\u7801; \u5982\u679c\u8fd9\u65f6leader\u9700\u8981\u770b\u6d4b\u8bd5\u62a5\u544a, \u4e8e\u662f\u9700\u8981\u5c06\u76f8\u5173\u5de5\u5177\u96c6\u6210\u8fdbide, \u751f\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a;"),(0,i.kt)("p",null,'\u89c2\u5bdf\u6bcf\u5929\u7684\u8fd9\u4e2a\u8fc7\u7a0b, \u5176\u5b9e\u5927\u90e8\u5206\u90fd\u662f\u4e00\u4e9b\u91cd\u590d\u7684\u52b3\u52a8(\u7f16\u8bd1, \u8fd0\u884c\u5355\u5143\u6d4b\u8bd5, \u751f\u6210\u6587\u6863, \u6253\u5305\u90e8\u7f72), \u8fd9\u4e00\u7c7b\u7e41\u7410\u7684\u8fc7\u7a0b\u90fd\u53ef\u5f52\u7c7b\u4e8e "\u6784\u5efa";'),(0,i.kt)("p",null,"Maven\u4e3a\u6240\u6709\u7684\u9879\u76ee\u62bd\u8c61\u51fa\u4e86\u4e00\u4e2a\u6784\u5efa\u8fc7\u7a0b\u7684\u751f\u547d\u5468\u671f\u6a21\u578b, \u5bf9\u4e8e\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\u6709\u5927\u91cf\u7684Maven\u63d2\u4ef6\u53ef\u7528; \u8fd9\u6837\u62bd\u8c61\u7684\u597d\u5904\u662f\u4ee5\u524d\u768410\u4e2a\u9879\u76ee\u53ef\u80fd\u6709\u5341\u79cd\u6784\u5efa\u65b9\u5f0f, \u800c\u73b0\u5728\u7edf\u4e00\u53ef\u4ee5\u4f7f\u7528Maven\u547d\u4ee4\u8fdb\u884c\u6784\u5efa;"),(0,i.kt)("p",null,"\u81f3\u4e8e\u4f9d\u8d56\u7ba1\u7406, \u4e00\u822c\u4e00\u4e2aJava\u5e94\u7528\u4f1a\u4f9d\u8d56\u4e8e\u5927\u91cf\u7b2c\u4e09\u65b9\u7c7b\u5e93, \u7c7b\u5e93\u4e4b\u95f4\u53ef\u80fd\u8fd8\u4f1a\u6709\u4e92\u76f8\u7684\u4f9d\u8d56, \u7248\u672c\u51b2\u7a81, \u6b64\u65f6\u8fd9\u4e9b\u7c7b\u5e93\u7684\u7ba1\u7406\u5c31\u662f\u4e2a\u7e41\u91cd\u7684\u4f53\u529b\u6d3b, Maven\u7ed9\u4e86\u4e00\u4e2a\u4f18\u96c5\u7684\u89e3\u51b3\u65b9\u6848, \u540e\u9762\u7ec6\u8bf4;\u6b64\u5916Maven\u8fd8\u80fd\u5e2e\u6211\u4eec\u7ba1\u7406\u5206\u6563\u5728\u5404\u4e2a\u89d2\u843d\u7684\u9879\u76ee\u4fe1\u606f(\u9879\u76ee\u63cf\u8ff0, \u5f00\u53d1\u8005\u5217\u8868, \u7248\u672c\u63a7\u5236\u4ed3\u5e93\u5730\u5740, \u6d4b\u8bd5\u62a5\u544a...)"),(0,i.kt)("h1",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Maven\u4f9d\u8d56\u4e8ejdk"),(0,i.kt)("li",{parentName:"ul"},"\u5347\u7ea7\u53ea\u9700\u8981\u4e0b\u8f7d\u65b0\u7248Maven, \u66f4\u65b0M2_HOME\u5373\u53ef"),(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f7f\u7528Maven\u62a5 ",(0,i.kt)("inlineCode",{parentName:"li"},"outOfMemeoryError"),", \u53ef\u8bbe\u7f6e ",(0,i.kt)("inlineCode",{parentName:"li"},"MAVEN_OPTS"),"\u73af\u5883\u53d8\u91cf\u4e3a",(0,i.kt)("inlineCode",{parentName:"li"},"- Xms128m -Xmx512m"),"\u4ee5\u6269\u5927java\u9ed8\u8ba4\u6700\u5927\u53ef\u7528\u5185\u5b58;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"conf/setttings.xml"),"\u548c",(0,i.kt)("inlineCode",{parentName:"li"},".m2/setttings.xml"),"\u90fd\u53ef\u4ee5\u914d\u7f6eMaven, \u524d\u8005\u662f\u5168\u5c40\u8303\u56f4\u751f\u6548, \u540e\u8005\u53ea\u5bf9\u5f53\u524d\u7528\u6237\u751f\u6548, \u63a8\u8350\u4fee\u6539\u540e\u8005, \u56e0\u4e3a\u5347\u7ea7\u65b9\u4fbf;\u7528\u6237\u914d\u7f6e\u6587\u4ef6\u8bbe\u5b9a\u540e, \u5168\u5c40\u914d\u7f6e\u6587\u4ef6\u5c31\u5931\u6548\u4e86"),(0,i.kt)("li",{parentName:"ul"},"eclipse\u96c6\u6210\u65f6, \u4e0d\u8981\u4f7f\u7528\u5176\u5185\u7f6e\u7684Maven, \u4f7f\u7528\u5916\u7f6e\u7684\u6211\u4eec\u81ea\u5df1\u914d\u7f6e\u7684Maven")),(0,i.kt)("h2",{id:"aliyun-\u963f\u91cc\u4e91\u4ed3\u5e93"},"aliyun \u963f\u91cc\u4e91\u4ed3\u5e93"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<repositories>\n        \x3c!--\u963f\u91cc\u4e91\u4e3b\u4ed3\u5e93\uff0c\u4ee3\u7406\u4e86maven central\u548cjcenter\u4ed3\u5e93--\x3e\n        <repository>\n            <id>aliyun</id>\n            <name>aliyun</name>\n            <url>https://maven.aliyun.com/repository/public</url>\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n            <snapshots>\n                <enabled>false</enabled>\n            </snapshots>\n        </repository>\n        \x3c!--\u963f\u91cc\u4e91\u4ee3\u7406Spring \u5b98\u65b9\u4ed3\u5e93--\x3e\n        <repository>\n            <id>spring-milestones</id>\n            <name>Spring Milestones</name>\n            <url>https://maven.aliyun.com/repository/spring</url>\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n            <snapshots>\n                <enabled>false</enabled>\n            </snapshots>\n        </repository>\n    </repositories>\n")),(0,i.kt)("h2",{id:"spring-\u4ed3\u5e93"},"spring \u4ed3\u5e93"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<repositories>\n        <repository>\n            <id>spring-snapshots</id>\n            <name>Spring Snapshots</name>\n            <url>https://repo.spring.io/snapshot</url>\n            <snapshots>\n                <enabled>true</enabled>\n            </snapshots>\n        </repository>\n        <repository>\n            <id>spring-milestones</id>\n            <name>Spring Milestones</name>\n            <url>https://repo.spring.io/milestone</url>\n        </repository>\n    </repositories>\n    <pluginRepositories>\n        <pluginRepository>\n            <id>spring-snapshots</id>\n            <name>Spring Snapshots</name>\n            <url>https://repo.spring.io/snapshot</url>\n            <snapshots>\n                <enabled>true</enabled>\n            </snapshots>\n        </pluginRepository>\n        <pluginRepository>\n            <id>spring-milestones</id>\n            <name>Spring Milestones</name>\n            <url>https://repo.spring.io/milestone</url>\n        </pluginRepository>\n    </pluginRepositories>\n")),(0,i.kt)("h2",{id:"\u914d\u7f6e\u672c\u5730\u4ed3\u5e93\u5730\u5740"},"\u914d\u7f6e\u672c\u5730\u4ed3\u5e93\u5730\u5740"),(0,i.kt)("p",null,"\u9879\u76ee\u5bfb\u627e\u4f9d\u8d56, \u4f1a\u5148\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u5c06\u6784\u4ef6\u4e0b\u8f7d\u5230\u672c\u5730\u4ed3\u5e93\u7136\u540e\u4f7f\u7528; \u672c\u5730\u4ed3\u5e93\u9ed8\u8ba4\u5728${user_dir}/.m2/repository(\u8f93\u5165\u7b2c\u4e00\u6761Maven\u547d\u4ee4\u540e\u751f\u6210); \u5982\u679c\u5e0c\u671b\u81ea\u5b9a\u4e49\u672c\u5730\u4ed3\u5e93\u4f4d\u7f6e, \u53ef\u4fee\u6539 ${user_dir}/.m2/setttings.xml(\u5982\u679c\u4e0d\u5b58\u5728, \u53ef\u590d\u5236\u4e00\u4efd\u8fc7\u6765), \u8bbe\u7f6e localRepository \u5143\u7d20\u7684\u503c;"),(0,i.kt)("h2",{id:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93"},"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93"),(0,i.kt)("p",null,"\u5982\u679c\u9ed8\u8ba4\u7684\u4e2d\u592e\u4ed3\u5e93\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42, \u5982\u4f55\u914d\u7f6e\u5176\u4ed6\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u5462?"),(0,i.kt)("p",null,"\u53ef\u4ee5\u5728\u9879\u76eepom\u4e2d\u914d\u7f6e"),(0,i.kt)("p",null,"\u901a\u8fc7Repository\u5b50\u5143\u7d20, \u53ef\u4ee5\u58f0\u660e\u591a\u4e2a\u8fdc\u7a0b\u4ed3\u5e93, \u4ed3\u5e93id\u5fc5\u987b\u552f\u4e00, \u4e2d\u592e\u4ed3\u5e93id=central, \u5982\u679c\u5176\u4ed6\u4ed3\u5e93\u4f7f\u7528\u8fd9\u91ccid, \u4f1a\u8986\u76d6\u4e2d\u592e\u4ed3\u5e93\u7684\u914d\u7f6e;release\u548csnapshoot\u5143\u7d20\u7528\u6765\u63a7\u5236\u53d1\u5e03\u7248\u6784\u4ef6\u548c\u5feb\u7167\u7248\u6784\u4ef6\u7684\u4e0b\u8f7d, ",(0,i.kt)("a",{parentName:"p",href:"#%E5%BF%AB%E7%85%A7%E7%89%88%E6%9C%AC%E5%92%8C%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC"},"\u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c"),"\u4f1a\u5199\u5230, \u6b64\u5916, \u8fd9\u4e24\u4e2a\u5143\u7d20\u8fd8\u6709\u5176\u4ed6\u5b50\u5143\u7d20"),(0,i.kt)("p",null,"updatePolicy\u6307\u5b9a\u66f4\u65b0\u9891\u7387, \u53ef\u53d6\u8fd9\u4e9b\u503c: daily(\u9ed8\u8ba4, \u6bcf\u5929\u68c0\u67e5), never(\u4ece\u4e0d\u68c0\u67e5), always(\u6bcf\u6b21\u6784\u5efa\u90fd\u68c0\u67e5), interval: x(\u6bcf\u9694x\u5206\u949f\u68c0\u67e5\u4e00\u6b21, x\u4e3a\u6574\u6570)"),(0,i.kt)("p",null,"\u540c\u65f6, \u8fd8\u53ef\u4ee5\u5728setttings\u4e2d\u914d\u7f6e\u4e00\u4efd\u4e2d\u592e\u4ed3\u5e93\u7684\u955c\u50cf, \u89c4\u907fGFW\u5e26\u6765\u7684\u6162\u901f\u95ee\u9898, \u8be6\u7ec6\u63cf\u8ff0\u5728",(0,i.kt)("a",{parentName:"p",href:"#%E9%95%9C%E5%83%8F"},"\u8fd9\u91cc")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<mirrors>\n    \x3c!-- mirror\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n     |\n    <mirror>\n      <id>mirrorId</id>\n      <mirrorOf>repositoryId</mirrorOf>\n      <name>Human Readable Name for this Mirror.</name>\n      <url>http://my.repository.com/repo/path</url>\n    </mirror>\n     --\x3e\n    <mirror>\n        <id>alimaven</id>\n        <name>aliyun maven</name>\n        <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n        <mirrorOf>central</mirrorOf> \x3c!-- \u6240\u6709\u9488\u5bf9central\u4ed3\u5e93\u7684\u8bf7\u6c42\u90fd\u4f1a\u88ab\u8f6c\u5230\u8fd9\u4e2a\u955c\u50cf --\x3e\n    </mirror>\n</mirrors>\n")),(0,i.kt)("h2",{id:"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u8ba4\u8bc1\u975e\u5fc5\u987b"},"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u8ba4\u8bc1(\u975e\u5fc5\u987b)"),(0,i.kt)("p",null,"\u4ed3\u5e93\u4fe1\u606f\u53ef\u4ee5\u518dpom\u6587\u4ef6\u4e2d\u914d\u7f6e, \u8ba4\u8bc1\u53ea\u80fd\u5728setttings\u4e2d\u914d\u7f6e"),(0,i.kt)("h2",{id:"\u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93"},"\u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93"),(0,i.kt)("p",null,"\u7f16\u8f91\u9879\u76ee\u7684pom, \u914d\u7f6edistributionManagement\u5143\u7d20"),(0,i.kt)("p",null,"\u6784\u4ef6\u90e8\u7f72\u5230\u8fdc\u7a0b\u4ed3\u5e93, \u548c\u4e0b\u8f7d\u4e0d\u540c, \u8fd9\u65f6\u901a\u5e38\u9700\u8981\u9a8c\u8bc1, \u9700\u8981\u5728setttings\u4e2d\u914d\u7f6eservers"),(0,i.kt)("p",null,"\u6700\u540e\u8fd0\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean deploy")),(0,i.kt)("h2",{id:"\u963f\u91cc\u4e91-aliyun-\u955c\u50cf"},"\u963f\u91cc\u4e91 aliyun \u955c\u50cf"),(0,i.kt)("p",null,"\u5982\u679c\u4ed3\u5e93a\u80fd\u591f\u63d0\u4f9b\u4ed3\u5e93b\u7684\u5168\u90e8\u5185\u5bb9, \u90a3\u4e48a\u662fb\u7684\u4e00\u4e2a\u955c\u50cf, \u8bbe\u7f6e\u955c\u50cf\u901a\u5e38\u662f\u4e3a\u4e86\u89c4\u907f\u6162\u901f\u95ee\u9898"),(0,i.kt)("p",null,"setttings\u4e2d\u914d\u7f6e:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<mirrors>\n    \x3c!-- mirror\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n     |\n    <mirror>\n      <id>mirrorId</id>\n      <mirrorOf>repositoryId</mirrorOf>\n      <name>Human Readable Name for this Mirror.</name>\n      <url>http://my.repository.com/repo/path</url>\n    </mirror>\n     --\x3e\n    <mirror>\n        <id>alimaven</id>\n        <name>aliyun maven</name>\n        <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n        <mirrorOf>central</mirrorOf> \x3c!-- \u6240\u6709\u9488\u5bf9central\u4ed3\u5e93\u7684\u8bf7\u6c42\u90fd\u4f1a\u88ab\u8f6c\u5230\u8fd9\u4e2a\u955c\u50cf --\x3e\n    </mirror>\n</mirrors>\n")),(0,i.kt)("p",null,"\u6b64\u5916, Maven\u5bf9\u4e8e\u955c\u50cf\u7684mirrorOf\u6807\u7b7e\u8fd8\u652f\u6301\u66f4\u591a\u8bed\u6cd5"),(0,i.kt)("h1",{id:"maven\u9879\u76ee\u76ee\u5f55\u89c4\u8303"},"Maven\u9879\u76ee\u76ee\u5f55\u89c4\u8303"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u9075\u5faa\u8fd9\u4e2a\u89c4\u8303, Maven\u4f1a\u81ea\u52a8\u641c\u5bfb\u5bf9\u5e94\u76ee\u5f55\u4e0b\u7684\u5bf9\u5e94\u8d44\u6e90, \u800c\u65e0\u9700\u989d\u5916\u914d\u7f6e"),(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f\u5386\u53f2\u9879\u76ee\u6539\u9020\u6210Maven, \u4ee3\u7801\u76ee\u5f55\u65e0\u6cd5\u6539\u53d8\u4e86, \u4e5f\u53ef\u4ee5\u5728pom\u6587\u4ef6\u4e2d\u914d\u7f6e, ",(0,i.kt)("a",{parentName:"li",href:"#%E5%8E%86%E5%8F%B2%E9%A1%B9%E7%9B%AE%E6%94%B9%E9%80%A0%E4%B8%BAmaven%E9%A1%B9%E7%9B%AE"},"\u4e0b\u6587\u8be6\u8ff0"))),(0,i.kt)("h1",{id:"demo"},"demo"),(0,i.kt)("p",null,"\u5148\u770bpom\u6587\u4ef6:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version = "1.0" encoding = "UTF-8"?>\x3c!-- xml\u5934, \u6307\u5b9axml\u7248\u672c, \u7f16\u7801\u65b9\u5f0f --\x3e\n\n\x3c!-- project\u662f\u6240\u6709pom\u7684\u6839\u5143\u7d20, \u5c5e\u6027\u4e2d\u58f0\u660e\u4e86\u4e00\u4e9b\u547d\u540d\u7a7a\u95f4, xsd, \u4e0d\u662f\u5fc5\u987b\u7684\u4f46\u662f\u53ef\u4ee5\u8ba9\u7b2c\u4e09\u65b9\u7f16\u8f91\u5668\u6709\u667a\u80fd\u63d0\u793a --\x3e\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  \x3c!-- pom\u6a21\u578b\u7248\u672c, \u5bf9\u4e8eMaven2\u548cMaven3\u6765\u8bf4\u53ea\u80fd\u662f4.0.0 --\x3e\n  <modelVersion>4.0.0</modelVersion>\n  \x3c!-- \u4e09\u8981\u7d20, \u5fc5\u987b --\x3e\n  <groupId>com.xy.mvnbook</groupId>\x3c!-- \u516c\u53f8xy\u5efa\u7acb\u4e00\u4e2a\u9879\u76eemvnbook --\x3e\n  <artifactId>hello-world</artifactId>\x3c!-- \u9879\u76ee\u552f\u4e00id --\x3e\n  <version>0.0.1-SNAPSHOT</version>\x3c!-- \u7248\u672c\u4f1a\u4e0d\u65ad\u66f4\u65b0, \u6bd4\u5982\u4ece1.0\u52301.1-snapshoot\u52301.1\u52302.0, snapshoot\u8868\u793a\u5feb\u7167 --\x3e\n  <name>Maven Hollo World Project</name>\x3c!-- \u4e0d\u662f\u5fc5\u987b --\x3e\n  <packaging>jar</packaging>\x3c!-- \u6253\u5305\u7c7b\u578b, \u9ed8\u8ba4jar --\x3e\n  \n  <dependencies>\n    \x3c!-- https://mvnrepository.com/artifact/junit/junit --\x3e\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n        <version>4.12</version>\n        <scope>test</scope>\x3c!-- \u4f9d\u8d56\u8303\u56f4, \u9ed8\u8ba4\u662f"compile"\u8868\u793a\u8be5\u4f9d\u8d56\u5bf9\u4e3b/\u6d4b\u8bd5\u4ee3\u7801\u5747\u6709\u6548, \u8fd9\u91cc"test"\u8868\u793a\u53ea\u5bf9\u6d4b\u8bd5\u751f\u6548, \u5373\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u53ef\u4ee5\u6b63\u5e38import JUnit, \u4f46\u662f\u5728\u4e3b\u4ee3\u7801\u4e2dimport JUnit\u5c31\u4f1a\u62a5\u9519(\u8bc1\u660e\u4f9d\u8d56\u53ea\u662f\u88ab\u52a0\u5165\u4e3b\u4ee3\u7801\u7684classpath\u4e2d) --\x3e\n    </dependency>\n  </dependencies>\n  \n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-shade-plugin</artifactId>\x3c!-- \u628a\u4f9d\u8d56\u7684lib\u6253\u5305\u5230\u4e00\u4e2ajar, \u751f\u6210\u53ef\u6267\u884cjar --\x3e\n        <version>3.1.0</version>\n        <executions>\n          <execution>\n            <phase>package</phase>\n            <goals>\n              <goal>shade</goal>\n            </goals>\n            <configuration>\n              <transformers>\n                <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">\n                  <mainClass>com.xy.mvnbook.hello.HelloWorld</mainClass>\n                </transformer>\n              </transformers>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n    </plugins>\n  </build>\n\n  \n</project>\n')),(0,i.kt)("p",null,"\u4ee3\u7801:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * mvn helloworld\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670824\u65e5 \u4e0a\u534811:40:17\n */\npublic class HelloWorld {\n\n    public String hello() {\n        return "Hello Maven";\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(new HelloWorld().hello());\n    }\n}\n\n/**\n * test helloWorld\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670824\u65e5 \u4e0b\u53481:07:07\n */\npublic class HelloWorldTest {\n\n    @Test\n    public void testHello() {\n        HelloWorld hw = new HelloWorld();\n        String result = hw.hello();\n        assertEquals("Hello Maven", result);\n    }\n}\n')),(0,i.kt)("p",null,"\u4e0b\u9762\u8bd5\u8bd5\u7b80\u5355\u7684mvn\u547d\u4ee4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn clean"),": \u6e05\u9664\u8f93\u51fa\u76ee\u5f55target/(Maven\u6784\u5efa\u7684\u6240\u6709\u8f93\u51fa\u9ed8\u8ba4\u5728target/\u4e0b); \u5b9e\u9645\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"maven-clean-plugin"),"\u63d2\u4ef6\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"clean"),"\u76ee\u6807\u5728\u8d77\u4f5c\u7528;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn compile"),": \u7f16\u8bd1\u9879\u76ee\u4e3b\u4ee3\u7801, \u4e3b\u8981\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"maven-resources-plugin:2.6:resources"),"\u548c",(0,i.kt)("inlineCode",{parentName:"li"}," maven-compiler-plugin:3.1:compile"),"\u5728\u751f\u6548;\u4e00\u822c\u548cclean\u8054\u7528, ",(0,i.kt)("inlineCode",{parentName:"li"},"mvn clean compile"),";"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn clean test"),": \u8c03\u7528Maven\u6267\u884c\u6d4b\u8bd5, \u6d4b\u8bd5\u524d\u4f1a\u9996\u5148\u8fdb\u884c\u9879\u76ee\u4e3b\u8d44\u6e90\u5904\u7406, \u4e3b\u4ee3\u7801\u7f16\u8bd1, \u6d4b\u8bd5\u8d44\u6e90\u5904\u7406, \u6d4b\u8bd5\u4ee3\u7801\u7f16\u8bd1,\u4ee5\u53ca\u6d4b\u8bd5\u540e\u7684\u62a5\u544a\u751f\u6210, \u5b9e\u9645\u6267\u884c\u4e86 clean:clean, resources:resources, compiler:compile, resources:testResources, compile:testCompile, surefire:test(surefire\u662fMaven\u4e2d\u8d1f\u8d23\u6267\u884c\u6d4b\u8bd5\u7684\u63d2\u4ef6, \u4ed6\u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8bHelloWorldTest\u5e76\u8f93\u51fa\u6d4b\u8bd5\u62a5\u544a); "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn clean package"),": \u6253\u5305, \u6253\u6210jar\u7c7b\u578b\u5305; \u5c31\u662fjar:jar\u5728\u751f\u6548, \u4e3b\u4ee3\u7801\u6253\u5305\u6210jar\u6587\u4ef6, \u8f93\u51fa\u5230target/\u76ee\u5f55\u4e2d, \u6587\u4ef6\u547d\u540d\u662f\u6839\u636eartifact-version.jar\u89c4\u5219\u8fdb\u884c\u547d\u540d\u7684, \u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\u8f93\u51fajar\u7684\u540d\u5b57, \u53ef\u4ee5\u4fee\u6539finalName;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn clean install"),": \u5b89\u88c5\u5230\u672c\u5730Maven\u4ed3\u5e93; \u5b89\u88c5\u540e, \u5176\u4ed6\u9879\u76ee\u624d\u53ef\u4ee5\u4f7f\u7528;")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean test"),"\u7531\u4e8e\u9700\u8981\u505a\u8d44\u6e90\u66ff\u6362, \u7f16\u8bd1\u7684\u5de5\u4f5c, \u8f93\u51fa\u4fe1\u606f\u8f83\u591a, \u622a\u4e86\u4e0b\u97622\u5f20\u56fe\u7247"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean package"),"\u9700\u8981\u5148\u6267\u884c\u8d44\u6e90\u66ff\u6362, \u7f16\u8bd1, \u6d4b\u8bd5, \u518d\u624d\u80fd\u6253\u5305, \u8f93\u51fa\u4fe1\u606f\u8f83\u591a"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install")," \u9700\u8981\u5148\u8d44\u6e90\u66ff\u6362, \u7f16\u8bd1, \u6d4b\u8bd5, \u6253\u5305, \u6700\u540e\u5b89\u88c5"),(0,i.kt)("h1",{id:"\u751f\u547d\u5468\u671f\u547d\u4ee4-and-\u5305\u542b\u6548\u679c"},"\u751f\u547d\u5468\u671f\u547d\u4ee4 and \u5305\u542b\u6548\u679c"),(0,i.kt)("p",null,"\u7efc\u4e0a, mvn\u7684\u51e0\u4e2a\u57fa\u672c\u547d\u4ee4\u6267\u884c\u65f6\u662f\u6709\u5305\u542b\u5173\u7cfb\u7684, "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"compile"),(0,i.kt)("li",{parentName:"ol"},"test"),(0,i.kt)("li",{parentName:"ol"},"package"),(0,i.kt)("li",{parentName:"ol"},"install")),(0,i.kt)("p",null,"\u540e\u9762\u7684\u547d\u4ee4\u6548\u679c\u4f1a\u5305\u542b\u524d\u9762\u7684\u547d\u4ee4"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install -N")," \u53ea\u4f1a\u5b89\u88c5 parent \u5de5\u7a0b, \u4e0d\u4f1a\u5b89\u88c5\u5b50\u9879\u76ee"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn install -U")," \u5b89\u88c5\u65f6, \u5f3a\u5236\u66f4\u65b0 snapshot \u6a21\u5757, \u5bf9\u4e8e release \u7248\u672c\u6a21\u5757, \u4e0d\u4f1a\u66f4\u65b0"),(0,i.kt)("h1",{id:"\u5b89\u88c5\u5378\u8f7d\u672c\u5730\u5305"},"\u5b89\u88c5\u5378\u8f7d\u672c\u5730\u5305"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/15358851/how-to-remove-jar-file-from-local-maven-repository-which-was-added-with-install"},"https://stackoverflow.com/questions/15358851/how-to-remove-jar-file-from-local-maven-repository-which-was-added-with-install")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'# \u5b89\u88c5\nmvn install:install-file -Dfile=bpm-interface-2.0.1.jar -DgroupId=com.ctg.qdp -DartifactId=bpm-interface -Dversion=2.0.1 -Dpackaging=jar\n\nmvn install:install-file -Dfile=ojdbc6.jar -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0.4 -Dpackaging=jar\nmvn install:install-file -Dfile=ojdbc8-19.0.0.0.0.jar -DgroupId=com.oracle.jdbc -DartifactId=ojdbc8.jar -Dversion=19.0.0.0.0 -Dpackaging=jar -DgeneratePom=true\n\nmvn install:install-file -Dfile=quickCode-spring-boot-starter-1.0.jar -DgroupId=com.beeei -DartifactId=quickCode-spring-boot-starter -Dversion=1.0     -Dpackaging=jar -DgeneratePom=true\nmvn install:install-file -Dfile=tgpms-1.0.jar -DgroupId=com.ctgpc -DartifactId=tgpms -Dversion=1.0   -Dpackaging=jar -DgeneratePom=true\nmvn install:install-file -Dfile=vform-1.0.jar -DgroupId=com.tgpms -DartifactId=vform -Dversion=1.0   -Dpackaging=jar -DgeneratePom=true\n\n\n# \u5378\u8f7d\n# \u6700\u65b9\u4fbf\u7684\u662f\u76f4\u63a5\u5230 $HOME/.m2 \u624b\u52a8\u5220\u9664\nmvn dependency:purge-local-repository -DmanualInclude="groupId:artifactId, ..."\n\n')),(0,i.kt)("h1",{id:"\u6253\u5305\u6210\u53ef\u6267\u884cjar"},"\u6253\u5305\u6210\u53ef\u6267\u884cjar"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.baeldung.com/executable-jar-with-maven"},"https://www.baeldung.com/executable-jar-with-maven")),(0,i.kt)("p",null,"\u9700\u8981\u7528\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"maven-shade-plugin"),"\u63d2\u4ef6, \u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"mvn package"),"\u9ed8\u8ba4\u751f\u6210\u7684jar\u867d\u7136\u6709main\u65b9\u6cd5, \u4f46\u662f\u662f\u4e0d\u80fd\u591f\u76f4\u63a5\u8fd0\u884c\u7684, \u56e0\u4e3amain\u65b9\u6cd5\u7684\u4fe1\u606f\u6ca1\u6709\u6dfb\u52a0\u5230manifest\u4e2d(\u6253\u5f00jar\u4e2d\u7684META-INF/MANIFEST\u53ef\u4ee5\u770b\u5230, \u6ca1\u6709Main-Class\u8fd9\u4e00\u884c), "),(0,i.kt)("p",null,"\u589e\u52a0\u5982\u4e0b\u914d\u7f6e:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<plugin>\x3c!-- \u4f4d\u4e8eproject/build/plugins\u4e0b --\x3e\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-shade-plugin</artifactId>\x3c!-- \u628a\u4f9d\u8d56\u7684lib\u6253\u5305\u5230\u4e00\u4e2ajar, \u751f\u6210\u53ef\u6267\u884cjar --\x3e\n    <version>3.1.0</version>\n    <executions>\n        <execution>\n        <phase>package</phase>\n        <goals>\n            <goal>shade</goal>\n        </goals>\n        <configuration>\n            <transformers>\n            <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">\n                <mainClass>com.xy.mvnbook.hello.HelloWorld</mainClass>\n            </transformer>\n            </transformers>\n        </configuration>\n        </execution>\n    </executions>\n</plugin>\n')),(0,i.kt)("p",null,"\u6b64\u65f6\u518d\u6b21\u6253\u5305, \u8f93\u51fa\u4e24\u4e2ajar, ",(0,i.kt)("inlineCode",{parentName:"p"},"hello-world-1.0-SNAPSHOOT.jar"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"original-hello-world-1.0-SNAPSHOOT.jar"),", \u524d\u8005\u662f\u5e26\u6709Main-class\u4fe1\u606f\u7684\u53ef\u6267\u884cjar, \u540e\u8005\u662f\u539f\u59cb\u7684jar;"),(0,i.kt)("h1",{id:"\u4f7f\u7528archetype\u751f\u6210\u9879\u76ee\u9aa8\u67b6"},"\u4f7f\u7528archetype\u751f\u6210\u9879\u76ee\u9aa8\u67b6"),(0,i.kt)("p",null,"\u4e00\u822c\u79f0\u9879\u76ee\u57fa\u672c\u7684\u76ee\u5f55\u7ed3\u6784\u548cpom\u6587\u4ef6\u4e3a\u9aa8\u67b6; Maven\u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"maven-archetype-plugin"),"\u63d2\u4ef6\u5b8c\u6210\u8fd9\u4e00\u5de5\u4f5c;"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Maven3\u4e2d\u4f7f\u7528: ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn archetype:generate"),", \u867d\u7136\u6ca1\u6709\u6307\u5b9a\u63d2\u4ef6\u7248\u672c, \u4f46\u662fmaven3\u53ea\u4f1a\u53bb\u4e0b\u8f7d\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u672c\u5f88\u5b89\u5168; ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Maven2\u4e2d\u9700\u8981\u6307\u5b9a\u5177\u4f53\u7684\u63d2\u4ef6\u7248\u672c(\u5373\u6309\u7167\u4e25\u683c\u7684\u547d\u4ee4\u683c\u5f0f mvn groupId:artifactId:version:goal), \u4e0d\u7136maven2\u4f1a\u53bb\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684\u63d2\u4ef6, \u53ef\u80fd\u4f1a\u5f97\u5230\u4e0d\u7a33\u5b9a\u7684snapshoot\u7248\u672c\u5bfc\u81f4\u8fd0\u884c\u5931\u8d25;")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8emaven3, \u5982\u679c\u4e4b\u524d\u672a\u8fd0\u884c\u8fc7\u8be5\u547d\u4ee4, \u4f1a\u5148\u4e0b\u8f7d\u8be5\u63d2\u4ef6, \u800c\u540e\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u9aa8\u67b6, maven\u9ed8\u8ba4\u9009\u4e86\u4e00\u4e2a\u9aa8\u67b6 ",(0,i.kt)("inlineCode",{parentName:"p"},"maven-archetype-quickstart"),"\u76f4\u63a5\u56de\u8f66\u4ee5\u9009\u62e9, \u63a5\u7740\u8f93\u5165groupId, artifactId, version, package, \u786e\u8ba4;"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},'package\u8868\u793a\u76ee\u5f55\u7ed3\u6784, \u5373"src/main/java"\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784'),(0,i.kt)("li",{parentName:"ul"},"artifactId\u8868\u793a\u9879\u76ee\u540d\u79f0"),(0,i.kt)("li",{parentName:"ul"},"groupId\u8868\u793a\u5b89\u88c5\u5230\u4ed3\u5e93\u65f6\u7684\u76ee\u5f55")))),(0,i.kt)("h1",{id:"\u5750\u6807"},"\u5750\u6807"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"groupId"),": \u5b9a\u4e49maven\u9879\u76ee\u96b6\u5c5e\u7684\u5b9e\u9645\u9879\u76ee\u6bd4\u5982 spring-core\u96b6\u5c5e\u4e8eSpringFramework, spring-context\u4e5f\u96b6\u5c5e\u4e8eSpringFramework; \u540c\u65f6\u4e5f\u662finstall\u65f6\u5b89\u88c5\u5230\u4ed3\u5e93\u7684\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"artifactId"),": \u5b9a\u4e49\u5b9e\u9645\u9879\u76ee\u4e2d\u7684\u4e00\u4e2amaven\u6a21\u5757, \u63a8\u8350\u505a\u6cd5\u662f\u4f7f\u7528\u5b9e\u9645\u9879\u76ee\u540d\u79f0\u4f5c\u4e3a\u5176\u524d\u7f00, \u6bd4\u5982groupId\u662f'com.xy.project', \u90a3\u4e48artifactId\u53ef\u8bbe\u4e3a'project-xxx', \u8fd9\u6837\u65b9\u4fbf\u5bfb\u627e\u5b9e\u9645\u6784\u4ef6, maven\u751f\u6210\u7684\u6784\u4ef6\u9ed8\u8ba4\u540d\u79f0\u4ee5artifactId\u5f00\u5934"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"version"),": \u7248\u672c, snapshoot..., \u89c1 ",(0,i.kt)("a",{parentName:"li",href:"#%E5%BF%AB%E7%85%A7%E7%89%88%E6%9C%AC%E5%92%8C%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC"},"\u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"packaging"),": \u5b9a\u4e49maven\u6253\u5305\u65b9\u5f0f(\u53ef\u9009, \u9ed8\u8ba4jar), jar/war/pom"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"classifier"),": \u5e2e\u52a9\u5b9a\u4e49\u6784\u5efa\u8f93\u51fa\u7684\u4e00\u4e9b\u9644\u5c5e\u6784\u4ef6; \u6bd4\u5982\u5b9a\u4e49\u4e86\u4e3b\u6784\u4ef6'xxx.jar', \u6709\u65f6\u53ef\u80fd\u8fd8\u4f1a\u4f7f\u7528\u4e00\u4e9b\u63d2\u4ef6\u751f\u6210'xxx-javadoc.jar', 'xxx-source.jar'\u8fd9\u6837\u7684\u9644\u5c5e\u6784\u4ef6, \u8fd9\u65f6, 'javadoc', 'source'\u5c31\u662f\u8fd9\u4e24\u4e2a\u9644\u5c5e\u6784\u4ef6\u7684classifier ;(classifier\u4e0d\u80fd\u76f4\u63a5\u5b9a\u4e49)")),(0,i.kt)("h1",{id:"\u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c"},"\u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c"),(0,i.kt)("p",null,"Snapchat\u7248\u672c\u4f5c\u7528"),(0,i.kt)("p",null,"\u4e3a\u4ec0\u4e48\u9700\u8981\u533a\u5206\u5feb\u7167\u7248\u672c\u548c\u53d1\u5e03\u7248\u672c? "),(0,i.kt)("p",null,"\u8003\u8651\u8fd9\u4e2a\u573a\u666f: \u5c0fa\u5728\u5f00\u53d1\u6a21\u5757A(v: 2.1), \u540c\u65f6, \u5c0fm\u5728\u5f00\u53d1\u6a21\u5757B, B -> A, \u5f00\u53d1\u4e2d, \u5c0fa\u7ecf\u5e38\u9700\u8981\u5c06\u6a21\u5757\u6700\u65b0\u7248\u6784\u5efa\u8f93\u51fa, \u4ea4\u7ed9\u5c0fm, \u600e\u4e48\u65b9\u4fbf\u7684\u505a\u8fd9\u4e2a\u5de5\u4f5c\u5462?"),(0,i.kt)("p",null,"Maven\u7684\u5feb\u7167\u673a\u5236\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898. "),(0,i.kt)("p",null,"\u5c0fa\u5c06A\u7248\u672c\u8bbe\u4e3a2.1-snapshoot, \u7136\u540e\u53d1\u5e03\u5230\u79c1\u670d, \u8fd9\u65f6Maven\u4f1a\u81ea\u52a8\u4e3a\u8be5\u6784\u4ef6\u6253\u4e0a\u65f6\u95f4\u6233(\u7248\u672c2.1\u8868\u793a\u5df2\u7ecf\u7a33\u5b9a, \u4e14\u53ea\u5bf9\u5e94\u4e86\u552f\u4e00\u6784\u4ef6, \u800c\u7248\u672c2.1-snapshoot\u8868\u793a\u4e0d\u7a33\u5b9a, \u5bf9\u5e94\u4ed3\u5e93\u4e2d\u5b58\u5728\u591a\u4e2a\u6253\u4e86\u65f6\u95f4\u6233\u7684\u6784\u4ef6)"),(0,i.kt)("p",null,"\u6709\u4e86\u65f6\u95f4\u6233, Maven\u80fd\u591f\u968f\u65f6\u627e\u5230\u4ed3\u5e93\u4e2d\u7684\u8be5\u6784\u4ef62.1-snapshoot\u7248\u672c\u7684\u6700\u65b0\u6587\u4ef6. \u8fd9\u65f6\u5c0fm\u914d\u7f6e\u5bf9\u5e94\u4f9d\u8d56, \u7248\u672c\u4e5f\u8bbe\u4e3a2.1-snapshoot, Maven\u4f1a\u81ea\u52a8\u68c0\u67e5\u6700\u65b0\u7248\u672c, \u68c0\u67e5\u9891\u7387\u53ef\u4ee5\u5728",(0,i.kt)("a",{parentName:"p",href:"#%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"},"\u914d\u7f6e\u8fdc\u7a0b\u4ed3\u5e93"),"\u65f6\u8bbe\u7f6e, \u4e5f\u53ef\u4ee5\u5f3a\u5236\u68c0\u67e5\u66f4\u65b0\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install-U")),(0,i.kt)("h1",{id:"\u4f9d\u8d56\u7684\u914d\u7f6e"},"\u4f9d\u8d56\u7684\u914d\u7f6e"),(0,i.kt)("h2",{id:"\u57fa\u672c\u5143\u7d20"},"\u57fa\u672c\u5143\u7d20"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"groupId, artifactId, version"),(0,i.kt)("li",{parentName:"ul"},"type: \u5bf9\u5e94\u4e8e\u5750\u6807\u5b9a\u4e49\u4e2d\u7684packaging, \u4e00\u822c\u4e0d\u5fc5\u58f0\u660e, \u9ed8\u8ba4\u4e3ajar "),(0,i.kt)("li",{parentName:"ul"},"scope: \u4f9d\u8d56\u7684\u8303\u56f4, ",(0,i.kt)("inlineCode",{parentName:"li"},"compile(\u9ed8\u8ba4), test, provided, runtime, system, import"),", \u89c1",(0,i.kt)("a",{parentName:"li",href:"#scope"},"#scope")),(0,i.kt)("li",{parentName:"ul"},"optional: \u6307\u5b9a\u4f9d\u8d56\u662f\u5426\u53ef\u9009, \u89c1",(0,i.kt)("a",{parentName:"li",href:"#%E5%8F%AF%E9%80%89%E4%BE%9D%E8%B5%96"},"\u53ef\u9009\u4f9d\u8d56")),(0,i.kt)("li",{parentName:"ul"},"exclusion: \u6392\u9664",(0,i.kt)("a",{parentName:"li",href:"#%E4%BC%A0%E9%80%92%E6%80%A7%E4%BE%9D%E8%B5%96"},"#\u4f20\u9012\u6027\u4f9d\u8d56"),", \u89c1",(0,i.kt)("a",{parentName:"li",href:"#%E6%8E%92%E9%99%A4%E4%BE%9D%E8%B5%96"},"#\u6392\u9664\u4f9d\u8d56"))),(0,i.kt)("h2",{id:"scope"},"scope"),(0,i.kt)("p",null,"\u9879\u76ee\u7684 \u7f16\u8bd1, \u6d4b\u8bd5, \u8fd0\u884c \u4f1a\u4f7f\u7528\u4e09\u5957\u4e0d\u540c\u7684classpath, "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"compile"),": \u9ed8\u8ba4\u8303\u56f4, \u4f7f\u7528\u8fd9\u79cd\u8303\u56f4\u7684\u6784\u4ef6\u5728 \u7f16\u8bd1, \u6d4b\u8bd5, \u8fd0\u884c\u65f6\u5747\u6709\u6548, \u5178\u578b\u5982spring-core;")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"test"),": \u53ea\u5728 \u6d4b\u8bd5\u65f6\u5f15\u5165, \u5728\u7f16\u8bd1/\u8fd0\u884c\u65f6\u65e0\u6cd5\u4f7f\u7528\u5bf9\u5e94\u4f9d\u8d56, \u5982JUnit;")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"provided"),": \u8868\u793a\u522b\u7684\u8bbe\u65bd(Web Container)\u4f1a\u63d0\u4f9b, \u6240\u4ee5\u4e0d\u4f1a\u88ab\u6253\u5305; \u5176\u4ed6\u548c compile \u7b49\u540c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"runtime"),": \u4f9d\u8d56\u5bf9\u4e8e\u6d4b\u8bd5, \u8fd0\u884c\u6709\u6548, \u800c\u5728\u7f16\u8bd1\u4ee3\u7801\u65f6\u4e0d\u53c2\u4e0e"),(0,i.kt)("p",{parentName:"li"},"  \u5178\u578b\u5982:jdbc\u9a71\u52a8\u5b9e\u73b0(\u4e3b\u4ee3\u7801\u7f16\u8bd1\u53ea\u9700\u8981jdk\u63d0\u4f9b\u7684jdbc\u63a5\u53e3, \u53ea\u6709\u5728\u6267\u884c\u6d4b\u8bd5\u548c\u8fd0\u884c\u65f6\u624d\u9700\u8981jdbc\u7684\u5177\u4f53\u5b9e\u73b0)"),(0,i.kt)("p",{parentName:"li"},"  \u53e6\u5916runtime\u7684\u4f9d\u8d56\u901a\u5e38\u548coptional\u642d\u914d\u4f7f\u7528\uff0coptional\u4e3atrue \u8868\u793a\u4e0d\u4f1a\u4f20\u9012\u3002\u6211\u53ef\u4ee5\u7528A\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u7528B\u5b9e\u73b0")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"system"),": \u548cprovided\u5b8c\u5168\u4e00\u81f4, \u4f46\u662f\u4f7f\u7528system\u65f6, \u5fc5\u987b\u663e\u5f0f\u7684\u6307\u5b9a\u4f9d\u8d56\u6587\u4ef6\u7684\u8def\u5f84(\u901a\u8fc7systemPath\u5143\u7d20, systemPath\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u5982${JAVA_HOME}), \u7528\u4e8e\u5f15\u5165\u672c\u5730\u7684\u4e0d\u5728maven\u4ed3\u5e93\u4e2d\u7684\u4f9d\u8d56, \u7531\u4e8e\u4e0d\u53ef\u79fb\u690d,\u8981\u614e\u7528;")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"import"),": \u5bfc\u5165\u4f9d\u8d56\u7684\u8303\u56f4, \u4e0d\u4f1a\u5bf93\u79cdclasspath\u4ea7\u751f\u5b9e\u9645\u7684\u5f71\u54cd, \u53c2\u89c1 ",(0,i.kt)("a",{parentName:"p",href:"#dependencyMangement%E5%85%83%E7%B4%A0"},"dependencyMangement\u5143\u7d20")))),(0,i.kt)("h2",{id:"\u4f20\u9012\u6027\u4f9d\u8d56"},"\u4f20\u9012\u6027\u4f9d\u8d56"),(0,i.kt)("p",null,"\u4e0b\u9762\u8bf4\u8bf4 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u4f20\u9012\u6027\u4f9d\u8d56")),(0,i.kt)("p",null,"\u4ee5\u6848\u4f8b\u4e2d\u7684 email\u6a21\u5757\u4e3a\u4f8b, \u9879\u76ee\u4f9d\u8d56spring-core, \u800cspring-core\u53c8\u4f9d\u8d56 common-logging, email\u6a21\u5757\u6709\u4e00\u4e2a'compile'\u8303\u56f4\u7684spring-core\u4f9d\u8d56, spring-core\u6709\u4e00\u4e2a'compile'\u8303\u56f4\u7684common-logging\u4f9d\u8d56, \u90a3\u4e48email\u5c31\u4f1a\u6709\u4e00\u4e2a'compile'\u8303\u56f4\u7684common-logging\u4f9d\u8d56(\u6216\u8005\u8bf4commons-logging\u662femail\u7684\u4e00\u4e2a\u4f20\u9012\u6027\u4f9d\u8d56), \u770b\u4e0b\u56fe:"),(0,i.kt)("p",null,"\u6709\u4e86\u4f20\u9012\u6027\u4f9d\u8d56\u673a\u5236, \u4f7f\u7528spring framework\u5c31\u4e0d\u9700\u8981\u8003\u8651\u5b83\u4f9d\u8d56\u4e86\u4ec0\u4e48;\n\u7b2c\u4e00\u76f4\u63a5\u4f9d\u8d56\u548c\u7b2c\u4e8c\u76f4\u63a5\u4f9d\u8d56\u51b3\u5b9a\u4e86\u4f20\u9012\u6027\u4f9d\u8d56, \u5173\u7cfb\u5982\u4e0b\u56fe:"),(0,i.kt)("p",null,"\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5f53 '\u7b2c\u4e8c\u76f4\u63a5\u4f9d\u8d56' \u8303\u56f4 = 'compile' \u65f6, '\u4f20\u9012\u6027\u4f9d\u8d56'\u8303\u56f4 = '\u7b2c\u4e00\u76f4\u63a5\u4f9d\u8d56'\u8303\u56f4"),(0,i.kt)("li",{parentName:"ul"},"\u5f53 '\u7b2c\u4e8c\u76f4\u63a5\u4f9d\u8d56' \u8303\u56f4 = 'runtime' \u65f6, '\u4f20\u9012\u6027\u4f9d\u8d56'\u8303\u56f4 = '\u7b2c\u4e00\u76f4\u63a5\u4f9d\u8d56'\u8303\u56f4, \u7279\u4f8b: \u7b2c\u4e00\u4f9d\u8d56\u8303\u56f4 = 'compile', \u7b2c\u4e8c\u4f9d\u8d56\u8303\u56f4 = 'runtime', \u5219\u4f20\u9012\u6027\u4f9d\u8d56 = 'runtime'"),(0,i.kt)("li",{parentName:"ul"},"\u5f53 '\u7b2c\u4e8c\u76f4\u63a5\u4f9d\u8d56' \u8303\u56f4 = 'test' \u65f6, \u4f9d\u8d56\u4e0d\u4f1a\u4f20\u9012"),(0,i.kt)("li",{parentName:"ul"},"\u5f53 '\u7b2c\u4e8c\u76f4\u63a5\u4f9d\u8d56' \u8303\u56f4 = 'provided' \u65f6, '\u4f20\u9012\u6027\u4f9d\u8d56' \u8303\u56f4 = 'provided', \u4f46\u662f '\u7b2c\u4e00\u76f4\u63a5\u4f9d\u8d56' = 'provided'\u65f6, '\u4f20\u9012\u6027\u4f9d\u8d56' \u624d\u4f1a\u4f20\u9012")),(0,i.kt)("h2",{id:"maven\u7684\u4f9d\u8d56\u8c03\u89e3\u7279\u6027"},"Maven\u7684\u4f9d\u8d56\u8c03\u89e3\u7279\u6027"),(0,i.kt)("p",null,"\u4f20\u9012\u6027\u4f9d\u8d56\u95ee\u9898---Maven\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u4f9d\u8d56\u8c03\u89e3\u7279\u6027")),(0,i.kt)("p",null,"\u95ee\u98981: \u6709\u8fd9\u6837\u7684\u4f9d\u8d56 a -> b -> c -> x(version: 1.0), a -> d -> x(version: 2.0); \u6b64\u65f6\u67092\u4e2a\u7248\u672c\u7684x, \u524d\u8005\u8def\u5f84\u957f\u5ea6\u4e3a3, \u540e\u8005\u957f\u5ea6\u4e3a2, \u9009\u62e9\u54ea\u4e2a\u5462?\nMaven\u4f9d\u8d56\u8c03\u89e3\u7b2c\u4e00\u539f\u5219: ",(0,i.kt)("inlineCode",{parentName:"p"},"\u8def\u5f84\u6700\u8fd1\u8005\u4f18\u5148"),"; \u6839\u636e\u8fd9\u4e2a\u539f\u5219 x(version: 2.0) \u4f1a\u88abMaven\u9009\u4e2d\u5f15\u5165"),(0,i.kt)("p",null,"\u95ee\u98982: \u6709\u8fd9\u6837\u7684\u4f9d\u8d56 a-> b -> x(version: 1.0), a -> c -> x(version: 2.0);  \u6b64\u65f62\u4e2a\u7248\u672c\u7684x, \u8def\u5f84\u957f\u5ea6\u90fd\u4e00\u6837, \u4f46\u662fb\u5728pom\u4e2d\u58f0\u660e\u7684\u4f4d\u7f6e\u6bd4c\u9760\u524d, \u9009\u62e9\u54ea\u4e2a\u7248\u672c\u5462?\nMaven\u4f9d\u8d56\u8c03\u89e3\u7b2c\u4e8c\u539f\u5219: ",(0,i.kt)("inlineCode",{parentName:"p"},"\u7b2c\u4e00\u58f0\u660e\u8005\u4f18\u5148"),"; \u6839\u636e\u8fd9\u4e2a\u539f\u5219, x(version: 1.0)\u4f1a\u88ab\u9009\u4e2d"),(0,i.kt)("h2",{id:"\u53ef\u9009\u4f9d\u8d56"},"\u53ef\u9009\u4f9d\u8d56"),(0,i.kt)("p",null,"\u8003\u8651\u8fd9\u4e2a\u573a\u666f: a -> b -> x(optional: true), a -> b -> y(optional: true); b\u6a21\u5757\u5b9e\u73b0\u4e86x, y\u4e24\u4e2a\u7279\u6027, \u8fd9\u4e24\u4e2a\u7279\u6027\u4e92\u65a5(\u7528\u6237\u4e0d\u80fd\u540c\u65f6\u4f7f\u7528\u4e24\u4e2a\u7279\u6027, \u6bd4\u5982b\u662f\u4e00\u4e2a\u6301\u4e45\u5c42\u9694\u79bb\u5de5\u5177\u5305, \u652f\u6301MySQL, Oracle), \u5728\u6784\u5efa\u7684\u65f6\u5019, \u9700\u8981\u9700\u8981\u8fd9\u4e24\u79cd\u6570\u636e\u5e93\u7684\u9a71\u52a8\u7a0b\u5e8f, \u4f46\u5728\u4f7f\u7528\u7684\u65f6\u5019\u53ea\u4f1a\u4f9d\u8d56\u5176\u4e2d\u4e00\u4e2a; "),(0,i.kt)("p",null,"\u5982\u679cx, y\u88ab\u6307\u5b9a\u4e3a\u53ef\u9009\u4f9d\u8d56, \u6b64\u65f6, x, y \u53ea\u4f1a\u5bf9 b \u4ea7\u751f\u5f71\u54cd, \u5c06\u4e0d\u4f1a\u5bf9 a \u4ea7\u751f\u4efb\u4f55\u5f71\u54cd, \u5982\u679ca\u9700\u8981\u4f7f\u7528\u9700\u8981\u663e\u5f0f\u7684\u58f0\u660e;"),(0,i.kt)("p",null,"\u901a\u8fc7\u57fa\u672c\u5143\u7d20\u91cc\u7684",(0,i.kt)("inlineCode",{parentName:"p"}," optional"),"\u5143\u7d20\u6307\u5b9a\u4f9d\u8d56\u4e3a\u53ef\u9009\u4f9d\u8d56"),(0,i.kt)("p",null,"\u4e0d\u8fc7\u4e0d\u63a8\u8350\u4f7f\u7528optional, \u56e0\u4e3a\u8fd9\u8fdd\u80cc\u4e86\u89e3\u8026\u7684\u539f\u5219, \u5b9e\u9645\u4e0a,\u53ef\u4ee5\u4e3a\u4e24\u4e2a\u6570\u636e\u5e93\u5206\u522b\u5efa\u7acb Maven\u9879\u76ee, \u5206\u914d\u7edf\u4e00\u7684groupId, \u4e0d\u540c\u7684artifactId, \u5728\u5404\u81ea\u7684pom\u4e2d\u58f0\u660e\u5bf9\u5e94\u7684jdbc\u4f9d\u8d56, \u7528\u6237\u6839\u636e\u9700\u8981\u5f15\u5165\u4e24\u4e2a\u9879\u76ee\u4e4b\u4e00, \u8fd9\u6837\u5c31\u907f\u514d\u4e86\u4f7f\u7528 optional;"),(0,i.kt)("h2",{id:"\u6392\u9664\u4f9d\u8d56"},"\u6392\u9664\u4f9d\u8d56"),(0,i.kt)("p",null,"\u8003\u8651\u8fd9\u4e2a\u573a\u666f: a -> b -> x(version: 1.0-snapshoot), snapshoot\u4e0d\u7a33\u5b9a, \u6211\u4eec\u9700\u8981\u66ff\u6362\u8fd9\u4e2a\u4e0d\u7a33\u5b9a\u7248\u672c\u7684x, \u7136\u540e\u5728a\u4e2d\u58f0\u660e\u4e00\u4e2a\u7a33\u5b9a\u7248\u672c\u7684x;\n\u5982\u4f55\u66ff\u6362\u5462?"),(0,i.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f: \u58f0\u660eexclusion\u65f6, \u53ea\u9700\u8981groupId, artifactId, \u800c\u4e0d\u9700\u8981version;"),(0,i.kt)("h2",{id:"\u4f9d\u8d56\u7684\u4f18\u5316"},"\u4f9d\u8d56\u7684\u4f18\u5316"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"mvn dependency:list"),": \u67e5\u770b\u5df2\u89e3\u6790\u4f9d\u8d56\u5217\u8868")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"mvn dependency:tree"),": \u67e5\u770b\u4f9d\u8d56\u6811"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree")," \u7b80\u8981\u7684\u5217\u51fa\u9879\u76ee\u7684\u4f9d\u8d56\u6811"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree -D verbose")," \u8be6\u7ec6\u5217\u51fa\u9879\u76ee\u7684\u4f9d\u8d56\u6811"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree -D includes=groupid:artifactId excludes=groupId:artifactId")," \u6839\u636e\u81ea\u5df1\u7684\u559c\u597d\u5217\u51fa\u4f9d\u8d56\u6811"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"mvn dependency:analyze"),": \u5206\u6790\u9879\u76ee\u4f9d\u8d56; \u6bd4\u5982a -> b -> c, \u540c\u65f6 a -> c, \u8fd9\u65f6\u53bb\u6389a\u4e2d\u7684c\u4e5f\u4e0d\u62a5\u9519, \u56e0\u4e3ab\u4e2d\u542b\u6709c, \u4f46\u662f\u5982\u679c\u53bb\u6389a\u603b\u663e\u5f0f\u58f0\u660e\u7684c, \u4e00\u65e6b\u7248\u672c\u53d8\u5316, b\u4e2d\u7684c\u7248\u672c\u4e5f\u4f1a\u53d1\u751f\u53d8\u5316, \u7ed9\u9879\u76ee\u5e26\u6765\u5931\u8d25\u7684\u98ce\u9669, \u800c\u4e14\u4e0d\u5bb9\u6613\u67e5\u51fa\u6765; \u56e0\u6b64\u8981\u663e\u5f0f\u58f0\u660e\u9879\u76ee\u4e2d\u76f4\u63a5\u4f7f\u7528\u7684\u4f9d\u8d56;"))),(0,i.kt)("h2",{id:"\u5f15\u5165\u5916\u90e8\u4f9d\u8d56"},"\u5f15\u5165\u5916\u90e8\u4f9d\u8d56"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://blog.csdn.net/qq_30938705/article/details/79245820"},"https://blog.csdn.net/qq_30938705/article/details/79245820")),(0,i.kt)("h1",{id:"\u6848\u4f8b\u8d26\u6237\u6ce8\u518c\u670d\u52a1"},"\u6848\u4f8b:\u8d26\u6237\u6ce8\u518c\u670d\u52a1"),(0,i.kt)("h2",{id:"\u9700\u6c42"},"\u9700\u6c42"),(0,i.kt)("p",null,"\u5148\u770b\u9700\u6c42\u7528\u4f8b:"),(0,i.kt)("table",null,(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("img",{src:"Screenshot_11.png"})),(0,i.kt)("td",null,(0,i.kt)("img",{src:"Screenshot_12.png"})))),(0,i.kt)("p",null,"\u754c\u9762\u539f\u578b\u7c7b\u4f3c\u8fd9\u6837"),(0,i.kt)("h2",{id:"\u7b80\u5355\u7684\u8bbe\u8ba1"},"\u7b80\u5355\u7684\u8bbe\u8ba1"),(0,i.kt)("p",null,"\u63a5\u53e3\u53ef\u80fd\u6709:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u751f\u6210\u9a8c\u8bc1\u7801\u56fe\u7247(String generateCaptchaKey(), void generateCaptchaImage(String key))"),(0,i.kt)("li",{parentName:"ul"},"\u5904\u7406\u6ce8\u518c\u8bf7\u6c42(void signUp(SignUpRequest rqt))"),(0,i.kt)("li",{parentName:"ul"},"\u6fc0\u6d3b\u8d26\u6237(boolean activate(String activationNumber))"),(0,i.kt)("li",{parentName:"ul"},"\u5904\u7406\u767b\u5f55(boolean login(String id, String pwd))")),(0,i.kt)("p",null,"\u9a8c\u8bc1\u7801\u90e8\u5206\u662f\u8fd9\u6837: \u901a\u8fc7 generateCaptchaKey() \u751f\u6210\u4e00\u4e2a key, \u7136\u540e\u901a\u8fc7 generateCaptchaImage(String key)\u751f\u6210image, key\u548cimage\u4f20\u9012\u7ed9client, user\u8089\u773c\u8bc6\u522bimage, client\u4f20\u56dekey\u548cimage\u7684\u503c, server\u7aef\u901a\u8fc7key\u67e5\u5230\u6b63\u786e\u7684image\u503c, \u548cclient\u4f20\u56de\u7684image\u503c\u5bf9\u6bd4;"),(0,i.kt)("p",null,"singUp\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u672a\u88ab\u6fc0\u6d3b\u7684\u8d26\u6237, \u540c\u65f6\u53d1\u9001\u4e00\u5c01\u5e26\u6709\u94fe\u63a5\u7684\u6fc0\u6d3b\u90ae\u4ef6, active\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6fc0\u6d3b\u7801, \u67e5\u627e\u5bf9\u5e94\u7684\u8d26\u6237\u6fc0\u6d3b;"),(0,i.kt)("p",null,"\u9ebb\u96c0\u867d\u5c0f, \u4e94\u810f\u4ff1\u5168, \u6a21\u5757\u4e5f\u9700\u8981\u5212\u5206\u4e00\u4e0b:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"web: \u5305\u542b\u6240\u6709\u548cweb \u76f8\u5173\u7684\u5185\u5bb9, JSP, Servlet, web.xml...\u76f4\u63a5\u4f9d\u8d56service\u6a21\u5757, \u4f7f\u7528\u5176\u63d0\u4f9b\u7684\u670d\u52a1;"),(0,i.kt)("li",{parentName:"ul"},"service: \u7cfb\u7edf\u7684\u6838\u5fc3, \u5c01\u88c5\u4e86\u6240\u6709\u7ec6\u8282, \u5bf9\u5916\u66b4\u9732\u7b80\u5355\u7684\u63a5\u53e3(Facade\u6a21\u5f0f);"),(0,i.kt)("li",{parentName:"ul"},"persist: \u5904\u7406\u8d26\u6237\u4fe1\u606f\u7684\u6301\u4e45\u5316;"),(0,i.kt)("li",{parentName:"ul"},"captcha: \u5904\u7406\u9a8c\u8bc1\u7801key\u7684\u751f\u6210, image\u751f\u6210, \u9a8c\u8bc1;"),(0,i.kt)("li",{parentName:"ul"},"email: \u6fc0\u6d3b\u90ae\u4ef6\u7684\u7f16\u5199\u53d1\u9001;")),(0,i.kt)("h2",{id:"account-email\u6a21\u5757"},"account-email\u6a21\u5757"),(0,i.kt)("p",null,"\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b:"),(0,i.kt)("h3",{id:"parent-pom"},"parent-pom"),(0,i.kt)("p",null,"\u9996\u5148\u770b\u770b",(0,i.kt)("span",{id:"parent-pom"}," parent pom\u914d\u7f6e"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.xy.mvnbook.account</groupId>\n  <artifactId>account-parent</artifactId>\n  <version>0.0.1-SNAPSHOT</version>\n  <packaging>pom</packaging> \x3c!-- \u4f5c\u4e3aparent\u9879\u76ee, \u8fd9\u91cc\u5fc5\u987b\u4e3apom, \u5426\u5219\u65e0\u6cd5\u6784\u5efa --\x3e\n  <name>Account Parent</name>\n  \n  <modules>\n    <module>../account-email</module>\n    <module>../account-persist</module>\n    <module>../account-captcha</module>\n    <module>../account-service</module>\n  </modules>\n  \n  <properties>\n    <springframework.version>4.3.12.RELEASE</springframework.version>\n    <junit.version>4.12</junit.version>\n    <lombok.version>1.16.18</lombok.version>\n    <mail.version>1.4.7</mail.version>\n    <greenmail.version>1.4.1</greenmail.version>\n    <dom4j.version>1.6.1</dom4j.version>\n    <kaptcha.version>2.3.2</kaptcha.version>\n    <maven-compiler-plugin.version>3.6.0</maven-compiler-plugin.version>\n    <maven-resource-plugin.version>3.0.1</maven-resource-plugin.version>\n    <maven-site-plugin.version>3.6</maven-site-plugin.version>\n    \n    \x3c!-- \u6587\u4ef6\u62f7\u8d1d\u65f6\u7684\u7f16\u7801 --\x3e  \n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>  \n    <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>  \n    \x3c!-- \u7f16\u8bd1\u65f6\u7684\u7f16\u7801 --\x3e  \n    <maven.compiler.encoding>UTF-8</maven.compiler.encoding>\n  </properties>\n  \n  <dependencyManagement>\n    <dependencies>\n      \x3c!-- <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-email</artifactId>\n        <version>${project.version}</version>\n      </dependency>\n      <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-persist</artifactId>\n        <version>${project.version}</version>\n      </dependency>\n      <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-captcha</artifactId>\n        <version>${project.version}</version>\n      </dependency> --\x3e\n      \x3c!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --\x3e\n      <dependency>\n          <groupId>com.github.penggle</groupId>\n          <artifactId>kaptcha</artifactId>\n          <version>${kaptcha.version}</version>\n      </dependency>\n      \x3c!-- **************spring start******************************* --\x3e\n      \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-core --\x3e\n      <dependency>\n          <groupId>org.springframework</groupId>\n          <artifactId>spring-core</artifactId>\n          <version>${springframework.version}</version>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --\x3e\n      <dependency>\n          <groupId>org.springframework</groupId>\n          <artifactId>spring-beans</artifactId>\n          <version>${springframework.version}</version>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context --\x3e\n      <dependency>\n          <groupId>org.springframework</groupId>\n          <artifactId>spring-context</artifactId>\n          <version>${springframework.version}</version>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --\x3e\n      <dependency>\n          <groupId>org.springframework</groupId>\n          <artifactId>spring-context-support</artifactId>\n          <version>${springframework.version}</version>\n      </dependency>\n      \n      \x3c!-- ****************spring end******************** --\x3e\n      \n      \x3c!-- https://mvnrepository.com/artifact/junit/junit --\x3e\n      <dependency>\n          <groupId>junit</groupId>\n          <artifactId>junit</artifactId>\n          <version>${junit.version}</version>\n          <scope>test</scope>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/javax.mail/mail --\x3e\n      <dependency>\n          <groupId>javax.mail</groupId>\n          <artifactId>mail</artifactId>\n          <version>${mail.version}</version>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/com.icegreen/greenmail --\x3e\n      <dependency>\n          <groupId>com.icegreen</groupId>\n          <artifactId>greenmail</artifactId>\n          <version>${greenmail.version}</version>\n          <scope>test</scope>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --\x3e\n      <dependency>\n          <groupId>org.projectlombok</groupId>\n          <artifactId>lombok</artifactId>\n          <version>${lombok.version}</version>\n          <scope>provided</scope>\n      </dependency>\n      \x3c!-- https://mvnrepository.com/artifact/dom4j/dom4j --\x3e\n      <dependency>\n          <groupId>dom4j</groupId>\n          <artifactId>dom4j</artifactId>\n          <version>${dom4j.version}</version>\n      </dependency>\n    </dependencies>\n  </dependencyManagement>\n  <build>\n    <pluginManagement>\n        <plugins>\n         <plugin>\n           <groupId>org.apache.maven.plugins</groupId>\n           <artifactId>maven-compiler-plugin</artifactId>\n           <version>${maven-compiler-plugin.version}</version>\n           <configuration>\n             <source>1.5</source>\n             <target>1.5</target>\n           </configuration>\n         </plugin>\n         <plugin>\n           <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-resource-plugin</artifactId>\n                    <version>${maven-resource-plugin.version}</version>\n           <configuration>\n              <encoding>UTF-8</encoding>\n            </configuration>\n          </plugin>\n          <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-site-plugin</artifactId>\n            <version>${maven-site-plugin.version}</version>\n          </plugin>\n          <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-source-plugin</artifactId>\n            <version>3.0.1</version>\n            <executions>\n                <execution>\n                    <id>attach-sources</id>\n                    <phase>verify</phase>\n                    <goals>\n                      <goal>jar-no-fork</goal>\n                    </goals>\n                    \x3c!-- <inherited>false</inherited>\n                    <configuration>\n                    </configuration> --\x3e\x3c!-- \u6ce8\u91ca\u6389, \u4e0d\u7136\u6e90\u7801jar\u5305\u65e0\u6cd5\u751f\u6210, mvn clean verify --\x3e\n                </execution>\n            </executions>\n          </plugin>\n          <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-antrun-plugin</artifactId>\n            <version>1.8</version>\n            <executions>\n                \x3c!-- \u540c\u4e00\u4e2a\u63d2\u4ef6\u76ee\u6807\u7ed1\u5b9a\u5230\u4e86\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\u9636\u6bb5 --\x3e\n                <execution>\n                    <id>ant-validate</id>\n                    <phase>validate</phase>\n                    <goals>\n                        <goal>run</goal>\n                    </goals>\n                    <configuration>\n                        <tasks>\n                            <echo>\u7ed1\u5b9a\u5230\u4e86"validate"\u9636\u6bb5</echo>\n                        </tasks>\n                    </configuration>\n                </execution>\n                <execution>\n                    <id>ant-verify</id>\n                    <phase>verify</phase>\n                    <goals>\n                        <goal>run</goal>\n                    </goals>\n                    <configuration>\n                        <tasks>\n                            <echo>\u7ed1\u5b9a\u5230\u4e86"verify"\u9636\u6bb5</echo>\n                        </tasks>\n                    </configuration>\n                </execution>\n            </executions>\n          </plugin>\n        </plugins>\n    </pluginManagement>\n    <plugins>\n      \x3c!-- <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-site-plugin</artifactId>\n      </plugin> --\x3e\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-source-plugin</artifactId>\n      </plugin>\n      \n    </plugins>\n  </build>\n</project>\n')),(0,i.kt)("h3",{id:"email-pom"},"email-pom"),(0,i.kt)("p",null,"email-pom\u914d\u7f6e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  \x3c!-- <groupId>com.xy.mvnbook.account</groupId> --\x3e \x3c!-- \u53ef\u4ee5\u53bb\u6389, parent\u9879\u76ee\u5df2\u7ecf\u5b9a\u4e49\u7684groupId\u4e86 --\x3e\n  <artifactId>account-email</artifactId> \x3c!-- \u4ee5groupId "account"\u505a\u524d\u7f00 , \u65b9\u4fbf\u533a\u5206\u5176\u4ed6\u6a21\u5757--\x3e\n  <packaging>jar</packaging>\n  <name>Account Email</name>\n  <parent>\n    <groupId>com.xy.mvnbook.account</groupId>\n    <artifactId>account-parent</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <relativePath>../account-parent/pom.xml</relativePath>\x3c!-- \u7236pom\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\uff0c \u9ed8\u8ba4\u662f [../pom.xml]  --\x3e\n  </parent>\n  \n  <dependencies>\n    \x3c!-- **************spring*** \u5b9e\u73b0DI\u6240\u5fc5\u987b\u7684spring\u7ec4\u4ef6(spring-core, spring-context, spring-context-support, spring-beans)******************************* --\x3e\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-core --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-core</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-beans</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context-support</artifactId>\n    </dependency>\n    \n       \x3c!-- ****************spring end************************************************* --\x3e\n    \n    \x3c!-- https://mvnrepository.com/artifact/junit/junit --\x3e\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/javax.mail/mail\n        \u5b9e\u73b0\u90ae\u4ef6\u53d1\u9001\u5fc5\u987b --\x3e\n    <dependency>\n        <groupId>javax.mail</groupId>\n        <artifactId>mail</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/com.icegreen/greenmail \n      \u90ae\u4ef6\u670d\u52a1\u6d4b\u8bd5\u5957\u4ef6 --\x3e\n    <dependency>\n        <groupId>com.icegreen</groupId>\n        <artifactId>greenmail</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --\x3e\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n    </dependency>\n    \n  </dependencies>\n\n    \x3c!-- \u5982\u679c\u6ca1\u6709\u5728parent pom.xml\u4e2d\u914d\u7f6ecomiler\u63d2\u4ef6, \u8fd9\u91cc\u8fd8\u8981\u8865\u4e0a\u8be5\u63d2\u4ef6, \u6307\u5b9a\u7f16\u8bd1\u7248\u672c --\x3e\n\n</project>\n')),(0,i.kt)("h3",{id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5"},"\u4e3b\u4ee3\u7801&\u6d4b\u8bd5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * sendMail interface\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670824\u65e5 \u4e0b\u53485:29:20\n */\npublic interface AccountEmailService {\n    /**\n     * send email\n     * \n     * @param to \u63a5\u53d7\u5730\u5740\n     * @param subject \u4e3b\u9898\n     * @param htmlText \u6b63\u6587\n     * @throws AccountEmailException \u90ae\u4ef6\u53d1\u9001\u9519\u8bef\n     */\n    void sendMail(String to, String subject, String htmlText) throws AccountEmailException;\n\n}\n// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.email.impl;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\n\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\n\nimport com.xy.mvnbook.account.email.AccountEmailService;\nimport com.xy.mvnbook.account.email.exception.AccountEmailException;\n\nimport lombok.Data;\n\n/**\n * 'sendMail' implements\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670824\u65e5 \u4e0b\u53485:30:37\n */\n@Data\npublic class AccountEmailServiceImpl implements AccountEmailService {\n    \n    /**\n     *  sender, spring\u63d0\u4f9b\u7684\u7b80\u5316\u90ae\u4ef6\u53d1\u9001\u7684util\n     */\n    private JavaMailSender sender;\n    /**\n     * \u7cfb\u7edf\u90ae\u7bb1\n     */\n    private String systemEmail;\n\n    public void sendMail(String to, String subject, String htmlText) throws AccountEmailException {\n        MimeMessage msg = sender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg);\n        try {\n            helper.setFrom(systemEmail);\n            helper.setTo(to);\n            helper.setSubject(subject);\n            helper.setText(htmlText);\n            \n            sender.send(msg);\n        } catch (MessagingException e) {\n            throw new AccountEmailException(\"Faild to send email.\", e);\n        }\n    }\n\n}\n\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package com.xy.mvnbook.account.email;\n\nimport static org.junit.Assert.assertEquals;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport com.icegreen.greenmail.util.GreenMail;\nimport com.icegreen.greenmail.util.GreenMailUtil;\nimport com.icegreen.greenmail.util.ServerSetup;\nimport com.xy.mvnbook.account.email.exception.AccountEmailException;\n\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670824\u65e5 \u4e0b\u53486:00:36\n */\npublic class AccountEmailServiceTest {\n\n    private GreenMail green;\n    \n    @Before\n    public void startGreen() {\n        // \u57fa\u4e8esmtp\u534f\u8bae\u521d\u59cb\u5316greenmail\n        green = new GreenMail(ServerSetup.SMTP);\n        green.setUser("test@xiaoyu.com", "123456");// \u521b\u5efa\u8d26\u6237\n        green.start(); // \u9ed8\u8ba4\u76d1\u542c25\u7aef\u53e3\n    }\n    \n    @Test\n    public void testSendMail() {\n        ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext("account-email.xml");\n        AccountEmailService service = (AccountEmailService) ctx.getBean("accountEmailService");\n        try {\n            service.sendMail("test@xiaoyu.com", "Test subject", "<h3>Test</h3>");\n        } catch (AccountEmailException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        green.waitForIncomingEmail(2000, 1); // \u63a5\u53d7\u4e00\u5c01\u90ae\u4ef6, \u6700\u591a\u7b49\u5f852s\n        MimeMessage[] msgs = green.getReceivedMessages();\n        assertEquals(1, msgs.length);\n        try {\n            assertEquals("Test subject", msgs[0].getSubject());\n        } catch (MessagingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        assertEquals("<h3>Test</h3>", GreenMailUtil.getBody(msgs[0]).trim());\n        ctx.close();\n    }\n    \n    @After\n    public void stopGreen() {\n        green.stop();\n    }\n}\n\n')),(0,i.kt)("h3",{id:"\u6d4b\u8bd5\u8d44\u6e90-\u4e3b\u8d44\u6e90\u8bfb\u53d6\u987a\u5e8f"},"\u6d4b\u8bd5\u8d44\u6e90-\u4e3b\u8d44\u6e90\u8bfb\u53d6\u987a\u5e8f"),(0,i.kt)("p",null,"\u8fd9\u91cc\u9700\u8981\u6ce8\u610f: \u6d4b\u8bd5\u7c7b\u4f1a\u5230src/test/reources\u4e0b\u627eservice.properties, \u5982\u679c\u6ca1\u6709\u627e\u5230, \u518d\u5230src/main/resources\u4e0b\u627e, \u4e0d\u5fc5\u62c5\u5fc3classpath\u4e0b\u67092\u4e2aservice.properties;"),(0,i.kt)("h3",{id:"spring\u6ce8\u5165\u914d\u7f6e"},"spring\u6ce8\u5165\u914d\u7f6e"),(0,i.kt)("p",null,"\u5f53\u7136\u8fd8\u6709\u5fc5\u8981\u7684\u6ce8\u5165\u914d\u7f6e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">\n  \n  <context:property-placeholder location="classpath:service.properties"/>\n  <bean id="javaMailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl">\n    <property name="protocol" value="${email.protocol}"></property>\n    <property name="host" value="${email.host}"></property>\n    <property name="port" value="${email.port}"></property>\n    <property name="username" value="${email.username}"></property>\n    <property name="password" value="${email.password}"></property>\n    <property name="javaMailProperties">\n      <props>\n        <prop key="mail.${email.protocol}.auth">${email.auth}</prop>\n      </props>\n    </property>\n  </bean>\n  <bean id="accountEmailService" class="com.xy.mvnbook.account.email.impl.AccountEmailServiceImpl">\n    <property name="sender" ref="javaMailSender"></property>\n    <property name="systemEmail" value="${email.systemEmail}"></property>\n  </bean>\n\n</beans>\n')),(0,i.kt)("p",null,"\u4ee5\u53ca\u90ae\u4ef6\u53d1\u9001\u76f8\u5173props"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\nemail.protocol=smtp\nemail.host=localhost\nemail.port=25\nemail.username=test@xiaoyu.com\nemail.password=123456\nemail.auth=true\nemail.systemEmail=775000738sdfs@qq.com\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean test"),", \u8f93\u51fa\u5982\u4e0b:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"p1"),(0,i.kt)("th",{parentName:"tr",align:null},"p2")))),(0,i.kt)("h2",{id:"account-persist\u6a21\u5757"},"account-persist\u6a21\u5757"),(0,i.kt)("p",null,"\u8d1f\u8d23\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c \u4ee5xml\u4fdd\u5b58\u6570\u636e"),(0,i.kt)("p",null,"\u76ee\u5f55\u7ed3\u6784"),(0,i.kt)("p",null,"\u5728",(0,i.kt)("a",{parentName:"p",href:"#parent-pom"},"parent-pom\u6587\u4ef6"),"\u5b58\u5728\u7684\u60c5\u51b5\u4e0b, \u6dfb\u52a0\u672c\u6a21\u5757\u7684pom"),(0,i.kt)("h3",{id:"account-persist\u7684pom"},"account-persist\u7684pom"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  <artifactId>account-persist</artifactId>\n  <name>Account Persist</name>\n  <packaging>jar</packaging>\n  <parent>\n    <groupId>com.xy.mvnbook.account</groupId>\n    <artifactId>account-parent</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <relativePath>../account-parent/pom.xml</relativePath>\x3c!-- \u7236pom\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\uff0c \u9ed8\u8ba4\u662f [../pom.xml]  --\x3e\n  </parent>\n  \n  <dependencies>\n    \x3c!-- https://mvnrepository.com/artifact/dom4j/dom4j --\x3e\n    <dependency>\n        <groupId>dom4j</groupId>\n        <artifactId>dom4j</artifactId>\n    </dependency>\n    \x3c!-- *************************************************spring\u4f9d\u8d56 start\uff0c \u4e3b\u8981\u7528\u6765\u652f\u6301\u4f9d\u8d56\u6ce8\u5165****************************************** --\x3e\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-core --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-core</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-beans</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context</artifactId>\n    </dependency>\n    \x3c!-- *************************************************spring\u4f9d\u8d56 end\uff0c \u4e3b\u8981\u7528\u6765\u652f\u6301\u4f9d\u8d56\u6ce8\u5165****************************************** --\x3e\n    \x3c!-- https://mvnrepository.com/artifact/junit/junit --\x3e\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n    </dependency>\n    \n    \x3c!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --\x3e\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n    </dependency>\n    \n  </dependencies>\n  \n  <build>\n    \x3c!-- \u5f00\u542f\u6d4b\u8bd5\u8d44\u6e90\u76ee\u5f55\u8fc7\u6ee4 --\x3e\n    <testResources>\n      <testResource>\n        <directory>src/test/resources</directory>\x3c!-- \u8fd9\u91cc\u662f\u5426\u52a0${project.basedir}\u5747\u53ef --\x3e\n        <filtering>true</filtering>\n      </testResource>\n    </testResources>\n    \x3c!-- \u5f00\u542f\u4e3b\u8d44\u6e90\u76ee\u5f55\u8fc7\u6ee4 --\x3e\n    <resources>\n      <resource>\n        <directory>src/main/resources</directory>\n        <filtering>true</filtering>\n      </resource>\n    </resources>\n    \n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\x3c!-- \u652f\u6301java8 --\x3e\n      </plugin>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-resource-plugin</artifactId>\x3c!-- \u4f7f\u7528utf-8\u5904\u7406\u8d44\u6e90\u5904\u7406 --\x3e\n      </plugin>\n    </plugins>\n  </build>\n  \n  \n</project>\n')),(0,i.kt)("h3",{id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5-1"},"\u4e3b\u4ee3\u7801&\u6d4b\u8bd5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package com.xy.mvnbook.account.persist;\n\nimport com.xy.mvnbook.account.persist.dto.Account;\nimport com.xy.mvnbook.account.persist.exception.AccountPersistException;\n/**\n * \u6301\u4e45\u5316 interface, crud\u65b9\u6cd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:08:15\n */\npublic interface AccountPersistService {\n\n    Account createAccount(Account account) throws AccountPersistException;\n    boolean deleteAccount(String id) throws AccountPersistException;\n    Account updateAccount(Account account) throws AccountPersistException;\n    Account readAccount(String id) throws AccountPersistException;\n}\n\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\npackage com.xy.mvnbook.account.persist.exception;\n\n/**\n * \u81ea\u5b9a\u4e49\u5f02\u5e38\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:12:51\n */\npublic class AccountPersistException extends Exception {\n\n    public AccountPersistException(String msg, Exception e) {\n        super(msg, e);\n    }\n\n    private static final long serialVersionUID = -7205545969802653298L;\n\n}\n\n// ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * \u5e38\u91cf(\u81ea\u5b9a\u4e49\u7684\u6807\u7b7e\u5143\u7d20\u540d\u79f0)\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:13:34\n */\npublic interface AccountPersist {\n\n    String ELEMENT_ROOT = "account-persist";\n    String ELEMENT_ACCOUNTS = "accounts";\n    String ELEMENT_ACCOUNT = "account";\n    String ELEMENT_ACCOUNT_ID = "id";\n    String ELEMENT_ACCOUNT_NAME = "name";\n    String ELEMENT_ACCOUNT_PASSWORD = "password";\n    String ELEMENT_ACCOUNT_EMAIL = "email";\n    String ELEMENT_ACCOUNT_ACTIVATED = "activated";\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\npackage com.xy.mvnbook.account.persist.dto;\n\nimport lombok.Data;\n/**\n * dto\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:15:11\n */\n@Data\npublic class Account {\n\n    private String id;\n    private String name;\n    private String password;\n    private String email;\n    private boolean activated;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.persist.impl;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.dom4j.Document;\nimport org.dom4j.DocumentException;\nimport org.dom4j.DocumentFactory;\nimport org.dom4j.Element;\nimport org.dom4j.io.OutputFormat;\nimport org.dom4j.io.SAXReader;\nimport org.dom4j.io.XMLWriter;\n\nimport com.xy.mvnbook.account.persist.AccountPersistService;\nimport com.xy.mvnbook.account.persist.constants.AccountPersist;\nimport com.xy.mvnbook.account.persist.dto.Account;\nimport com.xy.mvnbook.account.persist.exception.AccountPersistException;\n\nimport lombok.Data;\n/**\n * \u6301\u4e45\u5316 \u5b9e\u73b0\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:09:54\n */\n@Data\npublic class AccountPersistServiceImpl implements AccountPersistService {\n    \n    /**\n     * \u6587\u4ef6\u5b58\u50a8\u5730\u5740\n     */\n    private String fileUrl;\n    /**\n     * dom4j reader\n     */\n    private SAXReader reader = new SAXReader();\n\n    public Account createAccount(Account account) throws AccountPersistException {\n        Document doc = this.readDocument();\n        Element accountsEle = doc.getRootElement().element(AccountPersist.ELEMENT_ACCOUNTS);\n        Element accountEle = accountsEle.addElement(AccountPersist.ELEMENT_ACCOUNT);\n        accountEle.addElement(AccountPersist.ELEMENT_ACCOUNT_ID).addText(account.getId());\n        accountEle.addElement(AccountPersist.ELEMENT_ACCOUNT_NAME).addText(account.getName());\n        accountEle.addElement(AccountPersist.ELEMENT_ACCOUNT_PASSWORD).addText(account.getPassword());\n        accountEle.addElement(AccountPersist.ELEMENT_ACCOUNT_EMAIL).addText(account.getEmail());\n        accountEle.addElement(AccountPersist.ELEMENT_ACCOUNT_ACTIVATED).addText(account.isActivated() ? "true" : "false");\n        this.writeDocument(doc);\n        return account;\n    }\n\n    public boolean deleteAccount(String id) throws AccountPersistException {\n        Document doc = this.readDocument();\n        Element accountsEle = doc.getRootElement().element(AccountPersist.ELEMENT_ACCOUNTS);\n        @SuppressWarnings("unchecked")\n        Iterator<Element> ei = accountsEle.elementIterator();\n        while(ei.hasNext()) {\n            Element next = ei.next();\n            if (next.elementText(AccountPersist.ELEMENT_ACCOUNT_ID).equals(id)) {\n                accountsEle.remove(next);\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public Account updateAccount(Account account) throws AccountPersistException {\n        Document doc = this.readDocument();\n        Element accountsEle = doc.getRootElement().element(AccountPersist.ELEMENT_ACCOUNTS);\n        @SuppressWarnings("unchecked")\n        Iterator<Element> ei = accountsEle.elementIterator();\n        Account old  = null;\n        while(ei.hasNext()) {\n            Element next = ei.next();\n            if (next.elementText(AccountPersist.ELEMENT_ACCOUNT_ID).equals(account.getId())) {\n                old = this.buildAccount(next);\n                if (account.getEmail() != null && !"".equals(account.getEmail())) {\n                    next.element(AccountPersist.ELEMENT_ACCOUNT_EMAIL).addText(account.getEmail());\n                }\n                if (account.getName() != null && !"".equals(account.getName())) {\n                    next.element(AccountPersist.ELEMENT_ACCOUNT_NAME).addText(account.getName());\n                }\n                if (account.getPassword() != null && !"".equals(account.getPassword())) {\n                    next.element(AccountPersist.ELEMENT_ACCOUNT_PASSWORD).addText(account.getPassword());\n                }\n                if (account.isActivated()) {\n                    next.element(AccountPersist.ELEMENT_ACCOUNT_ACTIVATED).addText("true");\n                }\n            }\n        }\n        return old;\n    }\n\n    public Account readAccount(String id) throws AccountPersistException {\n        Document doc = readDocument();\n        Element accounts = doc.getRootElement().element(AccountPersist.ELEMENT_ACCOUNTS);\n        @SuppressWarnings("unchecked")\n        List<Element> elements = accounts.elements();\n        for (Element ele : elements) {\n            if (ele.elementText(AccountPersist.ELEMENT_ACCOUNT_ID).equals(id)) {\n                return buildAccount(ele);\n            }\n        }\n        return null;\n    }\n    \n    private Account buildAccount(Element ele) {\n        Account account = new Account();\n        account.setActivated("true".equals(ele.elementText(AccountPersist.ELEMENT_ACCOUNT_ACTIVATED)) ? true : false);\n        account.setEmail(ele.elementText(AccountPersist.ELEMENT_ACCOUNT_EMAIL));\n        account.setId(ele.elementText(AccountPersist.ELEMENT_ACCOUNT_ID));\n        account.setName(ele.elementText(AccountPersist.ELEMENT_ACCOUNT_NAME));\n        account.setPassword(ele.elementText(AccountPersist.ELEMENT_ACCOUNT_PASSWORD));\n        return account;\n    }\n\n    /**\n     * read document\n     * \n     * @return\n     * @throws AccountPersistException\n     */\n    private Document readDocument() throws AccountPersistException {\n        File file = new File(fileUrl);\n        // if the file doesn\'t exits, create it. contain basic element\n        if (!file.exists()) {\n            File parentFile = file.getParentFile();\n            parentFile.mkdirs();\n            Document doc = DocumentFactory.getInstance().createDocument();\n            doc.addElement(AccountPersist.ELEMENT_ROOT).addElement(AccountPersist.ELEMENT_ACCOUNTS);\n            writeDocument(doc);\n        }\n        try {\n            return reader.read(new File(fileUrl));\n        } catch (DocumentException e) {\n            throw new AccountPersistException("unable to read data.xml", e);\n        }\n    }\n    \n    private void writeDocument(Document doc) throws AccountPersistException {\n        OutputStreamWriter osw = null;\n        try {\n            osw = new OutputStreamWriter(new FileOutputStream(fileUrl), "utf-8");\n            XMLWriter xmlWriter = new XMLWriter(osw, OutputFormat.createPrettyPrint());\n            xmlWriter.write(doc);\n        } catch (IOException e) {\n            throw new AccountPersistException("unable to write data.xml", e);\n        } finally {\n            if (osw != null) {\n                try {\n                    osw.close();\n                } catch (IOException e) {\n                    throw new AccountPersistException("unable to close data.xml", e);\n                }\n            }\n        }\n    }\n\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.persist;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\n\nimport java.io.File;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport com.xy.mvnbook.account.persist.dto.Account;\n\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u53486:16:14\n */\npublic class AccountPersistServiceTest {\n\n    private AccountPersistService service;\n    \n    @Before\n    public void pre() throws Exception {\n        File file = new File("target/test-classes/persist-data.xml");\n        if (file.exists()) {\n            file.delete();\n        }\n        \n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext("account-persist.xml");\n        service = (AccountPersistService) context.getBean("accountPersistService");\n        \n        Account account = new Account();\n        account.setId("id");\n        account.setName("name");\n        account.setPassword("password");\n        account.setEmail("email");\n        account.setActivated(true);\n        \n        service.createAccount(account);\n    }\n    \n    @Test\n    public void testReadAccount() throws Exception {\n        Account account = service.readAccount("id");\n        \n        assertNotNull(account);\n        assertEquals("id", account.getId());\n        assertEquals("name", account.getName());\n        assertEquals("password", account.getPassword());\n        assertEquals("email", account.getEmail());\n        assertTrue(account.isActivated());\n    }\n}\n\n\n')),(0,i.kt)("h3",{id:"\u6ce8\u5165\u914d\u7f6e"},"\u6ce8\u5165\u914d\u7f6e"),(0,i.kt)("p",null,"\u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u8d44\u6e90\u6587\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">\n  \n  \x3c!-- <context:property-placeholder location="classpath:service.properties"/> --\x3e\n  <bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">\n    <property name="location" value="classpath:persist.properties"></property>\n  </bean>\n  <bean id="accountPersistService" class="com.xy.mvnbook.account.persist.impl.AccountPersistServiceImpl">\n    <property name="fileUrl" value="${persist.fileUrl}"></property>\n  </bean>\n\n</beans>\n')),(0,i.kt)("p",null,"properties\u6587\u4ef6: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-props"},"persist.fileUrl=${project.build.outputDirectory}/persist-data.xml\n")),(0,i.kt)("p",null,"(\u8fd9\u91cc\u5305\u542b\u4e86\u4e00\u4e2amaven\u5c5e\u6027 ",(0,i.kt)("inlineCode",{parentName:"p"},"${project.build.outputDirectory}")," maven\u7684\u4e3b\u8f93\u51fa\u76ee\u5f55, \u8be6\u7ec6\u770b",(0,i.kt)("a",{parentName:"p",href:"#maven%E5%B1%9E%E6%80%A7"},"maven\u5c5e\u6027")," )"),(0,i.kt)("h2",{id:"account-captcha\u6a21\u5757"},"account-captcha\u6a21\u5757"),(0,i.kt)("h3",{id:"captcha\u6a21\u5757\u7684pom"},"captcha\u6a21\u5757\u7684pom"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  <parent>\n    <groupId>com.xy.mvnbook.account</groupId>\n    <artifactId>account-parent</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <relativePath>../account-parent/pom.xml</relativePath>\x3c!-- \u7236pom\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\uff0c \u9ed8\u8ba4\u662f [../pom.xml]  --\x3e\n    \n  </parent>\n  <artifactId>account-captcha</artifactId>\n  <name>Account Captcha</name>\n  <packaging>jar</packaging>\n  \n  <dependencies>\n    <dependency>\n      <groupId>com.github.penggle</groupId>\n      <artifactId>kaptcha</artifactId>\n      <version>2.3.2</version>\n    </dependency>\n    \x3c!-- *************************************************spring\u4f9d\u8d56 start\uff0c \u4e3b\u8981\u7528\u6765\u652f\u6301\u4f9d\u8d56\u6ce8\u5165****************************************** --\x3e\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-core --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-core</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-beans</artifactId>\n    </dependency>\n    \x3c!-- https://mvnrepository.com/artifact/org.springframework/spring-context --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context</artifactId>\n    </dependency>\n    \x3c!-- *************************************************spring\u4f9d\u8d56 end\uff0c \u4e3b\u8981\u7528\u6765\u652f\u6301\u4f9d\u8d56\u6ce8\u5165****************************************** --\x3e\n    \x3c!-- https://mvnrepository.com/artifact/junit/junit --\x3e\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n    </dependency>\n    \n    \x3c!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --\x3e\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n    </dependency>\n  </dependencies>\n  \n</project>\n')),(0,i.kt)("h3",{id:"\u4e3b\u4ee3\u7801\u6d4b\u8bd5-2"},"\u4e3b\u4ee3\u7801&\u6d4b\u8bd5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package com.xy.mvnbook.account.captcha;\n\nimport java.util.List;\n\nimport com.xy.mvnbook.account.captcha.exception.AccountCaptchaException;\n/**\n * \u9a8c\u8bc1\u7801\u670d\u52a1 interface\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u534810:18:02\n */\npublic interface AccountCaptchaService {\n\n    /**\n     * \u83b7\u53d6 key\n     * @return\n     * @throws AccountCaptchaException\n     */\n    String generageCaptchaKey() throws AccountCaptchaException;\n    /**\n     * \u6839\u636ekey\u83b7\u53d6img\n     * @param key\n     * @return\n     * @throws AccountCaptchaException\n     */\n    byte[] genarateCaptchaImage(String key) throws AccountCaptchaException;\n    /**\n     * \u9a8c\u8bc1\n     * @param key\n     * @param value\n     * @return\n     * @throws AccountCaptchaException\n     */\n    boolean validate(String key, String value) throws AccountCaptchaException;\n    /**\n     * \u83b7\u53d6\u9884\u5b9a\u4e49\u7684\u9a8c\u8bc1\u7801\u5185\u5bb9, \u65b9\u4fbf\u6d4b\u8bd5\n     * @return\n     */\n    List<String> getPreText();\n    void setPreText(List<String> preText);\n    \n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\npackage com.xy.mvnbook.account.captcha.impl;\n\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\n\nimport javax.imageio.ImageIO;\n\nimport org.springframework.beans.factory.InitializingBean;\n\nimport com.google.code.kaptcha.impl.DefaultKaptcha;\nimport com.google.code.kaptcha.util.Config;\nimport com.xy.mvnbook.account.captcha.AccountCaptchaService;\nimport com.xy.mvnbook.account.captcha.exception.AccountCaptchaException;\nimport com.xy.mvnbook.account.captcha.util.RandomGenerator;\n\n/**\n * \u9a8c\u8bc1\u7801\u670d\u52a1 \u5b9e\u73b0\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u534810:22:10\n */\npublic class AccountCaptchaServiceImpl implements AccountCaptchaService, InitializingBean {\n    /**\n     * \u9a8c\u8bc1\u7801\u751f\u6210\u5668\n     */\n    private DefaultKaptcha producer;\n    /**\n     * InitializingBean\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5, \u4f1a\u5728spring\u521d\u59cb\u5316bean\u65f6\u8c03\u7528; \u8fd9\u91cc\u7528\u6765\u521d\u59cb\u5316  producer\n     */\n    public void afterPropertiesSet() throws Exception {\n        producer = new DefaultKaptcha();\n        producer.setConfig(new Config(new Properties()));\n    }\n    /**\n     * \u5b58\u50a8key\u548c\u9a8c\u8bc1\u7801\u6b63\u786e\u7684\u503c\n     */\n    private Map<String, String> captchaMap = new HashMap<String, String>();\n    /**\n     * \u9884\u5b9a\u4e49\u5b57\u7b26\u4e32, \u65b9\u4fbf\u6d4b\u8bd5\n     */\n    private List<String> preText;\n\n    public String generageCaptchaKey() throws AccountCaptchaException {\n        String key = RandomGenerator.getRandomString();\n        String value = this.getCaptchaText();\n        captchaMap.put(key, value);\n        return key;\n    }\n\n    public byte[] genarateCaptchaImage(String key) throws AccountCaptchaException {\n        String value = captchaMap.get(key);\n        if (null == value) {\n            throw new AccountCaptchaException("Captcha key: " + key + "not found.");\n        }\n        BufferedImage img = producer.createImage(value);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try {\n            ImageIO.write(img, "jpg", out);\n        } catch (IOException e) {\n            throw new AccountCaptchaException("Faild to write captcha stream.", e);\n        }\n        return out.toByteArray();\n    }\n\n    public boolean validate(String key, String value) throws AccountCaptchaException {\n        String text = captchaMap.get(key);\n        if (null == text) {\n            throw new AccountCaptchaException("Captcha key: " + key + "not found.");\n        }\n        if (value.equals(text)) {\n            captchaMap.remove(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    public List<String> getPreText() {\n        return this.getPreText();\n    }\n\n    public void setPreText(List<String> preText) {\n        this.preText = preText;\n    }\n    \n    private int count = 0;\n    private String getCaptchaText() {\n        // \u5982\u679c \u9884\u5b9a\u4e49\u9a8c\u8bc1\u7801\u6587\u672c != null, \u5219\u987a\u5e8f\u5faa\u73af\u8be5\u5b57\u7b26\u4e32\u5217\u8868\u8bfb\u53d6\u503c, \u5426\u5219, \u968f\u673a\u521b\u5efa\u4e00\u4e2a\u4e32\n        if (preText != null && !preText.isEmpty()) {\n            String text = preText.get(count);\n            count = (count + 1) % preText.size();\n            return text;\n        } else {\n            return producer.createText();\n        }\n    }\n\n\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.captcha.util;\n\nimport java.util.Random;\n/**\n * \u751f\u6210\u968f\u673a\u4e32 \u5de5\u5177\u7c7b\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u534811:06:06\n */\npublic class RandomGenerator {\n\n    /**\n     * \u5b57\u7b26\u8303\u56f4\n     */\n    private static final String RANGE = "0123456789abcdefghijklmnopqrstuvwxyz";\n    /**\n     * \u751f\u6210\u968f\u673a\u76848\u4f4d\u5b57\u7b26\u4e32\n     * @return\n     */\n    public static synchronized String getRandomString() {\n        Random random = new Random();\n        StringBuilder result = new StringBuilder();\n        for (int i = 0; i < 8; i++) {\n            result.append(RANGE.charAt(random.nextInt(RANGE.length())));\n        }\n        return result.toString();\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.captcha;\n\nimport static org.junit.Assert.*;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.ArrayList;\nimport java.util.HashSet;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport com.xy.mvnbook.account.captcha.util.RandomGenerator;\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e743\u670825\u65e5 \u4e0b\u534811:04:24\n */\npublic class AccountCaptchaServiceTest {\n    \n    private AccountCaptchaService service;\n    \n    @Before\n    public void pre() throws Exception {\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext("account-captcha.xml");\n        service = (AccountCaptchaService)context.getBean("accountCaptchaService");\n    }\n\n    @Test\n    public void testRandomString() throws Exception{\n        HashSet<String> set = new HashSet<String>(100);\n        for (int i=0; i<100; i++) {\n            String random = RandomGenerator.getRandomString();\n            assertFalse(set.contains(random));\n            set.add(random);\n        }\n    }\n    \n    @Test\n    public void testGenerateCaptcha() throws Exception {\n        String key = service.generageCaptchaKey();\n        assertNotNull(key);\n        \n        byte[] imgArray = service.genarateCaptchaImage(key);\n        assertTrue(imgArray.length > 0);\n        \n        File imgFile = new File("target/" + key + ".jpg");\n        FileOutputStream out = new FileOutputStream(imgFile);\n        out.write(imgArray);\n        if (out != null) {\n            out.close();\n        }\n        assertTrue(imgFile.exists() && imgFile.length() > 0);\n    }\n    \n    @Test\n    public void testValidateCorrect() throws Exception{\n        ArrayList<String> preDefinedText = new ArrayList<String>();\n        preDefinedText.add("12345");\n        preDefinedText.add("abcde");\n        service.setPreText(preDefinedText);\n        \n        String key = service.generageCaptchaKey();\n        service.genarateCaptchaImage(key);\n        assertTrue(service.validate(key, "12345"));// \u987a\u5e8f\u8bfb\u53d6preDefinedText\u7684\u5143\u7d20\n        \n        String key1 = service.generageCaptchaKey();\n        service.genarateCaptchaImage(key1);\n        assertTrue(service.validate(key1, "abcde"));\n    }\n    \n    @Test\n    public void testValidateIncorrect() throws Exception {\n        ArrayList<String> preDefinedText = new ArrayList<String>();\n        preDefinedText.add("12345");\n        service.setPreText(preDefinedText);\n        \n        String key = service.generageCaptchaKey();\n        service.genarateCaptchaImage(key);\n        assertFalse(service.validate(key, "1234"));\n    }\n    \n}\n\n')),(0,i.kt)("h3",{id:"\u6ce8\u5165\u914d\u7f6e\u6587\u4ef6"},"\u6ce8\u5165\u914d\u7f6e\u6587\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">\n  \n  \x3c!-- <context:property-placeholder location="classpath:service.properties"/> --\x3e\n  \x3c!-- <bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">\n    <property name="location" value="classpath:persist.properties"></property>\n  </bean> --\x3e\n  <bean id="accountCaptchaService" class="com.xy.mvnbook.account.captcha.impl.AccountCaptchaServiceImpl">\n  </bean>\n\n</beans>\n')),(0,i.kt)("h2",{id:"account-service\u6a21\u5757"},"account-service\u6a21\u5757"),(0,i.kt)("p",null,"web\u9879\u76ee\u6253\u5305\u6210war\u5305, \u90e8\u7f72\u5230web\u5bb9\u5668\u4e2d\u7684war\u5305\u4e00\u822c\u6709\u5982\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784"),(0,i.kt)("p",null,"\u672c\u6a21\u5757\u7528\u6765\u5c01\u88c5\u524d\u4e09\u4e2a\u6a21\u5757\u7684\u7ec6\u8282"),(0,i.kt)("h3",{id:"service-pom\u914d\u7f6e"},"service-pom\u914d\u7f6e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  <parent>\n    <groupId>com.xy.mvnbook.account</groupId>\n    <artifactId>account-parent</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <relativePath>../account-parent/pom.xml</relativePath>\x3c!-- \u7236pom\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\uff0c \u9ed8\u8ba4\u662f [../pom.xml]  --\x3e\n    \n  </parent>\n  <artifactId>account-service</artifactId>\n  <name>Account Service</name>\n  <packaging>jar</packaging>\n  \n  <dependencies>\n    <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-email</artifactId>\n        <version>${project.version}</version>\n      </dependency>\n      <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-persist</artifactId>\n        <version>${project.version}</version>\n      </dependency>\n      <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-captcha</artifactId>\n        <version>${project.version}</version>\n      </dependency>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n    </dependency>\n    <dependency>\n          <groupId>com.icegreen</groupId>\n          <artifactId>greenmail</artifactId>\n      </dependency>\n    <dependency>\n          <groupId>org.projectlombok</groupId>\n          <artifactId>lombok</artifactId>\n      </dependency>\n  </dependencies>\n</project>\n')),(0,i.kt)("h3",{id:"\u4e3b\u4ee3\u7801"},"\u4e3b\u4ee3\u7801"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package com.xy.mvnbook.account.service.bean;\n\nimport lombok.Data;\n/**\n * \u8bf7\u6c42\u5bf9\u8c61\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e744\u670811\u65e5 \u4e0b\u53487:49:19\n */\n@Data\npublic class SignUpRequest {\n\n    private String id;\n    private String email;\n    private String username;\n    private String pwd;\n    private String confirmPwd;\n    private String captchaKey;\n    private String captchaValue;\n    private String activateServiceUrl;\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.service;\n\nimport com.xy.mvnbook.account.service.bean.SignUpRequest;\nimport com.xy.mvnbook.account.service.exception.AccountServiceException;\n/**\n * \u5c01\u88c5\u540e\u66b4\u9732\u7684\u63a5\u53e3\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e744\u670811\u65e5 \u4e0b\u53487:50:44\n */\npublic interface AccountService {\n\n    String generateCaptchaKey() throws AccountServiceException;\n    byte[] generateCaptchaImage(String captchaKey) throws AccountServiceException;\n    void activate(String activateNum) throws AccountServiceException;\n    void login(String id, String pwd) throws AccountServiceException;\n    void singUp(SignUpRequest rqt) throws AccountServiceException;\n}\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\npackage com.xy.mvnbook.account.service.impl;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.xy.mvnbook.account.captcha.AccountCaptchaService;\nimport com.xy.mvnbook.account.captcha.exception.AccountCaptchaException;\nimport com.xy.mvnbook.account.captcha.util.RandomGenerator;\nimport com.xy.mvnbook.account.email.AccountEmailService;\nimport com.xy.mvnbook.account.email.exception.AccountEmailException;\nimport com.xy.mvnbook.account.persist.AccountPersistService;\nimport com.xy.mvnbook.account.persist.dto.Account;\nimport com.xy.mvnbook.account.persist.exception.AccountPersistException;\nimport com.xy.mvnbook.account.service.AccountService;\nimport com.xy.mvnbook.account.service.bean.SignUpRequest;\nimport com.xy.mvnbook.account.service.exception.AccountServiceException;\n\nimport lombok.Data;\n/**\n * \u63a5\u53e3\u5b9e\u73b0\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e744\u670811\u65e5 \u4e0b\u53487:51:32\n */\n@Data\npublic class AccountServiceImpl implements AccountService {\n    \n    private AccountCaptchaService accountCaptchaService;\n    private AccountEmailService accountEmailService;\n    private AccountPersistService accountPersistService;\n    \n    private Map<String, String> activateMap = new HashMap<String, String>();\n    \n\n    public String generateCaptchaKey() throws AccountServiceException {\n        try {\n            return accountCaptchaService.generageCaptchaKey();\n        } catch (AccountCaptchaException e) {\n            throw new AccountServiceException("\u65e0\u6cd5\u521b\u5efa\u9a8c\u8bc1\u7801key\u3002", e);\n        }\n    }\n\n    public byte[] generateCaptchaImage(String captchaKey) throws AccountServiceException {\n        try {\n            return accountCaptchaService.genarateCaptchaImage(captchaKey);\n        } catch (AccountCaptchaException e) {\n            throw new AccountServiceException("\u65e0\u6cd5\u521b\u5efa\u9a8c\u8bc1\u7801image", e);\n        }\n    }\n\n    public void activate(String activateNum) throws AccountServiceException {\n        String accountId = this.getActivateMap().get(activateNum);\n        if (accountId == null) {\n            throw new AccountServiceException("\u65e0\u6548\u7684\u6fc0\u6d3b\u7801\u3002");\n        }\n        try {\n            Account account = accountPersistService.readAccount(accountId);\n            account.setActivated(true);\n            accountPersistService.updateAccount(account);\n        } catch (AccountPersistException e) {\n            throw new AccountServiceException("\u65e0\u6cd5\u6fc0\u6d3b\u3002");\n        }\n    }\n\n    public void login(String id, String pwd) throws AccountServiceException {\n        try {\n            Account account = accountPersistService.readAccount(id);\n            if (account == null) {\n                throw new AccountServiceException("account\u4e0d\u5b58\u5728");\n            }\n            if (!account.isActivated()) {\n                throw new AccountServiceException("account\u672a\u6fc0\u6d3b");\n            }\n            if (!account.getPassword().equals(pwd)) {\n                throw new AccountServiceException("\u5bc6\u7801\u9519\u8bef");\n            }\n        } catch (AccountPersistException e) {\n            throw new AccountServiceException("\u65e0\u6cd5\u767b\u5f55.", e);\n        }\n        \n\n    }\n\n    public void singUp(SignUpRequest rqt) throws AccountServiceException {\n        if (!rqt.getPwd().equals(rqt.getConfirmPwd())) {\n            throw new AccountServiceException("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\u3002");\n        }\n        boolean validate;\n        try {\n            validate = accountCaptchaService.validate(rqt.getCaptchaKey(), rqt.getCaptchaValue());\n        } catch (AccountCaptchaException e) {\n            throw new AccountServiceException("\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u52a8\u4f5c\u5931\u8d25\u3002", e);\n        }\n        if (!validate) {\n            throw new AccountServiceException("\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\u3002");\n        }\n        \n        Account account = new Account();\n        account.setActivated(false);\n        account.setEmail(rqt.getEmail());\n        account.setId(rqt.getId());\n        account.setName(rqt.getUsername());\n        account.setPassword(rqt.getPwd());\n        \n        try {\n            accountPersistService.createAccount(account);\n        } catch (AccountPersistException e) {\n            throw new AccountServiceException("\u4fdd\u5b58account\u5931\u8d25", e);\n        }\n        \n        String activateId = RandomGenerator.getRandomString();\n        activateMap.put(activateId, account.getId());\n        \n        try {\n            accountEmailService.sendMail(account.getEmail(), "\u8bf7\u6fc0\u6d3b\u3002\u3002\u3002", rqt.getActivateServiceUrl().endsWith("/") ? \n                 rqt.getActivateServiceUrl() + activateId : rqt.getActivateServiceUrl() + "/" + activateId);\n        } catch (AccountEmailException e) {\n            throw new AccountServiceException("\u53d1\u9001\u90ae\u4ef6\u5931\u8d25\u3002", e);\n        }\n\n    }\n\n}\n\n')),(0,i.kt)("h3",{id:"spring\u914d\u7f6e\u6587\u4ef6"},"spring\u914d\u7f6e\u6587\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">\n  \n  \x3c!-- <context:property-placeholder location="classpath:service.properties"/> --\x3e\n  \x3c!-- <bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">\n    <property name="location" value="classpath:persist.properties"></property>\n  </bean> --\x3e\n  <import resource="classpath*:/account-captcha.xml"/>\n  <import resource="classpath*:/account-email.xml"/>\n  <import resource="classpath*:/account-persist.xml"/>\n  <bean id="accountService" class="com.xy.mvnbook.account.service.impl.AccountServiceImpl">\n    <property name="accountCaptchaService" ref="accountCaptchaService"></property>\x3c!-- \u8fd9\u91cc\u5c0f\u5fc3ref\u9519\u5199\u6210value --\x3e\n    <property name="accountEmailService" ref="accountEmailService"></property>\n    <property name="accountPersistService" ref="accountPersistService"></property>\n  </bean>\n\n</beans>\n')),(0,i.kt)("h3",{id:"\u5b89\u88c5account-service\u6a21\u5757\u6ce8\u610f"},"\u5b89\u88c5account-service\u6a21\u5757\u6ce8\u610f"),(0,i.kt)("p",null,"\u9700\u8981\u5148\u5b89\u88c5parent\u7684pom, \u5426\u5219\u5b89\u88c5service\u9879\u76ee\u65f6\u4f1a\u62a5\u9519, \u56e0\u4e3aservice\u7684pom\u4e2d\u5f15\u7528\u4e86parent \u7684pom\u4fe1\u606f"),(0,i.kt)("p",null,"\u8fdb\u5165parent\u9879\u76ee\u76ee\u5f55 ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn -N clean install"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"-N"),"\u8868\u793a\u4e0d\u8981\u6784\u5efa\u5b50\u9879\u76ee"),(0,i.kt)("h2",{id:"account-web\u6a21\u5757"},"account-web\u6a21\u5757"),(0,i.kt)("p",null,"\u5305\u62ecservlet\u548c\u524d\u7aef\u9875\u9762"),(0,i.kt)("h3",{id:"webxml"},"web.xml"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<!DOCTYPE web-app PUBLIC\n "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"\n "http://java.sun.com/dtd/web-app_2_3.dtd" >\n\n<web-app>\n  <display-name>Archetype Created Web Application</display-name>\n  \n  <context-param>\n    <param-name>contextConfigLocation</param-name>\n    <param-value>\n        classpath:/account-persist.xml\n        classpath:/account-captcha.xml\n        classpath:/account-email.xml\n        classpath:/account-service.xml\n    </param-value>\n  </context-param>\n  <listener><listener-class>org.springframework.web.context.ContextLoaderListener</listener-class></listener>\n  \n  <servlet>\n    <servlet-name>CaptchaImageServlet</servlet-name>\n    <display-name>CaptchaImageServlet</display-name>\n    <description>return captcha image to jsp</description>\n    <servlet-class>com.xy.mvnbook.account.web.CaptchaImageServlet</servlet-class>\n  </servlet>\n  <servlet>\n    <servlet-name>SignUpServlet</servlet-name>\n    <display-name>SignUpServlet</display-name>\n    <description></description>\n    <servlet-class>com.xy.mvnbook.account.web.SignUpServlet</servlet-class>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>CaptchaImageServlet</servlet-name>\n    <url-pattern>/captcha_image</url-pattern>\n  </servlet-mapping>\n  <servlet-mapping>\n    <servlet-name>SignUpServlet</servlet-name>\n    <url-pattern>/sign_up</url-pattern>\n  </servlet-mapping>\n</web-app>\n\n')),(0,i.kt)("h3",{id:"pomxml"},"pom.xml"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n  <modelVersion>4.0.0</modelVersion>\n  <parent>\n    <groupId>com.xy.mvnbook.account</groupId>\n    <artifactId>account-parent</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n  </parent>\n  \n  <artifactId>account-web</artifactId>\n  <packaging>war</packaging>\n  <name>account-web Maven Webapp</name>\n  \n  <dependencies>\n    \n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n    </dependency>\n    \x3c!-- <dependency>\n        <groupId>javax.servlet.jsp</groupId>\n        <artifactId>jsp-api</artifactId>\n    </dependency> --\x3e\n    \n    <dependency>\n        <groupId>${project.groupId}</groupId>\n        <artifactId>account-service</artifactId>\n        <version>${project.version}</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-web</artifactId>\n    </dependency>\n  </dependencies>\n  <build>\n    <finalName>account</finalName>\x3c!-- \u6700\u7ec8\u751f\u6210\u7684jar\u540d\u5b57; \u9ed8\u8ba4\u4e3a${project.artifactId}-${project.version} --\x3e\n    <plugins>\n        <plugin>\n            <groupId>org.eclipse.jetty</groupId>\n            <artifactId>jetty-maven-plugin</artifactId>\n            <version>9.4.5.v20170502</version>\n           <configuration>\n                <scanIntervalSeconds>5</scanIntervalSeconds>\n                <webAppConfig> \n                   <contextPath>/${project.artifactId}</contextPath>  \n               </webAppConfig>\n               <connectors>\n                   <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">\n                       <port>8081</port>\n                   </connector>\n               </connectors>\n           </configuration>\n        </plugin>\n    </plugins>\n  </build>\n</project>\n\n')),(0,i.kt)("h1",{id:"maven\u4e2d\u7684\u6d4b\u8bd5"},"Maven\u4e2d\u7684\u6d4b\u8bd5"),(0,i.kt)("h2",{id:"maven-surefire-plugin"},"maven-surefire-plugin"),(0,i.kt)("p",null,"Maven\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"maven-surefire-plugin"),"\u8c03\u7528JUnit\u6267\u884c\u6d4b\u8bd5, ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn test"),"\u5373\u53ef, \u5982\u679c\u67d0\u4e2a\u6d4b\u8bd5\u65b9\u6cd5\u5e0c\u671b\u5ffd\u7565, \u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"@Ignore"),"\u6807\u6ce8"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u4e0b, \u8be5\u63d2\u4ef6\u4f1a\u81ea\u52a8\u6267\u884c\u7b26\u5408\u5982\u4e0b\u89c4\u8303\u7684\u6d4b\u8bd5\u7528\u4f8b"),(0,i.kt)("h2",{id:"\u5982\u4f55\u8df3\u8fc7\u6d4b\u8bd5"},"\u5982\u4f55\u8df3\u8fc7\u6d4b\u8bd5"),(0,i.kt)("p",null,"\u65b9\u6cd51: ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn package -D skipTests"),"(\u6709\u65e0\u7a7a\u683c\u90fd\u53ef), \u4e0d\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4f46\u7f16\u8bd1\u6d4b\u8bd5\u7c7b\u751f\u6210\u76f8\u5e94\u7684class\u6587\u4ef6\u81f3target/test-classes\u4e0b (idea \u8df3\u8fc7\u9ed8\u8ba4\u662f\u8fd9\u79cd)"),(0,i.kt)("p",null,"\u65b9\u6cd52: ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn package -D maven.test.skip=true"),"(\u6709\u65e0\u7a7a\u683c\u90fd\u53ef) \u8df3\u8fc7\u6d4b\u8bd5, \u6d4b\u8bd5\u4ee3\u7801\u4e5f\u4e0d\u7f16\u8bd1, \u4f46\u662f\u4e0d\u63a8\u8350\u8fd9\u4e48\u505a"),(0,i.kt)("p",null,"\u65b9\u6cd5 3:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>  \n    <groupId>org.apache.maven.plugin</groupId>  \n    <artifactId>maven-compiler-plugin</artifactId>  \n    <version>2.1</version>  \n    <configuration>  \n        <skip>true</skip>  \n    </configuration>  \n</plugin>  \n<plugin>  \n    <groupId>org.apache.maven.plugins</groupId>  \n    <artifactId>maven-surefire-plugin</artifactId>  \n    <version>2.5</version>  \n    <configuration>  \n        <skip>true</skip>  \n    </configuration>  \n</plugin>\n")),(0,i.kt)("h2",{id:"\u52a8\u6001\u6307\u5b9a\u8fd0\u884c\u7684\u6d4b\u8bd5\u7c7b"},"\u52a8\u6001\u6307\u5b9a\u8fd0\u884c\u7684\u6d4b\u8bd5\u7c7b"),(0,i.kt)("p",null,"\u5982\u679c-D test \u6ca1\u6709\u627e\u5230\u6d4b\u8bd5\u7528\u4f8b, \u4f1a\u62a5\u9519, \u5982\u679c\u5e0c\u671b\u8fd9\u65f6\u4e0d\u62a5\u9519,"),(0,i.kt)("h2",{id:"\u5305\u542b\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b"},"\u5305\u542b&\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b"),(0,i.kt)("h2",{id:"\u6d4b\u8bd5\u62a5\u544a\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a"},"\u6d4b\u8bd5\u62a5\u544a&\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a"),(0,i.kt)("h2",{id:"\u6539\u7528testng\u4ee3\u66ffjunit"},"\u6539\u7528TestNG\u4ee3\u66ffJunit"),(0,i.kt)("p",null,"TestNG\u4e00\u5927\u4f18\u70b9\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u652f\u6301\u6d4b\u8bd5\u7ec4"),"\u7684\u6982\u5ff5, \u5bf9\u6d4b\u8bd5\u53ef\u4ee5\u8fbe\u5230\u65b9\u6cd5\u7ea7\u522b\u7684\u5f52\u7c7b, \u800cJUnit\u53ea\u80fd\u5230\u7c7b\u7ea7\u522b\u7684\u5f52\u7c7b;"),(0,i.kt)("p",null,"\u5c06JUnit\u4f9d\u8d56\u66ff\u6362\u6210TestNG, ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn test"),"\u5373\u53ef"),(0,i.kt)("p",null,"\u9700\u8981\u914d\u7f6etestng.xml\u6765\u914d\u7f6e\u9700\u8981\u8fd0\u884c\u7684\u6d4b\u8bd5\u96c6\u5408"),(0,i.kt)("h2",{id:"\u6253\u5305\u6d4b\u8bd5\u4ee3\u7801"},"\u6253\u5305\u6d4b\u8bd5\u4ee3\u7801"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u6d4b\u8bd5\u4ee3\u7801\u4e0d\u4f1a\u6253\u5305, \u5982\u4e0b\u914d\u7f6e\u624d\u4f1a\u6253\u5305\u6d4b\u8bd5\u4ee3\u7801"),(0,i.kt)("h1",{id:"\u751f\u547d\u5468\u671f"},"\u751f\u547d\u5468\u671f"),(0,i.kt)("p",null,"Maven\u62e5\u67093\u5957\u72ec\u7acb\u7684\u751f\u547d\u5468\u671f, \u6bcf\u4e2a\u5468\u671f\u53c8\u6709\u81ea\u5df1\u7684\u9636\u6bb5, \u8fd9\u4e9b\u9636\u6bb5\u6709\u5e8f, ",(0,i.kt)("inlineCode",{parentName:"p"},"\u540e\u9762\u9636\u6bb5\u4f9d\u8d56\u4e8e\u524d\u9762\u7684\u9636\u6bb5")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"clean",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"pre-clean \u8fd9\u4e2a\u9636\u6bb5\u6267\u884c\u4e00\u4e9b\u6e05\u7406\u524d\u9700\u8981\u5b8c\u6210\u7684\u5de5\u4f5c"),(0,i.kt)("li",{parentName:"ul"},"clean \u6e05\u7406\u4e0a\u6b21\u6784\u5efa\u751f\u6210\u7684\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"post-clean \u6267\u884c\u4e00\u6b21\u6e05\u7406\u540e\u9700\u8981\u5b8c\u6210\u7684\u5de5\u4f5c"))),(0,i.kt)("li",{parentName:"ul"},"site",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"pre-site"),(0,i.kt)("li",{parentName:"ul"},"site"),(0,i.kt)("li",{parentName:"ul"},"post-site"),(0,i.kt)("li",{parentName:"ul"},"site-deploy \u5c06\u7ad9\u70b9\u53d1\u5e03\u5230\u670d\u52a1\u5668"))),(0,i.kt)("li",{parentName:"ul"},"default(\u5b9a\u4e49\u4e86\u6784\u5efa\u7684\u6240\u6709\u6b65\u9aa4, \u6700\u5168)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"validate"),(0,i.kt)("li",{parentName:"ul"},"initialize"),(0,i.kt)("li",{parentName:"ul"},"generate-sources"),(0,i.kt)("li",{parentName:"ul"},"process-sources: \u5904\u7406\u9879\u76ee\u4e3b\u8d44\u6e90\u6587\u4ef6, \u5bf9src/main/resources\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u53d8\u91cf\u66ff\u6362, \u7136\u540e\u590d\u5236\u5230\u8f93\u51fa\u7684\u4e3bclasspath\u76ee\u5f55\u4e2d"),(0,i.kt)("li",{parentName:"ul"},"generate-resources"),(0,i.kt)("li",{parentName:"ul"},"process-resources"),(0,i.kt)("li",{parentName:"ul"},"compile : \u7f16\u8bd1\u9879\u76ee\u4e3b\u4ee3\u7801\u5230\u4e3b\u8f93\u51faclasspath\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"process-classes"),(0,i.kt)("li",{parentName:"ul"},"generate-test-sources"),(0,i.kt)("li",{parentName:"ul"},"process-test-sources : \u5904\u7406\u9879\u76ee\u6d4b\u8bd5\u8d44\u6e90\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"generate-test-resources"),(0,i.kt)("li",{parentName:"ul"},"process-test-resources"),(0,i.kt)("li",{parentName:"ul"},"test-compile"),(0,i.kt)("li",{parentName:"ul"},"process-test-classes"),(0,i.kt)("li",{parentName:"ul"},"test \u4f7f\u7528\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u6d4b\u8bd5, "),(0,i.kt)("li",{parentName:"ul"},"prepare-package"),(0,i.kt)("li",{parentName:"ul"},"package"),(0,i.kt)("li",{parentName:"ul"},"pre-integration-test"),(0,i.kt)("li",{parentName:"ul"},"integration-test"),(0,i.kt)("li",{parentName:"ul"},"post-integration-test"),(0,i.kt)("li",{parentName:"ul"},"verify"),(0,i.kt)("li",{parentName:"ul"},"install"),(0,i.kt)("li",{parentName:"ul"},"deploy")))),(0,i.kt)("p",null,"mvn\u547d\u4ee4\u5b9e\u9645\u4e0a\u5c31\u662f\u8c03\u7528\u4e09\u5957\u751f\u547d\u5468\u671f\u7684\u4e0d\u540c\u9636\u6bb5\u8fdb\u884c\u7ec4\u5408"),(0,i.kt)("h1",{id:"\u63d2\u4ef6"},"\u63d2\u4ef6"),(0,i.kt)("h2",{id:"\u67e5\u770b\u63d2\u4ef6\u5e2e\u52a9\u6587\u6863"},"\u67e5\u770b\u63d2\u4ef6\u5e2e\u52a9\u6587\u6863"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn help:describe -Dplugin=<plugin_name> -Dgoal=<goal> -Ddetail=true")),(0,i.kt)("h2",{id:"\u63d2\u4ef6\u7ed1\u5b9a"},"\u63d2\u4ef6\u7ed1\u5b9a"),(0,i.kt)("p",null,"\u63d2\u4ef6\u7ed1\u5b9a(\u751f\u547d\u5468\u671f\u7684\u9636\u6bb5\u548c\u63d2\u4ef6\u76ee\u6807\u76f8\u4e92\u7ed1\u5b9a)"),(0,i.kt)("p",null,"Maven\u5185\u7f6e\u7ed1\u5b9a(\u4e3a\u4e86\u5f00\u7bb1\u5373\u7528, Maven\u4e3a\u6838\u5fc3\u7684\u4e00\u4e9b\u751f\u547d\u5468\u671f\u9636\u6bb5\u7ed1\u5b9a\u4e86\u5f88\u591a\u63d2\u4ef6\u76ee\u6807, \u5f53user\u8fd0\u884c\u547d\u4ee4\u8c03\u7528\u751f\u547d\u5468\u671f\u9636\u6bb5\u7684\u65f6\u5019, \u5bf9\u5e94\u7684\u63d2\u4ef6\u76ee\u6807\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u4efb\u52a1, \u8fd9\u6709\u70b9\u50cf\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7684\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f)"),(0,i.kt)("p",null,"\u5185\u7f6e\u7ed1\u5b9a\u7684\u4f8b\u5b50\u770b\u4e0b\u56fe"),(0,i.kt)("p",null,"default\u751f\u547d\u5468\u671f\u8fd8\u6709\u5f88\u591a\u9636\u6bb5, \u8fd9\u91cc\u53ea\u662f\u5217\u51fa\u4e86\u5185\u7f6e\u7ed1\u5b9a\u4e86\u63d2\u4ef6\u7684\u9636\u6bb5, \u5176\u4ed6\u6ca1\u6709\u7ed1\u5b9a\u63d2\u4ef6\u7684\u9636\u6bb5\u5c31\u6ca1\u6709\u5b9e\u9645\u884c\u4e3a;"),(0,i.kt)("h2",{id:"\u63d2\u4ef6\u7684\u81ea\u5b9a\u4e49\u7ed1\u5b9a"},"\u63d2\u4ef6\u7684\u81ea\u5b9a\u4e49\u7ed1\u5b9a"),(0,i.kt)("p",null,"\u6bd4\u5982\u521b\u5efa\u6e90\u7801jar\u5305, \u5185\u7f6e\u7ed1\u5b9a\u4e2d\u5e76\u6ca1\u6709\u8fd9\u4e00\u9879\u4efb\u52a1, \u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7ed1\u5b9a\u5173\u7cfb, \u751f\u6210\u6e90\u7801jar\u8981\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"maven-source-plugin"),"\u63d2\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-source-plugin</artifactId>\n    <version>3.0.1</version>\n    <executions>\n        <execution>\n            <id>attach-sources</id> \x3c!-- id\u540d\u79f0\u968f\u610f --\x3e\n            <phase>verify</phase> \x3c!-- \u751f\u547d\u5468\u671f\u9636\u6bb5 --\x3e\n            <goals>\n                <goal>jar-no-fork</goal>\x3c!-- \u63d2\u4ef6\u76ee\u6807 --\x3e\n            </goals>\n            \x3c!-- <inherited>false</inherited>\n            <configuration>\n            </configuration> --\x3e\x3c!-- \u6ce8\u91ca\u6389, \u4e0d\u7136\u6e90\u7801jar\u5305\u65e0\u6cd5\u751f\u6210, mvn clean verify --\x3e\n        </execution>\n    </executions>\n</plugin>\n")),(0,i.kt)("p",null,"\u8fd0\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean verify")," \u4f1a\u5728\u6253\u5305\u540c\u65f6\u751f\u6210\u6e90\u7801jar\u5305"),(0,i.kt)("p",null,"\u8fd9\u91cc\u8003\u8651\u4e00\u4e2a\u95ee\u9898: \u5982\u679c\u6709\u591a\u4e2a\u63d2\u4ef6\u76ee\u6807\u88ab\u7ed1\u5b9a\u5230\u540c\u4e00\u4e2a\u9636\u6bb5, \u76ee\u6807\u7684\u6267\u884c\u987a\u5e8f\u662f\u600e\u6837\u7684\u5462? ------",(0,i.kt)("inlineCode",{parentName:"p"},"\u63d2\u4ef6\u58f0\u660e\u7684\u5148\u540e\u987a\u5e8f\u51b3\u5b9a\u4e86\u76ee\u6807\u7684\u6267\u884c\u987a\u5e8f")),(0,i.kt)("h2",{id:"\u5728\u547d\u4ee4\u884c\u7ed9\u63d2\u4ef6\u8bbe\u7f6e\u53c2\u6570"},"\u5728\u547d\u4ee4\u884c\u7ed9\u63d2\u4ef6\u8bbe\u7f6e\u53c2\u6570"),(0,i.kt)("p",null,"maven-surefire-plugin \u63d0\u4f9b\u4e00\u4e2a\u53c2\u6570 maven.test.skip ,\u5982\u679c\u4e3a true, \u4f1a\u8df3\u8fc7\u6d4b\u8bd5, \u4e8e\u662f\u5e0c\u671b\u8df3\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u8fd9\u4e48\u505a:\n",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install -Dmaven.test.skip=true")),(0,i.kt)("h2",{id:"\u5728pom\u4e2d\u8bbe\u7f6e\u63d2\u4ef6\u7684\u5168\u5c40\u53c2\u6570"},"\u5728pom\u4e2d\u8bbe\u7f6e\u63d2\u4ef6\u7684\u5168\u5c40\u53c2\u6570"),(0,i.kt)("p",null,"\u8fd8\u662f\u751f\u6210\u6e90\u4ee3\u7801jar\u5305\u7684\u90a3\u4e2a\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-source-plugin</artifactId>\n    <version>3.0.1</version>\n    <executions>\n        <execution>\n            <id>attach-sources</id> \x3c!-- id\u540d\u79f0\u968f\u610f --\x3e\n            <phase>verify</phase> \x3c!-- \u751f\u547d\u5468\u671f\u9636\u6bb5 --\x3e\n            <goals>\n                <goal>jar-no-fork</goal>\x3c!-- \u63d2\u4ef6\u76ee\u6807 --\x3e\n            </goals>\n            \n            <configuration>\n                \x3c!-- \u5728\u8fd9\u91cc\u914d\u7f6e\u53c2\u6570 --\x3e\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n")),(0,i.kt)("h2",{id:"\u5728pom\u4e2d\u7ed9\u63d2\u4ef6\u4efb\u52a1\u914d\u7f6e\u4e2a\u6027\u5316\u53c2\u6570"},"\u5728pom\u4e2d\u7ed9\u63d2\u4ef6\u4efb\u52a1\u914d\u7f6e\u4e2a\u6027\u5316\u53c2\u6570"),(0,i.kt)("p",null,"\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"maven-antrun-plugin"),"\u4e3a\u4f8b, \u5b83\u53ef\u4ee5\u6267\u884cant\u4efb\u52a1"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-antrun-plugin</artifactId>\n    <version>1.8</version>\n    <executions>\n        \x3c!-- \u540c\u4e00\u4e2a\u63d2\u4ef6\u76ee\u6807\u7ed1\u5b9a\u5230\u4e86\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\u9636\u6bb5 --\x3e\n        <execution>\n            <id>ant-validate</id>\n            <phase>validate</phase>\n            <goals>\n                <goal>run</goal>\n            </goals>\n            <configuration>\n                <tasks>\n                    <echo>\u7ed1\u5b9a\u5230\u4e86"validate"\u9636\u6bb5</echo>\n                </tasks>\n            </configuration>\n        </execution>\n        <execution>\n            <id>ant-verify</id>\n            <phase>verify</phase>\n            <goals>\n                <goal>run</goal>\n            </goals>\n            <configuration>\n                <tasks>\n                    <echo>\u7ed1\u5b9a\u5230\u4e86"verify"\u9636\u6bb5</echo>\n                </tasks>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n')),(0,i.kt)("p",null,"\u8fd0\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean verify -D maven.test.skip"),", \u4f1a\u8df3\u8fc7\u6d4b\u8bd5\uff0c \u8f93\u51fa\u5982\u4e0b\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"p1"),(0,i.kt)("th",{parentName:"tr",align:null},"p2"),(0,i.kt)("th",{parentName:"tr",align:null},"p3")))),(0,i.kt)("h2",{id:"\u5e38\u7528\u7684\u63d2\u4ef6"},"\u5e38\u7528\u7684\u63d2\u4ef6"),(0,i.kt)("h3",{id:"\u6253\u53ef\u6267\u884c\u5305\u63d2\u4ef6"},"\u6253\u53ef\u6267\u884c\u5305\u63d2\u4ef6"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.baeldung.com/executable-jar-with-maven"},"https://www.baeldung.com/executable-jar-with-maven")),(0,i.kt)("p",null,"\u5e38\u7528\u7684\u6253\u5305\u63d2\u4ef6\u6709\u5982\u4e0b3\u79cd"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-shade-plugin</artifactId>\n    <executions>\n        <execution>\n            <phase>package</phase>\n            <goals>\n                <goal>shade</goal>\n            </goals>\n            <configuration>\n                <shadedArtifactAttached>true</shadedArtifactAttached>\n                <transformers>\n                    <transformer implementation=\n                                "org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">\n                        <mainClass>\n                            jetty.Main\n                        </mainClass>\n                    </transformer>\n                </transformers>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n')),(0,i.kt)("p",null,"\u4e3b\u8981\u8bf4\u8bf4\u7b2c\u4e09\u79cd"),(0,i.kt)("p",null,"\u4e24\u79cd\u4f7f\u7528\u65b9\u5f0f"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528 descriptorRefs(\u5b98\u65b9\u63d0\u4f9b\u7684\u5b9a\u5236\u5316\u6253\u5305\u65b9\u5f0f)\uff0c\u5b98\u65b9\u63d0\u4f9b\u7684 descriptorRef \u6709 bin, jar-with-dependencies, src, project\u3002","[\u4e0d\u5efa\u8bae\u4f7f\u7528]")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528 descriptors\uff0c\u6307\u5b9a\u6253\u5305\u6587\u4ef6 src/assembly/src.xml\uff0c\u5728\u8be5\u914d\u7f6e\u6587\u4ef6\u5185\u6307\u5b9a\u6253\u5305\u64cd\u4f5c\u3002"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<project>\n[...]\n<build>\n    [...]\n    <plugins>\n    <plugin>\n        <artifactId>maven-assembly-plugin</artifactId>\n        <version>3.0.0</version>\n        <configuration>\n        <descriptors>\n            <descriptor>src/assembly/assembly.xml</descriptor>\x3c!-- \u6307\u5b9a\u63d2\u4ef6\u914d\u7f6e\u6587\u4ef6\u8def\u5f84 --\x3e\n        </descriptors>\n        \x3c!--\u8fd9\u6837\u914d\u7f6e\u540e\uff0cmvn deploy\u4e0d\u4f1a\u628aassembly\u6253\u7684zip\u5305\u4e0a\u4f20\u5230nexus--\x3e\n        <attach>false</attach>\n        </configuration>\n        <executions>\n            <execution>  \n                <id>make-assembly</id>  \n                <phase>package</phase>\x3c!--\u7ed1\u5b9a\u5230package--\x3e  \n                <goals>  \n                    <goal>single</goal>\x3c!--\u53ea\u8fd0\u884c\u4e00\u6b21--\x3e  \n                </goals>  \n            </execution>  \n        </executions>  \n        [...]\n</project>\n")),(0,i.kt)("p",{parentName:"li"},"  \u518d\u770b\u63d2\u4ef6\u81ea\u8eab\u7684\u914d\u7f6e\u6587\u4ef6 assembly.xml"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<assembly\n    xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">\n\n    <id>mini</id>\n\n    <formats>\n        <format>tar.gz</format>\x3c!-- \u6253\u5305\u7684\u6587\u4ef6\u683c\u5f0f, \u53ef\u4ee5\u6709 zip\u3001tar\u3001tar.gz (or tgz)\u3001tar.bz2 (or tbz2)\u3001jar\u3001dir\u3001war\uff0c\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u591a\u4e2a\u6253\u5305\u683c\u5f0f --\x3e\n        \x3c!-- <format>dir</format> --\x3e\n    </formats>\n\n    <includeBaseDirectory>false</includeBaseDirectory>\x3c!-- \u662f\u5426\u5c06\u5de5\u7a0b\u540d\u4f5c\u4e3a\u538b\u7f29\u5305\u7684\u6839\u8def\u5f84 --\x3e\n\n    <fileSets>\x3c!-- \u7ba1\u7406\u4e00\u7ec4\u6587\u4ef6\u7684\u5b58\u653e\u4f4d\u7f6e --\x3e\n        <fileSet>\n            <directory>src/main/webapp</directory>\x3c!-- \u9700\u8981\u6253\u5305\u7684\u76ee\u5f55 --\x3e\n            <excludes>\n                <exclude>**/*config.yml</exclude>\n                <exclude>**/*.data</exclude>\x3c!-- admin user & role --\x3e\n                <exclude>**/admin_log/**</exclude>\n                <exclude>**/docs/**</exclude>\x3c!-- \u6709\u4e2d\u6587\u6253\u5305\u4f1a\u51fa\u4e71\u7801 --\x3e\n            </excludes>\n            <outputDirectory>/</outputDirectory>\x3c!-- \u6253\u5305\u540e\u8f93\u51fa\u76ee\u5f55 --\x3e\n        </fileSet>\n\n        <fileSet>\n            <directory>${project.build.directory}/${project.build.finalName}/WEB-INF/lib</directory>\n            <includes>\n                <include>${project.build.finalName}*.jar</include>\n                <include>sodo-*.jar</include>\n            </includes>\n            <outputDirectory>/WEB-INF/lib</outputDirectory>\n        </fileSet>\n\n    </fileSets>\n\n     <files>\x3c!-- \u53ef\u4ee5\u6307\u5b9a\u76ee\u7684\u6587\u4ef6\u540d\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u5176\u4ed6\u548c fileSets \u76f8\u540c --\x3e\n        <file>\n        <source>README.txt</source>\x3c!-- \u6e90\u6587\u4ef6 --\x3e\n        <outputDirectory>/</outputDirectory>\x3c!-- \u8f93\u51fa\u76ee\u5f55 --\x3e\n        </file>\n    </files>\n\n    <dependencySets>\x3c!-- \u7528\u6765\u5b9a\u5236\u5de5\u7a0b\u4f9d\u8d56 jar \u5305\u7684\u6253\u5305\u65b9\u5f0f --\x3e\n     <dependencySet>\n         \x3c!--\u662f\u5426\u628a\u672c\u9879\u76ee\u6dfb\u52a0\u5230\u4f9d\u8d56\u6587\u4ef6\u5939\u4e0b--\x3e\n         <useProjectArtifact>true</useProjectArtifact>\n         <outputDirectory>lib</outputDirectory>\x3c!-- \u6307\u5b9a\u5305\u4f9d\u8d56\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u662f\u76f8\u5bf9\u4e8e\u6839\u76ee\u5f55 --\x3e\n         \x3c!--\u5c06scope\u4e3aruntime\u7684\u4f9d\u8d56\u5305\u6253\u5305--\x3e\n         <scope>runtime</scope>\n         \x3c!--\u6b64\u5916\u8fd8\u6709\u4e24\u4e2a\u5143\u7d20: includes/include*    List<String>    \u5305\u542b\u4f9d\u8d56;  excludes/exclude*    List<String>    \u6392\u9664\u4f9d\u8d56 --\x3e\n     </dependencySet>\n    </dependencySets>\n</assembly>\n\n')))),(0,i.kt)("h3",{id:"maven-war-plugin"},"maven-war-plugin"),(0,i.kt)("p",null,"\u6253war\u5305\u63d2\u4ef6, \u6253\u5305\u65f6\u5bf9web\u8d44\u6e90\u5f00\u542f\u8d44\u6e90\u8fc7\u6ee4, \u4f7f\u5f97\u80fd\u591f\u4f7f\u7528Maven\u5c5e\u6027. \u89c1",(0,i.kt)("a",{parentName:"p",href:"#%E5%BC%80%E5%90%AFweb%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4"},"\u5f00\u542fweb\u8d44\u6e90\u8fc7\u6ee4")),(0,i.kt)("p",null,"\u53e6\u5916, \u5982\u679c\u4f7f\u7528 servlet 3.0, \u9700\u8981\u914d\u7f6e 'failOnMissingWebXml'"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-war-plugin</artifactId>\n    <version>2.4</version>\n    <configuration>\n        <failOnMissingWebXml>false</failOnMissingWebXml>\n    </configuration>\n</plugin>\n")),(0,i.kt)("h3",{id:"maven-eclipse-plugin"},"maven-eclipse-plugin"),(0,i.kt)("p",null,"\u751f\u6210.classpath\u548c.project\u6587\u4ef6\uff0c\u5e76\u4e14\u914d\u7f6eEclispe\u5c06Maven\u4f5c\u4e3aExternal\u5de5\u5177"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <artifactId>maven-eclipse-plugin</artifactId>\n    <version>2.9</version>\n    <configuration>\n        <additionalProjectnatures>\n            <projectnature>org.springframework.ide.eclipse.core.springnature</projectnature>\n        </additionalProjectnatures>\n        <additionalBuildcommands>\n            <buildcommand>org.springframework.ide.eclipse.core.springbuilder</buildcommand>\n        </additionalBuildcommands>\n        <downloadSources>true</downloadSources>\n        <downloadJavadocs>true</downloadJavadocs>\n    </configuration>\n</plugin>\n\n")),(0,i.kt)("p",null,"\u8fd0\u884c\uff1amvn eclipse:eclipse \u751f\u6210.classpath\u548c.project\u6587\u4ef6"),(0,i.kt)("h3",{id:"exec-maven-plugin"},"exec-maven-plugin"),(0,i.kt)("p",null,"\u53ef\u4ee5\u6267\u884c\u547d\u4ee4\u884c, or \u6267\u884c shell"),(0,i.kt)("p",null,"\u901a\u8fc7\u547d\u4ee4\u884c \u6267\u884cjava main\u3002",(0,i.kt)("inlineCode",{parentName:"p"},'mvn exec:java -Dexec.mainClass="com.demo.HelloWorld"')," \u5e76\u4e0d\u6253\u53ef\u6267\u884c\u5305"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>  \n    <groupId>org.codehaus.mojo</groupId>  \n    <artifactId>exec-maven-plugin</artifactId>  \n    <version>1.2.1</version>  \n    <executions>  \n        <execution>\n            <phase>test</phase>  \n            <goals>  \n                <goal>java</goal>  \n            </goals>  \n        </execution>  \n    </executions>  \n    <configuration>  \n        <mainClass>com.demo.config.DocMapper</mainClass>  \n        <arguments>\n            <argument>${project.build.outputDirectory}\\doc-path-map.txt</argument>\n            <argument>${basedir}\\src</argument>\n            <argument>**/resource/*.java</argument>\n        </arguments>\n    </configuration>  \n</plugin>  \n")),(0,i.kt)("p",null,"or \u7b80\u5355\u70b9\u7684"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <groupId>org.codehaus.mojo</groupId>\n    <artifactId>exec-maven-plugin</artifactId>\n    <version>1.2.1</version>\n    <configuration>\n        <mainClass>org.test.int1.Main</mainClass>\n    </configuration>\n</plugin>\n")),(0,i.kt)("p",null,"\u6216\u8005, \u76f4\u63a5\u6267\u884c shell \u811a\u672c:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<build>\n        <plugins>\n            <plugin>\n                <artifactId>exec-maven-plugin</artifactId>\n                <groupId>org.codehaus.mojo</groupId>\n                <executions>\n                    <execution>\n                        <id>uncompress</id>\n                        <phase>install</phase>\n                        <goals>\n                            <goal>exec</goal>\n                        </goals>\n                        <configuration>\n                            <executable>${basedir}/uncompress.sh</executable>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n")),(0,i.kt)("h3",{id:"bash-maven-plugin"},"bash-maven-plugin"),(0,i.kt)("p",null,"\u6267\u884c bash \u811a\u672c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<plugin>\n    \x3c!-- Run with:\n        mvn bash:run\n        mvn install\n    --\x3e\n    <groupId>com.atlassian.maven.plugins</groupId>\n    <artifactId>bash-maven-plugin</artifactId>\n    <version>1.0-SNAPSHOT</version>\n    <executions>\n        <execution>\n            <id>test</id>\n            <phase>integration-test</phase>\n            <goals>\n                <goal>run</goal>\n            </goals>\n        </execution>\n    </executions>\n    <configuration>\n        <script>\n            # Here you can execute shell commands\n            echo "Tomcat will start"\n            /opt/apache-tomcat/bin/startup.sh\n        <\/script>\n    </configuration>\n</plugin>\n')),(0,i.kt)("h3",{id:"maven-antrun-plugin"},"maven-antrun-plugin"),(0,i.kt)("p",null,"\u6267\u884c\u811a\u672c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'\n<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-antrun-plugin</artifactId>\n    <version>1.8</version>\n    <executions>\n        <execution>\n            <id>generateSources</id>\n            <phase>generate-sources</phase>\n            <configuration>\n            \x3c!-- \u63d0\u4f9b\u5404\u79cd\u4e0d\u540c task \u7c7b\u578b\u7684\u6807\u7b7e, echo, replaceregexp... --\x3e\n                <tasks> \n                    <exec executable="/bin/bash">\n                        <arg value="myFirst.sh" />\n                        <arg value="inputOne" />\n                    </exec>\n                    <exec executable="/bin/bash">\n                        <arg value="src/mySecond.sh" />\n                        <arg value="inputTwo" />\n                    </exec>\n            \x3c!-- \u66ff\u6362util\u6a21\u5757Global.PRODUCT_VERSION\u7248\u672c\u53f7 --\x3e\n                    <replaceregexp file="datagear-util/src/main/java/org/datagear/util/Global.java" encoding="UTF-8" match="VERSION = &quot;\\d+(\\.\\d+){1,2}(\\-\\w+){0,1}&quot;" replace="VERSION = &quot;${project.version}&quot;"/>\n            \x3c!-- \u4e3amanagement\u6a21\u5757\u7684datagear.sql\u6dfb\u52a0\u7248\u672c\u53f7\u884c --\x3e\n                    <echo file="datagear-management/src/main/resources/org/datagear/management/ddl/datagear.sql" encoding="UTF-8" append="true">\n${line.separator}\n-----------------------------------------\n--version[${project.version}], DO NOT EDIT THIS LINE!\n-----------------------------------------\n${line.separator}\n                    </echo>\n                </tasks>\n            </configuration>\n            <goals>\n                <goal>run</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n\n')),(0,i.kt)("h3",{id:"versions-maven-plugin"},"versions-maven-plugin"),(0,i.kt)("p",null,"\u7edf\u4e00\u66f4\u65b0\u5b50\u6a21\u5757\u7248\u672c\u53f7\u4e3a\u7236\u6a21\u5757\u7248\u672c\u53f7\u63d2\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- mvn -N versions:update-child-modules --\x3e\n            <plugin>\n                <groupId>org.codehaus.mojo</groupId>\n                <artifactId>versions-maven-plugin</artifactId>\n                <version>2.3</version>\n                <configuration>\n                    <generateBackupPoms>false</generateBackupPoms>\n                </configuration>\n            </plugin>\n\n")),(0,i.kt)("h3",{id:"build-helper-maven-plugin"},"build-helper-maven-plugin"),(0,i.kt)("p",null,"codehaus\u63d0\u4f9b\u4e86build-helper-maven-plugin\u63d2\u4ef6\u6765\u652f\u6301\u81ea\u5b9a\u4e49\u7684\u9879\u76ee\u76ee\u5f55\u7ed3\u6784(\u76f8\u5bf9\u4e8eMaven\u9ed8\u8ba4\u76ee\u5f55\u7ed3\u6784\u6765\u8bf4)\u3002"),(0,i.kt)("p",null,"\u6bd4\u8f83\u5168\u7684\u914d\u7f6e:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- \u8bbe\u7f6e\u591a\u4e2a\u6e90\u6587\u4ef6\u5939 --\x3e  \n<plugin>  \n    <groupId>org.codehaus.mojo</groupId>  \n    <artifactId>build-helper-maven-plugin</artifactId>  \n    <version>1.8</version>  \n    <executions>  \n        \x3c!-- \u6dfb\u52a0\u4e3b\u8d44\u6e90\u6587\u4ef6\u76ee\u5f55 --\x3e  \n        <execution>  \n            \x3c!--\u81ea\u5b9a\u4e49\u540d\u79f0,\u4e0d\u53ef\u91cd\u590d--\x3e  \n            <id>add-resource</id>  \n            \x3c!--\u6307\u5b9a\u7ed1\u5b9a\u5230\u751f\u547d\u5468\u671f--\x3e  \n            <phase>initialize</phase>  \n            \x3c!--\u6307\u5b9a\u6307\u5b9a\u7684\u76ee\u6807,\u53ef\u6dfb\u52a0\u591a\u4e2a--\x3e  \n            <goals>  \n                <goal>add-resource</goal>  \n            </goals>  \n            <configuration>  \n                <resources>  \n                    \x3c!--\u8d44\u6e90\u6587\u4ef6\u76ee\u5f55,\u53ef\u6dfb\u52a0\u591a\u4e2a--\x3e  \n                    <resource>  \n                        <directory>${basedir}/src/main/one</directory>  \n                        \x3c!--\u662f\u5426\u542f\u7528\u53d8\u91cf\u8fc7\u6ee4--\x3e  \n                        <filtering>true</filtering>  \n                        \x3c!--\u6392\u9664\u7684\u6587\u4ef6,\u53ef\u6dfb\u52a0\u591a\u4e2a--\x3e  \n                        <excludes>  \n                            <exclude>**/*.java</exclude>  \n                        </excludes>  \n                    </resource>  \n                    <resource>  \n                        <directory>${basedir}/src/main/two</directory>  \n                        <filtering>true</filtering>  \n                        <excludes>  \n                            <exclude>**/*.java</exclude>  \n                        </excludes>  \n                    </resource>  \n                </resources>  \n            </configuration>  \n        </execution>  \n  \n        \x3c!-- \u6dfb\u52a0\u4e3b\u6e90\u7801\u76ee\u5f55 --\x3e  \n        <execution>  \n            <id>add-source</id>  \n            <phase>initialize</phase>  \n            <goals>  \n                <goal>add-source</goal>  \n            </goals>  \n            <configuration>  \n                <sources>  \n                    <source>${basedir}/src/main/three</source>  \n                    <source>${basedir}/src/main/four</source>  \n                </sources>  \n            </configuration>  \n        </execution>  \n  \n        \x3c!-- \u6dfb\u52a0\u6d4b\u8bd5\u6e90\u7801\u76ee\u5f55 --\x3e  \n        <execution>  \n            <id>add-test-source</id>  \n            <phase>initialize</phase>  \n            <goals>  \n                <goal>add-test-source</goal>  \n            </goals>  \n            <configuration>  \n                <sources>  \n                    <source>${basedir}/src/main/five</source>  \n                    <source>${basedir}/src/main/six</source>  \n                </sources>  \n            </configuration>  \n        </execution>  \n    </executions>  \n</plugin>  \n\n")),(0,i.kt)("p",null,"\u7528\u7684\u591a\u70b9\u7684\u662f\u8fd9\u4e2a\u8fd9\u4e2a\u7b80\u5355\u70b9\u7684\u914d\u7f6e, \u6e90\u7801\u5728\u591a\u4e2a\u76ee\u5f55:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    <groupId>org.codehaus.mojo</groupId>\n    <artifactId>build-helper-maven-plugin</artifactId>\n    <version>1.12</version>\n    <executions>\n        <execution>\n            <id>add-source</id>\n            <phase>generate-sources</phase>\n            <goals>\n                <goal>add-source</goal>\n            </goals>\n            <configuration>\n                <sources>\n                    <source>src/common</source>\x3c!-- \u6dfb\u52a0\u89c4\u8303\u5916\u7684\u6e90\u7801\u76ee\u5f55 --\x3e\n                </sources>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n")),(0,i.kt)("h3",{id:"maven-dependency-plugin"},"maven-dependency-plugin"),(0,i.kt)("p",null,"\u4f9d\u8d56\u9879\u63d2\u4ef6, \u63d0\u4f9b\u4e86\u5904\u7406\u5de5\u4ef6\u7684\u529f\u80fd\u3002\u5b83\u53ef\u4ee5\u5c06\u672c\u5730\u6216\u8fdc\u7a0b\u5b58\u50a8\u5e93\u4e2d\u7684\u5de5\u4ef6(\u6216\u6784\u4ef6\u4e2d\u7684\u6587\u4ef6)\u590d\u5236\u548c/\u6216\u89e3\u5305\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u3002"),(0,i.kt)("p",null,"\u53c2\u8003: ",(0,i.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/lianshan/p/7350614.html"},"https://www.cnblogs.com/lianshan/p/7350614.html")),(0,i.kt)("p",null,"\u6bd4\u5982, \u90e8\u7f72\u7684\u65f6\u5019, \u5e0c\u671b\u5c06\u4f9d\u8d56\u90fd\u6253\u5305\u5230\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>   \n    <artifactId>maven-dependency-plugin</artifactId>   \n        <executions>   \n        <execution>   \n            <phase>install</phase>   \n            <goals>   \n                <goal>copy-dependencies</goal>   \n            </goals>   \n            <configuration>   \n                <outputDirectory>${project.build.directory}/lib</outputDirectory>   \n            </configuration>   \n        </execution>   \n    </executions>   \n</plugin>  \n")),(0,i.kt)("h3",{id:"jetty\u548ctomcat"},"jetty\u548ctomcat"),(0,i.kt)("p",null,"jetty:"),(0,i.kt)("p",null,"\u76f8\u5173\u53c2\u8003: \u591a\u6a21\u5757\u9879\u76ee, \u5e0c\u671b \u542f\u52a8\u7684 web-module \u53ef\u4ee5\u968f\u65f6\u53cd\u5e94 core-module \u7684\u4fee\u6539"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/25725552/maven-jetty-plugin-automatic-reload-using-a-multi-module-project?noredirect=1&lq=1"},"Maven jetty plugin - automatic reload using a multi-module project")),(0,i.kt)("p",null,"\u5176\u4ed6\u53c2\u8003: ",(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/3636493/multi-module-maven-project-and-jettyrun/3637829#3637829"},"link1"),", ",(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/3636493/multi-module-maven-project-and-jettyrun"},"link2")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/yiwangzhibujian/p/5856857.html"},"jetty\u914d\u7f6e\u9879")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn jetty:run")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    \x3c!-- https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-maven-plugin --\x3e\n    \x3c!-- \u9ed8\u8ba4\u4f1a\u53bb\u52a0\u8f7d:\n    resources in ${project.basedir}/src/main/webapp  \n    classes in ${project.build.outputDirectory}  \n    web.xml in ${project.basedir}/src/main/webapp/WEB-INF/  \n        --\x3e\n    <groupId>org.eclipse.jetty</groupId>\n    <artifactId>jetty-maven-plugin</artifactId>\n    <version>9.4.9.v20180320</version>\n    <configuration>  \n        <scanIntervalSeconds>3</scanIntervalSeconds>  \n        <httpConnector>  \n            <port>8082</port>  \n        </httpConnector>  \n        <webApp>  \n            <contextPath>/${project.artifactId}</contextPath>  \n        </webApp>  \n    </configuration>  \n</plugin>\n")),(0,i.kt)("p",null,"tomcat:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn tomcat7:run")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- https://tomcat.apache.org/maven-plugin-2.2/\n    (\u53c2\u8003: https://www.cnblogs.com/llguanli/p/7131253.html)\n    --\x3e\n<plugin>\n    <groupId>org.apache.tomcat.maven</groupId>\n    <artifactId>tomcat7-maven-plugin</artifactId>\n    <version>2.2</version>\n    <configuration>\n        <path>/taobao</path>\n        <port>9090</port>\n        <uriEncoding>UTF-8</uriEncoding>\n    </configuration>\n</plugin>\n")),(0,i.kt)("h3",{id:"maven-source-plugin"},"maven-source-plugin"),(0,i.kt)("p",null,"\u7a0b\u5e8f\u6253\u5305\u65f6\u5019, \u540c\u65f6\u6253\u5305\u6e90\u7801"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- \u6253\u5305\u65f6\u6dfb\u52a0\u6e90\u7801 --\x3e\n<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-source-plugin</artifactId>\n    <version>3.0.1</version>\n    <executions>\n        <execution>\n            <id>attach-sources</id>\n            <phase>package</phase>\n            <goals>\n                <goal>jar-no-fork</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n\n")),(0,i.kt)("h3",{id:"maven-resources-plugins"},"maven-resources-plugins"),(0,i.kt)("p",null,"springboot \u9ed8\u8ba4\u63d0\u4f9b, \u7528\u4e8e maven \u6253\u5305\u65f6\u8d44\u6e90\u6587\u4ef6\u7684\u590d\u5236, \u5360\u4f4d\u7b26\u7684\u66ff\u6362"),(0,i.kt)("p",null,"\u5904\u7406 spring boot profile \u548c maven profile \u96c6\u6210"),(0,i.kt)("p",null,"\u5728 spring boot \u914d\u7f6e\u4e2d, \u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"@xxxx@")," \u6765\u5f15\u7528 maven \u7684 profile, \u540c\u65f6\u8981\u6253\u5f00 maven resource filter"),(0,i.kt)("p",null,"\u4e0d\u8981\u590d\u5236\u67d0\u4e9b\u6587\u4ef6, \u5728\u5206\u73af\u5883\u6253\u5305\u65f6\u53ef\u4ee5\u51cf\u5c11\u5305\u4f53\u79ef:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<resources>\n    <resource>\n        <directory>src/main/resources</directory>\n        \x3c!--\u2460--\x3e\n        <excludes>\n            <exclude>application*.properties</exclude>\n        </excludes>\n    </resource>\n    <resource>\n        <directory>src/main/resources</directory>\n        \x3c!--\u2461--\x3e\n        <filtering>true</filtering>\n        <includes>\n            <include>application.properties</include>\n            <include>application-${profile.active}.properties</include>\n        </includes>\n    </resource>\n</resources>\n")),(0,i.kt)("p",null,"\u2460\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 excludes \u6765\u5c06\u6240\u6709\u7684 application*.properties \u6392\u9664\u5728\u5916\uff0c\u8fd9\u6837 maven \u5728\u6253\u5305\u65f6\u5c31\u4e0d\u4f1a\u590d\u5236\u8fd9\u4e9b\u6587\u4ef6\u3002\u6bd5\u7adf\u6211\u4eec\u4e0d\u5e0c\u671b\u628a application-dev.properties \u4e5f\u5305\u542b\u5728 prod \u7684 jar \u5305\u91cc\u3002"),(0,i.kt)("p",null,"\u2461\u4e2d\uff0c\u901a\u8fc7\u5f00\u542f filtering\uff0cmaven \u4f1a\u5c06\u6587\u4ef6\u4e2d\u7684 @XX@ \u66ff\u6362 profile \u4e2d\u5b9a\u4e49\u7684 XX \u53d8\u91cf/\u5c5e\u6027\u3002\u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u901a\u8fc7 includes \u6765\u544a\u8bc9 maven \u6839\u636e \u81ea\u5b9a\u4e49\u7684 maven profile \u6765\u590d\u5236\u5bf9\u5e94\u7684 properties \u6587\u4ef6\u3002"),(0,i.kt)("h3",{id:"maven-assembly-plugin"},"maven-assembly-plugin"),(0,i.kt)("p",null,"\u6839\u636e\u4e0d\u540c\u73af\u5883\u6253\u5305\u6210tar.gz\u6216\u8005zip"),(0,i.kt)("h3",{id:"maven-compiler-plugin"},"maven-compiler-plugin"),(0,i.kt)("p",null,"\u7f16\u8bd1\u63d2\u4ef6, \u53ef\u4ee5\u8bbe\u7f6e Java compile version"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>                                                                                                                                      \n    \x3c!-- \u6307\u5b9amaven\u7f16\u8bd1\u7684jdk\u7248\u672c,\u5982\u679c\u4e0d\u6307\u5b9a,maven3\u9ed8\u8ba4\u7528jdk 1.5 maven2\u9ed8\u8ba4\u7528jdk1.3 --\x3e                                                                           \n    <groupId>org.apache.maven.plugins</groupId>                                                                                               \n    <artifactId>maven-compiler-plugin</artifactId>                                                                                            \n    <version>3.1</version>                                                                                                                    \n    <configuration>                                                                                                                           \n        \x3c!-- \u4e00\u822c\u800c\u8a00\uff0ctarget\u4e0esource\u662f\u4fdd\u6301\u4e00\u81f4\u7684\uff0c\u4f46\u662f\uff0c\u6709\u65f6\u5019\u4e3a\u4e86\u8ba9\u7a0b\u5e8f\u80fd\u5728\u5176\u4ed6\u7248\u672c\u7684jdk\u4e2d\u8fd0\u884c(\u5bf9\u4e8e\u4f4e\u7248\u672c\u76ee\u6807jdk\uff0c\u6e90\u4ee3\u7801\u4e2d\u4e0d\u80fd\u4f7f\u7528\u4f4e\u7248\u672cjdk\u4e2d\u4e0d\u652f\u6301\u7684\u8bed\u6cd5)\uff0c\u4f1a\u5b58\u5728target\u4e0d\u540c\u4e8esource\u7684\u60c5\u51b5 --\x3e                    \n        <source>1.8</source> \x3c!-- \u6e90\u4ee3\u7801\u4f7f\u7528\u7684JDK\u7248\u672c --\x3e                                                                                             \n        <target>1.8</target> \x3c!-- \u9700\u8981\u751f\u6210\u7684\u76ee\u6807class\u6587\u4ef6\u7684\u7f16\u8bd1\u7248\u672c --\x3e                                                                                     \n        <encoding>UTF-8</encoding>\x3c!-- \u5b57\u7b26\u96c6\u7f16\u7801 --\x3e\n        <skipTests>true</skipTests>\x3c!-- \u8df3\u8fc7\u6d4b\u8bd5 --\x3e                                                                             \n        <verbose>true</verbose>\n        <showWarnings>true</showWarnings>                                                                                                               \n        <fork>true</fork>\x3c!-- \u8981\u4f7fcompilerVersion\u6807\u7b7e\u751f\u6548\uff0c\u8fd8\u9700\u8981\u5c06fork\u8bbe\u4e3atrue\uff0c\u7528\u4e8e\u660e\u786e\u8868\u793a\u7f16\u8bd1\u7248\u672c\u914d\u7f6e\u7684\u53ef\u7528 --\x3e                                                        \n        <executable>\x3c!-- path-to-javac --\x3e</executable>\x3c!-- \u4f7f\u7528\u6307\u5b9a\u7684javac\u547d\u4ee4\uff0c\u4f8b\u5982\uff1a<executable>${JAVA_1_4_HOME}/bin/javac</executable> --\x3e           \n        <compilerVersion>1.3</compilerVersion>\x3c!-- \u6307\u5b9a\u63d2\u4ef6\u5c06\u4f7f\u7528\u7684\u7f16\u8bd1\u5668\u7684\u7248\u672c --\x3e                                                                         \n        <meminitial>128m</meminitial>\x3c!-- \u7f16\u8bd1\u5668\u4f7f\u7528\u7684\u521d\u59cb\u5185\u5b58 --\x3e                                                                                      \n        <maxmem>512m</maxmem>\x3c!-- \u7f16\u8bd1\u5668\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58 --\x3e                                                                                              \n        <compilerArgument>-verbose -bootclasspath ${java.home}\\lib\\rt.jar</compilerArgument>\x3c!-- \u8fd9\u4e2a\u9009\u9879\u7528\u6765\u4f20\u9012\u7f16\u8bd1\u5668\u81ea\u8eab\u4e0d\u5305\u542b\u4f46\u662f\u5374\u652f\u6301\u7684\u53c2\u6570\u9009\u9879 --\x3e               \n        <parameters>true</parameters>//\u63d2\u4ef6\u7684\u914d\u7f6e\u5c31\u53ef\u4ee5\u4ece\u7528\u6237\u5c5e\u6027\u4e2d\u83b7\u53d6, \u5373\u53ef\u4ee5\u5728 properties \u4e2d\u914d\u7f6e java.version, maven.compiler.source, maven.compiler.target; springboot \u5df2\u7ecf\u914d\u7f6e\u4e86\u4e3a true, \u6240\u4ee5\u53ea\u9700\u5f15\u5165\u63d2\u4ef6\u5373\u53ef\u5728 properties \u4e2d\u8bbe\u7f6e java.version...\n    </configuration>  \n    <executions>\n                    <execution>\n                        <id>compile-tests</id>\n                        <phase>process-test-sources</phase>\n                        <goals>\n                            <goal>testCompile</goal>\n                        </goals>\n                        <configuration>\n                            <source>${maven.compile.source}</source>\n                            <target>${maven.compile.target}</target>\n                        </configuration>\n                    </execution>\n                </executions>                                                                                                                        \n</plugin>    \n")),(0,i.kt)("h3",{id:"spring-boot-maven-plugin"},"spring-boot-maven-plugin"),(0,i.kt)("p",null,"\u4e3aSpring Boot\u5e94\u7528\u63d0\u4f9b\u4e86\u6267\u884cMaven\u64cd\u4f5c\u7684\u53ef\u80fd\u3002\u5141\u8bb8\u4f60\u6253\u5305\u53ef\u6267\u884c\u6587\u4ef6\u548cwar\u6587\u4ef6\uff0c\u5e76\u4e14\u5c31\u5730\u8fd0\u884c\u3002"),(0,i.kt)("p",null,"spring-boot:repackage, \u7ed1\u5b9a\u5230 package \u9636\u6bb5. \u4e5f\u5c31\u662f\u5728mvn package\u4e4b\u540e\uff0c\u518d\u6b21\u6253\u5305\u53ef\u6267\u884c\u7684jar/war\uff0c\u540c\u65f6\u4fdd\u7559mvn package\u751f\u6210\u7684jar/war\u4e3a.origin (\u9700\u8981\u81ea\u5df1\u7ed1\u5b9a)"),(0,i.kt)("p",null,"spring-boot:run\uff0c\u8fd0\u884cSpring Boot\u5e94\u7528, \u6307\u5b9a spring boot profile \u542f\u52a8 ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn spring-boot:run -Dspring-boot.run.profiles=dev")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"\n<plugin>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-maven-plugin</artifactId>\n    \x3c!-- \u4e34\u65f6\u4f7f\u5176\u5931\u6548 --\x3e\n    <configuration>\n        <skip>true</skip>\n    </configuration>\n</plugin>\n")),(0,i.kt)("h3",{id:"maven-install-plugin"},"maven-install-plugin"),(0,i.kt)("p",null,"\u672c\u5730\u4f9d\u8d56\u52a0\u5165\u672c\u5730\u4ed3\u5e93"),(0,i.kt)("h2",{id:"\u7f16\u5199maven\u63d2\u4ef6"},"\u7f16\u5199maven\u63d2\u4ef6"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/acanda/spring-banner-plugin"},"https://github.com/acanda/spring-banner-plugin")," \u5b9e\u4f8b"),(0,i.kt)("p",null,"TODO \u4ee3\u7801\u751f\u6210\u5668\u63d2\u4ef6",(0,i.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/69935918"},"https://zhuanlan.zhihu.com/p/69935918")),(0,i.kt)("p",null,"\u5904\u7406\u6587\u4ef6\u590d\u5236, \u6bd4\u5982\u707e\u5907\u6587\u4ef6"),(0,i.kt)("p",null,"\u63d2\u4ef6\u524d\u7f00: \u53ef\u4ee5\u8ba9\u4f60\u66f4\u65b9\u4fbf\u5730\u8f93\u5165\u6307\u4ee4\uff0c\u56e0\u4e3a\u5728\u547d\u4ee4\u884c\u91cc\uff0c\u4e00\u822c\u8c03\u7528\u63d2\u4ef6\u76ee\u6807\uff0c\u9700\u8981\u5b8c\u6574\u8f93\u5165\u201cgroupId\u201d\u3001\u201cartifactId\u201d\u3001\u201cversion\u201d\u7b49\u7b49\u5b9a\u4f4d\u5230\u67d0\u4e2a\u63d2\u4ef6\uff0c\u7136\u540e\u901a\u8fc7\u201c:\u201d\u5199\u4e0b\u63d2\u4ef6\u76ee\u6807\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u63d2\u4ef6\u7684\u76ee\u6807\u4e86\u3002"),(0,i.kt)("p",null,"maven-${prefix}-plugin\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u662f\u5b98\u7f51\u63d2\u4ef6\u4f7f\u7528\u7684"),(0,i.kt)("p",null,"${prefix}-maven-plugin\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u662f\u7b2c\u4e09\u65b9\u63d2\u4ef6\uff08\u5305\u62ec\u6211\u4eec\u81ea\u5df1\u5199\u7684\uff09\u4f7f\u7528\u7684"),(0,i.kt)("p",null,"\u53ef\u4ee5\u81ea\u5df1\u5728 pom \u4e2d\u6307\u5b9a\u524d\u7f00:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<plugin>\n    ...\n    <configuration>\n        ...\n        <globalPrefix>xxxx\n\n\n")),(0,i.kt)("h1",{id:"maven\u5c5e\u6027"},"maven\u5c5e\u6027"),(0,i.kt)("p",null,"\u67096\u4e2d\u7c7b\u578b\u7684maven\u5c5e\u6027"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5185\u7f6e\u5c5e\u6027, \u5982 ${basedir}\u8868\u793a\u9879\u76ee\u6839\u76ee\u5f55(pom\u6240\u5728\u76ee\u5f55), ${version}\u9879\u76ee\u7248\u672c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"pom\u5c5e\u6027, pom\u4e2d\u5bf9\u5e94\u5143\u7d20\u7684\u503c\u3002\u4f8b\u5982${project.artifactId}\u5bf9\u5e94\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"<project>\u4e0b\u7684<artifactId>"),"\u5143\u7d20\u7684\u503c"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"${project.build.sourceDirectory}:\u9879\u76ee\u7684\u4e3b\u6e90\u7801\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3asrc/main/java/."),(0,i.kt)("li",{parentName:"ul"},"${project.build.testSourceDirectory}:\u9879\u76ee\u7684\u6d4b\u8bd5\u6e90\u7801\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a/src/test/java/. "),(0,i.kt)("li",{parentName:"ul"},"${project.build.directory}:\u9879\u76ee\u6784\u5efa\u8f93\u51fa\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3atarget/. "),(0,i.kt)("li",{parentName:"ul"},"${project.outputDirectory}:\u9879\u76ee\u4e3b\u4ee3\u7801\u7f16\u8bd1\u8f93\u51fa\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3atarget/classes/."),(0,i.kt)("li",{parentName:"ul"},"${project.testOutputDirectory}:\u9879\u76ee\u6d4b\u8bd5\u4ee3\u7801\u7f16\u8bd1\u8f93\u51fa\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3atarget/testclasses/."),(0,i.kt)("li",{parentName:"ul"},"${project.build.finalName}:\u9879\u76ee\u6253\u5305\u8f93\u51fa\u6587\u4ef6\u7684\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a${project.artifactId}${project.version}."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Settings\u5c5e\u6027\uff1a\u4e0ePOM\u5c5e\u6027\u540c\u7406\u3002\u5982${settings.localRepository}\u6307\u5411\u7528\u6237\u672c\u5730\u4ed3\u5e93\u7684\u5730\u5740")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Java\u7cfb\u7edf\u5c5e\u6027\uff1a\u6240\u6709Java\u7cfb\u7edf\u5c5e\u6027\u90fd\u53ef\u4ee5\u4f7f\u7528Maven\u5c5e\u6027\u5f15\u7528\uff0c\u4f8b\u5982${user.home}\u6307\u5411\u4e86\u7528\u6237\u76ee\u5f55\u3002\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884cmvn help:system\u67e5\u770b\u6240\u6709\u7684Java\u7cfb\u7edf\u5c5e\u6027")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u73af\u5883\u53d8\u91cf\u5c5e\u6027\uff1a\u6240\u6709\u73af\u5883\u53d8\u91cf\u90fd\u53ef\u4ee5\u4f7f\u7528\u4ee5env.\u5f00\u5934\u7684Maven\u5c5e\u6027\u5f15\u7528\u3002\u4f8b\u5982${env.JAVA_HOME}\u6307\u4ee3\u4e86JAVA_HOME\u73af\u5883\u53d8\u91cf\u7684\u503c\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884cmvn help:system\u67e5\u770b\u6240\u6709\u73af\u5883\u53d8\u91cf\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u81ea\u5b9a\u4e49\u5c5e\u6027"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<project>  \n    <properties>  \n        <my.prop>hello</my.prop>  \n    </properties>  \n</project>  \n")))),(0,i.kt)("p",null,"\u5728pom\u4e2d\u5176\u4ed6\u5730\u65b9\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"${my.prop}"),"\u4f1a\u88ab\u66ff\u6362\u4e3ahello"),(0,i.kt)("h1",{id:"\u5f00\u542f\u8d44\u6e90\u6587\u4ef6\u8fc7\u6ee4"},"\u5f00\u542f\u8d44\u6e90\u6587\u4ef6\u8fc7\u6ee4"),(0,i.kt)("p",null,"\u901a\u8fc7 maven-resources-plugin \u5b9e\u73b0, \u5728\u6253\u5305\u65f6, \u4f1a\u6709\u8d44\u6e90\u6587\u4ef6\u7684\u590d\u5236, \u5728\u590d\u5236\u65f6, \u66ff\u6362 \u8d44\u6e90\u6587\u4ef6\u4e2d\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"@xxx@")," \u5360\u4f4d\u7b26"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMaven\u5c5e\u6027\u53ea\u6709\u5728POM\u4e2d\u624d\u4f1a\u88ab\u89e3\u6790\u3002\u8d44\u6e90\u8fc7\u6ee4\u5c31\u662f\u6307\u8ba9Maven\u5c5e\u6027\u5728\u8d44\u6e90\u6587\u4ef6(src/main/resources\u3001src/test/resources)\u4e2d\u4e5f\u80fd\u88ab\u89e3\u6790\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<build>  \n\x3c!-- \u53ef\u9009 --\x3e\n    <resources>  \n        <resource>  \n            \x3c!-- ${project.basedir}\u53ef\u4ee5\u7701\u7565 --\x3e\n            <directory>${project.basedir}/src/main/resources</directory>  \n            <filtering>true</filtering>  \n        </resource>  \n    </resources>\n    <testResources>  \n        <testResource>  \n            <directory>${project.basedir}/src/test/resources</directory>  \n            <filtering>true</filtering>\n        </testResource>\n    </testResources>\n</build>\n")),(0,i.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u4e3b\u8d44\u6e90\u76ee\u5f55\u548c\u591a\u4e2a\u6d4b\u8bd5\u8d44\u6e90\u76ee\u5f55\u3002"),(0,i.kt)("h1",{id:"\u5f00\u542fweb\u8d44\u6e90\u8fc7\u6ee4"},"\u5f00\u542fweb\u8d44\u6e90\u8fc7\u6ee4"),(0,i.kt)("p",null,"\u666e\u901a\u8d44\u6e90\u4f4d\u4e8e","[src/main/reousrces]","\u4e0b;\nweb\u8d44\u6e90\u4f4d\u4e8e","[src/main/webapp]","\u4e0b;"),(0,i.kt)("p",null,"\u501f\u52a9\u63d2\u4ef6",(0,i.kt)("inlineCode",{parentName:"p"},"maven-war-plugin")),(0,i.kt)("p",null,"include\u6807\u7b7e\u6307\u5b9a\u8981\u8fc7\u6ee4\u7684\u6587\u4ef6, \u8fd9\u91cc\u8868\u793a\u8fc7\u6ee4\u6240\u6709\u7684css\u548cjs\u6587\u4ef6"),(0,i.kt)("h1",{id:"maven-profile-\u591a\u73af\u5883\u914d\u7f6e"},"maven profile \u591a\u73af\u5883\u914d\u7f6e"),(0,i.kt)("h2",{id:"profile-\u57fa\u672c\u4f7f\u7528"},"profile \u57fa\u672c\u4f7f\u7528"),(0,i.kt)("p",null,"\u9700\u8981\u9996\u5148 ",(0,i.kt)("a",{parentName:"p",href:"#%E5%BC%80%E5%90%AF%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E8%BF%87%E6%BB%A4"},"\u5f00\u542f\u8d44\u6e90\u6587\u4ef6\u8fc7\u6ee4")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn help:active-profiles"),"\u67e5\u770b\u54ea\u4e9bprofile\u88ab\u6fc0\u6d3b\u4e86, ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn help:all-profiles "),"\u5217\u51fa\u6240\u6709\u7684profile;"),(0,i.kt)("p",null,"profile\u53ef\u4ee5\u58f0\u660e\u5728\u4e09\u4e2a\u6587\u4ef6\u4e2d\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"pom.xml"),"\uff1a\u5f88\u663e\u7136\uff0c\u8fd9\u91cc\u58f0\u660e\u7684profile\u53ea\u5bf9\u5f53\u524d\u9879\u76ee\u6709\u6548(\u6b64\u65f6profile\u4e2d\u7684properties\u548c\u76f4\u63a5\u5728pom\u7684properties\u6807\u7b7e\u4e0b\u5b9a\u4e49\u6548\u679c\u662f\u4e00\u6837\u7684); ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"\u7528\u6237settings.xml"),"\uff1a.m2/settings.xml\u4e2d\u7684profile\u5bf9\u8be5\u7528\u6237\u7684Maven\u9879\u76ee\u6709\u6548(\u6bd4\u5168\u5c40\u7684\u4f18\u5148\u7ea7\u9ad8); ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"\u5168\u5c40settings.xml"),"\uff1aconf/settings.xml\uff0c\u5bf9\u672c\u673a\u4e0a\u6240\u6709Maven\u9879\u76ee\u6709\u6548"))),(0,i.kt)("p",null,"profile\u5728pom.xml\u4e2d\u53ef\u58f0\u660e\u7684\u5143\u7d20, \u548c\u5728settings.xml\u4e2d\u53ef\u58f0\u660e\u7684\u5143\u7d20\u662f\u4e0d\u4e00\u6837\u7684, \u5728 pom \u4e2d\u53ef\u4ee5\u58f0\u660e:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<project>\n    <repositories></repositories>\n    <pluginRepositories></pluginRepositories>  \n    <distributionManagement></distributionManagement>  \n    <dependencies></dependencies>  \n    <dependencyManagement></dependencyManagement>  \n    <modules></modules>  \n    <properties></properties>  \n    <reporting></reporting>  \n    <build>  \n        <plugins></plugins>  \n        <defaultGoal></defaultGoal>  \n        <resources></resources>  \n        <testResources></testResources>  \n        <finalName></finalName>  \n    </build>  \n</project>  \n")),(0,i.kt)("p",null,"\u800csetttings\u4e2d\u53ea\u80fd\u58f0\u660e\u8fd9\u4e9b\u5143\u7d20"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<project>  \n    <repositories></repositories>  \n    <pluginRepositories></pluginRepositories>  \n    <properties></properties>  \n</project>\n")),(0,i.kt)("p",null,"\u7f16\u5199profile,\u5728pom\u4e2d\u7684project\u5143\u7d20\u4e0b:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<profiles>\n    <profile>\n        <id>dev</id>\n        <properties>\n            <env>dev</env>\n        </properties>\n        <activation>\n            <activeByDefault>true</activeByDefault>\n        </activation>\n    </profile>\n    <profile>\n        <id>prd</id>\n        <properties>\n            <env>prd</env>\n        </properties>\n    </profile>\n</profiles>\n")),(0,i.kt)("p",null,"\u5982\u4f55\u6fc0\u6d3bprofile\u5462?"),(0,i.kt)("p",null,"\u547d\u4ee4\u884c\u65b9\u5f0f: \u6bd4\u5982\u6709\u4e24\u4e2aprofile, id\u4e3a devx, devy, \u90a3\u4e48\u6fc0\u6d3b\u547d\u4ee4\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install  -P devx,devy  ")," (-P \u540e\u9762\u6709\u65e0\u7a7a\u683c\u90fd\u53ef)"),(0,i.kt)("p",null,"\u7cfb\u7edf\u5c5e\u6027\u6fc0\u6d3b\uff0c\u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u5f53\u67d0\u7cfb\u7edf\u5c5e\u6027\u5b58\u5728\u6216\u5176\u503c\u7b49\u4e8e\u671f\u671b\u503c\u65f6\u6fc0\u6d3bprofile\uff0c\u5982"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<profiles>  \n    <profile>  \n        <activation>  \n            <property>  \n                <name>actProp</name>  \n                <value>x</value>  \n            </property>  \n        </activation>  \n    </profile>  \n</profiles>  \n")),(0,i.kt)("p",null,"\u4e0a\u9762\u914d\u7f6e\u8868\u793a\u53ea\u6709\u7cfb\u7edf\u5c5e\u6027 actProp \u4e3a x \u65f6\u6fc0\u6d3b profile, \u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u58f0\u660e\u7cfb\u7edf\u5c5e\u6027 ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install -DactProp=x "),", \u8fd9\u4e5f\u662f\u4e00\u79cd\u53d8\u76f8\u7684\u4ece\u547d\u4ee4\u884c\u6fc0\u6d3bprofile\u7684\u65b9\u6cd5\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"\u800c\u4e14\u591a\u4e2aprofile\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2a\u7cfb\u7edf\u5c5e\u6027\u6765\u6fc0\u6d3b"),"\u3002\u7cfb\u7edf\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"mvn help:system"),"\u6765\u67e5\u770b (-P, -D \u533a\u522b: \u524d\u8005\u7528\u6765\u5236\u5b9a profile id, \u540e\u8005\u7528\u6765\u6307\u5b9a activation property)"),(0,i.kt)("p",null,"\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\u6fc0\u6d3b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<profiles>  \n    <profile>  \n        <activation>  \n            <os>  \n                <name>Windows XP</name>  \n                <family>Windows</family>  \n                <arch>x86</arch>  \n                <version>5.1.2600</version>  \n            </os>  \n        </activation>  \n    </profile>  \n</profiles>  \n")),(0,i.kt)("p",null,"\u8fd9\u91cc\u7684family\u503c\u5305\u62ecWindow\u3001UNIX\u548cMac\u7b49\uff0c\u800c\u5176\u4ed6\u51e0\u9879\u5bf9\u5e94\u7cfb\u7edf\u5c5e\u6027\u7684os.name\u3001os.arch\u3001os.version"),(0,i.kt)("p",null,"\u6587\u4ef6\u5b58\u5728\u4e0e\u5426\u6fc0\u6d3b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<profiles>  \n    <profile>  \n        <activation>  \n            <file>  \n                <missing>x.properties</missing>  \n                <exists>y.properties</exists>  \n            </file>  \n        </activation>\n    </profile>\n</profiles>\n")),(0,i.kt)("p",null,"settings\u6587\u4ef6\u663e\u5f0f\u6fc0\u6d3b (\u4e0d\u5b9e\u7528): "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<settings>  \n    ...  \n    <activeProfiles>  \n        <activeProfile>devx</activeProfile>  \n        <activeProfile>devy</activeProfile>  \n    </activeProfiles>  \n    ...  \n</settings>  \n")),(0,i.kt)("p",null,"\u9ed8\u8ba4\u6fc0\u6d3b(\u5982\u679c\u6709\u5176\u4ed6profile\u88ab\u6fc0\u6d3b\u4e86, \u9ed8\u8ba4\u6fc0\u6d3b\u5c31\u81ea\u52a8\u5931\u6548\u4e86)"),(0,i.kt)("profiles",null,(0,i.kt)("profile",null,(0,i.kt)("id",null,"dev"),(0,i.kt)("properties",null,(0,i.kt)("env",null,"dev")),(0,i.kt)("activation",null,(0,i.kt)("activeByDefault",null,"true")))),(0,i.kt)("h2",{id:"profile-build"},"profile build"),(0,i.kt)("p",null,"\u5728  profile \u4e2d\u5b9a\u4e49 \u914d\u7f6e, \u6bd4\u5982\u5b9a\u4e49 build \u914d\u7f6e, \u4f7f\u5f97\u4e0d\u540c profile \u6253\u5305\u4e0d\u540c\u7684 \u914d\u7f6e\u6587\u4ef6"),(0,i.kt)("h2",{id:"\u914d\u7f6e\u9ed8\u8ba4-jdk-\u7f16\u8bd1\u7248\u672c"},"\u914d\u7f6e\u9ed8\u8ba4 jdk \u7f16\u8bd1\u7248\u672c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<profiles>\n    <profile>\n        <id>jdk1.8</id>\n        <activation>\n            <activeByDefault>true</activeByDefault>\n            <jdk>1.8</jdk>\n        </activation>\n        <properties>\n            <maven.compiler.source>1.8</maven.compiler.source>\n            <maven.compiler.target>1.8</maven.compiler.target>\n            <maven.compiler.compailerVersion>1.8</...>\n        </properties>\n</profile>\n")),(0,i.kt)("h1",{id:"\u6a21\u5757\u7684\u805a\u5408\u7ee7\u627f"},"\u6a21\u5757\u7684\u805a\u5408&\u7ee7\u627f"),(0,i.kt)("p",null,"maven\u7684\u805a\u5408\u4e3a\u8fd9\u79cd\u573a\u666f\u670d\u52a1: \u6211\u4eec\u4e00\u6b21\u5e0c\u671b\u6784\u5efa\u4e24\u4e2a\u9879\u76ee/\u6a21\u5757, \u800c\u4e0d\u662f\u5230\u4e24\u4e2a\u6a21\u5757\u76ee\u5f55\u4e0b\u5206\u522b\u6784\u5efa"),(0,i.kt)("p",null,"\u4e3a\u4e86\u5b9e\u73b0\u805a\u5408, \u9700\u8981\u6709\u989d\u5916\u4e00\u4e2a\u9879\u76ee\u5145\u5f53parent, \u53ef\u4ee5\u67e5\u770b ",(0,i.kt)("a",{parentName:"p",href:"#parent-pom"},"parent-pom"),", \u4f5c\u4e3aparent\u9879\u76ee, \u8be5\u9879\u76ee\u53ea\u6709\u4e00\u4e2apom\u6587\u4ef6\u5417\u6ca1\u6709\u4ee3\u7801\u548c\u8d44\u6e90\u6587\u4ef6, packaging \u4e3a pom \u7c7b\u578b"),(0,i.kt)("p",null,"\u73b0\u5728\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn clean install")," maven\u4f1a\u5148\u6309\u7167\u4e00\u5b9a\u987a\u5e8f\u6784\u5efa\u4e00\u4e2a",(0,i.kt)("a",{parentName:"p",href:"#%E5%8F%8D%E5%BA%94%E5%A0%86"},"\u53cd\u5e94\u5806"),", \u4f9d\u6b21\u6784\u5efa\u5404\u4e2a\u6a21\u5757"),(0,i.kt)("p",null,"\u63a5\u4e0b\u6765\u770b\u770b\u7ee7\u627f."),(0,i.kt)("p",null,"\u7ee7\u627f\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3pom\u6587\u4ef6\u7684\u91cd\u590d\u914d\u7f6e\u95ee\u9898; \u91cd\u70b9\u662f\u8981\u6b63\u786e\u8bbe\u7f6e",(0,i.kt)("inlineCode",{parentName:"p"},"relativePath"),"\u5143\u7d20\u7684\u503c, \u9ed8\u8ba4\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"../pom.xml"),"; (\u9ed8\u8ba4\u503c\u4f3c\u4e4e\u65e0\u6548, \u9700\u8981\u624b\u52a8\u6307\u5b9a)"),(0,i.kt)("p",null,"\u5b50\u6a21\u5757\u53ef\u4ee5\u7701\u7565",(0,i.kt)("inlineCode",{parentName:"p"},"groupId\u548cversion"),", \u4f1a\u4eceparent\u7ee7\u627f;"),(0,i.kt)("p",null,"\u7236pom\u4e2d\u6709\u54ea\u4e9b\u5143\u7d20\u53ef\u4ee5\u88ab\u7ee7\u627f\u5462? (group, version, dependencies, dependencyManagement, plugins, pluginManagement, properties ...)"),(0,i.kt)("p",null,"\u805a\u5408&\u7ee7\u627f\u5b9e\u9645\u4e0a\u7ecf\u5e38\u540c\u65f6\u4f7f\u7528;"),(0,i.kt)("h1",{id:"dependencymangement\u5143\u7d20"},"dependencyMangement\u5143\u7d20"),(0,i.kt)("p",null,"\u4e00\u822c\u5728parent pom\u4e2d\u4f7f\u7528, \u63d0\u4f9b\u4f9d\u8d56\u7ba1\u7406\u529f\u80fd, \u5e76\u4e0d\u4f1a\u771f\u6b63\u5f15\u5165. \u5982\u679c\u9700\u8981\u5f15\u5165, \u8fd8\u9700\u8981\u5728dependency\u4e2d\u58f0\u660e, \u8fd9\u65f6\u53ea\u9700\u8981groupId\u548cartifactId\u5143\u7d20\u5c31\u53ef\u4ee5\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u4f9d\u8d56\u4e86;"),(0,i.kt)("p",null,"\u8fd9\u65f6\u53ef\u4ee5\u4ecb\u7ecdscope: import \u4e86, \u5982\u679c\u4e00\u4e2a\u6784\u4ef6\u58f0\u660e\u4e3aimport\u8303\u56f4, \u90a3\u4e48\u5b83\u53ea\u80fd\u5728dependencyMangement\u5143\u7d20\u4e2d\u58f0\u660e\u624d\u6709\u6548, \u8be5\u6784\u4ef6\u901a\u5e38\u6307\u5411\u4e00\u4e2apom, \u4f5c\u7528\u662f\u5c06\u8be5pom\u4e2d\u7684dependencyMangement\u5143\u7d20\u5185\u5bb9\u5bfc\u5165\u5f53\u524dpom\u7684dependencyMangement\u5143\u7d20\u4e0b; \u53ea\u662f\u5bf9\u4f9d\u8d56\u8fdb\u884c\u7ba1\u7406(\u5982\u7248\u672c\u53f7), \u5e76\u4e0d\u4f1a\u5f15\u5165\u5230 classpath"),(0,i.kt)("h1",{id:"pluginmanagement\u5143\u7d20"},"pluginManagement\u5143\u7d20"),(0,i.kt)("p",null,"\u548cdependencyMangement\u5143\u7d20\u7c7b\u4f3c;"),(0,i.kt)("h1",{id:"\u53cd\u5e94\u5806"},"\u53cd\u5e94\u5806"),(0,i.kt)("p",null,"\u53cd\u5e94\u5806\u6784\u4ef6\u987a\u5e8f: Maven\u6309\u7167\u987a\u5e8f\u8bfb\u53d6A\u7684pom, \u5982\u679c\u8be5A\u7684pom\u6ca1\u6709\u4f9d\u8d56\u4efb\u4f55\u6a21\u5757, \u76f4\u63a5\u6784\u5efa\u8be5\u9879\u76eeA, \u5426\u5219\u5c31\u5148\u6784\u5efa\u5176\u4f9d\u8d56\u7684\u6a21\u5757B, \u5982\u679cB\u8fd8\u4f9d\u8d56\u6784\u5efaC, \u5219\u8fdb\u4e00\u6b65\u5148\u6784\u5efa\u6a21\u5757C;"),(0,i.kt)("p",null,"\u526a\u5207\u53cd\u5e94\u5806: \u5e0c\u671b\u53ea\u6784\u4ef6parent\u7684\u67d0\u51e0\u4e2a\u6a21\u5757\u800c\u4e0d\u5e0c\u671b\u5168\u90e8\u6784\u5efa, maven\u63d0\u4f9b\u8fd9\u4e9b\u547d\u4ee4"),(0,i.kt)("h1",{id:"\u5386\u53f2\u9879\u76ee\u6539\u9020\u4e3amaven\u9879\u76ee"},"\u5386\u53f2\u9879\u76ee\u6539\u9020\u4e3amaven\u9879\u76ee"),(0,i.kt)("p",null,"\u8fd9\u65f6\u53ef\u80fd\u9700\u8981\u4fee\u6539maven\u9879\u76ee\u7684\u89c4\u8303, \u6bd4\u5982\u4fee\u6539\u6e90\u7801\u76ee\u5f55"),(0,i.kt)("p",null,"\u5982\u679c\u9700\u8981\u5305\u542bor\u6392\u9664\u547d\u540d\u4e0d\u89c4\u8303\u7684\u6d4b\u8bd5\u7528\u4f8b ,\u53c2\u89c1","[\u5305\u542b&\u6392\u9664\u6d4b\u8bd5\u7528\u4f8b]"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn -s <\u81ea\u5b9a\u4e49\u4f4d\u7f6e\u7684setttings> xx:xx")," -s\u8868\u793a\u7528\u6237settings, -gs\u8868\u793a\u8bbe\u5b9a\u5168\u5c40settings"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn -f <\u81ea\u5b9a\u4e49\u4f4d\u7f6e\u7684pom>"))),(0,i.kt)("h1",{id:"\u68c0\u67e5\u4f9d\u8d56\u51b2\u7a81"},"\u68c0\u67e5\u4f9d\u8d56\u51b2\u7a81"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree")," \u7b80\u8981\u7684\u5217\u51fa\u9879\u76ee\u7684\u4f9d\u8d56\u6811"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree -D verbose")," \u8be6\u7ec6\u5217\u51fa\u9879\u76ee\u7684\u4f9d\u8d56\u6811"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn dependency:tree -D includes=groupid:artifactId excludes=groupId:artifactId")," \u6839\u636e\u81ea\u5df1\u7684\u559c\u597d\u5217\u51fa\u4f9d\u8d56\u6811")),(0,i.kt)("h1",{id:"maven\u9879\u76ee\u7684\u6301\u7eed\u96c6\u6210"},"Maven\u9879\u76ee\u7684\u6301\u7eed\u96c6\u6210"),(0,i.kt)("h1",{id:"\u7f16\u5199maven\u6a21\u677farchetype"},"\u7f16\u5199Maven\u6a21\u677farchetype"),(0,i.kt)("h2",{id:"archetype\u7ec4\u6210\u5143\u7d20"},"archetype\u7ec4\u6210\u5143\u7d20"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"archetype\u7279\u6027\u662f\u901a\u8fc7\u63d2\u4ef6",(0,i.kt)("inlineCode",{parentName:"li"},"maven-archetype-plugin"),"\u5b9e\u73b0\u7684"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mvn archetype:generate")," \u4f1a\u8fdb\u5165\u751f\u6210\u7684\u4ea4\u4e92\u754c\u9762, \u6709\u591a\u4e2aarchetype\u4f9b\u9009\u62e9, \u4ed6\u4eec\u6765\u81ea\u4e8earchetype-catalog.xml, \u8be6\u7ec6\u4f7f\u7528\u89c1",(0,i.kt)("a",{parentName:"li",href:"#%E4%BD%BF%E7%94%A8archetype%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE%E9%AA%A8%E6%9E%B6"},"\u4f7f\u7528archetype\u751f\u6210\u9879\u76ee\u9aa8\u67b6")),(0,i.kt)("li",{parentName:"ul"},"\u5728\u81ea\u52a8\u5316shell\u811a\u672c\u4e2d",(0,i.kt)("inlineCode",{parentName:"li"},"mvn archetype:generate -B"),", -B\u8868\u793a\u4e0d\u8981\u8fdb\u5165\u4ea4\u4e92\u5f0f\u754c\u9762.")),(0,i.kt)("p",null,"\u600e\u4e48\u81ea\u5b9a\u4e49?"),(0,i.kt)("p",null,"\u4e00\u4e2aarchetype\u9879\u76ee\u5305\u62ec\u8fd9\u51e0\u4e2a\u90e8\u5206"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"pom.xml \u6a21\u7248\u81ea\u8eab\u7684pom; \u6709\u57fa\u672c\u7684\u5750\u6807, \u9ed8\u8ba4jar\u6253\u5305\u65b9\u5f0f\u5373\u53ef"),(0,i.kt)("li",{parentName:"ol"},"src/main/resources/archetype-resources/* \u4e0b\u9762\u7684\u6570\u636e\u7528\u4e8e\u751f\u6210\u65b0\u7684\u9879\u76ee;\u5305\u62ecpom\u539f\u578b, \u4e3b\u4ee3\u7801\u539f\u578b;"),(0,i.kt)("li",{parentName:"ol"},"src/main/resources/META-INF/maven/archetype.xml \u6a21\u7248\u7684\u63cf\u8ff0\u7b26\u6587\u4ef6; \u58f0\u660e\u54ea\u4e9b\u6587\u4ef6\u4f1a\u5305\u542b\u5728\u6a21\u7248\u4e2d, \u4f7f\u7528\u4e86\u54ea\u4e9b\u5c5e\u6027\u53c2\u6570")),(0,i.kt)("p",null,"\u4e0b\u9762\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684archetype"),(0,i.kt)("h2",{id:"archetype-demo"},"archetype-demo"),(0,i.kt)("h3",{id:"archetype\u81ea\u8eabpom"},"archetype\u81ea\u8eabpom"),(0,i.kt)("p",null,"\u9996\u5148\u662farchetype\u7684pom:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  \n  <groupId>com.xiaoyu.archetype</groupId>\n  <artifactId>archetype-learn</artifactId>\n  <version>0.0.1-SNAPSHOT</version>\n  <packaging>jar</packaging>\n  <name>Archetype - archetype-learn</name>\n</project>\n\n')),(0,i.kt)("h3",{id:"\u6a21\u7248\u6570\u636e"},"\u6a21\u7248\u6570\u636e"),(0,i.kt)("p",null,"\u63a5\u7740\u662f\u6a21\u677f\u6570\u636e, \u5305\u62ecpom\u548c\u4ee3\u7801"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package $com.xiaoyu.archetype.learn;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( "Hello World!" );\n    }\n}\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\npackage $com.xiaoyu.archetype.learn;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\n/**\n * Unit test for simple App.\n */\npublic class AppTest \n    extends TestCase\n{\n    /**\n     * Create the test case\n     *\n     * @param testName name of the test case\n     */\n    public AppTest( String testName )\n    {\n        super( testName );\n    }\n\n    /**\n     * @return the suite of tests being tested\n     */\n    public static Test suite()\n    {\n        return new TestSuite( AppTest.class );\n    }\n\n    /**\n     * Rigourous Test :-)\n     */\n    public void testApp()\n    {\n        assertTrue( true );\n    }\n}\n\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  \n  \x3c!-- \u8bbe\u7f6eartifactId\u548cgroupId\u4f5c\u4e3a\u53d8\u91cf ( ${artifactId} / ${groupId} )\u3002\u8fd9\u4e24\u4e2a\u53d8\u91cf\u90fd\u5c06\u5728archetype:generate\u4ece\u547d\u4ee4\u884c\u8fd0\u884c\u65f6\u88ab\u521d\u59cb\u5316 --\x3e\n  <groupId>${groupId}</groupId>\n  <artifactId>${artifactId}</artifactId>\n  <version>${version}</version>\n  <packaging>jar</packaging>\n  <name>${artifactId}</name>\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n  \n  <build>\n    <pluginManagement>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.7.0</version>\n                <configuration>\n                     <source>1.8</source>\n                     <target>1.8</target>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-resources-plugin</artifactId>\n                <version>3.0.2</version>\n                <configuration>\n                     <encoding>UTF-8</encoding>\n                </configuration>\n            </plugin>\n        </plugins>\n    </pluginManagement>\n  </build>\n</project>\n\n')),(0,i.kt)("h3",{id:"\u63cf\u8ff0\u7b26\u6587\u4ef6"},"\u63cf\u8ff0\u7b26\u6587\u4ef6"),(0,i.kt)("p",null,"\u6700\u91cd\u8981\u7684\u4e00\u6b65: \u7f16\u8f91\u63cf\u8ff0\u7b26\u4fe1\u606f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<archetype xmlns="http://maven.apache.org/plugins/maven-archetype-plugin/archetype/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/plugins/maven-archetype-plugin/archetype/1.0.0 http://maven.apache.org/xsd/archetype-1.0.0.xsd">\n  \n  <id>archetype-learn</id>\x3c!-- \u5e94\u8be5\u548carchetype\u7684artifactId\u76f8\u540c --\x3e\n  \x3c!-- \n  <sources> = src/main/java\n<resources> = src/main/resources\n<testSources> = src/test/java\n<testResources> = src/test/resources\n<siteResources> = src/site\n1. <sources> \u548c<testSources>\u90fd\u80fd\u5305\u542b<source>\u5143\u7d20\u6765\u6307\u5b9a\u6e90\u6587\u4ef6\u3002\n2. <resources>\u548c<testResources>\u548c<siteResources>\u80fd\u5305\u542b<resource>\u5143\u7d20\u6765\u6307\u5b9a\u8d44\u6e90\u6587\u4ef6\n3. \u6bd4\u5982src/main/webapp\u76ee\u5f55\u653e\u5728<resource>\u6807\u7b7e\u4e2d\n   --\x3e\n  <sources>\n    <source>src/main/java/App.java</source>\n  </sources>\n  <testSources>\n    <source>src/test/java/AppTest.java</source>\n  </testSources>\n  \x3c!-- <allowPartial>true</allowPartial>\u6807\u7b7e\u662f\u53ef\u9009\u7684\uff0c\u5b83\u4f7f\u5f97archetype:generate\u53ef\u4ee5\u5728\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u5de5\u7a0b\u4e2d\u8fd0\u884c --\x3e\n  \x3c!-- <allowPartial>true</allowPartial> --\x3e\n</archetype>\n')),(0,i.kt)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn install")," \u5b89\u88c5\u8fd9\u4e2aarchetype, ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn archetype:generate -D archetypeGroupId=com.xiaoyu.archetype -D archetypeArtifactId=archetype-learn -D archetypeVersion=0.0.1-SNAPSHOT -D groupId=com.xiaoyu.archetype.generate -D artifactId=demo"),"\u4f7f\u7528\u8fd9\u4e2aarchetype"),(0,i.kt)("p",null,"\u5982\u679c\u76f4\u63a5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"mvn archetype:generate")," \u800c\u4e0d\u5e26\u53c2\u6570, \u56de\u51fa\u6765\u4e00\u4e2a\u5217\u8868\u4f9b\u9009\u62e9, \u5982\u4f55\u8ba9\u81ea\u5b9a\u4e49\u7684archetype\u51fa\u73b0\u5728\u8fd9\u4e2a\u5217\u8868\u5462? \u89c1",(0,i.kt)("a",{parentName:"p",href:"#archetype-catalog"},"archetype-catalog")),(0,i.kt)("h2",{id:"archetype-catalog"},"archetype-catalog"),(0,i.kt)("p",null,"\u53c2\u8003: ",(0,i.kt)("a",{parentName:"p",href:"http://maven.apache.org/archetype/maven-archetype-plugin/specification/archetype-catalog.html"},"http://maven.apache.org/archetype/maven-archetype-plugin/specification/archetype-catalog.html")),(0,i.kt)("p",null,"maven-archetype-plugin\u4f1a\u4ece\u8fd9\u4e9b\u4f4d\u7f6e\u8bfb\u53d6catalog:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"internal"),": \u63d2\u4ef6\u5185\u7f6e\u7684catalog"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"local"),"(\u63d2\u4ef6\u9ed8\u8ba4): \u672c\u5730\u7684\u9ed8\u8ba4\u4f4d\u7f6e, \u4f4d\u4e8e",(0,i.kt)("inlineCode",{parentName:"li"},"~/.m2/archetype-catalog.xml"),"(\u9ed8\u8ba4\u4e0d\u5b58\u5728)"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"remote"),"(\u63d2\u4ef6\u9ed8\u8ba4): maven\u4e2d\u592e\u4ed3\u5e93\u7684"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"file://")," : \u6307\u5b9a\u672c\u5730\u4efb\u610f\u4f4d\u7f6e\u7684catalog "),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"http://")," : \u8fdc\u7a0b\u7684catalog")),(0,i.kt)("p",null,"\u5982\u4f55\u8bfb\u53d6\u8fd9\u4e9bcatalog?"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mvn archetype:generate -D archetypeCatalog=file:// /xxx/xxx/archetype-catalog.xml,local")," \u6307\u5b9a\u591a\u4e2acatalog"),(0,i.kt)("p",null,"\u5178\u578b\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"archetype-catalog.xml"),"\u957f\u8fd9\u6837:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<archetype-catalog  xmlns="http://maven.apache.org/plugins/maven-archetype-plugin/archetype-catalog/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/plugins/maven-archetype-plugin/archetype-catalog/1.0.0 http://maven.apache.org/xsd/archetype-catalog-1.0.0.xsd">\n  <archetypes>\n    <archetype>\n       <groupId>org.appfuse.archetypes</groupId>\x3c!-- \u5fc5\u987b --\x3e\n       <artifactId>appfuse-basic-jsf</artifactId>\x3c!-- \u5fc5\u987b --\x3e\n       <version>2.0</version>\x3c!-- \u5fc5\u987b --\x3e\n       <repository>http://static.appfuse.org/releases</repository>\x3c!-- \u53ef\u9009, \u5982\u679c\u7701\u7565, \u4f1a\u5728archetype-catalog.xml\u6240\u5728\u7684\u4ed3\u5e93\u627earchetype --\x3e\n       <description>AppFuse archetype for creating a web application with Hibernate, Spring and JSF</description>\x3c!-- \u53ef\u9009 --\x3e\n    </archetype>\n    ...\n  </archetypes>\n</archetype-catalog>\n')))}d.isMDXComponent=!0}}]);