"use strict";(self.webpackChunkwiki_1=self.webpackChunkwiki_1||[]).push([[7909],{3905:(n,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>v});var r=t(7294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var o=r.createContext({}),s=function(n){var e=r.useContext(o),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},c=function(n){var e=s(n.components);return r.createElement(o.Provider,{value:e},n.children)},u="mdxType",m={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,i=n.originalType,o=n.parentName,c=p(n,["components","mdxType","originalType","parentName"]),u=s(t),d=a,v=u["".concat(o,".").concat(d)]||u[d]||m[d]||i;return t?r.createElement(v,l(l({ref:e},c),{},{components:t})):r.createElement(v,l({ref:e},c))}));function v(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var i=t.length,l=new Array(i);l[0]=d;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=n,p[u]="string"==typeof n?n:a,l[1]=p;for(var s=2;s<i;s++)l[s]=t[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4228:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var r=t(7462),a=(t(7294),t(3905));const i={title:"Design Pattern \u7b14\u8bb0",tags:["\u8bbe\u8ba1\u6a21\u5f0f"],date:new Date("2018-11-25T22:54:25.000Z"),toc_min_heading_level:2,toc_max_heading_level:5},l=void 0,p={unversionedId:"design-pattern-note",id:"design-pattern-note",title:"Design Pattern \u7b14\u8bb0",description:"https://github.com/xiaoyureed/design-patern-note",source:"@site/docs/design-pattern-note.md",sourceDirName:".",slug:"/design-pattern-note",permalink:"/en/docs/design-pattern-note",draft:!1,editUrl:"https://github.com/xiaoyureed/xiaoyureed.github.io/tree/main/docs/design-pattern-note.md",tags:[{label:"\u8bbe\u8ba1\u6a21\u5f0f",permalink:"/en/docs/tags/\u8bbe\u8ba1\u6a21\u5f0f"}],version:"current",frontMatter:{title:"Design Pattern \u7b14\u8bb0",tags:["\u8bbe\u8ba1\u6a21\u5f0f"],date:"2018-11-25T22:54:25.000Z",toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"Data Structure and Algorithm",permalink:"/en/docs/data-structure-and-algorithm"},next:{title:"\u5f00\u53d1\u8005\u8d44\u6e90",permalink:"/en/docs/dev-resources"}},o={},s=[{value:"open close principle",id:"open-close-principle",level:2},{value:"single responsibility principle",id:"single-responsibility-principle",level:2},{value:"interface separation principle",id:"interface-separation-principle",level:2},{value:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219",id:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219",level:2},{value:"dependence inversion principle",id:"dependence-inversion-principle",level:2},{value:"Least Knowledge Principle",id:"least-knowledge-principle",level:2},{value:"\u8bbe\u8ba1\u6a21\u5f0f\u603b\u7ed3",id:"\u8bbe\u8ba1\u6a21\u5f0f\u603b\u7ed3",level:2},{value:"spring \u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f",id:"spring-\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f",level:2},{value:"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f",id:"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f",level:2},{value:"\u5de5\u5382\u65b9\u6cd5",id:"\u5de5\u5382\u65b9\u6cd5",level:2},{value:"\u62bd\u8c61\u5de5\u5382",id:"\u62bd\u8c61\u5de5\u5382",level:2},{value:"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49",id:"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49",level:2},{value:"jdk \u4e2d\u7684\u89c2\u5bdf\u8005\u6a21\u5f0f",id:"jdk-\u4e2d\u7684\u89c2\u5bdf\u8005\u6a21\u5f0f",level:2},{value:"jdk \u4e2d\u7684 api",id:"jdk-\u4e2d\u7684-api",level:3},{value:"jdk \u89c2\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u793a\u4f8b",id:"jdk-\u89c2\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u793a\u4f8b",level:3},{value:"\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b",id:"\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b",level:2},{value:"\u9759\u6001\u4ee3\u7406",id:"\u9759\u6001\u4ee3\u7406",level:2},{value:"\u52a8\u6001\u4ee3\u7406",id:"\u52a8\u6001\u4ee3\u7406",level:2},{value:"\u770b\u4e00\u4e2a\u4f7f\u7528\u793a\u4f8b",id:"\u770b\u4e00\u4e2a\u4f7f\u7528\u793a\u4f8b",level:3},{value:"\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u8fde\u63a5\u6c60",id:"\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u8fde\u63a5\u6c60",level:3}],c={toc:s},u="wrapper";function m(n){let{components:e,...t}=n;return(0,a.kt)(u,(0,r.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("div",{align:"center"},"https://github.com/xiaoyureed/design-patern-note https://github.com/iluwatar/java-design-patterns",(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/39972591"},"https://www.zhihu.com/question/39972591"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#1-%E5%AE%9E%E8%B7%B5-%E6%A1%88%E4%BE%8B"},"1. \u5b9e\u8df5 \u6848\u4f8b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#2-uml-%E7%B1%BB%E5%9B%BE"},"2. uml \u7c7b\u56fe")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#3-%E7%A8%8B%E5%BA%8F-6-%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"},"3. \u7a0b\u5e8f 6 \u5927\u8bbe\u8ba1\u539f\u5219"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#31-open-close-principle"},"3.1. open close principle")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#32-single-responsibility-principle"},"3.2. single responsibility principle")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#33-interface-separation-principle"},"3.3. interface separation principle")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#34-%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99"},"3.4. \u91cc\u6c0f\u66ff\u6362\u539f\u5219")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#35-dependence-inversion-principle"},"3.5. dependence inversion principle")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#36-least-knowledge-principle"},"3.6. Least Knowledge Principle")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#4-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%A6%81"},"4. \u8bbe\u8ba1\u6a21\u5f0f\u6982\u8981"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#41-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93"},"4.1. \u8bbe\u8ba1\u6a21\u5f0f\u603b\u7ed3")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#42-spring-%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"},"4.2. spring \u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#43-%E4%B8%8D%E8%A6%81%E8%BF%87%E5%BA%A6%E4%BD%BF%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"},"4.3. \u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#5-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"},"5. \u5de5\u5382\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#51-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95"},"5.1. \u5de5\u5382\u65b9\u6cd5")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#52-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82"},"5.2. \u62bd\u8c61\u5de5\u5382")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#6-%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F"},"6. \u6a21\u677f\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#7-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"},"7. \u7b56\u7565\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#8-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"},"8. \u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#81-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89"},"8.1. \u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#82-jdk-%E4%B8%AD%E7%9A%84%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"},"8.2. jdk \u4e2d\u7684\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#821-jdk-%E4%B8%AD%E7%9A%84-api"},"8.2.1. jdk \u4e2d\u7684 api")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#822-jdk-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"},"8.2.2. jdk \u89c2\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u793a\u4f8b")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#83-%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E6%A8%A1%E5%9E%8B"},"8.3. \u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#9-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"},"9. \u4ee3\u7406\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#91-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"},"9.1. \u9759\u6001\u4ee3\u7406")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#92-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"},"9.2. \u52a8\u6001\u4ee3\u7406"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#921-%E7%9C%8B%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"},"9.2.1. \u770b\u4e00\u4e2a\u4f7f\u7528\u793a\u4f8b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#922-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"},"9.2.2. \u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u8fde\u63a5\u6c60")))))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#10-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F"},"10. \u88c5\u9970\u5668\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#11-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"},"11. \u9002\u914d\u5668\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#12-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"},"12. \u8d23\u4efb\u94fe\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#13-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"},"13. \u5355\u4f8b\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#14-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"},"14. \u547d\u4ee4\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#15-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F"},"15. \u95e8\u9762\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#16-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F"},"16. \u5efa\u9020\u8005\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#17-%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%A8%A1%E5%BC%8F"},"17. \u6d41\u6c34\u7ebf\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#18-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F-state-machine"},"18. \u72b6\u6001\u6a21\u5f0f state machine"))),(0,a.kt)("h1",{id:"\u5b9e\u8df5-\u6848\u4f8b"},"\u5b9e\u8df5 \u6848\u4f8b"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/3wHFNFQPtj86AocLhUQahw"},"https://mp.weixin.qq.com/s/3wHFNFQPtj86AocLhUQahw"),"\nTODO"),(0,a.kt)("h1",{id:"uml-\u7c7b\u56fe"},"uml \u7c7b\u56fe"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4e09\u89d2\u7a7a\u5fc3\u7bad\u5934, \u865a\u7ebf - \u5b9e\u73b0\u5173\u7cfb, \u4ee3\u7801\u4e2d\u4e3a",(0,a.kt)("inlineCode",{parentName:"p"},"\u7ee7\u627f\u62bd\u8c61\u7c7bor\u63a5\u53e3"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4e09\u89d2\u7a7a\u5fc3\u7bad\u5934, \u5b9e\u7ebf - \u6cdb\u5316\u5173\u7cfb, \u4ee3\u7801\u4e2d\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"\u7ee7\u627f\u975e\u62bd\u8c61\u7c7b"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u666e\u901a\u7bad\u5934, \u865a\u7ebf - \u4f9d\u8d56\u5173\u7cfb, \u4ee3\u7801\u4e2d\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"\u7c7b\u65b9\u6cd5\u4e2d\u7684\u4f20\u5165\u53c2\u6570")))),(0,a.kt)("h1",{id:"\u7a0b\u5e8f-6-\u5927\u8bbe\u8ba1\u539f\u5219"},"\u7a0b\u5e8f 6 \u5927\u8bbe\u8ba1\u539f\u5219"),(0,a.kt)("p",null,"ref: <<\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u7985>>"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5f00\u653e\u5c01\u95ed\u539f\u5219\uff08Open Close Principle,\u7b80\u79f0OCP\uff09 - \u5c3d\u91cf\u901a\u8fc7\u6269\u5c55\u8f6f\u4ef6\u5b9e\u4f53\u6765\u89e3\u51b3\u9700\u6c42\u53d8\u5316\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u4fee\u6539\u5df2\u6709\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u53d8\u5316"),(0,a.kt)("p",{parentName:"li"},'  "\u5bf9\u65b0\u589e\u5f00\u653e, \u5bf9\u4fee\u6539\u5173\u95ed"'),(0,a.kt)("p",{parentName:"li"},"  \u5373\u62bd\u8c61\u51fa\u4e00\u4e2a interface, \u65b0\u7684\u529f\u80fd\u53ea\u9700\u8981\u589e\u52a0\u5b9e\u73b0\u7c7b\u5373\u53ef, \u4f7f\u7528\u7684\u65f6\u5019, \u901a\u8fc7 interface \u7684 api \u4f7f\u7528."))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5355\u4e00\u804c\u8d23\u539f\u5219(Single Responsibility Principle\uff0c\u7b80\u79f0SRP )"),(0,a.kt)("p",{parentName:"li"},"  \u4e00\u4e2a\u7c7b\u7684\u804c\u8d23\u5e94\u8be5\u5c3d\u53ef\u80fd\u5c11, \u5c3d\u53ef\u80fd\u62c6\u5206\u7c7b\u4e3a\u591a\u4e2a"),(0,a.kt)("p",{parentName:"li"},"  \u5982\u6709\u7c7bClass1\u5b8c\u6210\u804c\u8d23T1\uff0cT2\uff0c\u5f53\u804c\u8d23T1\u6216T2\u6709\u53d8\u66f4\u9700\u8981\u4fee\u6539\u65f6\uff0c\u6709\u53ef\u80fd\u5f71\u54cd\u5230\u8be5\u7c7b\u7684\u53e6\u5916\u4e00\u4e2a\u804c\u8d23\u6b63\u5e38\u5de5\u4f5c\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff08Interface Separation Principle,\u7b80\u79f0ISP\uff09;"),(0,a.kt)("p",{parentName:"li"},"  \u5c3d\u91cf\u7ec6\u5316\u63a5\u53e3\uff0c\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u5c3d\u91cf\u5c11. (\u8fd9\u6837\u5b9e\u73b0\u7c7b\u5c31\u65e0\u9700\u5b9e\u73b0\u4e0d\u5173\u5fc3\u7684\u65b9\u6cd5)"),(0,a.kt)("p",{parentName:"li"},"  \u548c\u5355\u4e00\u804c\u8d23\u539f\u5219\u7c7b\u4f3c, \u53ea\u4e0d\u8fc7\u9488\u5bf9\u63a5\u53e3\u6765\u8bf4\u7684. "),(0,a.kt)("p",{parentName:"li"},"  \u89e3\u51b3\u7c7b\u4f3c\u8fd9\u79cd\u95ee\u9898: \u7c7bA\u901a\u8fc7\u63a5\u53e3interface\u4f9d\u8d56\u7c7bB\uff0c\u7c7bC\u901a\u8fc7\u63a5\u53e3interface\u4f9d\u8d56\u7c7bD\uff0c\u5982\u679c\u63a5\u53e3interface\u5bf9\u4e8e\u7c7bA\u548c\u7c7bB\u6765\u8bf4\u4e0d\u662f\u6700\u5c0f\u63a5\u53e3\uff0c\u5219\u7c7bB\u548c\u7c7bD\u5fc5\u987b\u53bb\u5b9e\u73b0\u4ed6\u4eec\u4e0d\u9700\u8981\u7684\u65b9\u6cd5\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u91cc\u6c0f\u66ff\u6362\u539f\u5219\uff08Liskov Substitution Principle,\u7b80\u79f0LSP\uff09"),(0,a.kt)("p",{parentName:"li"},"  \u5728\u4f7f\u7528\u57fa\u7c7b\u7684\u7684\u5730\u65b9\u53ef\u4ee5\u4efb\u610f\u4f7f\u7528\u5176\u5b50\u7c7b\uff0c\u80fd\u4fdd\u8bc1\u5b50\u7c7b\u5b8c\u7f8e\u66ff\u6362\u57fa\u7c7b"),(0,a.kt)("p",{parentName:"li"},"  \u4e5f\u5c31\u662f: \u5b50\u7c7b\u4e00\u822c\u4e0d\u4f1a\u91cd\u5199\u7236\u7c7b\u7684\u65b9\u6cd5, \u5c3d\u91cf\u4e0d\u8981\u7834\u574f\u7ee7\u627f\u4f53\u7cfb"),(0,a.kt)("p",{parentName:"li"},"  \u9700\u8981\u591a\u6ce8\u610f\u7684\u662f\uff1a\u6709\u65f6\u5019\u4f1a\u4e3a\u4e86\u7075\u6d3b\u6027\u727a\u7272\u8fd9\u4e2a\u539f\u5219")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\uff08Dependence Inversion Principle,\u7b80\u79f0DIP\uff09"),(0,a.kt)("p",{parentName:"li"},"  \u5373\u5b9e\u73b0\u90fd\u662f\u6613\u53d8\u7684\uff0c\u800c\u53ea\u6709\u62bd\u8c61\u662f\u7a33\u5b9a\u7684\uff0c\u6240\u4ee5\u5f53\u4f9d\u8d56\u4e8e\u62bd\u8c61\u65f6\uff0c\u5b9e\u73b0\u7684\u53d8\u5316\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u8c03\u7528\u3002"),(0,a.kt)("p",{parentName:"li"},'  \u4e5f\u5c31\u662f "\u9762\u5411\u63a5\u53e3\u7f16\u7a0b"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6700\u5c11\u77e5\u8bc6\u539f\u5219/\u8fea\u7c73\u7279\u6cd5\u5219 (Least Knowledge Principle, LKP)"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7c7b\u95f4\u89e3\u8026: talk only to your immediate friends\uff08\u53ea\u548c\u76f4\u63a5\u7684\u670b\u53cb\u4ea4\u6d41\uff09."),(0,a.kt)("p",{parentName:"li"},"  \u51fa\u73b0\u5728\u6210\u5458\u53d8\u91cf, \u65b9\u6cd5\u7684\u8f93\u5165\u8f93\u51fa\u53c2\u6570\u4e2d\u7684\u7c7b \u5c31\u662f\u76f4\u63a5\u7684\u670b\u53cb\u3002\u8fea\u7c73\u7279\u6cd5\u5219\u8981\u6c42\u53ea\u548c\u76f4\u63a5\u7684\u670b\u53cb\u901a\u4fe1. \u53ea\u51fa\u73b0\u5728\u65b9\u6cd5\u4f53\u5185\u90e8\u7684\u7c7b\u5c31\u4e0d\u662f\u76f4\u63a5\u7684\u670b\u53cb")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u66b4\u9732\u5c3d\u91cf\u5c11\u7684\u65b9\u6cd5\u7ed9\u5916\u754c (\u80fd private \u5c31\u4e0d\u8981 public)."))))),(0,a.kt)("h2",{id:"open-close-principle"},"open close principle"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// bad demo\n\n/**\n * \u4fe1\u606f\u53d1\u9001\u7c7b, \u901a\u8fc7\u77ed\u4fe1\u53d1\u9001\n *\n * @version: 0.1\n * @author: xy\n * @date: 2018\u5e741\u670823\u65e5 \u4e0b\u534810:27:28\n */\npublic class MessageSend {\n\n    public void send(String msg) {\n        System.out.println("Text Message send : " + msg);\n\n    }\n}\n\n/**\n * \u670d\u52a1\u7c7b, \u4f9b\u5ba2\u6237\u7aef\u8c03\u7528\n *\n * @version: 0.1\n * @author: xy\n * @date: 2018\u5e741\u670823\u65e5 \u4e0b\u534810:29:09\n */\npublic class MessageService {\n\n    private MessageSend sender;\n\n    public MessageService() {\n        this.sender = new MessageSend();\n    }\n\n    public void send(String msg) {\n        sender.send(msg);\n    }\n}\n\n/**\n * \u5ba2\u6237\u7aef\u8c03\u7528\n *\n * @version: 0.1\n * @author: xy\n * @date: 2018\u5e741\u670823\u65e5 \u4e0b\u534810:30:11\n */\npublic class MessageClient {\n\n    public static void main(String[] args) {\n        MessageService messageService = new MessageService();\n        messageService.send("Merry Christmas !");\n    }\n}\n\n/////////////////////////////////////////////////////\n\n// \u73b0\u5728\u9700\u8981\u65b0\u652f\u6301\u53e6\u4e00\u79cd\u53d1\u9001\u65b9\u5f0f: \u5fae\u4fe1, \u53ea\u597d\u4fee\u6539\u6e90\u7801\n\n/**\n * \u65b0\u589e\u7684\u4fe1\u606f\u53d1\u9001\u5e2e\u52a9\u7c7b, \u652f\u6301email\n *\n * @version: 0.1\n * @author: xy\n * @date: 2018\u5e741\u670823\u65e5 \u4e0b\u534810:37:55\n */\npublic class EmailMessageSend {\n\n    public  void send(String msg) {\n        System.out.println("Email Message send: " + msg);\n    }\n}\n\n/**\n * \u65b0\u589e\u7684\u4fe1\u606f\u53d1\u9001\u7c7b\u578b\n *\n * @version: 0.1\n * @author: xy\n * @date: 2018\u5e741\u670823\u65e5 \u4e0b\u534810:42:36\n */\npublic enum SendType {\n\n    /**\n     * \u77ed\u4fe1\n     */\n    TEXT,\n    /**\n     * \u90ae\u4ef6\n     */\n    EMAIL \n}\n\n/**\n * \u670d\u52a1\u7c7b, \u4f9b\u5ba2\u6237\u7aef\u8c03\u7528\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670823\u65e5 \u4e0b\u534810:53:18\n */\npublic class MessageService {\n\n    private MessageSend sender;\n    private SendType t;\n    public MessageService(SendType t) {\n        this.t= t;\n    }\n\n    public void send(String msg) {\n        // \u6839\u636e\u4e0d\u540c\u7684\u7c7b\u578b\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\n    }\n}\n\n// \u7136\u540e\u662fclient\u589e\u52a0\u65b0\u7684\u8c03\u7528\n\n// \u540e\u7eed\u5982\u679c\u53c8\u8981\u652f\u6301\u65b0\u7684\u53d1\u9001\u65b9\u5f0f, \u53c8\u9700\u8981\u5927\u6539MessageService\u6e90\u7801;\n// \u5982\u679c\u9075\u5faa\u5f00\u95ed\u539f\u5219\u8bbe\u8ba1, \u4f1a\u600e\u4e48\u6837\u5462?\n\n\n////////////////////////////////////////////////////////////////\n// good demo\n\n/**\n * \u4fe1\u606f\u53d1\u9001\u63a5\u53e3\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670823\u65e5 \u4e0b\u534811:02:30\n */\npublic interface ISendable {\n\n    void send();\n}\n\n// \u5404\u4e2a\u4fe1\u606f\u53d1\u9001\u7c7b\u5b9e\u73b0\u63a5\u53e3\npublic class MessageSend implements ISendable{}\npublic class EmailMessageSend implements ISendable{}\n\n// messageService\u4ee5\u540e\u53ef\u4ee5\u4e00\u76f4\u4e0d\u53d8\n\npublic class MessageService {\n\n    private ISendable sender;\n\n    public MessageService(ISendable sender) {\n        this.sender = messageHelper;\n    }\n\n    public void send(String msg) {\n        sender.send(msg);\n    }\n}\n\n// \u5ba2\u6237\u7aef\u8c03\u7528\npublic class MessageClient {\n\n    public static void main(String[] args) {\n        MessageService messageService = new MessageService(new MessageSend());\n        messageService.send("Merry Christmas !");\n\n        MessageService messageService2 = new MessageService(new EmailMessageSend());\n        messageService2.send("Merry Christmas !");\n    }\n}\n\n// \u5bf9\u4e8eMessageService\u670d\u52a1\u7c7b\u6765\u8bf4\uff0c\u4e0d\u7528\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u6269\u5c55\u65b0\u7684\u63a8\u9001\u6d88\u606f\u7684\u5de5\u5177\u7c7b\u5373\u53ef, \u8fd9\u5c31\u662f\u9075\u5faa\u5f00\u95ed\u539f\u5219\u7684\u597d\u5904\n')),(0,a.kt)("h2",{id:"single-responsibility-principle"},"single responsibility principle"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// bad demo\npublic class Calculator {\n    public int add() throws NumberFormatException, IOException{\n        //\u8fd9\u91cc\u8bfb\u53d6\u548c\u52a0\u6cd5\u8026\u5408\u5728\u4e00\u8d77\u4e86\uff0c\u5982\u679c\u9700\u8981\u589e\u52a0\u4e1a\u52a1\u65b9\u6cd5\u3010\u51cf\u6cd5\u3011\uff0c\u5c31\u8981\u66f4\u6539\u4ee3\u7801\n        File file = new File("E:/data.txt");\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        int a = Integer.valueOf(br.readLine());\n        int b = Integer.valueOf(br.readLine());\n        return a+b;\n    }\n    public static void main(String[] args) throws NumberFormatException, IOException {\n        Calculator calculator = new Calculator();\n        System.out.println("result:" + calculator.add());\n    }\n}\n\n// good demo\n//\u9075\u5faa\u5355\u4e00\u804c\u8d23\u539f\u5219\u540e, \u662f\u8fd9\u6837: \u5206\u79bb\u51fa\u6765\u4e00\u4e2a\u7c7b\u7528\u6765\u8bfb\u53d6\u6570\u636e\uff0c\u5c06\u4e00\n//\u4e2a\u7c7b\u62c6\u6210\u4e86\u4e24\u4e2a\u7c7b\uff0c\u8fd9\u6837\u4ee5\u540e\u6211\u4eec\u5982\u679c\u6709\u51cf\u6cd5\uff0c\u4e58\u6cd5\u7b49\u7b49\uff0c\u5c31\u4e0d\u7528\u51fa\u73b0\u90a3\u4e48\u591a\u91cd\u590d\u4ee3\u7801\u4e86\n\npublic class Reader {\n    int a,b;\n    public Reader(String path) throws NumberFormatException, IOException{\n        BufferedReader br = new BufferedReader(new FileReader(new File(path)));\n        a = Integer.valueOf(br.readLine());\n        b = Integer.valueOf(br.readLine());\n    }\n    public int getA(){\n        return a;\n    }\n    public int getB(){\n        return b;\n    }\n}\n\n//\u5355\u72ec\u7684\u8ba1\u7b97\u7c7b\npublic class Calculator {\n    public int add(int a,int b){\n        return a + b;\n    }\n    public static void main(String[] args) throws NumberFormatException, IOException {\n        Reader reader = new Reader("E:/data.txt");\n        Calculator calculator = new Calculator();\n        System.out.println("result:" + calculator.add(reader.getA(),reader.getB()));\n    }\n}\n')),(0,a.kt)("h2",{id:"interface-separation-principle"},"interface separation principle"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"//\u8fd9\u662f\u9519\u8bef\u793a\u4f8b\uff0c\u5f53\u5b9e\u73b0\u6b64\u63a5\u53e3 \u65f6\uff0c\u5fc5\u987b\u5b9e\u73b0\u4e0d\u5fc5\u8981\u7684\u65b9\u6cd5 other()\npublic interface Mobile {\n    public void call();//\u624b\u673a\u53ef\u4ee5\u6253\u7535\u8bdd\n    public void sendMessage();//\u624b\u673a\u53ef\u4ee5\u53d1\u77ed\u4fe1\n    public void game();//\u624b\u673a\u53ef\u4ee5\u73a9\u6124\u6012\u7684\u5c0f\u9e1f\uff1f\u8fd9\u662f\u4e0d\u5408\u9002\u7684\u65b9\u6cd5\n}\n//\u6b63\u786e\u7684\u65b9\u5f0f\u662f\uff1a\u65b0\u5efa\u4e00\u4e2a\u63a5\u53e3\u6765\u62d3\u5c55Mobile\u63a5\u53e3\npublic interface SmartPhone extends Mobile{\n    public void game();//\u667a\u80fd\u624b\u673a\u7684\u63a5\u53e3\u5c31\u53ef\u4ee5\u52a0\u5165\u8fd9\u4e2a\u65b9\u6cd5\u4e86\n}\n")),(0,a.kt)("h2",{id:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219"},"\u91cc\u6c0f\u66ff\u6362\u539f\u5219"),(0,a.kt)("p",null,"\u57fa\u7c7b\u5b50\u7c7b\u53ef\u66ff\u6362"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// \u770b\u4e00\u4e2a\u7834\u574f\u7ee7\u627f\u4f53\u7cfb\u7684\u4f8b\u5b50\n// \u4e5f\u5c31\u662f\u4e0d\u7b26\u5408\u674e\u6c0f\u66ff\u6362\u539f\u5219\n\n/* \u7236\u7c7b */\npublic class Parent {\n    public void method(){\n        System.out.println("parent method");\n    }\n}\n/* \u5b50\u7c7b */\npublic class SubClass extends Parent{\n    //\u7ed3\u679c\u67d0\u4e00\u4e2a\u5b50\u7c7b\u91cd\u5199\u4e86\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u8bf4\u4e0d\u652f\u6301\u8be5\u64cd\u4f5c\u4e86\n    public void method() {\n        throw new UnsupportedOperationException();\n    }\n}\n\n//\u67d0\u4e00\u4e2a\u7c7b\npublic class SomeoneClass {\n    //\u6709\u67d0\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4f7f\u7528\u4e86\u4e00\u4e2a\u7236\u7c7b\u7c7b\u578b\n    public void someoneMethod(Parent parent){\n        parent.method();\n    }\n}\n/* \u6d4b\u8bd5\u7c7b */\npublic class Client {\n    public static void main(String[] args) {\n        SomeoneClass someoneClass = new SomeoneClass();\n        someoneClass.someoneMethod(new Parent());\n        someoneClass.someoneMethod(new SubClass());//\u6b64\u5904\u62a5\u9519, \u8fd0\u884c\u65f6\u624d\u4ea7\u751f\u62a5\u9519 // \u7834\u574f\u4e86\u7ee7\u627f\u4f53\u7cfb\n    }\n}\n')),(0,a.kt)("h2",{id:"dependence-inversion-principle"},"dependence inversion principle"),(0,a.kt)("h2",{id:"least-knowledge-principle"},"Least Knowledge Principle"),(0,a.kt)("p",null,"\u7c7b\u95f4\u89e3\u8026"),(0,a.kt)("p",null,"\u4e00\u4e2a\u7c7b\u5e94\u8be5\u5c3d\u91cf\u4e0d\u8981\u548c\u964c\u751f\u7684\u7c7b\u6709\u592a\u591a\u63a5\u89e6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"// \u9519\u8bef\u793a\u4f8b\nclass demo {\n    public void a() {...}\n    public void b() {...}\n    public void c() {\n        a();\n        b();\n    }\n}\n\n// \u6539\u8fdb\u540e\n// \u53ea\u66b4\u9732\u5fc5\u987b\u7684\u65b9\u6cd5\nclass demo {\n    private void a() {...}\n    private void b() {...}\n    public void c() {\n        a();\n        b();\n    }\n}\n")),(0,a.kt)("h1",{id:"\u8bbe\u8ba1\u6a21\u5f0f\u6982\u8981"},"\u8bbe\u8ba1\u6a21\u5f0f\u6982\u8981"),(0,a.kt)("h2",{id:"\u8bbe\u8ba1\u6a21\u5f0f\u603b\u7ed3"},"\u8bbe\u8ba1\u6a21\u5f0f\u603b\u7ed3"),(0,a.kt)("p",null,"\u5e38\u89c1\u7684:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5de5\u5382\u6a21\u5f0f & \u62bd\u8c61\u5de5\u5382\u6a21\u5f0f - \u4e0d\u540c\u6761\u4ef6\u4e0b\u521b\u5efa\u4e0d\u540c\u5b9e\u4f8b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6a21\u677f\u6a21\u5f0f - \u5728\u7236\u7c7b\u4e2d\u5b9a\u4e49\u9ad8\u5c42\u7684\u7b97\u6cd5\u6267\u884c\u987a\u5e8f, \u5b50\u7c7b\u4e2d\u5177\u4f53\u5b9e\u73b0\u6bcf\u4e2a\u6b65\u9aa4")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7b56\u7565\u6a21\u5f0f - \u7b56\u7565\u5bf9\u8c61\u4f9d\u8d56\u6ce8\u5165\u5230context\u5bf9\u8c61\uff0ccontext\u5bf9\u8c61\u6839\u636e\u5b83\u7684\u7b56\u7565\u6539\u53d8\u800c\u6539\u53d8\u5b83\u7684\u76f8\u5173\u884c\u4e3a")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u9002\u914d\u5668\u6a21\u5f0f - \u4f7f\u5f97\u67d0\u4e2a\u4e0d\u53ef\u4fee\u6539\u7684\u76ee\u6807\u7c7b\u7b26\u5408\u7279\u5b9a\u8981\u6c42\u7684\u63a5\u53e3")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u88c5\u9970\u5668\u6a21\u5f0f - \u5bf9\u88ab\u88c5\u9970\u7c7b\u589e\u5f3a")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8d23\u4efb\u94fe\u6a21\u5f0f - \u62e6\u622a\u7684\u7c7b\u90fd\u5b9e\u73b0\u7edf\u4e00\u63a5\u53e3\uff0c\u6bcf\u4e2a\u63a5\u6536\u8005\u90fd\u5305\u542b\u5bf9\u4e0b\u4e00\u4e2a\u63a5\u6536\u8005\u7684\u5f15\u7528\u3002\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u8fde\u63a5\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u4e14\u6cbf\u7740\u8fd9\u6761\u94fe\u4f20\u9012\u8bf7\u6c42\uff0c\u76f4\u5230\u6709\u5bf9\u8c61\u5904\u7406\u5b83\u4e3a\u6b62\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4ee3\u7406\u6a21\u5f0f - \u4e3a\u76ee\u6807\u5bf9\u8c61\u63d0\u4f9b\u4e00\u79cd\u4ee3\u7406\u4ee5\u63a7\u5236\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u89c2\u5bdf\u8005\u6a21\u5f0f - \u4e00\u5bf9\u591a\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5728\u89c2\u5bdf\u76ee\u6807\u7c7b\u91cc\u6709\u4e00\u4e2a ArrayList \u5b58\u653e\u89c2\u5bdf\u8005\u4eec\u3002\u5f53\u89c2\u5bdf\u76ee\u6807\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u6240\u6709\u4f9d\u8d56\u4e8e\u5b83\u7684\u89c2\u5bdf\u8005\u90fd\u5c06\u5f97\u5230\u901a\u77e5\uff0c\u4f7f\u8fd9\u4e9b\u89c2\u5bdf\u8005\u80fd\u591f\u81ea\u52a8\u66f4\u65b0\uff08\u5373\u4f7f\u7528\u63a8\u9001\u65b9\u5f0f\uff09")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5355\u4f8b\u6a21\u5f0f - \u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b"))),(0,a.kt)("p",null,"\u4e0d\u5e38\u89c1\u7684:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5efa\u9020\u8005\u6a21\u5f0f - \u7528\u4e8e\u6784\u9020\u590d\u6742\u5bf9\u8c61")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u539f\u578b\u6a21\u5f0f - \u901a\u8fc7\u62f7\u8d1d\u539f\u578b\u521b\u5efa\u65b0\u7684\u5bf9\u8c61")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fc7\u6ee4\u5668\u6a21\u5f0f - ")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6865\u63a5\u6a21\u5f0f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u95e8\u9762\u6a21\u5f0f - \u5728\u5ba2\u6237\u7aef\u548c\u590d\u6742\u7cfb\u7edf\u4e4b\u95f4\u518d\u52a0\u4e00\u5c42, \u9690\u85cf\u7cfb\u7edf\u7684\u590d\u6742\u6027")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7ec4\u5408\u6a21\u5f0f"))),(0,a.kt)("h2",{id:"spring-\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f"},"spring \u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7b80\u5355\u5de5\u5382"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"BeanFactory, \u6839\u636e\u4f20\u5165\u4e00\u4e2a\u552f\u4e00\u7684\u6807\u8bc6\u6765\u83b7\u5f97Bean\u5bf9\u8c61"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"FactoryBean\u63a5\u53e3\u3002"),(0,a.kt)("p",{parentName:"li"},"  \u5b9e\u73b0\u4e86FactoryBean\u63a5\u53e3\u7684bean\u662f\u4e00\u7c7b\u53eb\u505afactory\u7684bean\u3002\u5176\u7279\u70b9\u662f\uff0cspring\u4f1a\u5728\u4f7f\u7528getBean()\u8c03\u7528\u83b7\u5f97\u8be5bean\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u8be5bean\u7684getObject()\u65b9\u6cd5\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u4e0d\u662ffactory\u8fd9\u4e2abean\uff0c\u800c\u662f\u8fd9\u4e2abean.getOjbect()\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u3002")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5355\u4f8b\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Spring\u4f9d\u8d56\u6ce8\u5165Bean\u5b9e\u4f8b\u9ed8\u8ba4\u662f\u5355\u4f8b\u7684\u3002"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4ee3\u7406\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"aop \u5e95\u5c42\uff0c\u5c31\u662f\u52a8\u6001\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u3002"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"spring\u7684\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4f7f\u7528\u7684\u662f \u89c2\u5bdf\u8005\u6a21\u5f0f \uff0cSpring\u4e2dObserver\u6a21\u5f0f\u5e38\u7528\u7684\u5730\u65b9\u662flistener\u7684\u5b9e\u73b0\u3002"),(0,a.kt)("p",{parentName:"li"},"  \u5e95\u5c42\u662f\u901a\u8fc7 jdk \u63d0\u4f9b\u7684\u4e8b\u4ef6\u6a21\u578b\u5b9e\u73b0\u7684. EventObject, EventListener")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u9002\u914d\u5668\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"SpringMVC\u4e2d\u7684\u9002\u914d\u5668HandlerAdatper"),(0,a.kt)("p",{parentName:"li"},"  HandlerAdatper\u4f7f\u5f97Handler\u7684\u6269\u5c55\u53d8\u5f97\u5bb9\u6613\uff0c\u53ea\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u65b0\u7684Handler\u548c\u4e00\u4e2a\u5bf9\u5e94\u7684HandlerAdapter\u5373\u53ef\u3002")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u88c5\u9970\u5668\u6a21\u5f0f"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"spring \u4e2d \u7c7b\u540d\u4e2d\u542b\u6709Wrapper, \u90fd\u662f, \u5982: httpServletRquestWrapper...")))),(0,a.kt)("h2",{id:"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f"},"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/23757906/answer/25567356"},"https://www.zhihu.com/question/23757906/answer/25567356")),(0,a.kt)("p",null,"\u9664\u4e86Java, \u5176\u4ed6\u63d0\u4f9b\u52a8\u6001\u7f16\u7a0b\u7684\u7279\u6027\u7684\u8bed\u8a00\u65e0\u9700\u8bbe\u8ba1\u6a21\u5f0f, \u56e0\u4e3a:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f60\u7528\u7684\u8bed\u8a00\u80fd\u628a\u7c7b\u578b\u50cf\u53d8\u91cf\u4e00\u6837\u8d4b\u503c\u5e76\u4f20\u6765\u4f20\u53bb\uff0c\u5f88\u591a\u521b\u5efa\u578b\u6a21\u5f0f\u5c31\u6ca1\u7528\u4e86\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f60\u7528\u7684\u8bed\u8a00\u80fd\u628a\u51fd\u6570\u50cf\u53d8\u91cf\u4e00\u6837\u8d4b\u503c\u5e76\u4f20\u6765\u4f20\u53bb\uff0c\u5f88\u591a\u884c\u4e3a\u6a21\u5f0f\u5c31\u6ca1\u7528\u4e86\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f60\u7528\u7684\u8bed\u8a00 style \u53cd\u5bf9\u53e0\u5e8a\u67b6\u5c4b\u7684 class hierarchy\uff0c\u5f88\u591a\u7ed3\u6784\u6a21\u5f0f\u5c31\u6ca1\u7528\u4e86\u3002")),(0,a.kt)("h1",{id:"\u5de5\u5382\u6a21\u5f0f"},"\u5de5\u5382\u6a21\u5f0f"),(0,a.kt)("p",null,"\u4f18\u70b9:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5c06\u590d\u6742\u7684\u5bf9\u8c61\u521b\u5efa\u8fc7\u7a0b\u5c01\u88c5, \u7b80\u5316\u5bf9\u8c61\u7684\u521b\u5efa"),(0,a.kt)("li",{parentName:"ul"},"\u89e3\u8026")),(0,a.kt)("p",null,"\u4e0d\u540c\u7684\u5de5\u5382\u6a21\u5f0f\u6709\u4e0d\u540c\u7279\u70b9:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7b80\u5355\u5de5\u5382(\u9759\u6001\u5de5\u5382): \u63d0\u4f9b\u4e00\u4e2a\u8d85\u7ea7\u5de5\u5382\u7c7b, \u901a\u8fc7 if else \u5c01\u88c5\u6240\u6709 product \u7684\u521b\u5efa\u903b\u8f91. "),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fd9\u6837\u5e26\u6765\u4e24\u4e2a\u95ee\u9898:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5de5\u5382\u7c7b\u8fdd\u80cc single responsibilities principle"),(0,a.kt)("p",{parentName:"li"},"  \u5982\u679c\u9700\u8981\u751f\u4ea7\u7684\u4ea7\u54c1\u8fc7\u591a\uff0c\u6b64\u6a21\u5f0f\u4f1a\u5bfc\u81f4\u5de5\u5382\u7c7b\u8fc7\u4e8e\u5e9e\u5927\uff0c\u627f\u62c5\u8fc7\u591a\u7684\u804c\u8d23\uff0c\u53d8\u6210\u8d85\u7ea7\u7c7b\u3002\u5f53\u82f9\u679c\u751f\u4ea7\u8fc7\u7a0b\u9700\u8981\u4fee\u6539\u65f6\uff0c\u8981\u6765\u4fee\u6539\u6b64\u5de5\u5382\u3002\u68a8\u5b50\u751f\u4ea7\u8fc7\u7a0b\u9700\u8981\u4fee\u6539\u65f6\uff0c\u4e5f\u8981\u6765\u4fee\u6539\u6b64\u5de5\u5382\u3002\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u7c7b\u4e0d\u6b62\u4e00\u4e2a\u5f15\u8d77\u4fee\u6539\u7684\u539f\u56e0\u3002\u8fdd\u80cc\u4e86\u5355\u4e00\u804c\u8d23\u539f\u5219")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5de5\u5382\u7c7b\u8fdd\u80cc\u4e86 open close principle "),(0,a.kt)("p",{parentName:"li"},"  \u5f53\u8981\u751f\u4ea7\u65b0\u7684\u4ea7\u54c1\u65f6\uff0c\u5fc5\u987b\u5728\u5de5\u5382\u7c7b\u4e2d\u6dfb\u52a0\u65b0\u7684\u5206\u652f\u3002\u800c\u5f00\u95ed\u539f\u5219\u544a\u8bc9\u6211\u4eec\uff1a\u7c7b\u5e94\u8be5\u5bf9\u4fee\u6539\u5c01\u95ed\u3002\u6211\u4eec\u5e0c\u671b\u5728\u6dfb\u52a0\u65b0\u529f\u80fd\u65f6\uff0c\u53ea\u9700\u589e\u52a0\u65b0\u7684\u7c7b\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u65e2\u6709\u7684\u7c7b\uff0c\u6240\u4ee5\u8fd9\u5c31\u8fdd\u80cc\u4e86\u5f00\u95ed\u539f\u5219")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u9009\u62e9\u5173\u952e\u70b9\uff1a\u4e00\u79cd\u4ea7\u54c1\u662f\u5426\u53ef\u6839\u636e\u67d0\u4e2a\u53c2\u6570\u51b3\u5b9a\u5b83\u7684\u79cd\u7c7b"),(0,a.kt)("p",{parentName:"li"},"  \u5de5\u5382\u7c7b\u8d1f\u8d23\u521b\u5efa\u7684\u5bf9\u8c61\u8f83\u5c11, \u4e0d\u4f1a\u9020\u6210\u5de5\u5382\u65b9\u6cd5\u592a\u8fc7\u590d\u6742"),(0,a.kt)("p",{parentName:"li"},"  \u5ba2\u6237\u7aef\u53ea\u77e5\u9053\u4f20\u5165\u53c2\u6570, \u5bf9\u4e8e\u662f\u4ec0\u4e48\u5bf9\u8c61\u4e0d\u5173\u5fc3")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f: \u6bcf\u4e2a\u4ea7\u54c1\u90fd\u63d0\u4f9b\u4e00\u4e2a\u5355\u72ec\u7684\u5de5\u5382\u7c7b"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u89e3\u51b3\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4e24\u4e2a\u95ee\u9898."),(0,a.kt)("p",{parentName:"li"},"  \u65b0\u589e product \u521b\u5efa \u65f6, \u589e\u52a0 \u5bf9\u5e94 factory class \u5373\u53ef, \u65e0\u9700\u4fee\u6539\u5df2\u6709\u7684\u5de5\u5382\u7c7b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fd8\u662f\u5b58\u5728\u95ee\u9898: \u5de5\u5382\u7c7b\u4e0d\u662f\u9762\u5411\u63a5\u53e3\u7684"),(0,a.kt)("p",{parentName:"li"},"  \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4f18\u5316\uff0c\u63d0\u53d6\u51fa\u5de5\u5382\u63a5\u53e3")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u9009\u62e9\u5173\u952e\u70b9\uff1a\u5de5\u5382\u7c7b\u548c\u4ea7\u54c1\u7c7b\u662f\u5426\u662f\u540c\u751f\u540c\u706d\u7684\u5173\u7cfb"),(0,a.kt)("p",{parentName:"li"},"  \u5ba2\u6237\u7aef\u53ea\u77e5\u9053\u5177\u4f53\u5de5\u5382\u7c7b\u548c\u4ea7\u54c1\u53c2\u6570"),(0,a.kt)("p",{parentName:"li"},"  \u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u4efb\u52a1\u59d4\u6258\u7ed9\u591a\u4e2a\u5de5\u5382\u4e2d\u7684\u4e00\u4e2a, client\u65e0\u9700\u5173\u5fc3\u5230\u5e95\u662f\u54ea\u4e2a\u5de5\u5382\u7c7b, \u9700\u8981\u65f6\u518d\u52a8\u6001\u6307\u5b9a, \u53ef\u4ee5\u5c06\u5de5\u5382\u5b50\u7c7b\u7684\u7c7b\u540d\u5b58\u50a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2dor\u6570\u636e\u5e93\u4e2d")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f: \u4e0d\u540c\u4ea7\u54c1\u7684\u5de5\u5382\u7c7b\u5b9e\u73b0\u540c\u4e00\u4e2a factory interface, \u6bcf\u4e2a \u5177\u4f53\u7684 \u5de5\u5382\u5b9e\u73b0\u7c7b\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u4ea7\u54c1\u65cf"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4f7f\u7528\u573a\u666f: \u7cfb\u7edf\u4e2d\u6709\u591a\u4e8e\u4e00\u4e2a\u7684\u4ea7\u54c1\u65cf\uff0c\u800c\u4e14\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u4ea7\u54c1\u65cf\u3002"),(0,a.kt)("p",{parentName:"li"},"  \u4e00\u4e2a\u4ea7\u54c1\u65cf\u4f7f\u7528\u4e00\u4e2a\u5de5\u5382\u7c7b."),(0,a.kt)("p",{parentName:"li"},"  \u4ea7\u54c1\u65cf\u8868\u793a\u4e0d\u540c\u7684\u4ea7\u54c1\u7684\u96c6\u5408, \u4e4b\u95f4\u6ca1\u6709\u7ee7\u627f\u5173\u7cfb"))))),(0,a.kt)("h2",{id:"\u5de5\u5382\u65b9\u6cd5"},"\u5de5\u5382\u65b9\u6cd5"),(0,a.kt)("p",null,"===============\u7b80\u5355\u5de5\u5382 \u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u7279\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'public class FruitFactory {\n    public Fruit create(String type){\n        switch (type){\n            case "\u82f9\u679c": return new Apple(); // \u5bf9\u8c61\u521b\u5efa\u903b\u8f91\u53ef\u80fd\u975e\u5e38\u590d\u6742\n            case "\u68a8\u5b50": return new Pear();\n            default: throw new IllegalArgumentException("\u6682\u65f6\u6ca1\u6709\u8fd9\u79cd\u6c34\u679c");\n        }\n    }\n}\n\n// \u6d4b\u8bd5\npublic class User {\n    private void eat(){\n        FruitFactory fruitFactory = new FruitFactory();\n        Fruit apple = fruitFactory.create("\u82f9\u679c");\n        Fruit pear = fruitFactory.create("\u68a8\u5b50");\n        apple.eat();\n        pear.eat();\n    }\n}\n')),(0,a.kt)("p",null,"==============\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f"),(0,a.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u8fd9\u4e24\u4e2a\u5f0a\u7aef\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5e94\u8fd0\u800c\u751f\uff0c\u5b83\u89c4\u5b9a\u6bcf\u4e2a\u4ea7\u54c1\u90fd\u6709\u4e00\u4e2a\u4e13\u5c5e\u5de5\u5382\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public class AppleFactory {\n    public Fruit create(){\n        return new Apple();\n    }\n}\npublic class PearFactory {\n    public Fruit create(){\n        return new Pear();\n    }\n}\n\n//\u6d4b\u8bd5\n\npublic class User {\n    private void eat(){\n        AppleFactory appleFactory = new AppleFactory();\n        Fruit apple = appleFactory.create();\n        PearFactory pearFactory = new PearFactory();\n        Fruit pear = pearFactory.create();\n        apple.eat();\n        pear.eat();\n    }\n}\n")),(0,a.kt)("h2",{id:"\u62bd\u8c61\u5de5\u5382"},"\u62bd\u8c61\u5de5\u5382"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public interface IFactory {\n    Fruit create();\n}\npublic class AppleFactory implements IFactory {\n    @Override\n    public Fruit create(){\n        return new Apple();\n    }\n}\npublic class PearFactory implements IFactory {\n    @Override\n    public Fruit create(){\n        return new Pear();\n    }\n}\n\n//\u6d4b\u8bd5\n\npublic class User {\n    private void eat(){\n        IFactory appleFactory = new AppleFactory();\n        Fruit apple = appleFactory.create();\n        IFactory pearFactory = new PearFactory();\n        Fruit pear = pearFactory.create();\n        apple.eat();\n        pear.eat();\n    }\n}\n\n")),(0,a.kt)("h1",{id:"\u6a21\u677f\u6a21\u5f0f"},"\u6a21\u677f\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5b9a\u4e49: \u5b9a\u4e49\u4e00\u4e2a\u64cd\u4f5c\u4e2d\u7684\u7b97\u6cd5\u7684\u9aa8\u67b6\uff0c\u800c\u5c06\u4e00\u4e9b\u6b65\u9aa4\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d"),(0,a.kt)("p",null,"\u4f18\u70b9: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u901a\u8fc7\u628a\u4e0d\u53d8\u7684\u884c\u4e3a\u642c\u79fb\u5230\u8d85\u7c7b\uff0c\u53bb\u9664\u4e86\u5b50\u7c7b\u4e2d\u7684\u91cd\u590d\u4ee3\u7801\u3002")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4ee5\u51c6\u5907\u53bb\u5b66\u6821\u6240\u8981\u505a\u7684\u5de5\u4f5c\uff08prepareGotoSchool\uff09\u4e3a\u4f8b\uff0c\u5047\u8bbe\u9700\u8981\u5206\u4e09\u6b65\uff1a\u7a7f\u8863\u670d\uff08dressUp\uff09\uff0c\u5403\u65e9\u996d\uff08eatBreakfast\uff09\uff0c\u5e26\u4e0a\u4e1c\u897f\uff08takeThings\uff09\u3002\u5b66\u751f\u548c\u8001\u5e08\u8981\u505a\u5f97\u5177\u4f53\u4e8b\u60c5\u80af\u5b9a\u6709\u6240\u533a\u522b\npublic abstract class AbstractPerson{  \n     //\u62bd\u8c61\u7c7b\u5b9a\u4e49\u6574\u4e2a\u6d41\u7a0b\u9aa8\u67b6  \n     public void prepareGotoSchool(){  \n          dressUp();  \n          eatBreakfast();  \n          takeThings();  \n     }  \n     //\u4ee5\u4e0b\u662f\u4e0d\u540c\u5b50\u7c7b\u6839\u636e\u81ea\u8eab\u7279\u6027\u5b8c\u6210\u7684\u5177\u4f53\u6b65\u9aa4  \n     protected abstract void dressUp();  \n     protected abstract void eatBreakfast();  \n     protected abstract void takeThings();  \n}  \n\npublic class Student extends AbstractPerson{  \n     @Override  \n     protected void dressUp() {  \n          System.out.println("\u7a7f\u6821\u670d");  \n     }  \n     @Override  \n     protected void eatBreakfast() {  \n          System.out.println("\u5403\u5988\u5988\u505a\u597d\u7684\u65e9\u996d");  \n     }  \n\n     @Override  \n     protected void takeThings() {  \n          System.out.println("\u80cc\u4e66\u5305\uff0c\u5e26\u4e0a\u5bb6\u5ead\u4f5c\u4e1a\u548c\u7ea2\u9886\u5dfe");  \n     }  \n}  \n\npublic class Teacher extends AbstractPerson{  \n     @Override  \n     protected void dressUp() {  \n          System.out.println("\u7a7f\u5de5\u4f5c\u670d");  \n     }  \n     @Override  \n     protected void eatBreakfast() {  \n          System.out.println("\u505a\u65e9\u996d\uff0c\u7167\u987e\u5b69\u5b50\u5403\u65e9\u996d");  \n     }  \n\n     @Override  \n     protected void takeThings() {  \n          System.out.println("\u5e26\u4e0a\u6628\u665a\u51c6\u5907\u7684\u8003\u5377");  \n     }  \n}  \n\n// \u6d4b\u8bd5\npublic class Client {  \n     public static void main(String[] args) {  \n     Student student = new Student()  \n     student.prepareGotoSchool();  \n\n     Teacher teacher  = new Teacher()  \n     teacher.prepareGotoSchool();  \n     }  \n}\n')),(0,a.kt)("h1",{id:"\u7b56\u7565\u6a21\u5f0f"},"\u7b56\u7565\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5b9a\u4e49\u4e86\u4e00\u7ec4\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e2a\u7b97\u6cd5\u90fd\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u5b83\u4eec\u4e4b\u95f4\u53ef\u4ee5\u4e92\u6362. "),(0,a.kt)("p",null,"\u573a\u666f: (\u53bb\u9664 if else)"),(0,a.kt)("p",null,"\u6d89\u53ca\u5230\u4e09\u4e2a\u89d2\u8272:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u73af\u5883(Context)\u89d2\u8272\uff1a\u6301\u6709\u4e00\u4e2aStrategy\u7684\u5f15\u7528\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u62bd\u8c61\u7b56\u7565(Strategy)\u89d2\u8272\uff1a\u8fd9\u662f\u4e00\u4e2a\u62bd\u8c61\u89d2\u8272\uff0c\u901a\u5e38\u7531\u4e00\u4e2a\u63a5\u53e3\u6216\u62bd\u8c61\u7c7b\u5b9e\u73b0\u3002\u6b64\u89d2\u8272\u7ed9\u51fa\u6240\u6709\u7684\u5177\u4f53\u7b56\u7565\u7c7b\u6240\u9700\u7684\u63a5\u53e3\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5177\u4f53\u7b56\u7565(ConcreteStrategy)\u89d2\u8272\uff1a\u5305\u88c5\u4e86\u76f8\u5173\u7684\u5177\u4f53\u7b97\u6cd5\u6216\u884c\u4e3a"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"//\u5047\u8bbe\u67d0\u5e97\u5bb6\u63a8\u51fa\u4e09\u79cd\u4f1a\u5458\uff0c\u5206\u522b\u4e3a\u666e\u901a\u4f1a\u5458\uff0c\u91d1\u724c\u4f1a\u5458\u548c\u94bb\u77f3\u4f1a\u5458\uff0c\u8fd8\u6709\u5c31\u662f\u666e\u901a\u987e\u5ba2\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u4f1a\u5458\u987e\u5ba2\uff0c\u8d2d\u7269\u7ed3\u7b97\u65f6\u6709\u4e0d\u540c\u7684\u6253\u6298\u65b9\u5f0f\u3002\u8d2d\u7269\u540e\uff0c\u5ba2\u6237\u7684\u5386\u53f2\u8d2d\u7269\u91d1\u989d\u7d2f\u8ba1\uff0c\u53ef\u4ee5\u81ea\u52a8\u5347\u7ea7\u5230\u76f8\u5e94\u7684\u4f1a\u5458\u7ea7\u522b\u3002\n\n// \u7b56\u7565\u63a5\u53e3\npublic interface IVipAlgo {\n    int calc(int originalPrice);\n}\n\n//\u5b9e\u73b0\u63a5\u53e3, \u6709\u591a\u4e2a\u5b9e\u73b0, \u6bcf\u4e2a\u5b9e\u73b0\u7684\u7b97\u6cd5\u4e0d\u540c\npublic class VipAlgo1 {\n    public int calc(int originalPrice) {\n        ...\n    }\n} \npublic class VipAlgo2 {\n    public int calc(int originalPrice) {\n        ...\n    }\n}\n\n//\u4e0a\u4e0b\u6587\u7c7b, \u5177\u4f53\u6267\u884c\u67d0\u4e2a\u7b97\u6cd5\nclass VipCalculator {\n    private IVipAlgo vipAlgo;\n    public VipCalculator(IVipAlgo IVipAlgo) {\n        this.vipAlgo = IVipAlgo;\n    }\n\n    public int execAlgo(int originalPrice) {\n        return vipAlgo.calc(originalPrice)\n    }\n}\n\n//\u6d4b\u8bd5\nclass Main {\n    main() {\n        VipCalculator calc = new VipCalculator(new VipAlgo1());\n        int result = calc(112);\n    }\n}\n")),(0,a.kt)("p",null,"===========\u5728 spring \u4e2d\u8fd9\u4e48\u4f7f\u7528:"),(0,a.kt)("h1",{id:"\u89c2\u5bdf\u8005\u6a21\u5f0f"},"\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("h2",{id:"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49"},"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49"),(0,a.kt)("p",null,"\u522b\u540d \u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5b9a\u4e49: \u89c2\u5bdf\u76ee\u6807\u53d1\u751f\u72b6\u6001\u53d8\u5316\u65f6, \u4f1a\u901a\u77e5\u4f17\u591a\u7684\u89c2\u5bdf\u8005"),(0,a.kt)("p",null,"\u8fd9\u5c31\u8981\u6c42\u89c2\u5bdf\u76ee\u6807\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a\u89c2\u5bdf\u8005\u5217\u8868, \u4ee5\u4fbf\u4e00\u4e00\u901a\u77e5"),(0,a.kt)("p",null,"\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u6709\u591a\u4e2a\u89c2\u5bdf\u8005, \u8fd9\u4e9b\u89c2\u5bdf\u8005\u6d3e\u751f\u81ea\u540c\u4e00\u4e2a\u63a5\u53e3"),(0,a.kt)("p",null,"\u4f18\u70b9:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u89e3\u8026\u5408")),(0,a.kt)("p",null,"\u7f3a\u70b9:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u89c2\u5bdf\u8005\u5f88\u591a\u65f6\u8017\u65f6\u4e25\u91cd"),(0,a.kt)("li",{parentName:"ul"},"\u89c2\u5bdf\u8005\u6a21\u5f0f\u65e0\u6cd5\u8ba9\u89c2\u5bdf\u8005\u77e5\u9053\u76ee\u6807\u662f\u5982\u4f55\u53d8\u5316\u7684, \u4ec5\u4ec5\u53ea\u662f\u77e5\u9053\u76ee\u6807\u53d1\u751f\u4e86\u53d8\u5316")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u62bd\u8c61\u89c2\u5bdf\u8005\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u53489:29:32\n */\npublic interface IObserver {\n\n    // \u76ee\u6807\u5bf9\u8c61\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u901a\u77e5\u89c2\u5bdf\u8005\n    void update(Target t);\n}\n\n/**\n * observe target\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u534811:19:52\n */\npublic abstract class Target {\n    /**\n     * observer list\n     */\n    private List<IObserver> observerList = new ArrayList<IObserver>();\n\n    /**\n     * add observer\n     * @param observer\n     */\n    public void add(IObserver observer) {\n        observerList.add(observer);\n    }\n\n    /**\n     * remove observer\n     * @param observer\n     */\n    public void remove(IObserver observer) {\n        observerList.remove(observer);\n    }\n\n    /**\n     * change status\n     */\n    public void change() {\n        System.out.println("Target\u72b6\u6001\u53d1\u751f\u53d8\u5316");\n        this.inform();\n    }\n\n    /**\n     * inform observers\n     */\n    private void inform() {\n        for(IObserver observer: observerList) {\n            observer.update(this);\n        }\n    }\n}\n\n///////////////////// \u5982\u4f55\u4f7f\u7528?  ////////////////////////////////////////////\n\n// \u5148\u5b9a\u4e49 observers, \u591a\u4e2a, \u5b9e\u73b0\u81ea\u5df1\u7684 update()\n/**\n *  concrete observer1\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u534811:42:45\n */\npublic class Observer1 implements IObserver {\n\n    @Override\n    public void update(Target t) {\n        System.out.println("Observer1\u89c2\u5bdf\u5230" + t.getClass().getSimpleName()+ "\u53d1\u751f\u53d8\u5316");\n    }\n\n}\n\n/**\n * concrete observer2\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u534811:45:16\n */\npublic class Observer2 implements IObserver {\n\n    @Override\n    public void update(Target t) {\n        System.out.println("Observer2\u89c2\u5bdf\u5230" + t.getClass().getSimpleName() + "\u53d1\u751f\u53d8\u5316.");\n    }\n\n}\n\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u534811:53:28\n */\npublic class MyTarget extends Target {\n\n    // ...\n\n    // \u6d4b\u8bd5\n    public static void main(String[] args) {\n        Target t = new MyTarget();\n\n        IObserver observer1 = new Observer1();\n        IObserver observer2=  new Observer2();\n\n        t.add(observer1);\n        t.add(observer2);\n\n        t.change();\n    }\n}\n')),(0,a.kt)("h2",{id:"jdk-\u4e2d\u7684\u89c2\u5bdf\u8005\u6a21\u5f0f"},"jdk \u4e2d\u7684\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("h3",{id:"jdk-\u4e2d\u7684-api"},"jdk \u4e2d\u7684 api"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"//\u89c2\u5bdf\u8005\u63a5\u53e3\uff0c\u6bcf\u4e00\u4e2a\u89c2\u5bdf\u8005\u90fd\u5fc5\u987b\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\npublic interface Observer {\n    //\u8fd9\u4e2a\u65b9\u6cd5\u662f\u89c2\u5bdf\u8005\u5728\u89c2\u5bdf\u5bf9\u8c61\u4ea7\u751f\u53d8\u5316\u65f6\u6240\u505a\u7684\u54cd\u5e94\u52a8\u4f5c\uff0c\u4ece\u4e2d\u4f20\u5165\u4e86\u89c2\u5bdf\u7684\u5bf9\u8c61\u548c\u4e00\u4e2a\u9884\u7559\u53c2\u6570\n    void update(Observable o, Object arg);\n}\n//\u88ab\u89c2\u5bdf\u8005\u7c7b\npublic class Observable {\n    //\u8fd9\u662f\u4e00\u4e2a\u6539\u53d8\u6807\u8bc6\uff0c\u6765\u6807\u8bb0\u8be5\u88ab\u89c2\u5bdf\u8005\u6709\u6ca1\u6709\u6539\u53d8\n    private boolean changed = false;\n    //\u6301\u6709\u4e00\u4e2a\u89c2\u5bdf\u8005\u5217\u8868\n    private Vector obs;\n    public Observable() {\n        obs = new Vector();\n    }\n    //\u6dfb\u52a0\u89c2\u5bdf\u8005\uff0c\u6dfb\u52a0\u65f6\u4f1a\u53bb\u91cd\n    public synchronized void addObserver(Observer o) {\n        if (o == null)\n            throw new NullPointerException();\n        if (!obs.contains(o)) {\n            obs.addElement(o);\n        }\n    }\n    //\u5220\u9664\u89c2\u5bdf\u8005\n    public synchronized void deleteObserver(Observer o) {\n        obs.removeElement(o);\n    }\n    //notifyObservers(Object arg)\u7684\u91cd\u8f7d\u65b9\u6cd5\n    public void notifyObservers() {\n        notifyObservers(null);\n    }\n    //\u901a\u77e5\u6240\u6709\u89c2\u5bdf\u8005\uff0c\u88ab\u89c2\u5bdf\u8005\u6539\u53d8\u4e86\uff0c\u53ef\u4ee5\u6267\u884cupdate\u65b9\u6cd5\u4e86\u3002\n    public void notifyObservers(Object arg) {\n        //\u4e00\u4e2a\u4e34\u65f6\u7684\u6570\u7ec4\uff0c\u7528\u4e8e\u5e76\u53d1\u8bbf\u95ee\u88ab\u89c2\u5bdf\u8005\u65f6\uff0c\u7559\u4f4f\u89c2\u5bdf\u8005\u5217\u8868\u7684\u5f53\u524d\u72b6\u6001\uff0c\u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\u5176\u5b9e\u4e5f\u7b97\u662f\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5373\u5907\u5fd8\u5f55\u6a21\u5f0f\u3002\n        Object[] arrLocal;\n        //\u6ce8\u610f\u8fd9\u4e2a\u540c\u6b65\u5757\uff0c\u5b83\u8868\u793a\u5728\u83b7\u53d6\u89c2\u5bdf\u8005\u5217\u8868\u65f6\uff0c\u8be5\u5bf9\u8c61\u662f\u88ab\u9501\u5b9a\u7684\n        //\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u6211\u83b7\u53d6\u5230\u89c2\u5bdf\u8005\u5217\u8868\u4e4b\u524d\uff0c\u4e0d\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u6539\u53d8\u89c2\u5bdf\u8005\u5217\u8868\n        synchronized (this) {\n            //\u5982\u679c\u6ca1\u53d8\u5316\u76f4\u63a5\u8fd4\u56de\n            if (!changed)\n                return;\n            //\u8fd9\u91cc\u5c06\u5f53\u524d\u7684\u89c2\u5bdf\u8005\u5217\u8868\u653e\u5165\u4e34\u65f6\u6570\u7ec4\n            arrLocal = obs.toArray();\n            //\u5c06\u6539\u53d8\u6807\u8bc6\u91cd\u65b0\u7f6e\u56de\u672a\u6539\u53d8\n            clearChanged();\n        }\n        //\u6ce8\u610f\u8fd9\u4e2afor\u5faa\u73af\u6ca1\u6709\u5728\u540c\u6b65\u5757\uff0c\u6b64\u65f6\u5df2\u7ecf\u91ca\u653e\u4e86\u88ab\u89c2\u5bdf\u8005\u7684\u9501\uff0c\u5176\u4ed6\u7ebf\u7a0b\u53ef\u4ee5\u6539\u53d8\u89c2\u5bdf\u8005\u5217\u8868\n        //\u4f46\u662f\u8fd9\u5e76\u4e0d\u5f71\u54cd\u6211\u4eec\u5f53\u524d\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u5c06\u89c2\u5bdf\u8005\u5217\u8868\u590d\u5236\u5230\u4e34\u65f6\u6570\u7ec4\n        //\u5728\u901a\u77e5\u65f6\u6211\u4eec\u53ea\u901a\u77e5\u6570\u7ec4\u4e2d\u7684\u89c2\u5bdf\u8005\uff0c\u5f53\u524d\u5220\u9664\u548c\u6dfb\u52a0\u89c2\u5bdf\u8005\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u6211\u4eec\u901a\u77e5\u7684\u5bf9\u8c61\n        for (int i = arrLocal.length-1; i>=0; i--)\n            ((Observer)arrLocal[i]).update(this, arg);\n    }\n    //\u5220\u9664\u6240\u6709\u89c2\u5bdf\u8005\n    public synchronized void deleteObservers() {\n        obs.removeAllElements();\n    }\n    //\u6807\u8bc6\u88ab\u89c2\u5bdf\u8005\u88ab\u6539\u53d8\u8fc7\u4e86\n    protected synchronized void setChanged() {\n        changed = true;\n    }\n    //\u6807\u8bc6\u88ab\u89c2\u5bdf\u8005\u6ca1\u6539\u53d8\n    protected synchronized void clearChanged() {\n        changed = false;\n    }\n    //\u8fd4\u56de\u88ab\u89c2\u5bdf\u8005\u662f\u5426\u6539\u53d8\n    public synchronized boolean hasChanged() {\n        return changed;\n    }\n    //\u8fd4\u56de\u89c2\u5bdf\u8005\u6570\u91cf\n    public synchronized int countObservers() {\n        return obs.size();\n    }\n}\n")),(0,a.kt)("h3",{id:"jdk-\u89c2\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u793a\u4f8b"},"jdk \u89c2\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u793a\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//\u8bfb\u8005\u7c7b\uff0c\u8981\u5b9e\u73b0\u89c2\u5bdf\u8005\u63a5\u53e3\npublic class Reader implements Observer{\n    private String name;\n    public Reader(String name) {\n        super();\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    //\u8bfb\u8005\u53ef\u4ee5\u5173\u6ce8\u67d0\u4e00\u4f4d\u4f5c\u8005\uff0c\u5173\u6ce8\u5219\u4ee3\u8868\u628a\u81ea\u5df1\u52a0\u5230\u4f5c\u8005\u7684\u89c2\u5bdf\u8005\u5217\u8868\u91cc\n    public void subscribe(String writerName){\n        WriterManager.getInstance().getWriter(writerName).addObserver(this);\n    }\n    //\u8bfb\u8005\u53ef\u4ee5\u53d6\u6d88\u5173\u6ce8\u67d0\u4e00\u4f4d\u4f5c\u8005\uff0c\u53d6\u6d88\u5173\u6ce8\u5219\u4ee3\u8868\u628a\u81ea\u5df1\u4ece\u4f5c\u8005\u7684\u89c2\u5bdf\u8005\u5217\u8868\u91cc\u5220\u9664\n    public void unsubscribe(String writerName){\n        WriterManager.getInstance().getWriter(writerName).deleteObserver(this);\n    }\n    //\u5f53\u5173\u6ce8\u7684\u4f5c\u8005\u53d1\u8868\u65b0\u5c0f\u8bf4\u65f6\uff0c\u4f1a\u901a\u77e5\u8bfb\u8005\u53bb\u770b\n    public void update(Observable o, Object obj) {\n        if (o instanceof Writer) {\n            Writer writer = (Writer) o;\n            System.out.println(name+"\u77e5\u9053" + writer.getName() + "\u53d1\u5e03\u4e86\u65b0\u4e66\u300a" + writer.getLastNovel() + "\u300b\uff0c\u975e\u8981\u53bb\u770b\uff01");\n        }\n    }\n}\n//\u4f5c\u8005\u7c7b\uff0c\u8981\u7ee7\u627f\u81ea\u88ab\u89c2\u5bdf\u8005\u7c7b\npublic class Writer extends Observable{\n    private String name;//\u4f5c\u8005\u7684\u540d\u79f0\n    private String lastNovel;//\u8bb0\u5f55\u4f5c\u8005\u6700\u65b0\u53d1\u5e03\u7684\u5c0f\u8bf4\n    public Writer(String name) {\n        super();\n        this.name = name;\n        WriterManager.getInstance().add(this);\n    }\n    //\u4f5c\u8005\u53d1\u5e03\u65b0\u5c0f\u8bf4\u4e86\uff0c\u8981\u901a\u77e5\u6240\u6709\u5173\u6ce8\u81ea\u5df1\u7684\u8bfb\u8005\n    public void addNovel(String novel) {\n        System.out.println(name + "\u53d1\u5e03\u4e86\u65b0\u4e66\u300a" + novel + "\u300b\uff01");\n        lastNovel = novel;\n        setChanged();\n        notifyObservers();\n    }\n    public String getLastNovel() {\n        return lastNovel;\n    }\n    public String getName() {\n        return name;\n    }\n}\n//\u7ba1\u7406\u5668\uff0c\u4fdd\u6301\u4e00\u4efd\u72ec\u6709\u7684\u4f5c\u8005\u5217\u8868\npublic class WriterManager{\n    private Map<String, Writer> writerMap = new HashMap<String, Writer>();\n    //\u6dfb\u52a0\u4f5c\u8005\n    public void add(Writer writer){\n        writerMap.put(writer.getName(), writer);\n    }\n    //\u6839\u636e\u4f5c\u8005\u59d3\u540d\u83b7\u53d6\u4f5c\u8005\n    public Writer getWriter(String name){\n        return writerMap.get(name);\n    }\n    //\u5355\u4f8b\n    private WriterManager(){}\n    public static WriterManager getInstance(){\n        return WriterManagerInstance.instance;\n    }\n    private static class WriterManagerInstance{\n        private static WriterManager instance = new WriterManager();\n    }\n}\n//\u5ba2\u6237\u7aef\u8c03\u7528\npublic class Client {\n    public static void main(String[] args) {\n        //\u5047\u8bbe\u56db\u4e2a\u8bfb\u8005\uff0c\u4e24\u4e2a\u4f5c\u8005\n        Reader r1 = new Reader("\u8c22\u5e7f\u5764");\n        Reader r2 = new Reader("\u8d75\u56db");\n        Reader r3 = new Reader("\u4e03\u54e5");\n        Reader r4 = new Reader("\u5218\u80fd");\n        Writer w1 = new Writer("\u8c22\u5927\u811a");\n        Writer w2 = new Writer("\u738b\u5c0f\u8499");\n        //\u56db\u4eba\u5173\u6ce8\u4e86\u8c22\u5927\u811a\n        r1.subscribe("\u8c22\u5927\u811a");\n        r2.subscribe("\u8c22\u5927\u811a");\n        r3.subscribe("\u8c22\u5927\u811a");\n        r4.subscribe("\u8c22\u5927\u811a");\n        //\u4e03\u54e5\u548c\u5218\u80fd\u8fd8\u5173\u6ce8\u4e86\u738b\u5c0f\u8499\n        r3.subscribe("\u738b\u5c0f\u8499");\n        r4.subscribe("\u738b\u5c0f\u8499");\n        //\u4f5c\u8005\u53d1\u5e03\u65b0\u4e66\u5c31\u4f1a\u901a\u77e5\u5173\u6ce8\u7684\u8bfb\u8005\n        //\u8c22\u5927\u811a\u5199\u4e86\u8bbe\u8ba1\u6a21\u5f0f\n        w1.addNovel("\u8bbe\u8ba1\u6a21\u5f0f");\n        //\u738b\u5c0f\u8499\u5199\u4e86JAVA\u7f16\u7a0b\u601d\u60f3\n        w2.addNovel("JAVA\u7f16\u7a0b\u601d\u60f3");\n        //\u8c22\u5e7f\u5764\u53d6\u6d88\u5173\u6ce8\u8c22\u5927\u811a\n        r1.unsubscribe("\u8c22\u5927\u811a");\n        //\u8c22\u5927\u811a\u518d\u5199\u4e66\u5c06\u4e0d\u4f1a\u901a\u77e5\u8c22\u5e7f\u5764\n        w1.addNovel("\u89c2\u5bdf\u8005\u6a21\u5f0f");\n    }\n}\n')),(0,a.kt)("h2",{id:"\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b"},"\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b"),(0,a.kt)("p",null,"\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u53e6\u4e00\u79cd\u5f62\u6001, \u4f8b\u5982Tomcat\u4e2d\u7684\u76d1\u542c\u5668listener"),(0,a.kt)("p",null,"\u4e24\u79cd\u5f62\u6001\u533a\u522b:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u89c2\u5bdf\u8005\u6a21\u5f0f\u4e2d, \u53ea\u8981 target \u53d1\u751f\u53d8\u5316, \u90fd\u4f1a\u901a\u77e5 \u89c2\u5bdf\u8005, \u800c\u800c\u4e8b\u4ef6\u9a71\u52a8\u5219\u4e0d\u662f\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u611f\u5174\u8da3\u7684\u4e8b\u60c5, \u5ffd\u7565\u5176\u4ed6\u53d8\u5316")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u89c2\u5bdf\u8005\u6a21\u5f0f\u8981\u6c42\u88ab\u89c2\u5bdf\u8005\u7ee7\u627fObservable\u7c7b, \u4e8b\u4ef6\u9a71\u52a8\u4e2d\u4e8b\u4ef6\u6e90\u5219\u4e0d\u9700\u8981\uff0c\u56e0\u4e3a\u4e8b\u4ef6\u6e90\u6240\u7ef4\u62a4\u7684\u76d1\u542c\u5668\u5217\u8868\u662f\u7ed9\u81ea\u5df1\u5b9a\u5236\u7684\uff0c\u6240\u4ee5\u65e0\u6cd5\u53bb\u5236\u4f5c\u4e00\u4e2a\u901a\u7528\u7684\u7236\u7c7b\u53bb\u5b8c\u6210\u8fd9\u4e2a\u5de5\u4f5c\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u88ab\u89c2\u5bdf\u8005\u4f20\u9001\u7ed9\u89c2\u5bdf\u8005\u7684\u4fe1\u606f\u662f\u6a21\u7cca\u7684\uff0c\u6bd4\u5982update\u4e2d\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7c7b\u578b\u662fObject\uff0c\u8fd9\u9700\u8981\u89c2\u5bdf\u8005\u548c\u88ab\u89c2\u5bdf\u8005\u4e4b\u95f4\u6709\u7ea6\u5b9a\u624d\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u53c2\u6570\u3002\u800c\u5728\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\uff0c\u8fd9\u4e9b\u4fe1\u606f\u662f\u88ab\u5c01\u88c5\u5728Event\u5f53\u4e2d\u7684\uff0c\u53ef\u4ee5\u66f4\u6e05\u695a\u7684\u544a\u8bc9\u76d1\u542c\u5668\uff0c\u6bcf\u4e2a\u4fe1\u606f\u90fd\u662f\u4ee3\u8868\u7684\u4ec0\u4e48\u3002"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//\u5b9a\u4e49\u4f5c\u8005\u4e8b\u4ef6, \u8fd9\u4ee3\u8868\u4e86\u4e00\u4e2a\u4f5c\u8005\u4e8b\u4ef6: \u53d1\u5e03\u65b0\u4e66\n// \u8fd9\u4e2a\u4e8b\u4ef6\u5f53\u4e2d\u4e00\u822c\u5c31\u662f\u5305\u542b\u4e00\u4e2a\u4e8b\u4ef6\u6e90\uff0c\u5728\u8fd9\u91cc\u5c31\u662f\u4f5c\u8005, \u901a\u8fc7 constructor \u4f20\u5165\n// \npublic class WriterEvent extends EventObject{\n    private static final long serialVersionUID = 8546459078247503692L;\n    public WriterEvent(Writer writer) {\n        super(writer);\n    }\n    public Writer getWriter(){\n        return (Writer) super.getSource();\n    }\n}\n//\u5bf9\u5e94\u7684 \u9700\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u5668\u76d1\u542c\u8fd9\u4e2a\u4e8b\u4ef6, \u5bf9"\u6307\u5b9a\u4e8b\u4ef6" \u505a\u51fa\u53cd\u5e94\npublic interface WriterListener extends EventListener{\n    // \u53c2\u6570: \u88ab\u76d1\u542c\u7684\u4e8b\u4ef6\n    void addNovel(WriterEvent writerEvent);\n}\n//\u4f5c\u8005\u7c7b\n// \u53ef\u4ee5\u770b\u5230\uff0c\u4f5c\u8005\u7c7b\u7684\u4e3b\u8981\u53d8\u5316\u662f\u6dfb\u52a0\u4e86\u4e00\u4e2a\u81ea\u5df1\u7684\u76d1\u542c\u5668\u5217\u8868\uff0c\u6211\u4eec\u4f7f\u7528set\u662f\u4e3a\u4e86\u5b83\u7684\u5929\u7136\u53bb\u91cd\u6548\u679c\uff0c\npublic class Writer{\n    private String name;//\u4f5c\u8005\u7684\u540d\u79f0\n    private String lastNovel;//\u8bb0\u5f55\u4f5c\u8005\u6700\u65b0\u53d1\u5e03\u7684\u5c0f\u8bf4\n    private Set<WriterListener> writerListenerList = new HashSet<WriterListener>();//\u4f5c\u8005\u7c7b\u8981\u5305\u542b\u4e00\u4e2a\u81ea\u5df1\u76d1\u542c\u5668\u7684\u5217\u8868\n    public Writer(String name) {\n        super();\n        this.name = name;\n        WriterManager.getInstance().add(this);\n    }\n    //\u4f5c\u8005\u53d1\u5e03\u65b0\u5c0f\u8bf4\u4e86\uff0c\u8981\u901a\u77e5\u6240\u6709\u5173\u6ce8\u81ea\u5df1\u7684\u8bfb\u8005\n    public void addNovel(String novel) {\n        System.out.println(name + "\u53d1\u5e03\u4e86\u65b0\u4e66\u300a" + novel + "\u300b\uff01");\n        lastNovel = novel;\n        fireEvent();\n    }\n    //\u89e6\u53d1\u53d1\u5e03\u65b0\u4e66\u7684\u4e8b\u4ef6\uff0c\u901a\u77e5\u6240\u6709\u76d1\u542c\u8fd9\u4ef6\u4e8b\u7684\u76d1\u542c\u5668\n    private void fireEvent(){\n        WriterEvent writerEvent = new WriterEvent(this);\n        for (WriterListener writerListener : writerListenerList) {\n            writerListener.addNovel(writerEvent);\n        }\n    }\n    //\u63d0\u4f9b\u7ed9\u5916\u90e8\u6ce8\u518c\u6210\u4e3a\u81ea\u5df1\u7684\u76d1\u542c\u5668\u7684\u65b9\u6cd5\n    public void registerListener(WriterListener writerListener){\n        writerListenerList.add(writerListener);\n    }\n    //\u63d0\u4f9b\u7ed9\u5916\u90e8\u6ce8\u9500\u7684\u65b9\u6cd5\n    public void unregisterListener(WriterListener writerListener){\n        writerListenerList.remove(writerListener);\n    }\n    public String getLastNovel() {\n        return lastNovel;\n    }\n    public String getName() {\n        return name;\n    }\n}\n// \u8bfb\u8005\u7c7b\u7684\u53d8\u5316\uff0c\u9996\u5148\u672c\u6765\u662f\u5b9e\u73b0Observer\u63a5\u53e3\uff0c\u73b0\u5728\u8981\u5b9e\u73b0WriterListener\u63a5\u53e3\uff0c\u54cd\u5e94\u7684update\u65b9\u6cd5\u5c31\u6539\u4e3a\u6211\u4eec\u5b9a\u4e49\u7684addNovel\u65b9\u6cd5\uff0c\u5f53\u4e2d\u7684\u54cd\u5e94\u57fa\u672c\u6ca1\u53d8\u3002\u53e6\u5916\u5c31\u662f\u5173\u6ce8\u548c\u53d6\u6d88\u5173\u6ce8\u7684\u65b9\u6cd5\u4e2d\uff0c\u539f\u6765\u662f\u7ed9\u4f5c\u8005\u7c7b\u6dfb\u52a0\u89c2\u5bdf\u8005\u548c\u5220\u9664\u89c2\u5bdf\u8005\uff0c\u73b0\u5728\u662f\u6ce8\u518c\u76d1\u542c\u5668\u548c\u6ce8\u9500\u76d1\u542c\u5668\uff0c\u51e0\u4e4e\u662f\u6ca1\u4ec0\u4e48\u53d8\u5316\u7684\u3002\npublic class Reader implements WriterListener{\n    private String name;\n    public Reader(String name) {\n        super();\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    //\u8bfb\u8005\u53ef\u4ee5\u5173\u6ce8\u67d0\u4e00\u4f4d\u4f5c\u8005\uff0c\u5173\u6ce8\u5219\u4ee3\u8868\u628a\u81ea\u5df1\u52a0\u5230\u4f5c\u8005\u7684\u76d1\u542c\u5668\u5217\u8868\u91cc\n    public void subscribe(String writerName){\n        WriterManager.getInstance().getWriter(writerName).registerListener(this);\n    }\n    //\u8bfb\u8005\u53ef\u4ee5\u53d6\u6d88\u5173\u6ce8\u67d0\u4e00\u4f4d\u4f5c\u8005\uff0c\u53d6\u6d88\u5173\u6ce8\u5219\u4ee3\u8868\u628a\u81ea\u5df1\u4ece\u4f5c\u8005\u7684\u76d1\u542c\u5668\u5217\u8868\u91cc\u6ce8\u9500\n    public void unsubscribe(String writerName){\n        WriterManager.getInstance().getWriter(writerName).unregisterListener(this);\n    }\n    public void addNovel(WriterEvent writerEvent) {\n        Writer writer = writerEvent.getWriter();\n        System.out.println(name+"\u77e5\u9053" + writer.getName() + "\u53d1\u5e03\u4e86\u65b0\u4e66\u300a" + writer.getLastNovel() + "\u300b\uff0c\u975e\u8981\u53bb\u770b\uff01");\n    }\n}\n')),(0,a.kt)("h1",{id:"\u4ee3\u7406\u6a21\u5f0f"},"\u4ee3\u7406\u6a21\u5f0f"),(0,a.kt)("h2",{id:"\u9759\u6001\u4ee3\u7406"},"\u9759\u6001\u4ee3\u7406"),(0,a.kt)("p",null,"\u4ee3\u7406\u5bf9\u8c61\u548c\u88ab\u4ee3\u7406\u5bf9\u8c61\u5b9e\u73b0\u76f8\u540c\u7684\u63a5\u53e3"),(0,a.kt)("p",null,"\u4ee3\u7406\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a\u88ab\u4ee3\u7406\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4ee3\u7406\u76ee\u6807\u548c\u4ee3\u7406\u90fd\u8981\u5b9e\u73b0\u7684\u7edf\u4e00\u63a5\u53e3\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u534810:40:28\n */\npublic interface Moveable {\n\n    void move();\n}\n\n/**\n * \u4ee3\u7406\u76ee\u6807\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u534810:43:01\n */\npublic class Car implements Moveable {\n\n    @Override\n    public void move() {\n        System.out.println("Car \u5f00\u59cb\u79fb\u52a8...");\n        try {\n            Thread.sleep(new Random().nextInt(10000));// \u5355\u4f4d\u662fms\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n/**\n * Car \u4ee3\u7406\u7c7b, \u6dfb\u52a0\u4e86\u65f6\u95f4\u7edf\u8ba1\u529f\u80fd\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u534810:47:44\n */\npublic class CarTimingProxy implements Moveable {\n\n    private Moveable car;\n    public CarTimingProxy(Moveable car) {\n        super();\n        this.car = car;\n    }\n\n    @Override\n    public void move() {\n        long start = System.currentTimeMillis();\n        car.move();\n        long end = System.currentTimeMillis();\n        System.out.println("move\u6301\u7eed\u65f6\u95f4: " + (end-start));\n    }\n\n}\n\n/**\n * car \u4ee3\u7406\u7c7b, \u8bb0\u5f55\u65e5\u5fd7\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u534810:57:13\n */\npublic class CarLogProxy implements Moveable {\n\n    private Moveable car;\n\n    public CarLogProxy(Moveable car) {\n        super();\n        this.car = car;\n    }\n\n    @Override\n    public void move() {\n        System.out.println("log: Car\u5f00\u59cb\u79fb\u52a8");\n        car.move();\n        System.out.println("log: Car\u7ed3\u675f\u79fb\u52a8");\n    }\n\n}\n\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u534811:00:13\n */\npublic class Client {\n\n    public static void main(String[] args) {\n        Moveable car = new CarLogProxy(new CarTimingProxy(new Car()));\n        car.move();\n    }\n}\n')),(0,a.kt)("h2",{id:"\u52a8\u6001\u4ee3\u7406"},"\u52a8\u6001\u4ee3\u7406"),(0,a.kt)("p",null,"\u5982\u679c\u9700\u8981\u4ee3\u7406\u7684\u7c7b\u53ea\u6709\u4e00\u4e2a\uff0c\u90a3\u4e48\u9759\u6001\u4ee3\u7406\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u5982\u679c\u6709\u5f88\u591a\u7c7b\u9700\u8981\u4ee3\u7406\u5462\uff0c\u7528\u9759\u6001\u4ee3\u7406\u7684\u8bdd\u5c31\u9700\u8981\u4e3a\u6bcf\u4e00\u4e2a\u7c7b\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff0c\u663e\u7136\u8fd9\u4e48\u505a\u592a\u8fc7\u7e41\u7410\u4e5f\u5bb9\u6613\u51fa\u9519\u3002"),(0,a.kt)("p",null,"JDK 5\u5f15\u5165\u7684\u52a8\u6001\u4ee3\u7406\u673a\u5236\uff0c\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u5728\u8fd0\u884c\u65f6\u523b\u52a8\u6001\u7684\u521b\u5efa\u51fa\u4ee3\u7406\u7c7b\u53ca\u5176\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u4e0d\u7528\u4e3a\u6bcf\u4e2a\u7c7b\u518d\u5355\u72ec\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\u4e86\u3002"),(0,a.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u6709\u4e24\u4e2a\u4e1a\u52a1\uff0c\u8981\u4e3a\u8fd9\u4e24\u4e2a\u4e1a\u52a1\u6dfb\u52a0\u65e5\u5fd7\u6253\u5370\u529f\u80fd\u3002\u5982\u679c\u662f\u9759\u6001\u4ee3\u7406\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5206\u522b\u4e3a\u6bcf\u4e2a\u4e1a\u52a1\u7c7b\u5199\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff0c\u800c\u5982\u679c\u7528\u52a8\u6001\u4ee3\u7406\uff0c\u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u65e5\u5fd7\u6253\u5370\u529f\u80fd\u7684handler\u5373\u53ef\uff0c\u5b8c\u5168\u4e0d\u9700\u8981\u81ea\u5df1\u518d\u5355\u72ec\u5199\u4ee3\u7406\u7c7b"),(0,a.kt)("p",null,"\u5b9a\u4e49: \u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6, \u52a8\u6001\u4e3a\u4e0d\u540c\u7684\u5bf9\u8c61\u751f\u6210\u4ee3\u7406\u5bf9\u8c61. \u52a8\u6001\u4ee3\u7406\u4e3b\u8981\u662f\u5229\u7528\u4e86Java\u7684\u53cd\u5c04\u673a\u5236\u3002"),(0,a.kt)("p",null,"\u573a\u666f: \u6bd4\u5982Spring\u7684aop"),(0,a.kt)("h3",{id:"\u770b\u4e00\u4e2a\u4f7f\u7528\u793a\u4f8b"},"\u770b\u4e00\u4e2a\u4f7f\u7528\u793a\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'public class Client {\n\n    public static void main(String[] args) {\n        Car car = new Car();\n        // \u8fd9\u91cc\u5fc5\u987b\u4f7f\u7528\u63a5\u53e3\u63a5\u6536, \u4e0d\u7136\u4f1a\u8f6c\u578b\u5f02\u5e38\n        Moveable proxy = (Moveable) Proxy.newProxyInstance(\n                car.getClass().getClassLoader(), // \u88ab\u4ee3\u7406\u5bf9\u8c61\u7684classloader\n                new Class[] {Moveable.class},// \u624b\u52a8\u5217\u51fa\u63a5\u53e3\n                new InvocationHandler() {// \u8bf7\u6c42\u5904\u7406\u7c7b, \u56e0\u4e3a\u77e5\u9053\u4e0d\u4f1a\u590d\u7528, \u8fd9\u91cc\u76f4\u63a5\u4f7f\u7528\u533f\u540d\u7c7b\n\n                    @Override\n                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                        Object rst = null;\n\n                        String methodName = method.getName();\n                        if ("move".equals(methodName)) {\n                            System.out.println("\u65b9\u6cd5\u88ab\u4ee3\u7406\u524d...");\n                            rst = method.invoke(car, args);\n                            System.out.println("\u65b9\u6cd5\u88ab\u4ee3\u7406\u540e...");\n                        }\n                        else {\n                            rst = method.invoke(car, args);\n                        }\n                        return rst;\n                    }\n                });\n        proxy.move();\n    }\n}\n\n')),(0,a.kt)("h3",{id:"\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u8fde\u63a5\u6c60"},"\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u8fde\u63a5\u6c60"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// \u6570\u636e\u5e93\u8fde\u63a5\u6c60\n// \u73b0\u5728\u9700\u8981\u624b\u52a8\u5b9e\u73b0\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u6c60, \u6ca1\u6709\u4f7f\u7528\u4ee3\u7406\u6a21\u5f0f\u7684\u60c5\u51b5\u4e0b\u662f\u8fd9\u6837:\n\npublic class MyPool {\n \n    private int init_count = 3;        // \u521d\u59cb\u5316\u8fde\u63a5\u6570\u76ee\n    private int max_count = 6;        // \u6700\u5927\u8fde\u63a5\u6570\n    private int current_count = 0;  // \u8bb0\u5f55\u5f53\u524d\u4f7f\u7528\u8fde\u63a5\u6570\n    // \u8fde\u63a5\u6c60 \uff08\u5b58\u653e\u6240\u6709\u7684\u521d\u59cb\u5316\u8fde\u63a5\uff09\n    private LinkedList<Connection> pool = new LinkedList<Connection>();\n    //1.  \u6784\u9020\u51fd\u6570\u4e2d\uff0c\u521d\u59cb\u5316\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n    public MyPool() {\n        // \u521d\u59cb\u5316\u8fde\u63a5\n        for (int i=0; i<init_count; i++){\n            // \u8bb0\u5f55\u5f53\u524d\u8fde\u63a5\u6570\u76ee\n            current_count++;\n            // \u521b\u5efa\u539f\u59cb\u7684\u8fde\u63a5\u5bf9\u8c61\n            Connection con = createConnection();\n            // \u628a\u8fde\u63a5\u52a0\u5165\u8fde\u63a5\u6c60\n            pool.addLast(con);\n        }\n    }\n    //2. \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fde\u63a5\u7684\u65b9\u6cd5\n    private Connection createConnection(){\n        try {\n            Class.forName("com.mysql.jdbc.Driver");\n            // \u539f\u59cb\u7684\u76ee\u6807\u5bf9\u8c61\n             Connection con = DriverManager.getConnection("jdbc:mysql:///jdbc_demo", "root", "root");\n            return con;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n    //3. \u83b7\u53d6\u8fde\u63a5\n    public Connection getConnection(){\n        // 3.1 \u5224\u65ad\u8fde\u63a5\u6c60\u4e2d\u662f\u5426\u6709\u8fde\u63a5, \u5982\u679c\u6709\u8fde\u63a5\uff0c\u5c31\u76f4\u63a5\u4ece\u8fde\u63a5\u6c60\u53d6\u51fa\n        if (pool.size() > 0){\n            return pool.removeFirst();\n        }\n        // 3.2 \u8fde\u63a5\u6c60\u4e2d\u6ca1\u6709\u8fde\u63a5\uff1a \u5224\u65ad\uff0c\u5982\u679c\u6ca1\u6709\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\uff0c\u521b\u5efa\uff1b\n        if (current_count < max_count) {\n            // \u8bb0\u5f55\u5f53\u524d\u4f7f\u7528\u7684\u8fde\u63a5\u6570\n            current_count++;\n            // \u521b\u5efa\u8fde\u63a5\n            return createConnection();\n        }\n        // 3.3 \u5982\u679c\u5f53\u524d\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\uff0c\u629b\u51fa\u5f02\u5e38\n        throw new RuntimeException("\u5f53\u524d\u8fde\u63a5\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\u76ee \uff01");\n    }\n    //4. \u91ca\u653e\u8fde\u63a5\n    public void realeaseConnection(Connection con) {\n        // 4.1 \u5224\u65ad\uff1a \u6c60\u7684\u6570\u76ee\u5982\u679c\u5c0f\u4e8e\u521d\u59cb\u5316\u8fde\u63a5\uff0c\u5c31\u653e\u5165\u6c60\u4e2d\n        if (pool.size() < init_count){\n            pool.addLast(con);\n        } else {\n            try {\n                // 4.2 \u5173\u95ed \n                current_count--;\n                con.close();\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    // \u6d4b\u8bd5\uff1a\n    public static void main(String[] args) throws SQLException {\n        MyPool pool = new MyPool();\n        System.out.println("\u5f53\u524d\u8fde\u63a5: " + pool.current_count);  // 3\n        // \u4f7f\u7528\u8fde\u63a5\n        pool.getConnection();\n        pool.getConnection();\n        Connection con4 = pool.getConnection();\n        Connection con3 = pool.getConnection();\n        Connection con2 = pool.getConnection();\n        Connection con1 = pool.getConnection();\n        // \u91ca\u653e\u8fde\u63a5, \u8fde\u63a5\u653e\u56de\u8fde\u63a5\u6c60\n//        pool.realeaseConnection(con1);\n    /*\n     * \u5e0c\u671b\uff1a\u5f53\u5173\u95ed\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u8981\u628a\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\uff01\u3010\u5f53\u8c03\u7528Connection\u63a5\u53e3\u7684close\u65b9\u6cd5\u65f6\u5019\uff0c\u5e0c\u671b\u89e6\u53d1pool.addLast(con);\u64cd\u4f5c\u3011\u628a\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n     * \u89e3\u51b31\uff1a\u5b9e\u73b0Connection\u63a5\u53e3\uff0c\u91cd\u5199close\u65b9\u6cd5   connection\u63a5\u53e3\u65b9\u6cd5\u592a\u591a\uff0c\u90fd\u5b9e\u73b0\u592a\u9ebb\u70e6\uff0c\u653e\u5f03\n     * \u89e3\u51b32\uff1a\u52a8\u6001\u4ee3\u7406\n     */\n    con1.close();\n    // \u518d\u83b7\u53d6\n    pool.getConnection();\n    System.out.println("\u8fde\u63a5\u6c60\uff1a" + pool.pool.size());      // 0\n    System.out.println("\u5f53\u524d\u8fde\u63a5: " + pool.current_count);  // 3\n    }\n}\n\n\n')),(0,a.kt)("p",null,"\u91c7\u7528\u52a8\u6001\u7684\u4ee3\u7406\u540e, \u6539\u8fdb\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n *  JDK \u52a8\u6001\u4ee3\u7406  Object obj = Proxy.newProxyInstance(....)\uff1b\n *  1.\u53c2\u65701\uff1aClassLoader loader ,\u786e\u5b9a\u7c7b\u52a0\u8f7d\u5668\u3002\u7a0b\u5e8f\u8fd0\u884c\u65f6\u52a8\u6001\u521b\u5efa\u7c7b\uff0c\u9700\u8981\u7c7b\u52a0\u8f7d\u52a0\u8f7d\u5230\u5185\u5b58\u3002\u7c7b\u52a0\u8f7d\u5668\u4f5c\u7528\uff1aclass\u6587\u4ef6 --\x3e Class\u5bf9\u8c61\n *      * \u4e00\u822c\u60c5\u51b5\u4f7f\u7528\u90fd\u662f\u5f53\u524d\u7c7b\u7684\u7c7b\u52a0\u8f7d\u5668\n *      * \u7c7b\u52a0\u8f7d\u5668\u83b7\u5f97\u65b9\u5f0f\uff1aMyFactory.class.getClassLoader();\n *  2.\u53c2\u65702\uff1aClass[] interfaces  \u4ee3\u7406\u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3\u4eec\uff08\u53ef\u80fd\u6709\u591a\u4e2a\uff09\n *      * \u65b9\u5f0f1\uff1auserService.getClass().getInterfaces()\u3010\u6b64\u65b9\u5f0f\u53ea\u80fd\u5728\u4ee3\u7406\u5bf9\u8c61\u548c\u63a5\u53e3\u662f\u7236\u5b50\u5173\u7cfb\u65f6\u4f7f\u7528\u3011\n *      * \u65b9\u5f0f2\uff1anew Class[]{UserService.class}\u3010\u5f53\u88ab\u4ee3\u7406\u5bf9\u8c61\u548c\u5176\u5b9e\u73b0\u63a5\u53e3\u4e4b\u95f4\u662f\u9694\u4ee3\u5173\u7cfb\u65f6\uff08\u5373\u7956\u5b59\u5173\u7cfb\uff09(\u5373:\u4e00\u4e2a\u4e00\u4e2a\u5217\u51fa\u63a5\u53e3)\n *  3.\u53c2\u65703\uff1aInvocationHandler h \u8bf7\u6c42\u5904\u7406\u7c7b\uff0c\u4ee3\u7406\u7c7b\u65b9\u6cd5\u6267\u884c\u65f6\uff0c\u9700\u8981\u8bf7\u6c42\u5904\u7406\u7c7b\u6765\u5904\u7406\u3002\n *      * \u4e00\u822c\u91c7\u7528\u533f\u540d\u5185\u90e8\u7c7b\uff1anew InvocationHandler(){}\n *      * \u5b9e\u73b0\u65b9\u6cd5 invoke \uff0c\u4ee3\u7406\u7c7b\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u6267\u884c\u4e00\u6b21\uff0c\u5c06\u8c03\u7528\u4e00\u6b21invoke\n *          \u53c2\u65701.1\uff1aObject proxy ,\u4ee3\u7406\u5bf9\u8c61\uff08\u5373 proxyService\uff0c\u4e0d\u662f\u201c\u4ee3\u7406\u4e4b\u524d\u5bf9\u8c61\u201d\uff09\uff0c\u4e00\u822c\u4e0d\u7528\u3002\n *          \u53c2\u65702.2\uff1aMethod method \uff0c\u5f53\u524d\u6267\u884c\u7684\u65b9\u6cd5\n *              * \u5f53\u524d\u8c03\u7528\u65b9\u6cd5\u540d\uff1amethod.getName();\n *              * \u6267\u884c\u76ee\u6807\u7c7b\u65b9\u6cd5\uff1aObject obj = method.invoke(\u4ee3\u7406\u4e4b\u524d\u5bf9\u8c61 , args)\n *          \u53c2\u65703.3\uff1aObject[] args\n *              * \u5f53\u524d\u65b9\u6cd5\u5b9e\u9645\u53c2\u6570\n */\npublic class MyPool {\n \n    private int init_count = 3;        // \u521d\u59cb\u5316\u8fde\u63a5\u6570\u76ee\n    private int max_count = 6;        // \u6700\u5927\u8fde\u63a5\u6570\n    private int current_count = 0;  // \u8bb0\u5f55\u5f53\u524d\u4f7f\u7528\u8fde\u63a5\u6570\n    // \u8fde\u63a5\u6c60 \uff08\u5b58\u653e\u6240\u6709\u7684\u521d\u59cb\u5316\u8fde\u63a5\uff09\n    private LinkedList<Connection> pool = new LinkedList<Connection>();\n    //1.  \u6784\u9020\u51fd\u6570\u4e2d\uff0c\u521d\u59cb\u5316\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n    public MyPool() {\n        // \u521d\u59cb\u5316\u8fde\u63a5\n        for (int i=0; i<init_count; i++){\n            // \u8bb0\u5f55\u5f53\u524d\u8fde\u63a5\u6570\u76ee\n            current_count++;\n            // \u521b\u5efa\u539f\u59cb\u7684\u8fde\u63a5\u5bf9\u8c61\n            Connection con = createConnection();\n            // \u628a\u8fde\u63a5\u52a0\u5165\u8fde\u63a5\u6c60\n            pool.addLast(con);\n        }\n    }\n    //2. \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fde\u63a5\u7684\u65b9\u6cd5\n    private Connection createConnection(){\n        try {\n            Class.forName("com.mysql.jdbc.Driver");\n            // \u539f\u59cb\u7684\u76ee\u6807\u5bf9\u8c61\n            final Connection con = DriverManager.getConnection("jdbc:mysql:///jdbc_demo", "root", "root");\n            /**********\u5bf9con\u5bf9\u8c61\u4ee3\u7406**************/\n            // \u5bf9con\u521b\u5efa\u5176\u4ee3\u7406\u5bf9\u8c61\n            Connection proxy = (Connection) Proxy.newProxyInstance(\n                    con.getClass().getClassLoader(),    // \u7c7b\u52a0\u8f7d\u5668\n                    //con.getClass().getInterfaces(),   // \u5f53\u76ee\u6807\u5bf9\u8c61\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u7c7b\u7684\u65f6\u5019 \n                    new Class[]{Connection.class},      // \u76ee\u6807\u5bf9\u8c61\u5b9e\u73b0\u7684\u63a5\u53e3\n                    new InvocationHandler() {            // \u5f53\u8c03\u7528con\u5bf9\u8c61\u65b9\u6cd5\u7684\u65f6\u5019\uff0c \u81ea\u52a8\u89e6\u53d1\u4e8b\u52a1\u5904\u7406\u5668\n                        @Override\n                        public Object invoke(Object proxy, Method method, Object[] args)\n                                throws Throwable {\n                            // \u65b9\u6cd5\u8fd4\u56de\u503c\n                            Object result = null;\n                            // \u5f53\u524d\u6267\u884c\u7684\u65b9\u6cd5\u7684\u65b9\u6cd5\u540d\n                            String methodName = method.getName();\n                            // \u5224\u65ad\u5f53\u6267\u884c\u4e86close\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u628a\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n                            if ("close".equals(methodName)) {\n                                System.out.println("begin:\u5f53\u524d\u6267\u884cclose\u65b9\u6cd5\u5f00\u59cb\uff01");\n                                // \u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n                                pool.addLast(con);\n                                System.out.println("end: \u5f53\u524d\u8fde\u63a5\u5df2\u7ecf\u653e\u5165\u8fde\u63a5\u6c60\u4e86\uff01");\n                            } else {\n                                // \u8c03\u7528\u76ee\u6807\u5bf9\u8c61\u65b9\u6cd5\uff0c\u6ce8\u610f\u8fd9\u91cc\u4e0d\u662f\u4ee3\u7406\u5bf9\u8c61\n                                result = method.invoke(con, args);\n                            }\n                            return result;\n                        }\n                    }\n            );\n            return proxy;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n    //3. \u83b7\u53d6\u8fde\u63a5\n    public Connection getConnection(){\n        // 3.1 \u5224\u65ad\u8fde\u63a5\u6c60\u4e2d\u662f\u5426\u6709\u8fde\u63a5, \u5982\u679c\u6709\u8fde\u63a5\uff0c\u5c31\u76f4\u63a5\u4ece\u8fde\u63a5\u6c60\u53d6\u51fa\n        if (pool.size() > 0){\n            return pool.removeFirst();\n        }\n        // 3.2 \u8fde\u63a5\u6c60\u4e2d\u6ca1\u6709\u8fde\u63a5\uff1a \u5224\u65ad\uff0c\u5982\u679c\u6ca1\u6709\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\uff0c\u521b\u5efa\uff1b\n        if (current_count < max_count) {\n            // \u8bb0\u5f55\u5f53\u524d\u4f7f\u7528\u7684\u8fde\u63a5\u6570\n            current_count++;\n            // \u521b\u5efa\u8fde\u63a5\n            return createConnection();\n        }\n        // 3.3 \u5982\u679c\u5f53\u524d\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\uff0c\u629b\u51fa\u5f02\u5e38\n        throw new RuntimeException("\u5f53\u524d\u8fde\u63a5\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\u76ee \uff01");\n    }\n    //4. \u91ca\u653e\u8fde\u63a5\n    public void realeaseConnection(Connection con) {\n        // 4.1 \u5224\u65ad\uff1a \u6c60\u7684\u6570\u76ee\u5982\u679c\u5c0f\u4e8e\u521d\u59cb\u5316\u8fde\u63a5\uff0c\u5c31\u653e\u5165\u6c60\u4e2d\n        if (pool.size() < init_count){\n            pool.addLast(con);\n        } else {\n            try {\n                // 4.2 \u5173\u95ed \n                current_count--;\n                con.close();\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n    // \u6d4b\u8bd5\uff1a\n    public static void main(String[] args) throws SQLException {\n        MyPool pool = new MyPool();\n        System.out.println("\u5f53\u524d\u8fde\u63a5: " + pool.current_count);  // 3\n        // \u4f7f\u7528\u8fde\u63a5\n        pool.getConnection();\n        pool.getConnection();\n        Connection con4 = pool.getConnection();\n        Connection con3 = pool.getConnection();\n        Connection con2 = pool.getConnection();\n        Connection con1 = pool.getConnection();\n        // \u91ca\u653e\u8fde\u63a5, \u8fde\u63a5\u653e\u56de\u8fde\u63a5\u6c60\n//        pool.realeaseConnection(con1);\n        /*\n         * \u5e0c\u671b\uff1a\u5f53\u5173\u95ed\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u8981\u628a\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\uff01\u3010\u5f53\u8c03\u7528Connection\u63a5\u53e3\u7684close\u65b9\u6cd5\u65f6\u5019\uff0c\u5e0c\u671b\u89e6\u53d1pool.addLast(con);\u64cd\u4f5c\u3011\u628a\u8fde\u63a5\u653e\u5165\u8fde\u63a5\u6c60\n         * \u89e3\u51b31\uff1a\u5b9e\u73b0Connection\u63a5\u53e3\uff0c\u91cd\u5199close\u65b9\u6cd5\n         * \u89e3\u51b32\uff1a\u52a8\u6001\u4ee3\u7406\n         */\n        con1.close();\n        // \u518d\u83b7\u53d6\n        pool.getConnection();\n        System.out.println("\u8fde\u63a5\u6c60\uff1a" + pool.pool.size());      // 0\n        System.out.println("\u5f53\u524d\u8fde\u63a5: " + pool.current_count);  // 3\n    }\n}\n\n')),(0,a.kt)("h1",{id:"\u88c5\u9970\u5668\u6a21\u5f0f"},"\u88c5\u9970\u5668\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5e0c\u671b\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u884c\u4e3a, \u4f46\u662f\u53c8\u5e0c\u671b\u8fd9\u4e2a\u6539\u52a8\u5bf9\u8c03\u7528\u8005\u900f\u660e"),(0,a.kt)("p",null,"\u8fd9\u4e2a\u548c\u9002\u914d\u5668\u6a21\u5f0f\u76f8\u4f3c, \u4f46\u662f\u6709\u533a\u522b: \u9002\u914d\u5668\u6a21\u5f0f\u7684\u76ee\u7684\u5728\u4e8e\u9002\u914d\u63a5\u53e3\uff0c\u88c5\u9970\u5668\u6a21\u5f0f\u7684\u76ee\u7684\u5728\u4e8e\u52a8\u6001\u7684\u6dfb\u52a0\u529f\u80fd\uff0c\u4e14\u53ef\u4ee5\u53e0\u52a0"),(0,a.kt)("p",null,"\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u7ed9\u4e00\u4e2a\u7c7b\u6216\u5bf9\u8c61\u589e\u52a0\u884c\u4e3a(\u548c adapter \u7c7b\u4f3c)\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7ee7\u627f\u673a\u5236\uff0c\u4f7f\u7528\u7ee7\u627f\u673a\u5236\u662f\u7ed9\u73b0\u6709\u7c7b\u6dfb\u52a0\u529f\u80fd\u7684\u4e00\u79cd\u6709\u6548\u9014\u5f84\uff0c\u901a\u8fc7\u7ee7\u627f\u4e00\u4e2a\u73b0\u6709\u7c7b\u53ef\u4ee5\u4f7f\u5f97\u5b50\u7c7b\u5728\u62e5\u6709\u81ea\u8eab\u65b9\u6cd5\u7684\u540c\u65f6\u8fd8\u62e5\u6709\u7236\u7c7b\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u662f\u9759\u6001\u7684\uff0c\u7528\u6237\u4e0d\u80fd\u63a7\u5236\u589e\u52a0\u884c\u4e3a\u7684\u65b9\u5f0f\u548c\u65f6\u673a\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5173\u8054\u673a\u5236\uff0c\u5373\u5c06\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5d4c\u5165\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u7531\u53e6\u4e00\u4e2a\u5bf9\u8c61\u6765\u51b3\u5b9a\u662f\u5426\u8c03\u7528\u5d4c\u5165\u5bf9\u8c61\u7684\u884c\u4e3a\u4ee5\u4fbf\u6269\u5c55\u81ea\u5df1\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u5d4c\u5165\u7684\u5bf9\u8c61\u4e3a\u88c5\u9970\u5668(Decorator)"))),(0,a.kt)("p",null,"\u573a\u666f: \u5e26 wrapper \u7684\u7c7b, \u5982 servlet \u4e2d\u7684 HttpServletRequestWrapper"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//\u5f85\u88c5\u9970\u63a5\u53e3\npublic interface Component {\n    void method();\n}\n//\u5177\u4f53\u5f85\u88c5\u9970\u7c7b\npublic class ConcreteComponent implements Component{\n    public void method() {\n        System.out.println("\u539f\u6765\u7684\u65b9\u6cd5");\n    }\n}\n//\u62bd\u8c61\u88c5\u9970\u5668\u7236\u7c7b\npublic abstract class Decorator implements Component{\n    protected Component component;\n    public Decorator(Component component) {\n        super();\n        this.component = component;\n    }\n    public void method() {\n        component.method();\n    }\n}\n//\u5177\u4f53\u88c5\u9970\u5668\u7c7bA\npublic class ConcreteDecoratorA extends Decorator{\n    public ConcreteDecoratorA(Component component) {\n        super(component);\n    }\n    public void methodA(){\n        System.out.println("\u88ab\u88c5\u9970\u5668A\u6269\u5c55\u7684\u529f\u80fd");\n    }\n    // \u91cd\u5199\u7236\u7c7b\u65b9\u6cd5, \u8fdb\u884c\u589e\u5f3a\n    public void method(){\n        System.out.println("\u9488\u5bf9\u8be5\u65b9\u6cd5\u52a0\u4e00\u5c42A\u5305\u88c5");\n        super.method();\n        System.out.println("A\u5305\u88c5\u7ed3\u675f");\n    }\n}\n//\u5177\u4f53\u88c5\u9970\u5668\u7c7bB\npublic class ConcreteDecoratorB extends Decorator{\n    public ConcreteDecoratorB(Component component) {\n        super(component);\n    }\n    public void methodB(){\n        System.out.println("\u88ab\u88c5\u9970\u5668B\u6269\u5c55\u7684\u529f\u80fd");\n    }\n    public void method(){\n        System.out.println("\u9488\u5bf9\u8be5\u65b9\u6cd5\u52a0\u4e00\u5c42B\u5305\u88c5");\n        super.method();\n        System.out.println("B\u5305\u88c5\u7ed3\u675f");\n    }\n}\n')),(0,a.kt)("h1",{id:"\u9002\u914d\u5668\u6a21\u5f0f"},"\u9002\u914d\u5668\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c"),(0,a.kt)("p",null,"java.util.Arrays#asList()\njava.util.Collections#list()"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// \u5f85\u9002\u914d\u7c7b, \u5df2\u5b58\u5728\u7684\u3001\u5177\u6709\u7279\u6b8a\u529f\u80fd\u3001\u5e0c\u671b\u88ab\u91cd\u7528, \u4f46\u4e0d\u7b26\u5408\u6211\u4eec\u65e2\u6709\u7684\u6807\u51c6\u63a5\u53e3\nclass Adaptee {\n    public void specificRequest() {\n        System.out.println("\u88ab\u9002\u914d\u7c7b\u5177\u6709 \u7279\u6b8a\u529f\u80fd...");\n    }\n}\n\n// \u76ee\u6807\u63a5\u53e3\uff0c\u6216\u79f0\u4e3a\u6807\u51c6\u63a5\u53e3\ninterface Target {\n    public void request();\n}\n\n// \u5177\u4f53\u76ee\u6807\u7c7b\uff0c\u4f46\u662f\u53ea\u63d0\u4f9b\u666e\u901a\u529f\u80fd\nclass ConcreteTarget implements Target {\n    public void request() {\n        System.out.println("\u666e\u901a\u7c7b \u5177\u6709 \u666e\u901a\u529f\u80fd...");\n    }\n}\n \n// \u9002\u914d\u5668\u7c7b\uff0c\u7ee7\u627f\u4e86\u88ab\u9002\u914d\u7c7b\uff0c\u540c\u65f6\u5b9e\u73b0\u6807\u51c6\u63a5\u53e3\nclass Adapter extends Adaptee implements Target{\n    public void request() {\n        super.specificRequest();\n    }\n}\n \n// \u6d4b\u8bd5\u7c7bpublic class Client {\n    public static void main(String[] args) {\n        // \u4f7f\u7528\u666e\u901a\u529f\u80fd\u7c7b\n        Target concreteTarget = new ConcreteTarget();\n        concreteTarget.request();\n        \n        // \u4f7f\u7528\u7279\u6b8a\u529f\u80fd\u7c7b\uff0c\u5373\u9002\u914d\u7c7b\n        Target adapter = new Adapter();\n        adapter.request();\n    }\n}\n')),(0,a.kt)("p",null,"\u5bf9\u8c61\u9002\u914d\u5668 ---------------- \u4f7f\u7528\u7ec4\u5408(\u63a8\u8350)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"// \u9002\u914d\u5668\u7c7b\uff0c\u76f4\u63a5\u5173\u8054\u88ab\u9002\u914d\u7c7b\uff0c\u540c\u65f6\u5b9e\u73b0\u6807\u51c6\u63a5\u53e3\nclass Adapter implements Target{\n    // \u76f4\u63a5\u5173\u8054\u88ab\u9002\u914d\u7c7b\n    private Adaptee adaptee;\n    \n    // \u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u5165\u5177\u4f53\u9700\u8981\u9002\u914d\u7684\u88ab\u9002\u914d\u7c7b\u5bf9\u8c61\n    public Adapter (Adaptee adaptee) {\n        this.adaptee = adaptee;\n    }\n    \n    public void request() {\n        // \u8fd9\u91cc\u662f\u4f7f\u7528\u59d4\u6258\u7684\u65b9\u5f0f\u5b8c\u6210\u7279\u6b8a\u529f\u80fd\n        this.adaptee.specificRequest();\n    }\n}\n\n// \u6d4b\u8bd5\u7c7b\npublic class Client {\n    public static void main(String[] args) {\n        // \u4f7f\u7528\u666e\u901a\u529f\u80fd\u7c7b\n        Target concreteTarget = new ConcreteTarget();\n        concreteTarget.request();\n        \n        // \u4f7f\u7528\u7279\u6b8a\u529f\u80fd\u7c7b\uff0c\u5373\u9002\u914d\u7c7b\uff0c\n        // \u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a\u88ab\u9002\u914d\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\n        Target adapter = new Adapter(new Adaptee());\n        adapter.request();\n    }\n}\n")),(0,a.kt)("h1",{id:"\u8d23\u4efb\u94fe\u6a21\u5f0f"},"\u8d23\u4efb\u94fe\u6a21\u5f0f"),(0,a.kt)("p",null,"\u8d23\u4efb\u94fe\u901a\u5e38\u9700\u8981\u5148\u5efa\u7acb\u4e00\u4e2a\u5355\u5411\u94fe\u8868\uff0c\u7136\u540e\u8c03\u7528\u65b9\u53ea\u9700\u8981\u8c03\u7528\u5934\u90e8\u8282\u70b9\u5c31\u53ef\u4ee5\u4e86\uff0c\u540e\u9762\u4f1a\u81ea\u52a8\u6d41\u8f6c\u4e0b\u53bb\u3002"),(0,a.kt)("p",null,"\u5178\u578b\u5982 \u6d41\u7a0b\u5ba1\u6279"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4fe1\u606f\u5904\u7406\u63a5\u53e3, \u94fe\u6761\u4e0a\u7684\u6bcf\u4e2a\u8fc7\u6ee4\u5668\u90fd\u5b9e\u73b0\u5b83\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53485:45:12\n */\npublic interface IFilter {\n\n    /**\n     * \u5904\u7406\u4fe1\u606f\u65b9\u6cd5\n     * @param rqt \u8f93\u5165\n     * @return\n     */\n    String doFilter(String rqt);\n}\n\n/***\n * \u804c\u8d23\u94fe, \u9762\u5411\u5904\u7406\u8282\u70b9\u63a5\u53e3\u7f16\u7a0b, \u548c\u5177\u4f53\u7684\u5904\u7406\u8282\u70b9\u6ca1\u6709\u5173\u7cfb\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53486:24:56\n */\npublic class FilterChain implements IFilter {\n\n    private List<IFilter> filterChain =  new ArrayList<IFilter>();\n\n    @Override\n    public String doFilter(String rqt) {\n        for(IFilter f: filterChain) {\n            rqt = f.doFilter(rqt);\n        }\n        return rqt;\n    }\n\n    /**\n     * \u6dfb\u52a0\u8fc7\u6ee4\u8282\u70b9\n     * @param filter\n     * @return\n     */\n    public FilterChain addFilter(IFilter filter) {\n        this.filterChain.add(filter);\n        return this;\n    }\n\n}\n\n/**\n * \u4fe1\u606f\u5904\u7406\u5668, \u5c01\u88c5\u4e86\u804c\u8d23\u94fe, \u8fd9\u91cc\u76f8\u5f53\u4e0e\u4e00\u4e2a\u5916\u89c2\u6a21\u5f0f, \u5c01\u88c5\u4e86\u5185\u90e8\u7ec6\u8282,\u53ea\u63d0\u4f9b\u7ed9\u5916\u90e8\u4e00\u4e2aprocess()\n *  \u5b8c\u5168\u53ef\u4ee5\u7701\u7565\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53486:01:33\n */\n@Data\npublic class MessageProcessor {\n\n    /**\n     * \u5c01\u88c5\u7684\u804c\u8d23\u94fe\n     */\n    private FilterChain fc;\n    public MessageProcessor(FilterChain fc) {\n        this.fc = fc;\n    }\n\n    public String process(String rqt) {\n        return fc.doFilter(rqt);\n    }\n\n}\n\n/**\n * \u5177\u4f53\u7684\u5904\u7406\u8282\u70b9, \u5c06<>\u66ff\u6362\u4e3a[]\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53486:11:58\n */\npublic class HtmlFilter implements IFilter {\n\n    @Override\n    public String doFilter(String rqt) {\n        String replace = rqt.replaceAll("<", "[")\n                .replaceAll(">", "]");\n        return replace;\n\n    }\n\n}\n\n/**\n * \u5177\u4f53\u7684\u5904\u7406\u8282\u70b9, \u654f\u611f\u8bcd\u8fc7\u6ee4 \u5c06xxx\u6362\u4e3ayyy\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53486:15:37\n */\npublic class SensitiveFilter implements IFilter {\n\n    @Override\n    public String doFilter(String rqt) {\n        return rqt.replaceAll("xxx", "yyy");\n    }\n\n}\n\n/**\n * \u7b80\u5355\u804c\u8d23\u94fe\u6a21\u5f0fclient\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53486:17:51\n */\npublic class Client {\n\n    public static void main(String[] args) {\n        String str = "hhh, xxx :) <script>";\n        FilterChain fc = new FilterChain().addFilter(new HtmlFilter()).addFilter(new SensitiveFilter());\n        MessageProcessor processor = new MessageProcessor(fc);\n\n        String rst = processor.process(str);\n        System.out.println(rst);\n    }\n}\n')),(0,a.kt)("p",null,"===================\u590d\u6742\uff08\u8bf7\u6c42\u54cd\u5e94\u6709\u5e8f\uff09\u8d23\u4efb\u94fe"),(0,a.kt)("p",null,"\u7c7b\u6bd4 servlet \u4e2d\u7684 filter"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * request\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:09:54\n */\n@Data\npublic class Request {\n\n    private String content;\n}\n\n/**\n * response\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:10:24\n */\n@Data\npublic class Response {\n\n    private String content;\n}\n\n/**\n * \u8282\u70b9\u63a5\u53e3\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:08:13\n */\npublic interface IFilter {\n\n    void doFilter(Request rqt, Response rsp, FilterChain chain);\n}\n\n/**\n * filter chain\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:20:58\n */\n@Data\npublic class FilterChain implements IFilter {\n\n    /**\n     * \u8282\u70b9\u6267\u884c\u7d22\u5f15, \u521d\u59cb\u4e3a0; \u8868\u793a\u5f53\u524d\u6267\u884c\u5230\u54ea\u4e2afilter\u4e86\n     */\n    private int currentFilterIndex = 0;\n\n    /**\n     * \u8fc7\u6ee4\u8282\u70b9\u5bb9\u5668\n     */\n    private List<IFilter> filters = new ArrayList<IFilter>();\n\n    @Override\n    public void doFilter(Request rqt, Response rsp, FilterChain chain) {\n        // \u5f53 chain \u4e2d\u7684 filter \u88ab\u904d\u5386\u6267\u884c\u5b8c, \u8df3\u51fa\n        if (this.filters.size() == currentFilterIndex) {\n            return;\n        }\n        else {\n            IFilter filter = filters.get(currentFilterIndex);\n            // \u5f53\u524d\u8282\u70b9\u83b7\u53d6\u5230\u540e, \u9a6c\u4e0a\u7d22\u5f15\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a, \u4e0d\u7136\u4f1a\u5faa\u73af\u8c03\u7528, \u4e00\u76f4\u8c03\u7528\u7b2c\u4e00\u4e2afilter, \u76f4\u5230\u7cfb\u7edf\u5d29\u6e83\n            currentFilterIndex++;\n            filter.doFilter(rqt, rsp, chain);\n        }\n    }\n\n    public FilterChain addFilter(IFilter filter) {\n        this.filters.add(filter);\n        return this;\n    }\n\n}\n\n/**\n * html filter\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:32:39\n */\npublic class HtmlFilter implements IFilter {\n\n    @Override\n    public void doFilter(Request rqt, Response rsp, FilterChain chain) {\n        rqt.setContent(\n                rqt.getContent().replace("<", "[").replace(">", "]"));\n        System.out.println("HtmlFilter: \u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u88ab\u5904\u7406");\n        chain.doFilter(rqt, rsp, chain);\n        System.out.println("HtmlFilter: \u8fd4\u56de\u8fc7\u7a0b\u4e2d\u88ab\u5904\u7406");\n    }\n\n}\n\n\n/**\n * sensitive filter\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:38:58\n */\npublic class SensitiveFilter implements IFilter {\n\n    @Override\n    public void doFilter(Request rqt, Response rsp, FilterChain chain) {\n        rqt.setContent(rqt.getContent().replaceAll("xxx", "yyy"));\n        System.out.println("SensitiveFilter: \u8bf7\u6c42\u8fc7\u7a0b\u88ab\u5904\u7406");\n        chain.doFilter(rqt, rsp, chain);\n        System.out.println("SensitiveFilter: \u8fd4\u56de\u8fc7\u7a0b\u88ab\u5904\u7406");\n    }\n\n}\n\n/**\n * \u6d4b\u8bd5\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670826\u65e5 \u4e0b\u53488:43:43\n */\npublic class Client {\n\n    public static void main(String[] args) {\n        String str = "hhh, xxx :) <script>, ";\n        Request rqt = new Request();\n        rqt.setContent(str);\n        Response rsp = new Response();\n        rsp.setContent("response-content");\n\n        FilterChain fc = new FilterChain().addFilter(new HtmlFilter()).addFilter(new SensitiveFilter());\n        fc.doFilter(rqt, rsp, fc);\n        System.out.println(rsp.getContent());\n    }\n}\n')),(0,a.kt)("h1",{id:"\u5355\u4f8b\u6a21\u5f0f"},"\u5355\u4f8b\u6a21\u5f0f"),(0,a.kt)("p",null,"\u67d0\u4e2a\u5bf9\u8c61\u5168\u5c40\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u3002\u5b83\u7684\u4f18\u70b9\u4e5f\u663e\u800c\u6613\u89c1\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b83\u80fd\u591f\u907f\u514d\u5bf9\u8c61\u91cd\u590d\u521b\u5efa\uff0c\u8282\u7ea6\u7a7a\u95f4\u5e76\u63d0\u5347\u6548\u7387"),(0,a.kt)("li",{parentName:"ul"},"\u907f\u514d\u7531\u4e8e\u64cd\u4f5c\u4e0d\u540c\u5b9e\u4f8b\u5bfc\u81f4\u7684\u903b\u8f91\u9519\u8bef")),(0,a.kt)("p",null,"\u7ebf\u7a0b\u5b89\u5168\u7684\u5b9e\u73b0:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u5e26\u6709\u53cc\u91cd\u5224\u65ad\u7684\u5355\u4f8b\u6a21\u5f0f ---- \u4e0d\u76f4\u89c2, \u4e0d\u63a8\u8350\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u53484:48:41\n */\npublic class SyncSingleton {\n\n  //\u4e00\u4e2a\u9759\u6001\u7684\u5b9e\u4f8b\n    private static volatile SyncSingleton instance;\n  //\u79c1\u6709\u5316\u6784\u9020\u51fd\u6570\n    private SyncSingleton() {}\n  //\u7ed9\u51fa\u4e00\u4e2a\u516c\u5171\u7684\u9759\u6001\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u5b9e\u4f8b\n    public static SyncSingleton getInstance() {\n        if (instance == null) {\n          //\u8fd9\u91cc\u7b2c\u4e8c\u91cd\u5224\u65ad\uff1aAB\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u5165\u7b2c\u4e00\u4e2a\u5224\u65ad\u5185\u90e8\uff0c\u6b64\u65f6A\u5f53\u5148\u62ff\u5230\u9501\u8fdb\u5165\u7b2c\u4e8c\u5224\u65ad\uff0c\u521b\u5efa\u4e86\u5bf9\u8c61\uff0cB\u62ff\u5230\u9501\u540e\u4f1a\u518d\u6b21\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u6b64\u5904\u4e0d\u5224\u65ad\uff0c\u5219\u4f1a\u521b\u5efa\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\uff1b\n            synchronized (SyncSingleton.class) {\n                if (instance == null) {\n                    instance = new SyncSingleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n\n///////////////////////// \u63a8\u8350\u8fd9\u79cd\u5199\u6cd5: \u501f\u52a9 jvm \u7684\u7279\u6027\u5e2e\u52a9\u5b9e\u73b0 singleton ////////////////////////////////////\n\n/**\n * \u66f4\u5b89\u5168, \u66f4\u7b80\u5355\u7684\u5355\u4f8b\n *\n *\u9996\u5148\u6765\u8bf4\u4e00\u4e0b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4e3a\u4f55\u4f1a\u907f\u514d\u4e86\u4e0a\u9762\u83ab\u540d\u7684\u9519\u8bef\uff0c\n *\u4e3b\u8981\u662f\u56e0\u4e3a\u4e00\u4e2a\u7c7b\u7684\u9759\u6001\u5c5e\u6027\u53ea\u4f1a\u5728\u7b2c\u4e00\u6b21\u52a0\u8f7d\u7c7b\u65f6\u521d\u59cb\u5316\uff0c\u8fd9\u662fJVM\u5e2e\u6211\u4eec\u4fdd\u8bc1\u7684\uff0c\n *\u6240\u4ee5\u6211\u4eec\u65e0\u9700\u62c5\u5fc3\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u3002\u6240\u4ee5\u5728\u521d\u59cb\u5316\u8fdb\u884c\u4e00\u534a\u7684\u65f6\u5019\uff0c\u522b\u7684\u7ebf\u7a0b\u662f\u65e0\u6cd5\u4f7f\u7528\u7684\uff0c\u56e0\u4e3aJVM\u4f1a\u5e2e\u6211\u4eec\u5f3a\u884c\u540c\u6b65\u8fd9\u4e2a\u8fc7\u7a0b\u3002\n *\u53e6\u5916\u7531\u4e8e\u9759\u6001\u53d8\u91cf\u53ea\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u6240\u4ee5singleton\u4ecd\u7136\u662f\u5355\u4f8b\u7684\u3002\n *\n * @version 0.1\n * @author xy\n * @date 2018\u5e741\u670825\u65e5 \u4e0b\u53485:02:23\n */\npublic class Singleton {\n    private Singleton(){}\n    public static Singleton getInstance(){\n        return SingletonInstance.instance;\n    }\n    //\u7c7b\u7684\u9759\u6001\u6210\u5458\u53ea\u52a0\u8f7d\u4e00\u6b21\uff0c\u8fd9\u4fdd\u8bc1\u4e86\u53ea\u6709\u4e00\u4e2a\u5bf9\u8c61\n    private static class SingletonInstance{\n        private static Singleton instance = new Singleton();\n    }\n}\n")),(0,a.kt)("h1",{id:"\u547d\u4ee4\u6a21\u5f0f"},"\u547d\u4ee4\u6a21\u5f0f"),(0,a.kt)("h1",{id:"\u95e8\u9762\u6a21\u5f0f"},"\u95e8\u9762\u6a21\u5f0f"),(0,a.kt)("h1",{id:"\u5efa\u9020\u8005\u6a21\u5f0f"},"\u5efa\u9020\u8005\u6a21\u5f0f"),(0,a.kt)("h1",{id:"\u6d41\u6c34\u7ebf\u6a21\u5f0f"},"\u6d41\u6c34\u7ebf\u6a21\u5f0f"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://juejin.cn/post/7070338942184194084"},"https://juejin.cn/post/7070338942184194084")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.baiyp.ren/JAVA%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-10%E7%AE%A1%E9%81%93%E6%A8%A1%E5%BC%8F.html"},"https://www.baiyp.ren/JAVA%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-10%E7%AE%A1%E9%81%93%E6%A8%A1%E5%BC%8F.html")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://www.uml.org.cn/j2ee/201909271.asp"},"http://www.uml.org.cn/j2ee/201909271.asp")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://blog.csdn.net/huzhiqiangCSDN/article/details/56846268"},"https://blog.csdn.net/huzhiqiangCSDN/article/details/56846268")),(0,a.kt)("h1",{id:"\u72b6\u6001\u6a21\u5f0f-state-machine"},"\u72b6\u6001\u6a21\u5f0f state machine"))}m.isMDXComponent=!0}}]);