"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4146],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),s=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=s(n),d=r,k=m["".concat(i,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(k,p(p({ref:t},u),{},{components:n})):a.createElement(k,p({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,p=new Array(l);p[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,p[1]=o;for(var s=2;s<l;s++)p[s]=n[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},57118:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return c}});var a=n(83117),r=n(80102),l=(n(67294),n(3905)),p=["components"],o={title:"React\ud83c\udf08",tags:["react"],date:new Date("2018-06-28T20:26:11.000Z"),toc_min_heading_level:2,toc_max_heading_level:5},i=void 0,s={unversionedId:"react-note",id:"react-note",title:"React\ud83c\udf08",description:"ui \u8bbe\u8ba1",source:"@site/docs/react-note.md",sourceDirName:".",slug:"/react-note",permalink:"/en/docs/react-note",draft:!1,tags:[{label:"react",permalink:"/en/docs/tags/react"}],version:"current",frontMatter:{title:"React\ud83c\udf08",tags:["react"],date:"2018-06-28T20:26:11.000Z",toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"Quarkus",permalink:"/en/docs/quarkus"},next:{title:"\u5b9e\u65f6\u901a\u4fe1 Real-time",permalink:"/en/docs/real-time-communication-protocol"}},u={},c=[{value:"6.1. \u57fa\u672c\u8bed\u6cd5",id:"61-\u57fa\u672c\u8bed\u6cd5",level:2},{value:"6.2. \u4f7f\u7528 jsx \u9700\u8981\u7684\u73af\u5883\u914d\u7f6e",id:"62-\u4f7f\u7528-jsx-\u9700\u8981\u7684\u73af\u5883\u914d\u7f6e",level:2},{value:"7.1. \u8001\u9879\u76ee\u63a5\u5165",id:"71-\u8001\u9879\u76ee\u63a5\u5165",level:2},{value:"7.2. create-react-app \u4f7f\u7528",id:"72-create-react-app-\u4f7f\u7528",level:2},{value:"7.3. vscode \u73af\u5883",id:"73-vscode-\u73af\u5883",level:2},{value:"7.4. webpack \u73af\u5883\u642d\u5efa",id:"74-webpack-\u73af\u5883\u642d\u5efa",level:2},{value:"10.1. \u793e\u533a\u5f00\u6e90\u7ec4\u4ef6",id:"101-\u793e\u533a\u5f00\u6e90\u7ec4\u4ef6",level:2},{value:"10.2. Web Components",id:"102-web-components",level:2},{value:"10.3. \u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219",id:"103-\u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219",level:2},{value:"10.4. \u5e26\u72b6\u6001\u7ec4\u4ef6 \u7eaf\u51fd\u6570\u7ec4\u4ef6",id:"104-\u5e26\u72b6\u6001\u7ec4\u4ef6-\u7eaf\u51fd\u6570\u7ec4\u4ef6",level:2},{value:"10.5. \u51fd\u6570\u7ed1\u5b9a\u65b9\u5f0f",id:"105-\u51fd\u6570\u7ed1\u5b9a\u65b9\u5f0f",level:2},{value:"10.6. hooks",id:"106-hooks",level:2},{value:"10.6.1. create react app \u914d\u5408 eslint-plugin-react-hooks",id:"1061-create-react-app-\u914d\u5408-eslint-plugin-react-hooks",level:3},{value:"10.6.2. hooks \u539f\u7406",id:"1062-hooks-\u539f\u7406",level:3},{value:"10.6.3. \u6700\u4f73\u5b9e\u8df5",id:"1063-\u6700\u4f73\u5b9e\u8df5",level:3},{value:"10.6.4. \u4e3a\u4ec0\u4e48\u9700\u8981 hooks",id:"1064-\u4e3a\u4ec0\u4e48\u9700\u8981-hooks",level:3},{value:"10.6.5. useRef",id:"1065-useref",level:3},{value:"10.6.6. useMemo and memo and useCallback",id:"1066-usememo-and-memo-and-usecallback",level:3},{value:"10.6.7. useState",id:"1067-usestate",level:3},{value:"10.6.7.1. state \u7279\u6027",id:"10671-state-\u7279\u6027",level:4},{value:"10.6.7.2. \u4f20\u7edf\u5199\u6cd5",id:"10672-\u4f20\u7edf\u5199\u6cd5",level:4},{value:"10.6.7.3. \u4f7f\u7528 functional \u7ec4\u4ef6\u7684\u5199\u6cd5",id:"10673-\u4f7f\u7528-functional-\u7ec4\u4ef6\u7684\u5199\u6cd5",level:4},{value:"10.6.7.4. \u5ef6\u8fdf\u521d\u59cb\u5316",id:"10674-\u5ef6\u8fdf\u521d\u59cb\u5316",level:4},{value:"10.6.7.5. \u65b0\u65e7 state \u6709\u5173\u8054",id:"10675-\u65b0\u65e7-state-\u6709\u5173\u8054",level:4},{value:"10.6.8. useContext",id:"1068-usecontext",level:3},{value:"10.6.9. useReducer",id:"1069-usereducer",level:3},{value:"10.6.10. useEffect",id:"10610-useeffect",level:3},{value:"10.6.10.1. effect \u7406\u89e3",id:"106101-effect-\u7406\u89e3",level:4},{value:"10.6.10.2. effect \u57fa\u672c\u4f7f\u7528",id:"106102-effect-\u57fa\u672c\u4f7f\u7528",level:4},{value:"10.6.10.3. \u7f13\u5b58\u4e0a\u6b21\u503c",id:"106103-\u7f13\u5b58\u4e0a\u6b21\u503c",level:4},{value:"10.6.10.4. \u8bbe\u7f6e\u9500\u6bc1\u56de\u8c03\u51fd\u6570\u4f8b\u5b50",id:"106104-\u8bbe\u7f6e\u9500\u6bc1\u56de\u8c03\u51fd\u6570\u4f8b\u5b50",level:4},{value:"10.6.10.5. \u53d1\u9001\u5f02\u6b65\u8bf7\u6c42",id:"106105-\u53d1\u9001\u5f02\u6b65\u8bf7\u6c42",level:4},{value:"10.6.10.6. \u4f7f\u7528 fetch api",id:"106106-\u4f7f\u7528-fetch-api",level:4},{value:"10.6.11. \u81ea\u5b9a\u4e49 hook",id:"10611-\u81ea\u5b9a\u4e49-hook",level:3},{value:"10.6.11.1. \u5e26\u6709\u81ea\u589e\u6548\u679c\u7684 state hook",id:"106111-\u5e26\u6709\u81ea\u589e\u6548\u679c\u7684-state-hook",level:4},{value:"10.6.11.2. \u4ece usehooks \u6539\u9020 responseComponent",id:"106112-\u4ece-usehooks-\u6539\u9020-responsecomponent",level:4},{value:"10.6.11.3. \u5b9a\u65f6\u5668 and \u81ea\u52a8\u9500\u6bc1",id:"106113-\u5b9a\u65f6\u5668-and-\u81ea\u52a8\u9500\u6bc1",level:4},{value:"10.6.12. \u7efc\u5408\u4f8b\u5b50",id:"10612-\u7efc\u5408\u4f8b\u5b50",level:3},{value:"10.6.12.1. \u70b9\u8d5e\u6309\u94ae",id:"106121-\u70b9\u8d5e\u6309\u94ae",level:4},{value:"10.7. \u9ad8\u9636\u7ec4\u4ef6 and \u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6",id:"107-\u9ad8\u9636\u7ec4\u4ef6-and-\u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6",level:2},{value:"10.8. Fragment",id:"108-fragment",level:2},{value:"10.9. StrictMode",id:"109-strictmode",level:2},{value:"10.10. \u793a\u4f8b",id:"1010-\u793a\u4f8b",level:2},{value:"10.10.1. \u4f7f\u7528 props",id:"10101-\u4f7f\u7528-props",level:3},{value:"10.10.2. \u904d\u5386\u5b50\u5143\u7d20",id:"10102-\u904d\u5386\u5b50\u5143\u7d20",level:3},{value:"10.10.3. \u627e\u5230\u771f\u5b9e\u7684 dom(this.ref.xxx)",id:"10103-\u627e\u5230\u771f\u5b9e\u7684-domthisrefxxx",level:3},{value:"10.10.4. \u4f7f\u7528 state(this.state)",id:"10104-\u4f7f\u7528-statethisstate",level:3},{value:"10.10.5. \u4e00\u4e2a\u8868\u5355\u793a\u4f8b",id:"10105-\u4e00\u4e2a\u8868\u5355\u793a\u4f8b",level:3},{value:"10.10.6. \u767b\u5f55\u754c\u9762",id:"10106-\u767b\u5f55\u754c\u9762",level:3},{value:"10.10.7. todo list app",id:"10107-todo-list-app",level:3},{value:"11.1. \u751f\u547d\u5468\u671f\u4ecb\u7ecd",id:"111-\u751f\u547d\u5468\u671f\u4ecb\u7ecd",level:2},{value:"11.2. \u7ec4\u4ef6\u88ab\u6302\u8f7d",id:"112-\u7ec4\u4ef6\u88ab\u6302\u8f7d",level:2},{value:"11.3. \u7ec4\u4ef6\u88ab\u5378\u8f7d",id:"113-\u7ec4\u4ef6\u88ab\u5378\u8f7d",level:2},{value:"11.4. \u7ec4\u4ef6\u88ab\u66f4\u65b0",id:"114-\u7ec4\u4ef6\u88ab\u66f4\u65b0",level:2},{value:"11.5. \u751f\u547d\u5468\u671f\u51fd\u6570 demo",id:"115-\u751f\u547d\u5468\u671f\u51fd\u6570-demo",level:2},{value:"12.1. virtual dom",id:"121-virtual-dom",level:2},{value:"12.2. react \u7684 diff \u7b97\u6cd5\u6cd5",id:"122-react-\u7684-diff-\u7b97\u6cd5\u6cd5",level:2},{value:"12.3. key \u5c5e\u6027\u6709\u4ec0\u4e48\u4f5c\u7528",id:"123-key-\u5c5e\u6027\u6709\u4ec0\u4e48\u4f5c\u7528",level:2},{value:"12.4. \u8bbe\u7f6e\u7ec4\u4ef6\u65f6\u600e\u4e48\u63d0\u9ad8\u6027\u80fd",id:"124-\u8bbe\u7f6e\u7ec4\u4ef6\u65f6\u600e\u4e48\u63d0\u9ad8\u6027\u80fd",level:2},{value:"14.1. state \u4ecb\u7ecd",id:"141-state-\u4ecb\u7ecd",level:2},{value:"14.2. state \u548c\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u533a\u522b",id:"142-state-\u548c\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u533a\u522b",level:2},{value:"14.3. \u5982\u4f55\u66f4\u65b0 state",id:"143-\u5982\u4f55\u66f4\u65b0-state",level:2},{value:"14.4. setState \u662f\u4e0d\u662f\u5f02\u6b65\u7684",id:"144-setstate-\u662f\u4e0d\u662f\u5f02\u6b65\u7684",level:2},{value:"14.5. setState \u66f4\u65b0\u662f\u4e00\u4e2a\u5408\u5e76\u8fc7\u7a0b",id:"145-setstate-\u66f4\u65b0\u662f\u4e00\u4e2a\u5408\u5e76\u8fc7\u7a0b",level:2},{value:"14.6. replaceState \u66f4\u65b0\u662f\u4e00\u4e2a\u66ff\u6362\u8fc7\u7a0b",id:"146-replacestate-\u66f4\u65b0\u662f\u4e00\u4e2a\u66ff\u6362\u8fc7\u7a0b",level:2},{value:"15.1. \u5728 jsx \u4e2d\u904d\u5386 props",id:"151-\u5728-jsx-\u4e2d\u904d\u5386-props",level:2},{value:"15.2. PropTypes \u7c7b\u578b\u68c0\u67e5",id:"152-proptypes-\u7c7b\u578b\u68c0\u67e5",level:2},{value:"15.3. \u5f15\u5165\u7c7b\u578b\u68c0\u67e5\u7684\u5176\u4ed6\u65b9\u6cd5",id:"153-\u5f15\u5165\u7c7b\u578b\u68c0\u67e5\u7684\u5176\u4ed6\u65b9\u6cd5",level:2},{value:"15.3.1. \u5f15\u5165 TypeScript",id:"1531-\u5f15\u5165-typescript",level:3},{value:"15.3.2. flow \u7c7b\u578b\u68c0\u67e5",id:"1532-flow-\u7c7b\u578b\u68c0\u67e5",level:3},{value:"15.4. \u8bbe\u5b9a props \u7684\u9ed8\u8ba4\u503c",id:"154-\u8bbe\u5b9a-props-\u7684\u9ed8\u8ba4\u503c",level:2},{value:"15.5. \u6709\u54ea\u4e9b\u5c5e\u6027",id:"155-\u6709\u54ea\u4e9b\u5c5e\u6027",level:2},{value:"18.1. flux \u67b6\u6784\u7684\u601d\u60f3",id:"181-flux-\u67b6\u6784\u7684\u601d\u60f3",level:2},{value:"18.2. Flux \u5b98\u65b9\u5b9e\u73b0",id:"182-flux-\u5b98\u65b9\u5b9e\u73b0",level:2},{value:"18.3. Redux",id:"183-redux",level:2},{value:"18.3.1. \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528 redux",id:"1831-\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528-redux",level:3},{value:"18.3.2. \u57fa\u672c\u6982\u5ff5",id:"1832-\u57fa\u672c\u6982\u5ff5",level:3},{value:"18.3.3. \u57fa\u672c api",id:"1833-\u57fa\u672c-api",level:3},{value:"18.3.3.1. store",id:"18331-store",level:4},{value:"18.3.3.2. reducer",id:"18332-reducer",level:4},{value:"18.3.3.3. applyMiddleware",id:"18333-applymiddleware",level:4},{value:"18.3.3.4. bindActionCreators",id:"18334-bindactioncreators",level:4},{value:"18.3.4. \u7eaf redux \u7684 api \u793a\u4f8b(\u540c\u6b65\u7248\u672c\u7684 api)",id:"1834-\u7eaf-redux-\u7684-api-\u793a\u4f8b\u540c\u6b65\u7248\u672c\u7684-api",level:3},{value:"18.3.5. react-redux",id:"1835-react-redux",level:3},{value:"18.3.6. \u5f02\u6b65 Action",id:"1836-\u5f02\u6b65-action",level:3},{value:"18.3.7. thunk, saga",id:"1837-thunk-saga",level:3},{value:"18.3.8. \u8c03\u8bd5\u5de5\u5177",id:"1838-\u8c03\u8bd5\u5de5\u5177",level:3},{value:"18.3.9. demo(\u4e00\u4e2a todo-app)",id:"1839-demo\u4e00\u4e2a-todo-app",level:3},{value:"18.4. Redux \u548c Flux \u7684\u4e00\u4e9b\u5dee\u5f02",id:"184-redux-\u548c-flux-\u7684\u4e00\u4e9b\u5dee\u5f02",level:2},{value:"18.5. ImmutableJS",id:"185-immutablejs",level:2},{value:"19.1. \u8def\u7531\u6807\u7b7e\u7684\u4f7f\u7528",id:"191-\u8def\u7531\u6807\u7b7e\u7684\u4f7f\u7528",level:2},{value:"19.1.1. Router-\u8def\u7531\u5bb9\u5668",id:"1911-router-\u8def\u7531\u5bb9\u5668",level:3},{value:"19.1.2. Route-\u8def\u7531\u7ec4\u4ef6\u6620\u5c04",id:"1912-route-\u8def\u7531\u7ec4\u4ef6\u6620\u5c04",level:3},{value:"19.1.2.1. \u5c5e\u6027",id:"19121-\u5c5e\u6027",level:4},{value:"19.1.2.2. \u901a\u8fc7 url \u4f20\u9012\u53c2\u6570\u7ed9 Route",id:"19122-\u901a\u8fc7-url-\u4f20\u9012\u53c2\u6570\u7ed9-route",level:4},{value:"19.1.2.3. \u5d4c\u5957\u8def\u7531",id:"19123-\u5d4c\u5957\u8def\u7531",level:4},{value:"19.1.2.4. Route \u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f",id:"19124-route-\u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f",level:4},{value:"19.1.3. Switch-\u89e3\u51b3\u591a\u5339\u914d\u95ee\u9898",id:"1913-switch-\u89e3\u51b3\u591a\u5339\u914d\u95ee\u9898",level:3},{value:"19.1.4. Redirect-\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762",id:"1914-redirect-\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762",level:3},{value:"19.1.5. Link-\u8d85\u94fe\u63a5",id:"1915-link-\u8d85\u94fe\u63a5",level:3},{value:"19.1.6. NavLink: \u5e26\u6837\u5f0f\u7684 Link",id:"1916-navlink-\u5e26\u6837\u5f0f\u7684-link",level:3},{value:"19.1.7. Prompt-\u63d0\u793a",id:"1917-prompt-\u63d0\u793a",level:3},{value:"19.2. history",id:"192-history",level:2},{value:"19.3. location",id:"193-location",level:2},{value:"19.4. match",id:"194-match",level:2},{value:"24.1. fetch data",id:"241-fetch-data",level:2},{value:"25.1. \u4ec0\u4e48\u662f ssr",id:"251-\u4ec0\u4e48\u662f-ssr",level:2},{value:"25.2. ssr \u7684\u597d\u5904",id:"252-ssr-\u7684\u597d\u5904",level:2},{value:"25.3. \u89e3\u51b3\u65b9\u6848",id:"253-\u89e3\u51b3\u65b9\u6848",level:2},{value:"25.3.1. \u62d6\u8fc7 vite",id:"2531-\u62d6\u8fc7-vite",level:3},{value:"25.3.2. \u914d\u5408 koa2 \u5b9e\u73b0 ssr",id:"2532-\u914d\u5408-koa2-\u5b9e\u73b0-ssr",level:3},{value:"25.3.3. egg \u5b9e\u73b0 ssr",id:"2533-egg-\u5b9e\u73b0-ssr",level:3},{value:"26.1. \u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u573a\u666f",id:"261-\u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u573a\u666f",level:2},{value:"26.2. \u4f7f\u7528\u5de5\u5177\u5b9a\u4f4d\u6027\u80fd\u95ee\u9898",id:"262-\u4f7f\u7528\u5de5\u5177\u5b9a\u4f4d\u6027\u80fd\u95ee\u9898",level:2},{value:"26.3. \u7f51\u7edc\u6027\u80fd\u4f18\u5316-\u81ea\u52a8\u6309\u9700\u52a0\u8f7d",id:"263-\u7f51\u7edc\u6027\u80fd\u4f18\u5316-\u81ea\u52a8\u6309\u9700\u52a0\u8f7d",level:2},{value:"26.4. \u4f7f\u7528 Reselect \u907f\u514d\u91cd\u590d\u8ba1\u7b97",id:"264-\u4f7f\u7528-reselect-\u907f\u514d\u91cd\u590d\u8ba1\u7b97",level:2},{value:"30.1. \u5b9e\u73b0 route",id:"301-\u5b9e\u73b0-route",level:2},{value:"30.2. \u8868\u5355\u8bbe\u8ba1\u5668",id:"302-\u8868\u5355\u8bbe\u8ba1\u5668",level:2},{value:"30.3. cms \u7cfb\u7edf",id:"303-cms-\u7cfb\u7edf",level:2},{value:"33.1. \u96c6\u6210 ts \u73af\u5883",id:"331-\u96c6\u6210-ts-\u73af\u5883",level:2},{value:"33.2. ts \u57fa\u672c\u4f7f\u7528",id:"332-ts-\u57fa\u672c\u4f7f\u7528",level:2},{value:"33.2.1. \u57fa\u672c\u6570\u636e\u7c7b\u578b",id:"3321-\u57fa\u672c\u6570\u636e\u7c7b\u578b",level:3},{value:"33.2.2. interface",id:"3322-interface",level:3},{value:"33.2.2.1. \u4f7f\u7528 interface \u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b",id:"33221-\u4f7f\u7528-interface-\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b",level:4},{value:"33.2.2.2. interface \u5b9a\u4e49\u51fd\u6570\u7c7b\u578b",id:"33222-interface-\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b",level:4},{value:"33.2.2.3. interface \u5b9a\u4e49\u53ef\u7d22\u5f15\u7c7b\u578b",id:"33223-interface-\u5b9a\u4e49\u53ef\u7d22\u5f15\u7c7b\u578b",level:4},{value:"33.2.2.4. interface \u5b9a\u4e49 class \u7c7b",id:"33224-interface-\u5b9a\u4e49-class-\u7c7b",level:4},{value:"33.2.2.5. interface \u7ee7\u627f",id:"33225-interface-\u7ee7\u627f",level:4},{value:"33.2.3. interface \u548c type \u533a\u522b",id:"3323-interface-\u548c-type-\u533a\u522b",level:3},{value:"33.2.4. class \u4f7f\u7528",id:"3324-class-\u4f7f\u7528",level:3},{value:"33.2.5. \u6cdb\u578b\u4f7f\u7528",id:"3325-\u6cdb\u578b\u4f7f\u7528",level:3},{value:"33.2.6. \u4ea4\u53c9\u7c7b\u578b",id:"3326-\u4ea4\u53c9\u7c7b\u578b",level:3},{value:"33.2.7. \u8054\u5408\u7c7b\u578b",id:"3327-\u8054\u5408\u7c7b\u578b",level:3},{value:"33.2.8. \u7c7b\u578b\u4fdd\u62a4",id:"3328-\u7c7b\u578b\u4fdd\u62a4",level:3},{value:"33.2.9. \u7c7b\u578b\u522b\u540d",id:"3329-\u7c7b\u578b\u522b\u540d",level:3},{value:"33.2.10. \u7a7a\u7c7b\u578b",id:"33210-\u7a7a\u7c7b\u578b",level:3},{value:"33.3. \u4e3a\u6837\u5f0f\u6587\u4ef6\u7f16\u5199 types",id:"333-\u4e3a\u6837\u5f0f\u6587\u4ef6\u7f16\u5199-types",level:2},{value:"33.4. \u914d\u7f6e css \u8df3\u8f6c",id:"334-\u914d\u7f6e-css-\u8df3\u8f6c",level:2},{value:"\u6548\u7387\u5f00\u53d1",id:"\u6548\u7387\u5f00\u53d1",level:2},{value:"\u53ef\u89c6\u5316\u5e93",id:"\u53ef\u89c6\u5316\u5e93",level:2},{value:"auth ui",id:"auth-ui",level:2},{value:"34.1. How to search the scaffold (boilerplate) on github \u811a\u624b\u67b6",id:"341-how-to-search-the-scaffold-boilerplate-on-github-\u811a\u624b\u67b6",level:2},{value:"34.2. command-line app ui",id:"342-command-line-app-ui",level:2},{value:"34.3. satori \u751f\u6210 svg pdf",id:"343-satori-\u751f\u6210-svg-pdf",level:2},{value:"34.4. \u7ec4\u4ef6\u5e93",id:"344-\u7ec4\u4ef6\u5e93",level:2},{value:"34.5. \u52a8\u753b",id:"345-\u52a8\u753b",level:2},{value:"34.6. css \u6846\u67b6",id:"346-css-\u6846\u67b6",level:2},{value:"34.7. \u56fe\u8868\u5e93",id:"347-\u56fe\u8868\u5e93",level:2}],m={toc:c};function d(e){var t=e.components,n=(0,r.Z)(e,p);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{align:"center"},"ui \u8bbe\u8ba1 https://www.freeuid.com/free/ui https://ui.shadcn.com/ https://v0.dev/",(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/merakiui/merakiui"},"https://github.com/merakiui/merakiui")," tailwindcss \u7ec4\u4ef6\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/htmlstreamofficial/preline"},"https://github.com/htmlstreamofficial/preline")," "),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://nextui.org/"},"https://nextui.org/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://daisyui.com/"},"https://daisyui.com/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.radix-ui.com/"},"https://www.radix-ui.com/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://ui.shadcn.com/"},"https://ui.shadcn.com/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.tailwindtoolbox.com/"},"https://www.tailwindtoolbox.com/")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://headlessui.com/"},"https://headlessui.com/")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://flowbite.com/"},"https://flowbite.com/")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/react-component"},"https://github.com/react-component")," headless ui"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.craft.me/s/bMJzbnjTRNBImx"},"https://www.craft.me/s/bMJzbnjTRNBImx")," \u8bbe\u8ba1\u6559\u7a0b\u8d44\u6e90"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/7kms/react-illustration-series"},"https://github.com/7kms/react-illustration-series")," \u56fe\u89e3"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.v2ex.com/t/850921#reply80"},"https://www.v2ex.com/t/850921#reply80")," 2022 \u751f\u6001"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/airbnb/react-sketchapp"},"https://github.com/airbnb/react-sketchapp")," \u6e32\u67d3 react \u7ec4\u4ef6\u5230 sketch"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/typescript-cheatsheets/react"},"https://github.com/typescript-cheatsheets/react")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/chakra-ui/chakra-ui"},"https://github.com/chakra-ui/chakra-ui")," \u7ec4\u4ef6\u5e93"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/react-hook-form/react-hook-form"},"https://github.com/react-hook-form/react-hook-form")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/brick-design/react-visual-editor"},"https://github.com/brick-design/react-visual-editor")," \u8868\u5355\u8bbe\u8ba1 ",(0,l.kt)("a",{parentName:"p",href:"https://brick-design.github.io/react-visual-editor/"},"https://brick-design.github.io/react-visual-editor/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://react-hook-form.com/zh/form-builder/"},"https://react-hook-form.com/zh/form-builder/")),(0,l.kt)("p",null,"react-dnd, react-draggable, react-resizable, react-drag-select, react-rnd, react-grid-layout, react-resizable-box \u5f00\u6e90\u62d6\u62fd\u7ec4\u4ef6"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/react-icons/react-icons"},"https://github.com/react-icons/react-icons")," \u56fe\u6807\u5e93 (\u7efc\u5408\u5404\u79cd\u6846\u67b6\u7684\u56fe\u6807)"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/78051039"},"https://zhuanlan.zhihu.com/p/78051039")," \u8d44\u6e90"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/alibaba/hooks"},"https://github.com/alibaba/hooks")," \u81ea\u5b9a\u4e49 hooks \u5e93"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/59073695/answer/1071631250"},"https://www.zhihu.com/question/59073695/answer/1071631250")," \u7c7b\u5e93\u63a8\u8350"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"https://reactjs.org/"),"\n\u82e5\u4ee5 MVC \u6846\u67b6\u6765\u770b\uff0cReact \u5c5e\u4e8eview"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/dypsilon/frontend-dev-bookmarks"},"https://github.com/dypsilon/frontend-dev-bookmarks")," \u524d\u7aef\u96c6\u5408"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/39943474/answer/156412178"},"https://www.zhihu.com/question/39943474/answer/156412178"),","),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/29848048/answer/45793588"},"https://www.zhihu.com/question/29848048/answer/45793588"),","),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/petehunt/react-howto/blob/master/README-zh.md"},"https://github.com/petehunt/react-howto/blob/master/README-zh.md"),","),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/bailicangdu/react-pxq"},"https://github.com/bailicangdu/react-pxq")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/37148975"},"\u6548\u7387\u4f18\u5316")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://reacttraining.com/"},"react tutorial")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/59073695/answer/1071631250"},"https://www.zhihu.com/question/59073695/answer/1071631250")," \u63a8\u8350\u7684 react \u5e93"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"https://www.npmjs.com/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://ant.design/components/overview-cn/"},"https://ant.design/components/overview-cn/")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/336664883/answer/790855896"},"https://www.zhihu.com/question/336664883/answer/790855896")," \u4e3a\u4ec0\u4e48\u8981\u62c6\u5206\u5305? ReactDom\u53ea\u505a\u548c\u6d4f\u89c8\u5668\u6216DOM\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982ReactDOM.render()\u548cReactDOM.findDOMNode()\u3002\u5982\u679c\u662f\u670d\u52a1\u5668\u7aef\u6e32\u67d3\uff0c\u53ef\u4ee5ReactDOM.renderToString()"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://huziketang.mangojuice.top/books/react/"},"http://huziketang.mangojuice.top/books/react/")," \u5b9e\u6218"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/helloqingfeng/Awsome-Front-End-learning-resource"},"https://github.com/helloqingfeng/Awsome-Front-End-learning-resource")," \u5927\u524d\u7aef\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/qiu-deqing/FE-interview"},"https://github.com/qiu-deqing/FE-interview")," , ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/markyun/My-blog/tree/master/Front-end-Developer-Questions"},"https://github.com/markyun/My-blog/tree/master/Front-end-Developer-Questions")," \u9762\u8bd5\u9898"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/fouber/blog"},"https://github.com/fouber/blog")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/mqyqingfeng/Blog"},"https://github.com/mqyqingfeng/Blog")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yygmind/blog"},"https://github.com/yygmind/blog"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1-%E6%B5%81%E8%A1%8C%E7%9A%84%E6%8A%80%E6%9C%AF%E6%A0%88"},"1. \u6d41\u884c\u7684\u6280\u672f\u6808")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#2-%E9%9D%A2%E8%AF%95%E9%A2%98"},"2. \u9762\u8bd5\u9898")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3-%E6%90%AD%E5%BB%BA%E5%86%85%E9%83%A8%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93"},"3. \u642d\u5efa\u5185\u90e8\u7684\u7ec4\u4ef6\u5e93")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#4-%E5%BC%80%E5%8F%91-chrome-%E6%8F%92%E4%BB%B6"},"4. \u5f00\u53d1 Chrome \u63d2\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#5-why-react"},"5. why react")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#6-jsx"},"6. jsx"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#61-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"},"6.1. \u57fa\u672c\u8bed\u6cd5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#62-%E4%BD%BF%E7%94%A8-jsx-%E9%9C%80%E8%A6%81%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"},"6.2. \u4f7f\u7528 jsx \u9700\u8981\u7684\u73af\u5883\u914d\u7f6e")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#7-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"},"7. \u5f00\u53d1\u73af\u5883\u642d\u5efa"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#71-%E8%80%81%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%85%A5"},"7.1. \u8001\u9879\u76ee\u63a5\u5165")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#72-create-react-app-%E4%BD%BF%E7%94%A8"},"7.2. create-react-app \u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#73-vscode-%E7%8E%AF%E5%A2%83"},"7.3. vscode \u73af\u5883")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#74-webpack-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"},"7.4. webpack \u73af\u5883\u642d\u5efa")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#8-airbnb-%E6%8E%A8%E8%8D%90%E7%9A%84%E8%A7%84%E8%8C%83"},"8. airbnb \u63a8\u8350\u7684\u89c4\u8303")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#9-using-as-a-lib-%E4%BD%9C%E4%B8%BA%E5%BA%93%E4%BD%BF%E7%94%A8"},"9. using as a lib \u4f5c\u4e3a\u5e93\u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10-%E7%BB%84%E4%BB%B6%E5%8C%96"},"10. \u7ec4\u4ef6\u5316"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#101-%E7%A4%BE%E5%8C%BA%E5%BC%80%E6%BA%90%E7%BB%84%E4%BB%B6"},"10.1. \u793e\u533a\u5f00\u6e90\u7ec4\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#102-web-components"},"10.2. Web Components")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#103-%E7%BB%84%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"},"10.3. \u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#104-%E5%B8%A6%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6-%E7%BA%AF%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6"},"10.4. \u5e26\u72b6\u6001\u7ec4\u4ef6 \u7eaf\u51fd\u6570\u7ec4\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#105-%E5%87%BD%E6%95%B0%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F"},"10.5. \u51fd\u6570\u7ed1\u5b9a\u65b9\u5f0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106-hooks"},"10.6. hooks"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1061-create-react-app-%E9%85%8D%E5%90%88-eslint-plugin-react-hooks"},"10.6.1. create react app \u914d\u5408 eslint-plugin-react-hooks")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1062-hooks-%E5%8E%9F%E7%90%86"},"10.6.2. hooks \u539f\u7406")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1063-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"},"10.6.3. \u6700\u4f73\u5b9e\u8df5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1064-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-hooks"},"10.6.4. \u4e3a\u4ec0\u4e48\u9700\u8981 hooks")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1065-useref"},"10.6.5. useRef")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1066-usememo-and-memo-and-usecallback"},"10.6.6. useMemo and memo and useCallback")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1067-usestate"},"10.6.7. useState"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10671-state-%E7%89%B9%E6%80%A7"},"10.6.7.1. state \u7279\u6027")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10672-%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95"},"10.6.7.2. \u4f20\u7edf\u5199\u6cd5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10673-%E4%BD%BF%E7%94%A8-functional-%E7%BB%84%E4%BB%B6%E7%9A%84%E5%86%99%E6%B3%95"},"10.6.7.3. \u4f7f\u7528 functional \u7ec4\u4ef6\u7684\u5199\u6cd5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10674-%E5%BB%B6%E8%BF%9F%E5%88%9D%E5%A7%8B%E5%8C%96"},"10.6.7.4. \u5ef6\u8fdf\u521d\u59cb\u5316")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10675-%E6%96%B0%E6%97%A7-state-%E6%9C%89%E5%85%B3%E8%81%94"},"10.6.7.5. \u65b0\u65e7 state \u6709\u5173\u8054")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1068-usecontext"},"10.6.8. useContext")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1069-usereducer"},"10.6.9. useReducer")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10610-useeffect"},"10.6.10. useEffect"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106101-effect-%E7%90%86%E8%A7%A3"},"10.6.10.1. effect \u7406\u89e3")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106102-effect-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"10.6.10.2. effect \u57fa\u672c\u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106103-%E7%BC%93%E5%AD%98%E4%B8%8A%E6%AC%A1%E5%80%BC"},"10.6.10.3. \u7f13\u5b58\u4e0a\u6b21\u503c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106104-%E8%AE%BE%E7%BD%AE%E9%94%80%E6%AF%81%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%BE%8B%E5%AD%90"},"10.6.10.4. \u8bbe\u7f6e\u9500\u6bc1\u56de\u8c03\u51fd\u6570\u4f8b\u5b50")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106105-%E5%8F%91%E9%80%81%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82"},"10.6.10.5. \u53d1\u9001\u5f02\u6b65\u8bf7\u6c42")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106106-%E4%BD%BF%E7%94%A8-fetch-api"},"10.6.10.6. \u4f7f\u7528 fetch api")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10611-%E8%87%AA%E5%AE%9A%E4%B9%89-hook"},"10.6.11. \u81ea\u5b9a\u4e49 hook"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106111-%E5%B8%A6%E6%9C%89%E8%87%AA%E5%A2%9E%E6%95%88%E6%9E%9C%E7%9A%84-state-hook"},"10.6.11.1. \u5e26\u6709\u81ea\u589e\u6548\u679c\u7684 state hook")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106112-%E4%BB%8E-usehooks-%E6%94%B9%E9%80%A0-responsecomponent"},"10.6.11.2. \u4ece usehooks \u6539\u9020 responseComponent")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106113-%E5%AE%9A%E6%97%B6%E5%99%A8-and-%E8%87%AA%E5%8A%A8%E9%94%80%E6%AF%81"},"10.6.11.3. \u5b9a\u65f6\u5668 and \u81ea\u52a8\u9500\u6bc1")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10612-%E7%BB%BC%E5%90%88%E4%BE%8B%E5%AD%90"},"10.6.12. \u7efc\u5408\u4f8b\u5b50"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#106121-%E7%82%B9%E8%B5%9E%E6%8C%89%E9%92%AE"},"10.6.12.1. \u70b9\u8d5e\u6309\u94ae")))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#107-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6-and-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%AD%90%E7%BB%84%E4%BB%B6"},"10.7. \u9ad8\u9636\u7ec4\u4ef6 and \u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#108-fragment"},"10.8. Fragment")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#109-strictmode"},"10.9. StrictMode")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1010-%E7%A4%BA%E4%BE%8B"},"10.10. \u793a\u4f8b"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10101-%E4%BD%BF%E7%94%A8-props"},"10.10.1. \u4f7f\u7528 props")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10102-%E9%81%8D%E5%8E%86%E5%AD%90%E5%85%83%E7%B4%A0"},"10.10.2. \u904d\u5386\u5b50\u5143\u7d20")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10103-%E6%89%BE%E5%88%B0%E7%9C%9F%E5%AE%9E%E7%9A%84-domthisrefxxx"},"10.10.3. \u627e\u5230\u771f\u5b9e\u7684 dom(this.ref.xxx)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10104-%E4%BD%BF%E7%94%A8-statethisstate"},"10.10.4. \u4f7f\u7528 state(this.state)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10105-%E4%B8%80%E4%B8%AA%E8%A1%A8%E5%8D%95%E7%A4%BA%E4%BE%8B"},"10.10.5. \u4e00\u4e2a\u8868\u5355\u793a\u4f8b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10106-%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2"},"10.10.6. \u767b\u5f55\u754c\u9762")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10107-todo-list-app"},"10.10.7. todo list app")))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#11-%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"},"11. \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#111-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%BB%8B%E7%BB%8D"},"11.1. \u751f\u547d\u5468\u671f\u4ecb\u7ecd")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#112-%E7%BB%84%E4%BB%B6%E8%A2%AB%E6%8C%82%E8%BD%BD"},"11.2. \u7ec4\u4ef6\u88ab\u6302\u8f7d")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#113-%E7%BB%84%E4%BB%B6%E8%A2%AB%E5%8D%B8%E8%BD%BD"},"11.3. \u7ec4\u4ef6\u88ab\u5378\u8f7d")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#114-%E7%BB%84%E4%BB%B6%E8%A2%AB%E6%9B%B4%E6%96%B0"},"11.4. \u7ec4\u4ef6\u88ab\u66f4\u65b0")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#115-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0-demo"},"11.5. \u751f\u547d\u5468\u671f\u51fd\u6570 demo")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#12-virtual-dom-%E5%92%8C-diff-%E7%AE%97%E6%B3%95"},"12. virtual dom \u548c diff \u7b97\u6cd5"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#121-virtual-dom"},"12.1. virtual dom")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#122-react-%E7%9A%84-diff-%E7%AE%97%E6%B3%95%E6%B3%95"},"12.2. react \u7684 diff \u7b97\u6cd5\u6cd5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#123-key-%E5%B1%9E%E6%80%A7%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8"},"12.3. key \u5c5e\u6027\u6709\u4ec0\u4e48\u4f5c\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#124-%E8%AE%BE%E7%BD%AE%E7%BB%84%E4%BB%B6%E6%97%B6%E6%80%8E%E4%B9%88%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD"},"12.4. \u8bbe\u7f6e\u7ec4\u4ef6\u65f6\u600e\u4e48\u63d0\u9ad8\u6027\u80fd")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#13-context-api-%E4%BD%BF%E7%94%A8"},"13. context-api \u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#14-state-%E7%8A%B6%E6%80%81"},"14. state \u72b6\u6001"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#141-state-%E4%BB%8B%E7%BB%8D"},"14.1. state \u4ecb\u7ecd")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#142-state-%E5%92%8C%E7%BB%84%E4%BB%B6%E7%9A%84%E6%99%AE%E9%80%9A%E5%B1%9E%E6%80%A7%E5%8C%BA%E5%88%AB"},"14.2. state \u548c\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u533a\u522b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#143-%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0-state"},"14.3. \u5982\u4f55\u66f4\u65b0 state")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#144-setstate-%E6%98%AF%E4%B8%8D%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84"},"14.4. setState \u662f\u4e0d\u662f\u5f02\u6b65\u7684")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#145-setstate-%E6%9B%B4%E6%96%B0%E6%98%AF%E4%B8%80%E4%B8%AA%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B"},"14.5. setState \u66f4\u65b0\u662f\u4e00\u4e2a\u5408\u5e76\u8fc7\u7a0b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#146-replacestate-%E6%9B%B4%E6%96%B0%E6%98%AF%E4%B8%80%E4%B8%AA%E6%9B%BF%E6%8D%A2%E8%BF%87%E7%A8%8B"},"14.6. replaceState \u66f4\u65b0\u662f\u4e00\u4e2a\u66ff\u6362\u8fc7\u7a0b")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#15-props-%E5%B1%9E%E6%80%A7"},"15. props \u5c5e\u6027"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#151-%E5%9C%A8-jsx-%E4%B8%AD%E9%81%8D%E5%8E%86-props"},"15.1. \u5728 jsx \u4e2d\u904d\u5386 props")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#152-proptypes-%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"},"15.2. PropTypes \u7c7b\u578b\u68c0\u67e5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#153-%E5%BC%95%E5%85%A5%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E7%9A%84%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"},"15.3. \u5f15\u5165\u7c7b\u578b\u68c0\u67e5\u7684\u5176\u4ed6\u65b9\u6cd5"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1531-%E5%BC%95%E5%85%A5-typescript"},"15.3.1. \u5f15\u5165 TypeScript")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1532-flow-%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"},"15.3.2. flow \u7c7b\u578b\u68c0\u67e5")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#154-%E8%AE%BE%E5%AE%9A-props-%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"},"15.4. \u8bbe\u5b9a props \u7684\u9ed8\u8ba4\u503c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#155-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B1%9E%E6%80%A7"},"15.5. \u6709\u54ea\u4e9b\u5c5e\u6027")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#16-refs"},"16. refs")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#17-%E5%90%88%E6%88%90%E4%BA%8B%E4%BB%B6"},"17. \u5408\u6210\u4e8b\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"},"18. \u72b6\u6001\u7ba1\u7406"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#181-flux-%E6%9E%B6%E6%9E%84%E7%9A%84%E6%80%9D%E6%83%B3"},"18.1. flux \u67b6\u6784\u7684\u601d\u60f3")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#182-flux-%E5%AE%98%E6%96%B9%E5%AE%9E%E7%8E%B0"},"18.2. Flux \u5b98\u65b9\u5b9e\u73b0")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#183-redux"},"18.3. Redux"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1831-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8-redux"},"18.3.1. \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528 redux")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1832-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"},"18.3.2. \u57fa\u672c\u6982\u5ff5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1833-%E5%9F%BA%E6%9C%AC-api"},"18.3.3. \u57fa\u672c api"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18331-store"},"18.3.3.1. store")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18332-reducer"},"18.3.3.2. reducer")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18333-applymiddleware"},"18.3.3.3. applyMiddleware")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18334-bindactioncreators"},"18.3.3.4. bindActionCreators")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1834-%E7%BA%AF-redux-%E7%9A%84-api-%E7%A4%BA%E4%BE%8B%E5%90%8C%E6%AD%A5%E7%89%88%E6%9C%AC%E7%9A%84-api"},"18.3.4. \u7eaf redux \u7684 api \u793a\u4f8b(\u540c\u6b65\u7248\u672c\u7684 api)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1835-react-redux"},"18.3.5. react-redux")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1836-%E5%BC%82%E6%AD%A5-action"},"18.3.6. \u5f02\u6b65 Action")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1837-thunk-saga"},"18.3.7. thunk, saga")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1838-%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"},"18.3.8. \u8c03\u8bd5\u5de5\u5177")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1839-demo%E4%B8%80%E4%B8%AA-todo-app"},"18.3.9. demo(\u4e00\u4e2a todo-app)")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#184-redux-%E5%92%8C-flux-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B7%AE%E5%BC%82"},"18.4. Redux \u548c Flux \u7684\u4e00\u4e9b\u5dee\u5f02")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#185-immutablejs"},"18.5. ImmutableJS")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19-%E8%B7%AF%E7%94%B1-react-router"},"19. \u8def\u7531 react-router"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#191-%E8%B7%AF%E7%94%B1%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BD%BF%E7%94%A8"},"19.1. \u8def\u7531\u6807\u7b7e\u7684\u4f7f\u7528"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1911-router-%E8%B7%AF%E7%94%B1%E5%AE%B9%E5%99%A8"},"19.1.1. Router-\u8def\u7531\u5bb9\u5668")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1912-route-%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E6%98%A0%E5%B0%84"},"19.1.2. Route-\u8def\u7531\u7ec4\u4ef6\u6620\u5c04"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19121-%E5%B1%9E%E6%80%A7"},"19.1.2.1. \u5c5e\u6027")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19122-%E9%80%9A%E8%BF%87-url-%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E7%BB%99-route"},"19.1.2.2. \u901a\u8fc7 url \u4f20\u9012\u53c2\u6570\u7ed9 Route")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19123-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"},"19.1.2.3. \u5d4c\u5957\u8def\u7531")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19124-route-%E4%B8%89%E7%A7%8D%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F"},"19.1.2.4. Route \u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1913-switch-%E8%A7%A3%E5%86%B3%E5%A4%9A%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98"},"19.1.3. Switch-\u89e3\u51b3\u591a\u5339\u914d\u95ee\u9898")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1914-redirect-%E9%87%8D%E5%AE%9A%E5%90%91%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2"},"19.1.4. Redirect-\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1915-link-%E8%B6%85%E9%93%BE%E6%8E%A5"},"19.1.5. Link-\u8d85\u94fe\u63a5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1916-navlink-%E5%B8%A6%E6%A0%B7%E5%BC%8F%E7%9A%84-link"},"19.1.6. NavLink: \u5e26\u6837\u5f0f\u7684 Link")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1917-prompt-%E6%8F%90%E7%A4%BA"},"19.1.7. Prompt-\u63d0\u793a")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#192-history"},"19.2. history")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#193-location"},"19.3. location")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#194-match"},"19.4. match")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#20-%E8%B0%83%E8%AF%95%E5%92%8C%E6%B5%8B%E8%AF%95"},"20. \u8c03\u8bd5\u548c\u6d4b\u8bd5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#21-graphql-%E5%92%8C-relay"},"21. GraphQL \u548c Relay")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#22-css-module-%E6%A8%A1%E5%9D%97%E5%8C%96"},"22. CSS-Module \u6a21\u5757\u5316")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#23-css-in-js"},"23. css-in-js")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#24-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-best-practice"},"24. \u6700\u4f73\u5b9e\u8df5 best practice"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#241-fetch-data"},"24.1. fetch data")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#25-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93"},"25. \u670d\u52a1\u7aef\u6e32\u67d3"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#251-%E4%BB%80%E4%B9%88%E6%98%AF-ssr"},"25.1. \u4ec0\u4e48\u662f ssr")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#252-ssr-%E7%9A%84%E5%A5%BD%E5%A4%84"},"25.2. ssr \u7684\u597d\u5904")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#253-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"},"25.3. \u89e3\u51b3\u65b9\u6848"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#2531-%E6%8B%96%E8%BF%87-vite"},"25.3.1. \u62d6\u8fc7 vite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#2532-%E9%85%8D%E5%90%88-koa2-%E5%AE%9E%E7%8E%B0-ssr"},"25.3.2. \u914d\u5408 koa2 \u5b9e\u73b0 ssr")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#2533-egg-%E5%AE%9E%E7%8E%B0-ssr"},"25.3.3. egg \u5b9e\u73b0 ssr")))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#26-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"},"26. \u6027\u80fd\u4f18\u5316"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#261-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%E5%9C%BA%E6%99%AF"},"26.1. \u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u573a\u666f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#262-%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7%E5%AE%9A%E4%BD%8D%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"},"26.2. \u4f7f\u7528\u5de5\u5177\u5b9a\u4f4d\u6027\u80fd\u95ee\u9898")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#263-%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E8%87%AA%E5%8A%A8%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD"},"26.3. \u7f51\u7edc\u6027\u80fd\u4f18\u5316-\u81ea\u52a8\u6309\u9700\u52a0\u8f7d")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#264-%E4%BD%BF%E7%94%A8-reselect-%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E8%AE%A1%E7%AE%97"},"26.4. \u4f7f\u7528 Reselect \u907f\u514d\u91cd\u590d\u8ba1\u7b97")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#27-react-%E5%8A%A8%E7%94%BB"},"27. react \u52a8\u753b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#28-react-native"},"28. react native")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#29-%E5%BC%80%E5%8F%91%E5%B0%8F%E7%A8%8B%E5%BA%8F"},"29. \u5f00\u53d1\u5c0f\u7a0b\u5e8f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#30-%E5%B0%8F%E9%A1%B9%E7%9B%AE"},"30. \u5c0f\u9879\u76ee"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#301-%E5%AE%9E%E7%8E%B0-route"},"30.1. \u5b9e\u73b0 route")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#302-%E8%A1%A8%E5%8D%95%E8%AE%BE%E8%AE%A1%E5%99%A8"},"30.2. \u8868\u5355\u8bbe\u8ba1\u5668")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#303-cms-%E7%B3%BB%E7%BB%9F"},"30.3. cms \u7cfb\u7edf")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#31-%E9%83%A8%E7%BD%B2%E5%88%B0-github-%E4%B8%8A"},"31. \u90e8\u7f72\u5230 github \u4e0a")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#32-%E5%92%8C-springboot-%E6%89%93%E5%8C%85%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8"},"32. \u548c springboot \u6253\u5305\u5355\u4f53\u5e94\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33-%E5%92%8C-typescript-%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8"},"33. \u548c typescript \u4e00\u8d77\u4f7f\u7528"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#331-%E9%9B%86%E6%88%90-ts-%E7%8E%AF%E5%A2%83"},"33.1. \u96c6\u6210 ts \u73af\u5883")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#332-ts-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"33.2. ts \u57fa\u672c\u4f7f\u7528"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3321-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"},"33.2.1. \u57fa\u672c\u6570\u636e\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3322-interface"},"33.2.2. interface"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33221-%E4%BD%BF%E7%94%A8-interface-%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"},"33.2.2.1. \u4f7f\u7528 interface \u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33222-interface-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"},"33.2.2.2. interface \u5b9a\u4e49\u51fd\u6570\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33223-interface-%E5%AE%9A%E4%B9%89%E5%8F%AF%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"},"33.2.2.3. interface \u5b9a\u4e49\u53ef\u7d22\u5f15\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33224-interface-%E5%AE%9A%E4%B9%89-class-%E7%B1%BB"},"33.2.2.4. interface \u5b9a\u4e49 class \u7c7b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33225-interface-%E7%BB%A7%E6%89%BF"},"33.2.2.5. interface \u7ee7\u627f")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3323-interface-%E5%92%8C-type-%E5%8C%BA%E5%88%AB"},"33.2.3. interface \u548c type \u533a\u522b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3324-class-%E4%BD%BF%E7%94%A8"},"33.2.4. class \u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3325-%E6%B3%9B%E5%9E%8B%E4%BD%BF%E7%94%A8"},"33.2.5. \u6cdb\u578b\u4f7f\u7528")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3326-%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"},"33.2.6. \u4ea4\u53c9\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3327-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"},"33.2.7. \u8054\u5408\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3328-%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4"},"33.2.8. \u7c7b\u578b\u4fdd\u62a4")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3329-%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"},"33.2.9. \u7c7b\u578b\u522b\u540d")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#33210-%E7%A9%BA%E7%B1%BB%E5%9E%8B"},"33.2.10. \u7a7a\u7c7b\u578b")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#333-%E4%B8%BA%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99-types"},"33.3. \u4e3a\u6837\u5f0f\u6587\u4ef6\u7f16\u5199 types")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#334-%E9%85%8D%E7%BD%AE-css-%E8%B7%B3%E8%BD%AC"},"33.4. \u914d\u7f6e css \u8df3\u8f6c")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#34-%E5%BC%80%E6%BA%90%E5%BA%93"},"34. \u5f00\u6e90\u5e93"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E6%95%88%E7%8E%87%E5%BC%80%E5%8F%91"},"\u6548\u7387\u5f00\u53d1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E5%8F%AF%E8%A7%86%E5%8C%96%E5%BA%93"},"\u53ef\u89c6\u5316\u5e93")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#auth-ui"},"auth ui")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#341-how-to-search-the-scaffold-boilerplate-on-github-%E8%84%9A%E6%89%8B%E6%9E%B6"},"34.1. How to search the scaffold (boilerplate) on github \u811a\u624b\u67b6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#342-command-line-app-ui"},"34.2. command-line app ui")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#343-satori-%E7%94%9F%E6%88%90-svg-pdf"},"34.3. satori \u751f\u6210 svg pdf")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#344-%E7%BB%84%E4%BB%B6%E5%BA%93"},"34.4. \u7ec4\u4ef6\u5e93")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#345-%E5%8A%A8%E7%94%BB"},"34.5. \u52a8\u753b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#346-css-%E6%A1%86%E6%9E%B6"},"34.6. css \u6846\u67b6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#347-%E5%9B%BE%E8%A1%A8%E5%BA%93"},"34.7. \u56fe\u8868\u5e93"))))),(0,l.kt)("h1",{id:"1-\u6d41\u884c\u7684\u6280\u672f\u6808"},"1. \u6d41\u884c\u7684\u6280\u672f\u6808"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"2023\n\n    https://www.v2ex.com/t/967560\n\n  \u524d\u7aef Next.js TypeScript Zustand(\u72b6\u6001\u7ba1\u7406) Axios React-Query classnames Tailwindcss Styled-Components / emotion\n  BackEnd: Nest.js prisma PostgreSQL\n\n\n  \u524d\u540e\u901a\u5403\n    T3(React/Next/trpc) \u6216\u8005\u5355\u7eaf nextjs +prisma, \u4e00\u4e2a\u5b57\u5feb\n       https://github.com/civitai/civitai\n    mern(Mongodb/Express/React/Node)\n\n    python + pyscript\n\n    asp .net \n      https://dotnet.microsoft.com/en-us/apps/aspnet/web-apps/blazor\n\ncss\n  tailwindcss: \u642d\u914d https://tailblocks.cc/ \u548c https://daisyui.com/\n\n\nzod + react-hook-form + trpc + next.js + drizzle-orm\u4e00\u628a\u68ad\uff0c\u7c7b\u578b\u53ea\u9700\u5199\u4e00\u904d\uff0c\u5728\u56db\u4e2a\u5730\u65b9\uff08\u7528\u6237\u754c\u9762\uff0c\u524d\u7aef\u8bf7\u6c42\uff0c\u540e\u7aef\u63a5\u53e3\uff0c\u6570\u636e\u5e93orm\uff09\u90fd\u80fd\u7528\uff0c\u8fd8\u80fd\u8fd0\u884c\u65f6\u6821\u9a8c\uff0c\u524d\u540e\u7aef\u4ee3\u7801\u4e00\u8d77\u5199\u3002TypeScript\u5168\u6808\u5f00\u53d1\u723d\u5230\u8d77\u98de\uff01\n")),(0,l.kt)("h1",{id:"2-\u9762\u8bd5\u9898"},"2. \u9762\u8bd5\u9898"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'\n- React\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898 - \u51cf\u5c11\u4e86\u9875\u9762\u6e32\u67d3\u8303\u56f4, \u7f13\u89e3\u6d4f\u89c8\u5668\u7ed8\u5236\u538b\u529b\n- \u7ec4\u4ef6\u7684Render\u51fd\u6570\u5728\u4f55\u65f6\u88ab\u8c03\u7528\uff1f -  state \u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\n  - \u8c03\u7528\u65f6DOM\u5c31\u4e00\u5b9a\u4f1a\u88ab\u66f4\u65b0\u5417, -  \u4e0d\u4e00\u5b9a, \u4f1a\u5bf9\u6bd4\u66f4\u65b0\u540e\u7684 virtual dom \u548c real dom , \u627e\u51fa\u9700\u8981\u66f4\u65b0\u7684\u6700\u5c0f\u6b65\u9aa4\uff0c\u6b64\u65f6Real DOM\u624d\u53ef\u80fd\u53d1\u751f\u4fee\u6539\u3002\n- \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u6709\u54ea\u4e9b\uff1f\n\n    \u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u9636\u6bb5\u7684\u58f0\u660e\u5468\u671f\u51fd\u6570\u4ee5\u53ca\u91cd\u70b9\u7528\u6cd5\u5982\u4e0b\uff1a\n\n    constructor(): \u7528\u4e8e\u7ed1\u5b9a\u4e8b\u4ef6\u4ee5\u53ca\u521d\u59cb\u5316state\uff08\u53ef\u4ee5\u901a\u8fc7"fork"props\u7684\u65b9\u5f0f\u7ed9state\u8d4b\u503c\uff09\n    componentWillMount(): \u53ea\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u65f6\u88ab\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u540c\u6b65\u64cd\u4f5cstate\n    render(): \u8fd9\u4e2a\u51fd\u6570\u662f\u7528\u6765\u6e32\u67d3DOM\u6ca1\u6709\u9519\u3002\u4f46\u5b83\u53ea\u80fd\u7528\u6765\u6e32\u67d3DOM\uff0c\u8bf7\u4fdd\u8bc1\u5b83\u7684\u7eaf\u7cb9\u6027\u3002\u5982\u679c\u6709\u64cd\u4f5cDOM\u6216\u8005\u548c\u6d4f\u89c8\u5668\u6253\u4ea4\u9053\u7684\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u8bf7\u5728\u4e0b\u4e00\u6b65\u9aa4componentDidMount\u4e2d\u8fdb\u884c\n    componentDidMount(): \u5982\u679c\u4f60\u6709\u7b2c\u4e09\u65b9\u64cd\u4f5cDOM\u7684\u7c7b\u5e93\u9700\u8981\u521d\u59cb\u5316\uff08\u7c7b\u4f3c\u4e8ejQuery\uff0cBootstrap\u7684\u4e00\u4e9b\u7ec4\u4ef6\uff09\u64cd\u4f5cDOM\u3001\u6216\u8005\u8bf7\u6c42\u5f02\u6b65\u6570\u636e\uff0c\u90fd\u5e94\u8be5\u653e\u5728\u8fd9\u4e2a\u6b65\u9aa4\u4e2d\u505a\n\n    \u7ec4\u4ef6\u66f4\u65b0\u9636\u6bb5\uff1a\n\n    componentWillReceiveProps(nextProps): \u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u62ff\u5230\u5373\u5c06\u6539\u53d8\u7684\u72b6\u6001\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e00\u6b65\u4e2d\u901a\u8fc7setState\u65b9\u6cd5\u8bbe\u7f6estate\n    shouldComponentUpdate(nextProps, nextState): \u8fd9\u4e00\u6b65\u9aa4\u975e\u5e38\u91cd\u8981\uff0c\u5b83\u7684\u8fd4\u56de\u503c\u51b3\u5b9a\u4e86\u63a5\u4e0b\u6765\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u5426\u4f1a\u88ab\u8c03\u7528\uff0c\u9ed8\u8ba4\u8fd4\u56detrue\uff0c\u5373\u90fd\u4f1a\u88ab\u8c03\u7528\uff1b\u4f60\u4e5f\u53ef\u4ee5\u91cd\u5199\u8fd9\u4e2a\u51fd\u6570\u4f7f\u5b83\u8fd4\u56defalse\u3002\n    componentWillUpdate(): \u6211\u4e5f\u4e0d\u77e5\u9053\u8fd9\u4e2a\u58f0\u660e\u5468\u671f\u51fd\u6570\u7684\u610f\u4e49\u5728\u54ea\u91cc\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u5185\u4f60\u4e0d\u80fd\u8c03\u7528setState\u6539\u53d8\u7ec4\u4ef6\u72b6\u6001\n    render()\n    componentDidUpdate(): \u548ccomponentDidMount\u7c7b\u4f3c\uff0c\u5728\u8fd9\u91cc\u6267\u884cDOM\u64cd\u4f5c\u4ee5\u53ca\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\n    \n    \u7ec4\u4ef6\u6790\u6784\u9636\u6bb5\uff1a\n\n    componentWillUnmount(): \u4e3b\u8981\u7528\u4e8e\u6267\u884c\u4e00\u4e9b\u6e05\u7406\u5de5\u4f5c\uff0c\u6bd4\u5982\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u695a\u591a\u4f59\u7684DOM\u5143\u7d20\u7b49\n\n\n\n  - \u5f53\u67d0\u4e9b\u7b2c\u4e09\u65b9\u7c7b\u5e93\u60f3\u5bf9DOM\u521d\u59cb\u5316\uff0c\u6216\u8005\u8fdb\u884c\u8fdc\u7a0b\u6570\u636e\u52a0\u8f7d\u65f6\uff0c\u5e94\u8be5\u5728\u54ea\u4e2a\u5468\u671f\u4e2d\u5b8c\u6210\n  - \u5728\u54ea\u4e9b\u58f0\u660e\u5468\u671f\u4e2d\u53ef\u4ee5\u4fee\u6539\u7ec4\u4ef6\u7684state\uff1f\n- \u4e0d\u540c\u7236\u8282\u70b9\u7684\u7ec4\u4ef6\u9700\u8981\u5bf9\u5f7c\u6b64\u7684\u72b6\u6001\u8fdb\u884c\u6539\u53d8\u65f6\u5e94\u8be5\u5b9e\u73b0\uff1f\n  - \u5982\u4f55\u8bbe\u8ba1\u51fa\u4e00\u4e2a\u597d\u7684Flux\u67b6\u6784\n  - \u5982\u4f55\u8bbe\u8ba1\u51fa\u4e00\u4e2a\u597d\u7684React\u7ec4\u4ef6\n- \u5982\u4f55\u8fdb\u884c\u4f18\u5316\uff1f\n  - \u7ec4\u4ef6\u4e2d\u7684key\u5c5e\u6027\u6709\u4ec0\u4e48\u7528\uff1f\n- Component \u4e0e Element \u4e0e Instance \u7684\u533a\u522b\n- Webpack\u5982\u4f55\u6253\u5305\u8f93\u51fa\u591a\u4e2a\u6587\u4ef6\uff1f\n  - webpack\u6253\u5305\u65f6\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\n  - \u5982\u4f55\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\n  - \u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u6253\u5305\u8f93\u51fa\u591a\u4e2a\u6587\u4ef6\uff1f\n  - loader\u548cplugin\u7684\u5dee\u522b\n  - \u4f60\u89c9\u5f97\u4f7f\u7528\u8fc7\u4ec0\u4e48\u9ad8\u7ea7\u6280\u5de7\u5417\uff1f\n- (\u5f00\u653e\u95ee\u9898\uff09React\u7684\u751f\u6001\u4f60\u4f7f\u7528\u8fc7\u54ea\u4e9b\u7c7b\u5e93\n\n')),(0,l.kt)("h1",{id:"3-\u642d\u5efa\u5185\u90e8\u7684\u7ec4\u4ef6\u5e93"},"3. \u642d\u5efa\u5185\u90e8\u7684\u7ec4\u4ef6\u5e93"),(0,l.kt)("p",null,"\u57fa\u4e8e Markdown \u7684\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355"),(0,l.kt)("p",null,"React ",(0,l.kt)("a",{parentName:"p",href:"https://mdxjs.com/"},"https://mdxjs.com/")," ",(0,l.kt)("a",{parentName:"p",href:"https://www.docz.site/"},"https://www.docz.site/"),"\nVue ",(0,l.kt)("a",{parentName:"p",href:"https://vuepress.vuejs.org/"},"https://vuepress.vuejs.org/"),"\n\u901a\u7528 ",(0,l.kt)("a",{parentName:"p",href:"https://storybook.js.org/"},"https://storybook.js.org/")),(0,l.kt)("h1",{id:"4-\u5f00\u53d1-chrome-\u63d2\u4ef6"},"4. \u5f00\u53d1 Chrome \u63d2\u4ef6"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/lxieyang/chrome-extension-boilerplate-react"},"https://github.com/lxieyang/chrome-extension-boilerplate-react")),(0,l.kt)("h1",{id:"5-why-react"},"5. why react"),(0,l.kt)("p",null,"ReactJS: ui \u5c55\u793a\u6846\u67b6, \u53ea\u8d1f\u8d23 view \u6e32\u67d3\u7684\u90e8\u5206, \u5305\u62ec npm \u5e93 ",(0,l.kt)("inlineCode",{parentName:"p"},"react"),"(\u6838\u5fc3), ",(0,l.kt)("inlineCode",{parentName:"p"},"react-dom"),"(\u4e13\u95e8\u5904\u7406 dom)"),(0,l.kt)("p",null,"reactjs \u6765\u81ea facebook, \u8d77\u521d\u88ab\u521b\u9020\u662f\u4e3a\u4e86\u89e3\u51b3\u4e00\u4e2a\u95ee\u9898: \u9875\u9762\u4e0a\u7684\u4e00\u4e2a\u56fe\u6807\u9700\u8981\u5b9e\u65f6\u663e\u793a\u4e00\u4e2a\u6570\u5b57, \u8868\u793a\u6709\u591a\u5c11\u6d88\u606f\u672a\u8bfb, \u4f46\u662f\u59cb\u7ec8\u505a\u4e0d\u5230\u5b9e\u65f6\u53d8\u5316. \u4ea7\u751f\u7684\u539f\u56e0\u662f,"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f20\u7edf\u7684 dom api \u9700\u8981\u64cd\u4f5c\u592a\u591a\u7ec6\u8282 (\u6bd4\u5982\u5178\u578b\u7684 jQuery, api \u5de8\u591a\u65e0\u6bd4). react \u5b9e\u73b0\u4e86\u6574\u4f53\u5237\u65b0, ui \u6e32\u67d3\u548c\u6570\u636e\u7ed1\u5b9a, ui \u968f\u6570\u636e\u5b9e\u65f6\u53d8\u5316")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd8\u6709\u4e00\u4e2a\u539f\u56e0, \u4f20\u7edf\u7684 app \u7684\u72b6\u6001\u5206\u6563\u4e0d\u540c\u7684\u5730\u65b9"))),(0,l.kt)("p",null,"so why react?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f20\u7edf\u5f00\u53d1\u6a21\u5f0f\u5982 jQuery \u76f4\u63a5\u64cd\u4f5c dom \u6811, \u6027\u80fd\u6d88\u8017\u5927, react \u4f7f\u7528 virtual dom \u53d6\u800c\u4ee3\u4e4b"),(0,l.kt)("li",{parentName:"ul"},"\u4f20\u7edf\u5f00\u53d1\u76f4\u63a5\u64cd\u7eb5 dom, \u9700\u8981\u5173\u6ce8\u592a\u591a api \u7ec6\u8282 (\u770b\u770b jQuery \u6709\u591a\u5c11 api \u5c31\u77e5\u9053\u4e86), react \u5b9e\u73b0\u4e86 ui \u6e32\u67d3 \u548c \u6570\u636e\u7ed1\u5b9a, \u4e0d\u7528\u624b\u52a8\u64cd\u4f5c\u6e32\u67d3"),(0,l.kt)("li",{parentName:"ul"},"\u4f20\u7edf\u5f00\u53d1 \u4ee3\u7801\u96be\u4ee5\u590d\u7528, react \u63d0\u4f9b\u7ec4\u4ef6\u5316\u7684\u5f00\u53d1\u65b9\u5f0f")),(0,l.kt)("p",null,"\u524d\u7aef\u5de5\u7a0b and \u6a21\u5757\u5316 -> js-proj-history.md"),(0,l.kt)("h1",{id:"6-jsx"},"6. jsx"),(0,l.kt)("h2",{id:"61-\u57fa\u672c\u8bed\u6cd5"},"6.1. \u57fa\u672c\u8bed\u6cd5"),(0,l.kt)("p",null,"JSX: \u8bed\u6cd5\u7cd6, \u7c7b\u4f3c xml, \u4f46\u662f\u8fdb\u884c\u4e86\u62d3\u5c55, \u52a0\u5165 js \u8bed\u6cd5, \u5c06 HTML \u76f4\u63a5\u5d4c\u5165\u4e86 JS \u4ee3\u7801\u91cc\u9762, \u6700\u7ec8\u9700\u8981\u201c\u7f16\u8bd1\u201d\u8f93\u51fa JS \u4ee3\u7801\u624d\u80fd\u4f7f\u7528;"),(0,l.kt)("p",null,"\u4f7f\u7528 React \u5e76\u975e\u5fc5\u987b\u4f7f\u7528 JSX, JSX \u53ea\u662f\u4e00\u79cd\u76f4\u89c2\u7684\u521b\u5efa React nodes \u7684\u65b9\u6cd5\uff0c\u5b83\u662f\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"React.createElement()"),"\u65b9\u6cd5\u7684\u5c01\u88c5"),(0,l.kt)("p",null,"\u901a\u8fc7 Babel\uff0cJSX \u8bed\u53e5\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c"),(0,l.kt)("p",null,"\u770b\u770b demo------- ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/xiaoyureed/react-note/blob/master/demo/demo.js"},"\ud83d\udeaa")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u8bed\u4e49\u5316\u4e14\u6613\u61c2\u7684\u6807\u7b7e\nif(this.state.liked) {\n  return (<BlueLike />);\n} else {\n  return (<GrayLike />);\n}\n\n// jsx \u5982\u4f55\u8f6c\u5316\u4e3a js:\nReact.createElement(\n  string/ReactClass, // \u8868\u793a HTML \u5143\u7d20\u6216\u662f React Component\n  [object props], // \u5c5e\u6027\u503c object\n  [children] // \u63a5\u4e0b\u6765\u53c2\u6570\u7686\u4e3a\u5143\u7d20\u5b50\u5143\u7d20\n)\n\n\n// \u4f7f\u7528\u6807\u7b7e\u7684\u5199\u6cd5, \u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\n<a href="https://facebook.github.io/react/">Hello!</a>/* \u53ef\u4ee5\u76f4\u63a5\u5728jsx\u4e2d\u4f7f\u7528 */\n// React.createElement(\u7ec4\u4ef6/HTML\u6807\u7b7e, \u7ec4\u4ef6\u5c5e\u6027, \u5b50\u5143\u7d20)\nReact.createElement(\'a\', {href: \'https://facebook.github.io/react/\'}, \'Hello!\')\n\n\n\n// \u7ed3\u5408js\u5199\u6cd5\n\n// \u89e3\u6790\u65f6\u5019, "{" \u5f00\u59cb, \u8fdb\u5165js, "<" \u5f00\u59cb, \u8fdb\u5165html\nvar text = \'Hello React\';\n// jsx \u672c\u8eab\u4e5f\u662f\u8868\u8fbe\u5f0f\nconst element = <h1>{text}</h1>;\n// \u4f1a\u66ff\u6362\u4e3a:\nvar text = \'Hello React\';\nReact.createElement("h1", null, text);\n\n// \u5728 html \u6807\u7b7e\u5c5e\u6027 \u4e2d\u4f7f\u7528 jsx\n<h1 foo={1 + 2} />\n\n\n// \u4f7f\u7528\u6570\u7ec4\n/* jsx\u4e2d\u4f7f\u7528js, jsx\u4e2d\u4f7f\u7528\u6570\u7ec4, \x3c!-- \u6700\u597d\u6709\u4f7f\u7528index, \u4e0d\u7136\u4f1a\u62a5\u8b66\u544a, \u5b9e\u9645\u4e0a\u662f\u56e0\u4e3a\u6709\u635f\u6027\u80fd --\x3e */\nvar names = [\'aaa\', \'bbb\', \'ccc\'];\nReactDOM.render(\n    <div>\n        {\n            names.map(function (name, index) {\n                return <div key={index}>hello, {name}</div>\n            })\n        }\n    </div>\n    ,\n    document.getElementById("array")\n);\n\n// -------------------------------------------\n\n// /* \u8fd9\u91cc\u4f1a\u5c06\u6570\u7ec4\u6570\u636e\u8fde\u8d77\u6765, \u8fd9\u91cc\u6ca1\u6709index, \u4f1a\u8b66\u544a, \u4e0d\u8fc7\u4e0d\u5f71\u54cd\u8fd0\u884c */\nvar namesHtml = [<h1>h1...</h1>, <h2>h2...</h2>];\nReactDOM.render(\n    <div>\n        {namesHtml}\n    </div>,\n    document.getElementById("htmlArray")\n);\n\n\n// ----------------------\n\njsx \u4e2d\u7684\u5173\u952e\u5b57\u53d8\u5316\n\nclass \u548c for \u7531\u4e8e\u4e3a JavaScript \u4fdd\u7559\u5173\u952e\u5b57\u7528\u6cd5\uff0c\u56e0\u6b64\u5728 JSX \u4e2d\u4f7f\u7528 className \u548c htmlFor \u66ff\u4ee3\n\nBoolean \u5c5e\u6027: \u5728 JSX \u4e2d\u9884\u8bbe\u53ea\u6709\u5c5e\u6027\u540d\u79f0\u4f46\u6ca1\u6709(\u65e0\u9700)\u8bbe\u503c\u4e3a true\n\n// ---------------------\n\n\u81ea\u5b9a\u4e49\u5c5e\u6027 data-xxx\n<HelloMessage data-attr="xd" />\n\n//--------------\n\n\u4f7f\u7528 "..."\u904d\u5386 props \u5c5e\u6027\n\nvar props = {\n    style: "width:20px",// \u62a5\u9519, \u5b58\u7591; \u53ef\u80fdstyle\u9700\u8981\u5355\u72ec\u4e00\u4e2a\u5bf9\u8c61, \u6216\u8005 <HelloMessage style={{ color: \'#FFFFFF\', fontSize: \'30px\'}} />\n    className: "main",\n    value: "yo",  // \u4f1a\u88ab\u66ff\u6362\n}\n\n<HelloMessage  {...props} value="yo" />\n\n// \u7b49\u4e8e\u4ee5\u4e0b\nReact.createElement("h1", React._spread({}, props, {value: "yo"}), "Hello React!");\n\n// ==========================\n\n\n\u76f4\u63a5\u663e\u793a\u539f\u59cb HTML\n<div>{{ _html: "<h1>Hello World!!</h1>" }}</div>\n\n\n//================\n\nInline Style\n// \u5728 React Component \u4e2d CSS \u4f7f\u7528 Inline Style \u5199\u6cd5\uff0c\u5168\u90fd\u5c01\u88c5\u5728 JavaScript \u5f53\u4e2d\nconst divStyle = {\n    color: "red",\n    backgroundImage: "url(" + imgUrl + ")"\n};\n\nReactDOM.render(\n    <div style={divStyle}>Hello World!</div>,\n    document.getElementById("app")\n);\n\n\n')),(0,l.kt)("h2",{id:"62-\u4f7f\u7528-jsx-\u9700\u8981\u7684\u73af\u5883\u914d\u7f6e"},"6.2. \u4f7f\u7528 jsx \u9700\u8981\u7684\u73af\u5883\u914d\u7f6e"),(0,l.kt)("p",null,"jsx \u88ab\u6d4f\u89c8\u5668\u8bc6\u522b\u9700\u8981\u5148\u7f16\u8bd1, \u8fd9\u91cc\u6709 2 \u4e2a\u65b9\u6cd5:"),(0,l.kt)("p",null,"\u4e00\u79cd\u662f\u4f7f\u7528 browserify \u6216 webpack \u7b49 CommonJS bundler \u5e76\u6574\u5408 babel \u9884\u5904\u7406, \u4e8e\u6d4f\u89c8\u5668\u7aef\u505a\u89e3\u6790, \u76f8\u8f83\u4e8e server \u7aef\u89e3\u6790\u8017\u8d39\u65f6\u95f4, \u4f46\u662f\u9002\u5408\u6574\u5408\u8001\u9879\u76ee"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react.min.js"><\/script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react-dom.min.js"><\/script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"><\/script>\n\x3c!-- babel.js\u4e0ebrowser.js\u7684\u5173\u7cfb: babel\u7684\u6d4f\u89c8\u5668\u7248\u672c\u4e3abrowser.js --\x3e\n')),(0,l.kt)("p",null,"\u7b2c\u4e8c\u79cd\u662f\u7ed3\u5408 webpack, babel \u9884\u5148\u7f16\u8bd1\u518d\u90e8\u7f72, \u4f7f\u7528 babel.js, ",(0,l.kt)("inlineCode",{parentName:"p"},"babel src --out-dir build")),(0,l.kt)("p",null,"==================== \u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u6cd5\u4f7f\u7528 jsx, \u5982\u4f55\u5f15\u5165 jsx"),(0,l.kt)("p",null,"\u76f4\u63a5\u5185\u5d4c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"/* text/babel\u8868\u793a\u4e3ajsx\u8bed\u6cd5\uff0c \u548cjs\u4e0d\u517c\u5bb9 */\n<script type=\"text/babel\">\n    ReactDOM.render(\n    <h1>Hello, world!</h1>, document.getElementById('example') );\n<\/script>\n")),(0,l.kt)("p",null,"\u4ece\u5916\u90e8\u5f15\u5165"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'<script type="text/jsx" src="main.jsx" />\n')),(0,l.kt)("h1",{id:"7-\u5f00\u53d1\u73af\u5883\u642d\u5efa"},"7. \u5f00\u53d1\u73af\u5883\u642d\u5efa"),(0,l.kt)("h2",{id:"71-\u8001\u9879\u76ee\u63a5\u5165"},"7.1. \u8001\u9879\u76ee\u63a5\u5165"),(0,l.kt)("p",null,"CDN-based(\u76f4\u63a5\u5f15\u5165 script \u7684\u65b9\u5f0f, \u9002\u5408\u8001\u9879\u76ee, \u89c1\u4e0b\u8282 demo)\u3001 webpack(",(0,l.kt)("a",{parentName:"p",href:"https://github.com/carlleton/reactjs101/blob/zh-CN/Ch02/webpack-dev-enviroment.md"},"ref"),"), TypeScript \u7684\u5f00\u53d1\u65b9\u5f0f, browserify \u642d\u914d Gulp \u7684\u65b9\u6cd5(",(0,l.kt)("a",{parentName:"p",href:"https://github.com/carlleton/reactjs101/blob/zh-CN/Ch02/browserify-gulp-dev-enviroment.md"},"ref"),")"),(0,l.kt)("h2",{id:"72-create-react-app-\u4f7f\u7528"},"7.2. create-react-app \u4f7f\u7528"),(0,l.kt)("p",null,"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 create-react-app \u5b98\u65b9\u811a\u624b\u67b6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"# \u5168\u5c40\u5b89\u88c5\nnpm i -g create-react-app\n# \u521b\u5efa\u4e00\u4e2aapp\ncreate-react-app demo-app\n\n# \u4e5f\u53ef\u4ee5\u4e00\u6b65\u5230\u4f4d\nnpx create-react-app demo-app\n\n")),(0,l.kt)("p",null,"\u53ef\u4ee5\u914d\u5408 vscode \u7684 chrome debugger \u63d2\u4ef6:"),(0,l.kt)("p",null,"\u9700\u8981\u4fee\u6539 url \u4e3a\u81ea\u5df1\u7684\uff0creact \u5de5\u7a0b\u9ed8\u8ba4\u662fhttp://localhost:3000"),(0,l.kt)("p",null,"\u63a8\u8350\u5148 ",(0,l.kt)("inlineCode",{parentName:"p"},"npm start")," \u542f\u52a8 app, \u7136\u540e F5 \u542f\u52a8\u8c03\u8bd5\u670d\u52a1\u5668, \u6b64\u65f6\u4f1a\u65b0\u5f00\u4e00\u4e2a chrome, \u8bbf\u95ee\u914d\u7f6e\u7684 url"),(0,l.kt)("h2",{id:"73-vscode-\u73af\u5883"},"7.3. vscode \u73af\u5883"),(0,l.kt)("p",null,"eslint, prettier \u63d2\u4ef6, \u548c\u5bf9\u5e94\u7684 module"),(0,l.kt)("p",null,'\u751f\u6210 .eslintrc.js \u65f6\u5019\uff08eslint \u2014init\uff09\u7684\u7b2c\u4e00\u6b65\u9009\u62e9\uff0c\u5373"How would you like to use ESlint"\uff0c\u4e0d\u8981\u9009\u62e9"enforce code style"\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u4ea4\u7ed9 Prettier \u53bb\u8d1f\u8d23\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u5426\u5219\u4f1a\u6709\u51b2\u7a81'),(0,l.kt)("p",null,'\u4f46\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86"enforce code style"\uff0c\u90a3\u4e48\u4f1a\u591a\u51fa\u4e00\u6b65"Which style guide do you want to follow? (Use arrow keys)"\u8ba9\u4f60\u9009\uff0c\u6b64\u65f6\u53ef\u4ee5\u9009\u62e9\u4e09\u79cd\u4ee3\u7801\u98ce\u683c\uff1a\u5373 Airbnb\u3001Standard\u3001Google\u3002'),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/lishuan182/article/details/89575678"},"vscode \u5173\u95ed eslint")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000020379876"},"eslint + airbnb \u89c4\u8303")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://thomlom.dev/setup-eslint-prettier-react/"},"eslint + prettier \u914d\u5408\u4f7f\u7528, \u51b2\u7a81\u89e3\u51b3, \u4f7f\u7528 git hooks \u5728\u6bcf\u6b21\u63d0\u4ea4 commit \u65f6 (pre-commit)\u683c\u5f0f\u5316")),(0,l.kt)("h2",{id:"74-webpack-\u73af\u5883\u642d\u5efa"},"7.4. webpack \u73af\u5883\u642d\u5efa"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add webpack webpack-cli webpack-dev-server\ntouch webpack.config.js\n\n\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'"scripts": {\n        "dev": "webpack-dev-server --mode development",\n        "build": "webpack --mode production",\n },\n# yarn dev \u53bb\u542f\u52a8\u672c\u5730server\n# yarn build \u53bb\u751f\u6210\u751f\u4ea7\u4ee3\u7801\n\n\n\n')),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.im/post/5d7a7e7e518825345a05c518"},"https://juejin.im/post/5d7a7e7e518825345a05c518")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.im/post/5cfb8c0051882541b24c3ed3"},"https://juejin.im/post/5cfb8c0051882541b24c3ed3")," //todo"),(0,l.kt)("h1",{id:"8-airbnb-\u63a8\u8350\u7684\u89c4\u8303"},"8. airbnb \u63a8\u8350\u7684\u89c4\u8303"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/airbnb/javascript"},"https://github.com/airbnb/javascript")),(0,l.kt)("h1",{id:"9-using-as-a-lib-\u4f5c\u4e3a\u5e93\u4f7f\u7528"},"9. using as a lib \u4f5c\u4e3a\u5e93\u4f7f\u7528"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://react.dev/learn/add-react-to-an-existing-project"},"https://react.dev/learn/add-react-to-an-existing-project")),(0,l.kt)("h1",{id:"10-\u7ec4\u4ef6\u5316"},"10. \u7ec4\u4ef6\u5316"),(0,l.kt)("h2",{id:"101-\u793e\u533a\u5f00\u6e90\u7ec4\u4ef6"},"10.1. \u793e\u533a\u5f00\u6e90\u7ec4\u4ef6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"react-hook-form \u8868\u5355 - ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/react-hook-form/react-hook-form"},"https://github.com/react-hook-form/react-hook-form")),(0,l.kt)("li",{parentName:"ul"},"react-beautiful-dnd \u62d6\u62fd"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/vercel/swr"},"https://github.com/vercel/swr")," \u8fdc\u7a0b\u6570\u636e\u83b7\u53d6 remote data fetching")),(0,l.kt)("h2",{id:"102-web-components"},"10.2. Web Components"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://www.ruanyifeng.com/blog/2019/08/web_components.html"},"http://www.ruanyifeng.com/blog/2019/08/web_components.html")),(0,l.kt)("p",null,"TODO"),(0,l.kt)("h2",{id:"103-\u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219"},"10.3. \u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219"),(0,l.kt)("p",null,"props (\u5916\u90e8\u4f20\u5165) + state (\u5185\u90e8\u7ef4\u62a4) = View"),(0,l.kt)("p",null,"Ract \u7ec4\u4ef6\u4e00\u822c\u4e0d\u63d0\u4f9b\u65b9\u6cd5, \u4e0d\u540c\u7684 props \u548c state \u4f1a\u4ea7\u751f \u4e0d\u540c\u7684 view, \u76f8\u5f53\u4e8e\u4e00\u4e2a pure function."),(0,l.kt)("p",null,"\u521b\u4e00\u4e2a\u7ec4\u4ef6\u8003\u8651\u4e09\u70b9:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9759\u6001 ui"),(0,l.kt)("li",{parentName:"ul"},"\u72b6\u6001\u7ec4\u6210, \u5185\u90e8\u7ef4\u62a4"),(0,l.kt)("li",{parentName:"ul"},"\u7531\u54ea\u4e9b\u4ea4\u4e92\u65b9\u5f0f")),(0,l.kt)("p",null,"\u9075\u5faa\u7684\u539f\u5219:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u540d\u5927\u5199\u5b57\u6bcd\u5f00\u5934 (react \u9ed8\u8ba4 \u5927\u5199\u4e3a\u81ea\u5b9a\u4e49, \u5c0f\u5199\u4e3a\u539f\u751f dom \u8282\u70b9\u5982 div), \u53e6\u5916 jsx \u652f\u6301\u540d\u79f0\u7684\u5c5e\u6027\u8bed\u6cd5, \u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"<menu.Item />"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u5e94\u8be5\u8db3\u591f\u5c0f, \u53ea\u505a\u4e00\u4ef6\u4e8b (\u8fd9\u662f\u4e3a\u4e86\u6027\u80fd\u8003\u8651, \u62c6\u5206\u6210\u5c0f\u7ec4\u4ef6\u540e, \u5404\u4e2a\u7ec4\u4ef6\u90fd\u6709\u81ea\u5df1\u7684 state, \u53d8\u5316\u65f6\u53ea\u4f1a\u81ea\u5df1\u5237\u65b0, \u4e0d\u4f1a\u4f7f\u5f97\u6574\u4e2a\u62fc\u6210\u7684\u5927\u7ec4\u4ef6\u5237\u65b0)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"state \u80fd\u4e0d\u8981\u5c31\u4e0d\u8981, \u80fd\u901a\u8fc7\u8ba1\u7b97\u5f97\u5230\u7684\u72b6\u6001\u5c31\u4e0d\u8981\u7279\u5730\u5b58\u50a8\u5230 state, \u5c3d\u91cf\u6240\u6709\u6570\u636e\u90fd\u901a\u8fc7 props \u83b7\u53d6, \u4e5f\u5c31\u662f functional component \u4f18\u4e8e state component (\u6027\u80fd\u597d, \u6613\u4e8e\u91cd\u7528)"))),(0,l.kt)("h2",{id:"104-\u5e26\u72b6\u6001\u7ec4\u4ef6-\u7eaf\u51fd\u6570\u7ec4\u4ef6"},"10.4. \u5e26\u72b6\u6001\u7ec4\u4ef6 \u7eaf\u51fd\u6570\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u4e24\u79cd\u5199\u6cd5 \u270d:"),(0,l.kt)("p",null,"ES6 \u8bed\u6cd5(\u53ef\u4ee5\u8fdb\u884c\u6bd4\u8f83\u590d\u6742\u7684\u64cd\u4f5c\u548c\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u7684\u63a7\u5236\uff0c\u76f8\u5bf9\u4e8e Functional components \u8017\u8d39\u8d44\u6e90)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'//  \u6ce8\u610f\u7ec4\u4ef6\u5f00\u5934\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u90fd\u8981\u5927\u5199\nclass MyComponent extends React.Component {\n\n    // ES6 Class \u4e2d render() \u662f\u552f\u4e00\u5fc5\u8981\u7684\u65b9\u6cd5\uff08\u4f46\u8981\u6ce8\u610f\u7684\u662f\u8bf7\u4fdd\u6301 render() \u7684\u7eaf\u7cb9\uff0c\u4e0d\u8981\u5728\u91cc\u9762\u8fdb\u884c state \u4fee\u6539\u6216\u662f\u4f7f\u7528\u975e\u540c\u6b65\u65b9\u6cd5\u548c\u6d4f\u89c8\u5668\u4e92\u52a8\uff0c\u82e5\u9700\u975e\u540c\u6b65\u4e92\u52a8\u8bf7\u4e8e componentDidMount() \u64cd\u4f5c\uff09\n    render() {\n        return <div>Hello, World!</div>;\n    }\n}\n\n// \u5c06 <MyComponent /> \u7ec4\u4ef6\u63d2\u5165 id \u4e3a app \u7684 DOM \u5143\u7d20\u4e2d\nReactDOM.render(<MyComponent />, document.getElementById("app"));\n')),(0,l.kt)("p",null,"\u4f7f\u7528 Functional Component \u5199\u6cd5\uff08\u5355\u7eaf\u5730 render UI \u7684 stateless components\uff0c\u6ca1\u6709\u5185\u90e8\u72b6\u6001\u3001\u6ca1\u6709 ref\uff0c\u6ca1\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\u3002\u82e5\u975e\u9700\u8981\u63a7\u5236\u751f\u547d\u5468\u671f\u7684\u8bdd\u5efa\u8bae\u591a\u4f7f\u7528 stateless components \u83b7\u5f97\u6bd4\u8f83\u597d\u7684\u6027\u80fd\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u4f7f\u7528 arrow function \u6765\u8bbe\u8ba1 Functional Component \u8ba9 UI \u8bbe\u8ba1\u66f4\u5355\u7eaf\uff08f(D) => UI\uff09\uff0c\u51cf\u5c11\u526f\u4f5c\u7528\uff08side effect\uff09\nconst MyComponent = props => <div>Hello, World!</div>;\n\n// \u5c06 <MyComponent /> \u7ec4\u4ef6\u63d2\u5165 id \u4e3a app \u7684 DOM \u5143\u7d20\u4e2d\nReactDOM.render(<MyComponent />, document.getElementById("app"));\n')),(0,l.kt)("h2",{id:"105-\u51fd\u6570\u7ed1\u5b9a\u65b9\u5f0f"},"10.5. \u51fd\u6570\u7ed1\u5b9a\u65b9\u5f0f"),(0,l.kt)("p",null,"react \u4e2d\u7531\u4e8e\u7c7b\u7684\u65b9\u6cd5\u9ed8\u8ba4\u4e0d\u4f1a\u7ed1\u5b9athis\uff0c\u56e0\u6b64\u5728\u8c03\u7528\u7684\u65f6\u5019\u5982\u679c\u5fd8\u8bb0\u7ed1\u5b9a\uff0cthis\u7684\u503c\u5c06\u4f1a\u662fundefined"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"// \u7eaf\u51fd\u6570\u7ec4\u4ef6\n\nconst Edit = props => {\n    const onFinish = (values) => {\n        console.log('Received values of form: ', values);\n    };\n\n    return (\n        <Form\n            onFinish={onFinish}\n        />\n    );\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"// class \u7ec4\u4ef6\n\n// \u63a8\u8350\nimport React, { Component } from 'react';\nclass App extends Component {\n  handleSubmit (e, args) {\n    console.log(e, args)\n  }\n\n  render () {\n      // \u6216\u8005\u5728\u6784\u9020\u51fd\u6570\u4e2d bind\n      // \u5982 this.handleClick = this.handleClick.bind(this);\n    return (\n      <div onClick={this.handleSubmit.bind(this, 'test')}>test</div>\n    )\n  }\n}\n\n// or\n\nclass App extends Component {\n  handleSubmit = (e) => {\n     console.log(e);\n  }\n\n  render () {\n    return (\n      <div onClick={this.handleSubmit}>test</div>\n    )\n  }\n}\n\n//or\n\nclass App extends Component {\n  handleSubmit (e) {\n     console.log(e);\n  }\n  render () {\n    return (\n      <div onClick={ () => this.handleSubmit }>test</div>\n    )\n  }\n}\n")),(0,l.kt)("h2",{id:"106-hooks"},"10.6. hooks"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-reference.html"},"https://reactjs.org/docs/hooks-reference.html")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.ruanyifeng.com/blog/2019/09/react-hooks.html"},"https://www.ruanyifeng.com/blog/2019/09/react-hooks.html")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6844903854174109703"},"https://juejin.cn/post/6844903854174109703")," \u5faa\u5e8f\u6e10\u8fdb\u4ecb\u7ecd hooks, \u89e3\u51b3\u4ec0\u4e48\u95ee\u9898"),(0,l.kt)("h3",{id:"1061-create-react-app-\u914d\u5408-eslint-plugin-react-hooks"},"10.6.1. create react app \u914d\u5408 eslint-plugin-react-hooks"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/zqd666/article/details/102961701"},"https://blog.csdn.net/zqd666/article/details/102961701"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/eslint-plugin-react-hooks?ref=hackernoon.com"},"https://www.npmjs.com/package/eslint-plugin-react-hooks?ref=hackernoon.com")),(0,l.kt)("h3",{id:"1062-hooks-\u539f\u7406"},"10.6.2. hooks \u539f\u7406"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/brickspert/blog/issues/26"},"https://github.com/brickspert/blog/issues/26")),(0,l.kt)("h3",{id:"1063-\u6700\u4f73\u5b9e\u8df5"},"10.6.3. \u6700\u4f73\u5b9e\u8df5"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/98554943"},"https://zhuanlan.zhihu.com/p/98554943"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/search?type=content&q=react%20hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"},"https://www.zhihu.com/search?type=content&q=react%20hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5")),(0,l.kt)("h3",{id:"1064-\u4e3a\u4ec0\u4e48\u9700\u8981-hooks"},"10.6.4. \u4e3a\u4ec0\u4e48\u9700\u8981 hooks"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.javascriptc.com/2530.html"},"https://www.javascriptc.com/2530.html")),(0,l.kt)("p",null,'\u7eaf\u51fd\u6570\uff0c\u4e0d\u80fd\u5305\u542b\u72b6\u6001\uff0c\u4e5f\u4e0d\u652f\u6301\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u56e0\u6b64\u65e0\u6cd5\u53d6\u4ee3\u7c7b\u7684\u5199\u6cd5, React Hooks \u7684\u8bbe\u8ba1\u76ee\u7684\uff0c\u5c31\u662f\u52a0\u5f3a\u7248\u51fd\u6570\u7ec4\u4ef6\uff0c\u5b8c\u5168\u4e0d\u4f7f\u7528"\u7c7b"\uff0c\u5c31\u80fd\u5199\u51fa\u4e00\u4e2a\u5168\u529f\u80fd\u7684\u7ec4\u4ef6'),(0,l.kt)("p",null,"React Hooks \u7684\u610f\u601d\u662f\uff0c\u7ec4\u4ef6\u5c3d\u91cf\u5199\u6210\u7eaf\u51fd\u6570\uff0c\u5916\u90e8\u529f\u80fd\u548c\u526f\u4f5c\u7528\u653e\u5728\u94a9\u5b50\u4e2d\u3002 React Hooks \u5c31\u662f\u90a3\u4e9b\u94a9\u5b50.\u9700\u8981\u4ec0\u4e48\u529f\u80fd\uff0c\u5c31\u4f7f\u7528\u4ec0\u4e48\u94a9\u5b50\u3002React \u9ed8\u8ba4\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u94a9\u5b50. \u94a9\u5b50\u4e00\u5f8b\u4f7f\u7528use\u524d\u7f00\u547d\u540d\uff0c\u4fbf\u4e8e\u8bc6\u522b"),(0,l.kt)("p",null,"hooks \u89e3\u51b3\u4e86\u51e0\u4e2a\u95ee\u9898:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bb9\u6613\u5bf9 state \u64cd\u4f5c\u903b\u8f91\u8fdb\u884c\u590d\u7528"),(0,l.kt)("li",{parentName:"ul"},"\u4ee5\u524d\u5206\u5e03\u5728\u5468\u671f\u51fd\u6570\u4e2d\u7684\u64cd\u4f5c\u96c6\u4e2d\u5230\u4e86\u4e00\u4e2a\u5730\u65b9 (useEffect \u4e2d)"),(0,l.kt)("li",{parentName:"ul"},"\u5c4f\u853d\u4e86 this")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\u56db\u4e2a\u6700\u5e38\u7528\u94a9\u5b50:\n\nuseState()\n\u4e3a\u51fd\u6570\u7ec4\u4ef6\u5f15\u5165\u72b6\u6001\uff08state\uff09\n\nuseContext() \u5728\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u72b6\u6001, \u4e0d\u5fc5\u4e3a\u4e86\u53c2\u6570\u4f20\u9012\u8fdb\u884c\u590d\u6742\u5d4c\u5957, \u51cf\u5c11\u7ec4\u4ef6\u5c42\u7ea7\n\nuseReducer() \u4e3a\u51fd\u6570\u7ec4\u4ef6\u5f15\u5165 action\n\nuseEffect() \u5f15\u5165\u5177\u6709\u526f\u4f5c\u7528\u7684\u64cd\u4f5c\uff0c\u6700\u5e38\u89c1\u7684\u5c31\u662f\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\n\nuseLayoutEffect() \u540c\u6b65\u6267\u884c\u526f\u4f5c\u7528\n\nuseCallback() \u8bb0\u5fc6\u51fd\u6570\nuseMemo() \u8bb0\u5fc6\u7ec4\u4ef6\n\u53ef\u4ee5\u5b8c\u5168\u66ff\u4ee3 useCallback \u7684\u529f\u80fd \nuseCallback(fn, inputs) is equivalent to useMemo(() => fn, inputs).\n\n\nuseImperativeHandle() \u7ec4\u4ef6\u53ef\u4ee5\u83b7\u5f97\u5b50\u7ec4\u4ef6\u7684 input \u7684 DOM \u8282\u70b9\n\n")),(0,l.kt)("p",null,"\u7531\u4e8e Hooks \u53ef\u4ee5\u63d0\u4f9b\u5171\u4eab\u72b6\u6001\u548c Reducer \u51fd\u6570\uff0c\u6240\u4ee5\u5b83\u5728\u8fd9\u4e9b\u65b9\u9762\u53ef\u4ee5\u53d6\u4ee3 Redux\u3002\u4f46\u662f\uff0c\u5b83\u6ca1\u6cd5\u63d0\u4f9b\u4e2d\u95f4\u4ef6\uff08middleware\uff09\u548c\u65f6\u95f4\u65c5\u884c\uff08time travel\uff09\uff0c\u5982\u679c\u4f60\u9700\u8981\u8fd9\u4e24\u4e2a\u529f\u80fd\uff0c\u8fd8\u662f\u8981\u7528 Redux"),(0,l.kt)("h3",{id:"1065-useref"},"10.6.5. useRef"),(0,l.kt)("p",null,"use to create a reference to refer to some object else;"),(0,l.kt)("p",null,"useRef \u4ec5\u80fd\u7528\u5728 FunctionComponent\uff0c(\u663e\u7136\u7684\uff0c\u56e0\u4e3a Hooks \u4e0d\u80fd\u7528\u5728 ClassComponent), somehow equal to \u201cthis\u201d; \u907f\u514d\u5728 Render \u51fd\u6570\u4e2d\u76f4\u63a5\u4fee\u6539 Ref, \u6700\u597d\u653e\u5728\u67d0\u4e2a\u51fd\u6570\u4e2d\u4fee\u6539"),(0,l.kt)("p",null,"createRef \u4ec5\u80fd\u7528\u5728 ClassComponent\u3002(cuz: createRef \u5e76\u6ca1\u6709 Hooks \u7684\u6548\u679c\uff0c\u5176\u503c\u4f1a\u968f\u7740 FunctionComponent \u91cd\u590d\u6267\u884c\u800c\u4e0d\u65ad\u88ab\u521d\u59cb\u5316\uff1a)  createRef \u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\uff0c\u800c useRef \u6bcf\u6b21\u90fd\u4f1a\u8fd4\u56de\u76f8\u540c\u7684\u5f15\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"//\u4f5c\u4e3a\u5bb9\u5668\nexport default () => {\n  const refInput = useRef();\n  return (\n    <div>\n      <input ref={refInput} />\n      <button\n        onClick={() => {\n          refInput.current.focus();\n        }}\n      >\n        focus\n      </button>\n    </div>\n  );\n};\n")),(0,l.kt)("p",null,"cache prev value: (can be inproved by useEffect, see blow)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"export default () => {\n  const [count, setCount] = useState(0);\n  // \u5728\u4e24\u6b21\u4e0d\u540c\u7684\u6e32\u67d3\u95f4\u4f20\u9012\u503c\n  // \u76f8\u5f53\u4e8e \u7c7b\u5c5e\u6027\u53d8\u91cf\n  const prev = useRef(null);\n  return (\n    <div>\n      <p>current: {count}</p>\n      <p>prev: {prev.current}</p>\n      <button\n        onClick={() => {\n          prev.current = count;\n          setCount(count + 1);\n        }}\n      >\n        +\n      </button>\n      <button\n        onClick={() => {\n          prev.current = count;\n          setCount(count - 1);\n        }}\n      >\n        -\n      </button>\n    </div>\n  );\n};\n")),(0,l.kt)("h3",{id:"1066-usememo-and-memo-and-usecallback"},"10.6.6. useMemo and memo and useCallback"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/puxiao/react-hook-tutorial"},"https://github.com/puxiao/react-hook-tutorial")),(0,l.kt)("p",null,"\u90fd\u662f\u7528\u6765\u63d0\u5347\u6027\u80fd. \u53ef\u4ee5\u9632\u6b62\u7ef4\u62a4\u7684\u5bf9\u8c61\u91cd\u590d\u521b\u5efa"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"memo() \u51b3\u5b9a\u4e00\u4e2a\u7ec4\u4ef6\u7684\u6e32\u67d3\u662f\u5426\u91cd\u590d\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"memo(XxxComponent [, isPropsUpdate()])")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7528\u6765\u5305\u88c5\u4e00\u4e2a\u7ec4\u4ef6; euqals to \u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e2d\u7684  , PureComponent\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u9009\u4f20\u9012\u4e00\u4e2a\u6bd4\u8f83\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"(prevProps, nextProps) => {...return false/true}")," (\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u4f20\u9012\uff0c\u5219\u9ed8\u8ba4\u53ea\u4f1a\u8fdb\u884c props \u7684\u6d45\u6bd4\u8f83\u3002)"),(0,l.kt)("p",{parentName:"li"},"PureComponent: \u901a\u8fc7\u6d45\u5c42\u6bd4\u8f83 props, \u51b3\u5b9a\u662f\u5426\u91cd\u65b0\u6e32\u67d3; \u4e5f\u5c31\u662f\u8bf4, \u4f18\u5316\u53ea\u5bf9\u4e8e \u6d45\u5c42\u5c5e\u6027\u53d8\u5316\u6709\u6548; \u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49 shouldComponentUpdate() \u8fdb\u884c\u6df1\u5c42\u6bd4\u8f83")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"useMemo  \u63a7\u5236\u4e00\u6bb5\u51fd\u6570\u903b\u8f91\u662f\u5426\u91cd\u590d\u6267\u884c;",(0,l.kt)("inlineCode",{parentName:"p"},"usememo(func, [deps])")," \u63a5\u53d7\u4e00\u4e2a\u51fd\u6570, \u548c\u4e00\u4e2a\u6570\u7ec4(\u4f9d\u8d56)\uff0c\u6bcf\u6b21 rerender, \u4f9d\u8d56\u662f\u5426\u53d8\u5316\u51b3\u5b9a\u4e86\u51fd\u6570\u903b\u8f91\u662f\u5426\u91cd\u590d\u6267\u884c, \u82e5\u4e3a\u7a7a\u6570\u7ec4\u5219\u4ec5\u4ec5\u6267\u884c\u4e00\u6b21"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u51fd\u6570\u4ecd\u7136\u53ef\u4ee5\u8fd4\u56de \u7ec4\u4ef6, \u5c31\u662f\u8bf4\u76f8\u6bd4 memo() \u4f18\u5316\u7c92\u5ea6\u66f4\u7ec6 (memo \u53ea\u80fd\u5305\u88c5\u6574\u4e2a\u7ec4\u4ef6, useMemo \u53ef\u4ee5\u53ea\u5305\u88c5\u7ec4\u4ef6\u4e2d\u7684\u67d0\u6bb5\u51fd\u6570\u903b\u8f91)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"useMemo \u7c7b\u4f3c useEffect, \u533a\u522b\u662f effect \u662f render \u540e\u6267\u884c\uff0c useMemo \u662f render \u524d/\u671f\u95f4\u6267\u884c, \u4e4b\u540e\u662f\u5426\u91cd\u590d\u6267\u884c, \u770b\u4f9d\u8d56\u662f\u5426\u53d8\u5316")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"usememo \u672c\u8eab\u4e5f\u6709\u5f00\u9500, \u6240\u4ee5\u4f7f\u7528 useMemo \u8003\u8651: \u4f20\u9012\u7ed9 useMemo \u7684\u51fd\u6570\u5f00\u9500\u5927\u4e0d\u5927? \u5982\u679c\u5927\u624d\u7528, ")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u63a8\u8350\u4f7f\u7528 React.useMemo \u800c\u4e0d\u662f React.memo\uff0c\u56e0\u4e3a\u5728\u7ec4\u4ef6\u901a\u4fe1\u65f6\u5b58\u5728 React.useContext \u7684\u7528\u6cd5\uff0c\u8fd9\u79cd\u7528\u6cd5\u4f1a\u4f7f\u6240\u6709\u7528\u5230\u7684\u7ec4\u4ef6\u91cd\u6e32\u67d3\uff0c\u53ea\u6709 React.useMemo \u80fd\u5904\u7406\u8fd9\u79cd\u573a\u666f\u7684\u6309\u9700\u6e32\u67d3\u3002")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"useCallback \u7528\u6765\u5305\u88c5\u4e00\u4e2a\u51fd\u6570, \u6bcf\u6b21\u91cd\u6e32\u67d3\u90fd\u65b0\u521b\u5efa\u8fd9\u4e2a\u51fd\u6570\u7684\u5b9e\u4f8b"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u82e5 useMemo \u5185\u7684\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c \u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 useCallback\u76f4\u63a5\u4f20\u5165\u8fd9\u4e2a\u51fd\u6570 \u5373 useMemo(() => fn) \u7b49\u4ef7 useCallback(fn)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6240\u6709 Function Component \u5185\u51fd\u6570\u5fc5\u987b\u7528 React.useCallback \u5305\u88f9\uff0c\u4ee5\u4fdd\u8bc1\u51c6\u786e\u6027\u4e0e\u6027\u80fd (\u5e38\u7528\u6765 \u5c06 \u51fd\u6570\u4ece useEffect \u4e2d\u62bd\u79bb\u5230\u5916\u90e8, \u4fbf\u4e8e\u4eba\u773c\u7ef4\u62a4, \u82e5\u5e0c\u671b\u8fdb\u4e00\u6b65\u5c06\u51fd\u6570\u62bd\u5230\u7ec4\u4ef6\u5916\u90e8, \u9700\u8981\u7075\u6d3b\u8fd0\u7528\u81ea\u5b9a\u4e49 Hooks \u5b9e\u73b0)"))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const Demo = memo((props) => {\n  console.log("demo render");\n  return (\n    <div>\n      {props.name}, {props.person.age}\n    </div>\n  );\n});\n\nexport default () => {\n  const [count, setCount] = useState(0);\n  const [person, setPerson] = useState({\n    age: 11\n  });\n  return (\n    <div>\n      <span\n        onClick={() => {\n          setCount(count + 1);// \u5982\u679c\u4ec5\u4ec5\u662f count \u6539\u53d8, Demo \u4e0d\u4f1arerender\n          setPerson({// \u5982\u679cperson\u4e5f\u6539\u53d8, demo \u4f1arerender\n            ...person,\n            age: person.age + 1\n          });\n        }}\n      >\n        {count}\n      </span>\n      <Demo name="demo" person={person} />\n    </div>\n  );\n};\n\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * \n */\nexport default () => {\n  const [count, setCount] = useState(0);\n  const memorizedText = useMemo(() => {\n    console.log(`run memo func`);\n    return `memo: ${Date.now()}`;\n  }, [Math.floor(count / 10)]); // \u6bcf\u70b9\u51fb 10 \u6b21\u53d8\u5316\u4e00\u6b21\n\n  return (\n    <div>\n      {memorizedText}\n      <p>count: {count}</p>\n      <button\n        onClick={() => {\n          setCount(count + 1);\n        }}\n      >\n        +\n      </button>\n      <button\n        onClick={() => {\n          setCount(count - 1);\n        }}\n      >\n        -\n      </button>\n    </div>\n  );\n};\n\n")),(0,l.kt)("h3",{id:"1067-usestate"},"10.6.7. useState"),(0,l.kt)("h4",{id:"10671-state-\u7279\u6027"},"10.6.7.1. state \u7279\u6027"),(0,l.kt)("p",null,"\u6bcf\u4e00\u6b21\u6e32\u67d3\u90fd\u6709\u5b83\u81ea\u5df1\u7684 Props \u548c State\n\u6bcf\u4e00\u6b21\u6e32\u67d3\u90fd\u6709\u5b83\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\n\u5f53\u70b9\u51fb\u66f4\u65b0\u72b6\u6001\u7684\u65f6\u5019\uff0c\u51fd\u6570\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u88ab\u8c03\u7528\uff0c\u90a3\u4e48\u6bcf\u6b21\u6e32\u67d3\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u53d6\u5230\u7684\u503c\u4e0d\u4f1a\u53d7\u540e\u9762\u64cd\u4f5c\u7684\u5f71\u54cd"),(0,l.kt)("p",null,"Hook \u5185\u90e8\u4f7f\u7528 Object.is \u6765\u6bd4\u8f83\u65b0\u65e7 state \u662f\u5426\u76f8\u7b49\n\u4e0e class \u7ec4\u4ef6\u4e2d\u7684 setState \u65b9\u6cd5\u4e0d\u540c\uff0c\u5982\u679c\u4f60\u4fee\u6539\u72b6\u6001\u7684\u65f6\u5019\uff0c\u4f20\u7684\u72b6\u6001\u503c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u4e0d\u91cd\u65b0\u6e32\u67d3;\nuseState \u4e0d\u4f1a\u81ea\u52a8\u5408\u5e76\u66f4\u65b0\u5bf9\u8c61, \u4e8c\u662f\u66ff\u6362"),(0,l.kt)("h4",{id:"10672-\u4f20\u7edf\u5199\u6cd5"},"10.6.7.2. \u4f20\u7edf\u5199\u6cd5"),(0,l.kt)("p",null,"(\u7531\u4e8e\u5e26\u6709 \u72b6\u6001, \u6240\u4ee5\u5fc5\u987b\u4f7f\u7528 \u7c7b \u7684\u5199\u6cd5)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Button extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      content: "click me"\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState({\n      content: "hello btn ~~"\n    });\n  }\n\n  render() {\n    return <button onClick={this.handleClick}>{this.state.content}</button>;\n  }\n}\n')),(0,l.kt)("h4",{id:"10673-\u4f7f\u7528-functional-\u7ec4\u4ef6\u7684\u5199\u6cd5"},"10.6.7.3. \u4f7f\u7528 functional \u7ec4\u4ef6\u7684\u5199\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useState } from "react";\n\nconst ButtonHooks = () => {\n  // \u8bed\u6cd5:\n  // \u53c2\u6570\u4e3a \u67d0\u4e2a state \u5c5e\u6027\u521d\u59cb\u503c\n  // \u8fd4\u56de\u503c\u4e3a\u6570\u7ec4, \n  //[0] \u4e3a \u5c5e\u6027\u53d8\u91cf, \n  //[1] \u4e3a\u5bf9\u5e94\u7684 setter \u65b9\u6cd5, \u7ea6\u5b9a\u662fset\u524d\u7f00\u52a0\u4e0a\u72b6\u6001\u7684\u53d8\u91cf\u540d; \u82e5 new state \u548c old state\u6709\u5173\u8054, \u63a8\u8350 setXXX((old) => {return new})\n  // \u6bcf\u7528\u4e00\u6b21 useState , \u5c31\u53ef\u4ee5\u4e3a\u4e00\u4e2a state \u5c5e\u6027 \u521b\u5efa getter, setter, \u987a\u5e8f\u5f88\u91cd\u8981, \u4e0d\u53ef\u6539\u53d8(\u5373\u65e0\u6cd5\u653e\u5728\u6761\u4ef6\u5224\u65ad\u5185)\n  const [content, setContent] = useState("click me");\n\n  const handleClick = () => {\n    return setContent("hello hah~~");\n  };\n  return <button onClick={handleClick}>{content}</button>;\n};\n\nexport default ButtonHooks;\n\n')),(0,l.kt)("h4",{id:"10674-\u5ef6\u8fdf\u521d\u59cb\u5316"},"10.6.7.4. \u5ef6\u8fdf\u521d\u59cb\u5316"),(0,l.kt)("p",null,"initialState \u53c2\u6570\u53ea\u4f1a\u5728\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u6e32\u67d3\u4e2d\u8d77\u4f5c\u7528\uff0c\u540e\u7eed\u6e32\u67d3\u65f6\u4f1a\u88ab\u5ffd\u7565, \u4f20\u5165\u6709\u4e2a\u51fd\u6570, \u53ea\u4f1a\u5728\u521d\u59cb\u6e32\u67d3\u65f6\u6267\u884c\u4e00\u6b21, \u540e\u7eed\u4e0d\u518d\u6267\u884c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'export default (props) => {\n  const [count, setCount] = useState(0);\n\n  const [age, setAge] = useState(() => {\n    console.log("\u5ef6\u8fdf\u521d\u59cb\u5316, \u521d\u59cb\u5316\u65f6, \u5373\u4f7f\u7528\u7684\u65f6\u5019\u624d\u6267\u884c\u8ba1\u7b97\uff0c \u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff0c \u63d0\u9ad8\u6548\u7387");\n    return props.defaultAge || 0;\n  });\n\n  return (\n    <div className="App">\n      count: {count}, age: {age}\n      <button onClick={() => setCount((count) => count + 1)}>Add</button>\n    </div>\n  );\n};\n\n\n')),(0,l.kt)("h4",{id:"10675-\u65b0\u65e7-state-\u6709\u5173\u8054"},"10.6.7.5. \u65b0\u65e7 state \u6709\u5173\u8054"),(0,l.kt)("p",null,"\u5982\u679c\u65b0\u7684 state \u9700\u8981\u901a\u8fc7\u4f7f\u7528\u5148\u524d\u7684 state \u8ba1\u7b97\u5f97\u51fa\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06\u56de\u8c03\u51fd\u6570\u5f53\u505a\u53c2\u6570\u4f20\u9012\u7ed9 setState\u3002\u8be5\u56de\u8c03\u51fd\u6570\u5c06\u63a5\u6536\u5148\u524d\u7684 state\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u66f4\u65b0\u540e\u7684\u503c"),(0,l.kt)("h3",{id:"1068-usecontext"},"10.6.8. useContext"),(0,l.kt)("p",null,"\u7c7b\u4f3c redux \u4f5c\u7528, \u4f46\u662f redux \u66f4\u5f3a\u5927, "),(0,l.kt)("p",null,"useReducer\u548cuseContext\u7684\u7ed3\u5408\u53ef\u4ee5\u53d6\u4ee3Redux\u4e48\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"useContext\u7684\u95ee\u9898\u662f\u5982\u679c\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u6574\u4e2a\u5b50\u6811\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u6027\u80fd\u53ef\u80fd\u4f1a\u6709\u95ee\u9898"),(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528useContext\u4f60\u53ea\u80fd\u5728\u7ec4\u4ef6\u5c42\u5199\u66f4\u6539\u72b6\u6001\u7684\u903b\u8f91\uff0c\u4f46\u662f\u6709\u7684\u903b\u8f91\u662f\u5168\u5c40\u7684\uff0c\u5e94\u8be5\u5199\u5230\u4e00\u4e2a\u5355\u72ec\u7684js\u6587\u4ef6\u800c\u4e0d\u662f\u7ec4\u4ef6\u6587\u4ef6\u91cc\uff0c\u800c\u8981\u5bfc\u51fa\u7684\u8bdd\u5c31\u5fc5\u987b\u81ea\u5df1\u5c01\u88c5\uff0c\u8fd8\u4e0d\u5982\u7528Redux"),(0,l.kt)("li",{parentName:"ul"},"Redux\u6709thunk\u548csaga\u4e4b\u7c7b\u7684\u4e2d\u95f4\u4ef6\u652f\u6301async action\uff0c\u800cuseReducer\u6ca1\u6709\uff0c\u8fd8\u5f97\u7528\u5176\u4ed6\u5e93\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useContext } from "react";\nimport ReactDOM from "react-dom";\nimport "./styles.css";\n\nconst AppContext = React.createContext({});\n// React.createContext<AuthContextI>(null!) \u4e5f\u53ef\u4ee5\u4f7f\u7528 null! , \u5c31\u4e0d\u9700\u8981\u521d\u59cb\u5316\u503c\u4e86\n\n// \u8bed\u6cd5:\n    // \u53c2\u6570\u4e3a react.context \u53d8\u91cf\n    // \u8fd4\u56de context \u4e2d\u5b58\u50a8\u7684\u5185\u5bb9, \u6709\u4e24\u4e2a\u5730\u65b9\u53ef\u4ee5\u6307\u5b9a\u5b58\u50a8\u7684\u5185\u5bb9\n    // - AppContext = React.createContext({}) // \u521d\u59cb\u5316\n    // - <AppContext.Provider value={{}} ... // \u6307\u5b9a\u5177\u4f53\u503c\nfunction App() {\n  return (\n    //   AppContext.Provider\u63d0\u4f9b\u4e86\u4e00\u4e2a Context \u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u88ab\u5b50\u7ec4\u4ef6\u5171\u4eab\n    <AppContext.Provider value={{\n      username: \'superawesome\'\n    }}>\n      <div className="App">\n        <Navbar />\n        <Messages />\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nconst Navbar = () => {\n  const { username } = useContext(AppContext)\n\n  return (\n    <div className="navbar">\n      <p>AwesomeSite</p>\n      <p>{username}</p>\n    </div>\n  )\n}\n\nconst Messages = () => {\n  const { username } = useContext(AppContext)\n\n  return (\n    <div className="messages">\n      <h1>Messages</h1>\n      <p>1 message for {username}</p>\n      <p className="message">useContext is awesome!</p>\n    </div>\n  )\n}\n\nconst rootElement = document.getElementById("root");\nReactDOM.render(<App />, rootElement);\n\n\n')),(0,l.kt)("p",null,"\u6539\u53d8\u989c\u8272\u4e3b\u9898 demo:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const themes = {\n  light: {\n    fore: "#000000",\n    back: "#eeeeee"\n  },\n  dark: {\n    fore: "#ffffff",\n    back: "#222222"\n  }\n};\n\nconst ThemeContext = createContext({\n  theme: themes.light,\n  toggle: () => {}\n});\n\nexport default () => {\n  const [theme, setTheme] = useState(themes.light);\n  return (\n    // \u591a\u4e2a context \u5d4c\u5957\u5373\u53ef\uff0c \u987a\u5e8f\u4e0d\u91cd\u8981\n    <ThemeContext.Provider\n      value={{\n        theme,\n        toggle: () => {\n          setTheme((theme) => {\n            setTheme(theme === theme.light ? themes.dark : themes.light);\n          });\n        }\n      }}\n    >\n      <ToolBar />\n    </ThemeContext.Provider>\n  );\n};\n\nconst ToolBar = () => {\n  return <ThemedButton />;\n};\n\nconst ThemedButton = () => {\n  const context = useContext(ThemeContext);\n  return (\n    <button\n      style={{\n        color: context.theme.fore,\n        backgroundColor: context.theme.back\n      }}\n      onClick={() => {\n        context.toggle();\n      }}\n    >\n      click\n    </button>\n  );\n};\n')),(0,l.kt)("h3",{id:"1069-usereducer"},"10.6.9. useReducer"),(0,l.kt)("p",null,"\u7528\u4e8e\u7ba1\u7406\u590d\u6742\u7684 state \u53d8\u5316, \u5f53 state \u591a\u5230 useState \u96be\u4ee5\u5e94\u4ed8, \u5c31\u53ef\u4ee5\u4f7f\u7528 useReducer"),(0,l.kt)("p",null,"\u5c40\u90e8\u72b6\u6001\u4e0d\u63a8\u8350\u4f7f\u7528 useReducer \uff0c\u4f1a\u5bfc\u81f4\u51fd\u6570\u5185\u90e8\u72b6\u6001\u8fc7\u4e8e\u590d\u6742\uff0c\u96be\u4ee5\u9605\u8bfb\u3002 useReducer \u5efa\u8bae\u5728\u591a\u7ec4\u4ef6\u95f4\u901a\u4fe1\u65f6\uff0c\u7ed3\u5408 useContext \u4e00\u8d77\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useReducer } from "react";\n\n// reducer \u8d1f\u8d23\u6839\u636e state \u548c action \u8ba1\u7b97\u51fa\u65b0\u7684 state\nconst btnReducer = (state, action) => {\n  let result;\n\n  switch (action.type) {\n    case "countUp":\n      result = {\n        ...state,\n        count: state.count + 1\n      };\n      break;\n\n    default:\n      // result = state;\n      // break;\n      throw new Error("xxx")\n  }\n  return result;\n};\n\nconst ActionDemo = () => {\n    // \u53c2\u6570 1: reducer\n    // \u53c2\u6570 2: initState \n    // \u53c2\u6570 3: init, \u53ef\u9009, \u5bf9 initState \u505a\u52a0\u5de5\u540e\u4f20\u5165 useReducer\n    // \u8fd4\u56de\u503c: [\u5f53\u524d\u72b6\u6001, dispatch \u51fd\u6570], \u540e\u8005\u662f\u51fd\u6570,\u4fdd\u8bc1\u4e0d\u53ef\u53d8\n  const [state, dispatch] = useReducer(btnReducer, {\n    count: 0\n  });\n  return (\n    <div>\n      <button\n        style={{\n          padding: "5px 20px",\n          marginTop: "10px",\n          marginBottom: "10px",\n          color: "#fff",\n          backgroundColor: "#0066cc",\n          borderRadius: "15px",\n          border: "1px solid #fff"\n        }}\n        // dispatcher \u8d1f\u8d23\u53d1\u51fa action, \n        onClick={() => dispatch({ type: "countUp" })}\n      >\n        up\n      </button>\n      <p>count: {state.count}</p>\n    </div>\n  );\n};\n\nexport default ActionDemo;\n\n\n')),(0,l.kt)("h3",{id:"10610-useeffect"},"10.6.10. useEffect"),(0,l.kt)("h4",{id:"106101-effect-\u7406\u89e3"},"10.6.10.1. effect \u7406\u89e3"),(0,l.kt)("p",null,"effect\uff08\u526f\u4f5c\u7528\uff09\uff1a\u6307\u90a3\u4e9b\u6ca1\u6709\u53d1\u751f\u5728\u6570\u636e\u5411\u89c6\u56fe\u8f6c\u6362\u8fc7\u7a0b\u4e2d\u7684\u903b\u8f91\uff0c\u5982 ajax \u8bf7\u6c42\u3001\u8bbf\u95ee\u539f\u751fdom \u5143\u7d20\u3001\u672c\u5730\u6301\u4e45\u5316\u7f13\u5b58\u3001\u7ed1\u5b9a/\u89e3\u7ed1\u4e8b\u4ef6\u3001\u6dfb\u52a0\u8ba2\u9605\u3001\u8bbe\u7f6e\u5b9a\u65f6\u5668\u3001\u8bb0\u5f55\u65e5\u5fd7\u7b49\u3002"),(0,l.kt)("p",null,"\u526f\u4f5c\u7528\u64cd\u4f5c\u53ef\u4ee5\u5206\u4e24\u7c7b\uff1a\u9700\u8981\u6e05\u9664\u7684\u548c\u4e0d\u9700\u8981\u6e05\u9664\u7684"),(0,l.kt)("p",null,"useEffect \u63a5\u6536\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u4f1a\u5728\u7ec4\u4ef6\u6e32\u67d3\u5230\u5c4f\u5e55\u4e4b\u540e\u624d\u6267\u884c\uff0c\u8be5\u51fd\u6570\u6709\u8981\u6c42\uff1a\u8981\u4e48\u8fd4\u56de\u4e00\u4e2a\u80fd\u6e05\u9664\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u8981\u4e48\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9; \u5b83\u8ddf class \u7ec4\u4ef6\u4e2d\u7684 componentDidMount\u3001  componentDidUpdate \u548c componentWillUnmount \u5177\u6709\u76f8\u540c\u7684\u7528\u9014\uff0c\u53ea\u4e0d\u8fc7\u88ab\u5408\u5e76\u6210\u4e86\u4e00\u4e2a API"),(0,l.kt)("p",null,"\u4e0e componentDidMount \u6216 componentDidUpdate \u4e0d\u540c\uff0c\u4f7f\u7528 useEffect \u8c03\u5ea6\u7684 effect \u4e0d\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u66f4\u65b0\u5c4f\u5e55\uff0c\u8fd9\u8ba9\u4f60\u7684\u5e94\u7528\u770b\u8d77\u6765\u54cd\u5e94\u66f4\u5feb\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0ceffect \u4e0d\u9700\u8981\u540c\u6b65\u5730\u6267\u884c\u3002\u5728\u4e2a\u522b\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u6d4b\u91cf\u5e03\u5c40\uff09\uff0c\u6709\u5355\u72ec\u7684 useLayoutEffect Hook \u4f9b\u4f60\u4f7f\u7528\uff0c\u5176 API \u4e0e useEffect \u76f8\u540c"),(0,l.kt)("h4",{id:"106102-effect-\u57fa\u672c\u4f7f\u7528"},"10.6.10.2. effect \u57fa\u672c\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'export default function App() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {// \u76f8\u5f53\u4e8e componentDidMount\n    console.log(`count: ${count}`);\n  }, [count]);// \u4f9d\u8d56 count \u662f\u5426\u53d8\u5316, [] \u5219\u6ca1\u6709\u4f9d\u8d56, \u53ea\u5728 render \u540e\u6267\u884c\u4e00\u6b21; \u4e0d\u5e26\u8fd9\u4e2a\u53c2\u6570, \u5219\u6bcf\u6b21 render \u540e\u90fd\u6267\u884c\n\n  return (\n    <div className="App">\n      count: {count}\n      <button onClick={() => setCount((count) => count + 1)}>Add</button>\n    </div>\n  );\n}\n')),(0,l.kt)("h4",{id:"106103-\u7f13\u5b58\u4e0a\u6b21\u503c"},"10.6.10.3. \u7f13\u5b58\u4e0a\u6b21\u503c"),(0,l.kt)("p",null,"useEffect \u5728 Render \u5b8c\u6bd5\u540e\u624d\u6267\u884c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5c01\u88c5\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 Hooks \u62ff\u5230\u4e0a\u4e00\u6b21\u7684\u503c\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;//useEffect \u5728 Render \u5b8c\u6bd5\u540e\u624d\u6267\u884c, therefore ref \u7684\u503c\u5728\u5f53\u524d Render \u4e2d\u6c38\u8fdc\u662f\u4e0a\u4e00\u6b21 Render \u65f6\u5019\u7684\n  });\n  return ref.current;\n}\n\n\n")),(0,l.kt)("h4",{id:"106104-\u8bbe\u7f6e\u9500\u6bc1\u56de\u8c03\u51fd\u6570\u4f8b\u5b50"},"10.6.10.4. \u8bbe\u7f6e\u9500\u6bc1\u56de\u8c03\u51fd\u6570\u4f8b\u5b50"),(0,l.kt)("p",null,"\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u4f8b\u5b50:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useState, useEffect } from "react";\nlet timer = null;\nfunction App() {\n  const [count, setCount] = useState(0);\n  //\u4e00\u65e6 count \u503c\u53d1\u751f\u6539\u53d8\uff0c\u5219\u4fee\u6539 documen.title \u503c\n  useEffect(() => {\n    document.title = "componentDidMount" + count;\n  },[count]);\n\n//\u6570\u7ec4\u6ca1\u6709\u4f20\u503c\uff0c\u4ee3\u8868\u4e0d\u76d1\u542c\u4efb\u4f55\u53c2\u6570\u53d8\u5316\uff0c\u5373\u53ea\u6709\u5728\u7ec4\u4ef6\u521d\u59cb\u5316\u6216\u9500\u6bc1\u7684\u65f6\u5019\u624d\u4f1a\u89e6\u53d1\uff0c\u7528\u6765\u4ee3\u66ff componentDidMount \u548c componentWillUnmount\n  useEffect(() => {\n    timer = setInterval(() => {\n      setCount(prevCount => prevCount + 1);\n    }, 1000);\n    // \u8fd4\u56de\u503c(\u5982\u679c\u6709)\u5219\u5728\u7ec4\u4ef6\u9500\u6bc1\u524d\u8c03\u7528, \u82e5\u4f9d\u8d56\u6570\u7ec4\u4e2d\u5b58\u5728\u4f9d\u8d56, \u5219\u8fd4\u56de\u7684\u56de\u8c03\u51fd\u6570\u5728 \u4e0a\u6b21 useEffect \u5904\u7406\u5b8c\u540e \u65f6\u6267\u884c\n    return () => {\n      document.title = "componentWillUnmount";\n      clearInterval(timer);\n    };\n  }, []);\n  \n  return (\n    <div>\n      Count: {count}\n      <button onClick={() => clearInterval(timer)}>clear</button>\n    </div>\n  );\n}\n\n')),(0,l.kt)("h4",{id:"106105-\u53d1\u9001\u5f02\u6b65\u8bf7\u6c42"},"10.6.10.5. \u53d1\u9001\u5f02\u6b65\u8bf7\u6c42"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'export default () => {\n  const personList = usePerson();\n  if (personList === null) {\n    return <div>pending...</div>;\n  }\n  return (\n    <div>\n      {personList.map((person) => (\n        <li key={person}>{person}</li>\n      ))}\n    </div>\n  );\n};\n\nasync function getPersonList() {\n  await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, 200);\n  });\n  return ["aa", "bb", "cc"];\n}\n\nconst usePerson = () => {\n  const [personList, setPersonList] = useState(null);\n  \n  //useEffect \u63a5\u6536\u7684\u51fd\u6570\uff0c\u8981\u4e48\u8fd4\u56de\u4e00\u4e2a\u80fd\u6e05\u9664\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u8981\u4e48\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\u3002\u800c async \u8fd4\u56de\u7684\u662f promise\u3002\n  useEffect(() => {\n    async function req() {\n      const personList = await getPersonList();\n      setPersonList(personList);\n    }\n    req();\n  }, []);\n  return personList;\n};\n\n')),(0,l.kt)("h4",{id:"106106-\u4f7f\u7528-fetch-api"},"10.6.10.6. \u4f7f\u7528 fetch api"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\u5982\u4f55\u5728 Hooks \u4e2d\u4f18\u96c5\u7684 Fetch Data\nfunction App() {\n  const [data, setData] = useState({ hits: [] });\n  useEffect(() => {\n    // \u66f4\u4f18\u96c5\u7684\u65b9\u5f0f\n    const fetchData = async () => {\n      const result = await axios(\n        'https://api.github.com/api/v3/search?query=redux',\n      );\n      setData(result.data);\n    };\n    fetchData();\n  }, []);\n  return (\n    <ul>\n      {data.hits.map(item => (\n        <li key={item.id}>\n          <a href={item.url}>{item.title}</a>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\n\n")),(0,l.kt)("h3",{id:"10611-\u81ea\u5b9a\u4e49-hook"},"10.6.11. \u81ea\u5b9a\u4e49 hook"),(0,l.kt)("p",null,"\u81ea\u5b9a\u4e49 Hook\uff0c\u53ea\u8981\u51fd\u6570\u540d\u9075\u5faa\u4ee5 use \u5f00\u5934\uff0c\u4e14\u8fd4\u56de\u975e JSX \u5143\u7d20\uff0c\u5c31\u662f\u81ea\u5b9a\u4e49 Hooks "),(0,l.kt)("h4",{id:"106111-\u5e26\u6709\u81ea\u589e\u6548\u679c\u7684-state-hook"},"10.6.11.1. \u5e26\u6709\u81ea\u589e\u6548\u679c\u7684 state hook"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"export default () => {\n  const [count, addCount] = useCountAdd(0);\n\n  return (\n    <div>\n      count: {count}\n      <button onClick={() => addCount()}>Add</button>\n    </div>\n  );\n};\n\nconst useCountAdd = (init) => {\n  const [count, setCount] = useState(init);\n  return [\n    count,\n    () => {\n      setCount((count) => count + 1);\n    }\n  ];\n};\n")),(0,l.kt)("h4",{id:"106112-\u4ece-usehooks-\u6539\u9020-responsecomponent"},"10.6.11.2. \u4ece usehooks \u6539\u9020 responseComponent"),(0,l.kt)("p",null,"\u5b9e\u65f6\u66f4\u65b0\u7684 response component:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useState, useEffect } from "react";\n\nconst Response = ({param}) => {\n    // \u6807\u8bc6\u8bf7\u6c42\u662f\u5426\u5b8c\u6210\n  const [ok, setOk] = useState(false);\n  // http \u7684\u54cd\u5e94\n  const [response, setResponse] = useState({});\n\n  // \u53c2\u6570 1: \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5f02\u6b65\u64cd\u4f5c\u7684\u4ee3\u7801\u653e\u5728\u91cc\u9762\n  // \u53c2\u6570 2: \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u7528\u4e8e\u7ed9\u51fa Effect \u7684\u4f9d\u8d56\u9879\uff0c\u53ea\u8981\u8fd9\u4e2a\u6570\u7ec4\u53d1\u751f\u53d8\u5316\uff0cuseEffect()\u5c31\u4f1a\u6267\u884c\u3002\n  //\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565\uff0c\u8fd9\u65f6\u6bcf\u6b21\u7ec4\u4ef6\u6e32\u67d3\u65f6\uff0c\u5c31\u4f1a\u6267\u884cuseEffect()\u3002\n  useEffect(() => {\n    fetch(`http://www.httpbin.org/anything/${param}`)\n      .then(resp => resp.json())\n      .then(data => {\n        setResponse(data);\n        setOk(true);\n      });\n  }, [param]);\n\n  if (!ok) {\n    return <p>Nothing...</p>;\n  }\n\n  return (\n    <div>\n      <p>your IP: {response.origin}</p>\n      <p>request url: {response.url}</p>\n    </div>\n  );\n};\n\nconst EffectDemo = () => {\n  const [param, setParam] = useState("one");\n\n  return (\n    <div>\n      <Response param={param} />\n      <p>\n        you can choose:\n        <button onClick={() => setParam("one")}>one</button>\n        <button onClick={() => setParam("two")}>two</button>\n        <button onClick={() => setParam("three")}>three</button>\n      </p>\n    </div>\n  );\n};\n\nexport default EffectDemo;\n\n\n')),(0,l.kt)("p",null,"\u6539\u9020\u540e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, {useState, useEffect } from "react";\n\nconst useResponse = param => {\n  const [ok, setOk] = useState(false);\n  const [response, setResponse] = useState({});\n\n  useEffect(() => {\n    setOk(false);\n    fetch(`http://www.httpbin.org/anything/${param}`)\n      .then(resp => resp.json())\n      .then(data => {\n        setResponse(data);\n        setOk(true);\n      });\n  }, [param]);\n  \n  return [ok, response];\n};\n\nconst Response = ({param}) => {\n  const [ok, response] = useResponse(param);\n  if (!ok) {\n    return (\n      <p>Nothing...</p>\n    );\n  }\n  return (\n    <div>\n      <p>your IP: {response.origin}</p>\n      <p>request url: {response.url}</p>\n    </div>\n  );\n};\n\n\n')),(0,l.kt)("h4",{id:"106113-\u5b9a\u65f6\u5668-and-\u81ea\u52a8\u9500\u6bc1"},"10.6.11.3. \u5b9a\u65f6\u5668 and \u81ea\u52a8\u9500\u6bc1"),(0,l.kt)("p",null,"\u5b9a\u65f6\u5668 (\u9700\u8981\u8bbe\u7f6e\u9500\u6bc1\u51fd\u6570)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const useCountAdd = (init) => {\n  const [count, setCount] = useState(init);\n  return [\n    count,\n    () => {\n      setCount((count) => count + 1);\n    }\n  ];\n};\n\nconst useInterval = (callback, interval) => {\n  useEffect(() => {\n    const I = setInterval(callback, interval);\n    return () => { // \u76f8\u5f53\u4e8e componentWillunmount\n      clearInterval(I);\n    };\n  }, []);\n};\n\nexport default () => {\n  const [count, addCount] = useCountAdd(0);\n\n  useInterval(() => {\n    addCount();\n  }, 1000);\n\n  return (\n    <div>\n      count: {count}\n      <button onClick={addCount}>add</button>\n    </div>\n  );\n};\n")),(0,l.kt)("p",null,"\u5b9a\u65f6\u81ea\u52a8\u9500\u6bc1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const useTimerCount = (initCount) => {\n  const [count, setCount] = useState(initCount);\n\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = setInterval(() => {\n      setCount((count) => count + 1);\n    }, 1000);\n  }, []);\n  useEffect(() => {\n    if (count > 6) {\n      clearInterval(ref.current);\n    }\n  });\n\n  return [count, setCount];\n};\n\nconst useCounter = (count) => {\n  return <div>timer count: {count}</div>;\n};\n\nexport default () => {\n  const [count, setCount] = useTimerCount(0);\n  return useCounter(count);\n};\n")),(0,l.kt)("h3",{id:"10612-\u7efc\u5408\u4f8b\u5b50"},"10.6.12. \u7efc\u5408\u4f8b\u5b50"),(0,l.kt)("h4",{id:"106121-\u70b9\u8d5e\u6309\u94ae"},"10.6.12.1. \u70b9\u8d5e\u6309\u94ae"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useReducer, useState } from "react";\nimport "./styles.css";\n\nconst initState = {\n  likes: 100,\n  dislikes: 5\n};\n\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case "click_like":\n      return {\n        ...state,\n        likes: state.likes + action.payload\n      };\n    case "click_dislike":\n      return {\n        ...state,\n        dislikes: state.dislikes + action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default function App() {\n  const [state, dispatch] = useReducer(appReducer, initState);\n  const { likes, dislikes } = state;\n  const [status, setStatus] = useState(null);\n\n  const handleLike = () => {\n    if (status === "like") {\n      setStatus(null);\n      dispatch({\n        type: "click_like",\n        payload: -1\n      });\n    } else if (status === null) {\n      setStatus("like");\n      dispatch({\n        type: "click_like",\n        payload: 1\n      });\n    } else {\n      setStatus("like");\n      dispatch({\n        type: "click_dislike",\n        payload: -1\n      });\n      dispatch({\n        type: "click_like",\n        payload: 1\n      });\n    }\n  };\n\n  const handleDisLike = () => {\n    if (status === "dislike") {\n      setStatus(null);\n      dispatch({\n        type: "click_dislike",\n        payload: -1\n      });\n    } else {\n      if (status === "like") {\n        dispatch({\n          type: "click_like",\n          payload: -1\n        });\n      }\n\n      setStatus("dislike");\n      dispatch({\n        type: "click_dislike",\n        payload: 1\n      });\n    }\n  };\n\n  return (\n    <div className="App">\n      <button\n        className={status === "like" ? "btn active" : "btn"}\n        onClick={handleLike}\n      >\n        \u8d5e<span>{likes}</span>\n      </button>\n      <button\n        className={status === "dislike" ? "btn active" : "btn"}\n        onClick={handleDisLike}\n      >\n        \u8e29<span>{dislikes}</span>\n      </button>\n    </div>\n  );\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-css"},".App {\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n}\n\n.btn {\n  cursor: pointer;\n  border: none;\n  font-size: 18px;\n  line-height: 30px;\n  background-color: transparent;\n  color: #747777;\n  outline: none;\n  padding: 0 20px;\n}\n\n.btn:first-of-type {\n  border-right: 2px solid #747777;\n}\n\n.btn:hover {\n  color: #282a2e;\n}\n\n.active,\n.active:hover {\n  color: #1b81f5;\n}\n\nspan {\n  margin-left: 6px;\n}\n")),(0,l.kt)("h2",{id:"107-\u9ad8\u9636\u7ec4\u4ef6-and-\u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6"},"10.7. \u9ad8\u9636\u7ec4\u4ef6 and \u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u9ad8\u9636\u7ec4\u4ef6 (HOC) \u63a5\u53d7\u7ec4\u4ef6\u4f5c\u4e3a\u53c2\u6570, \u8fd4\u56de\u65b0\u7684\u7ec4\u4ef6, \u4e00\u822c\u4ee5\u51fd\u6570\u7684\u5f62\u5f0f\u5448\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'export default function withTimer(WrappedComponent) {\n    return class extends React.Component {\n        state = { time: new Date() };\n        componentDidMount() {\n            this.timerID = setInterval(() => this.tick(), 1000);\n        }\n\n        componentWillUnmount() {\n            clearInterval(this.timerID);\n        }\n\n        tick() {\n            this.setState({\n                time: new Date()\n            });\n        }\n        render() {\n            // props \u539f\u5c01\u672a\u52a8\n            // \u589e\u52a0\u4e86\u4e00\u4e2a time \u5c5e\u6027\n            return <WrappedComponent time={this.state.time} {...this.props} />;\n        }\n    };\n}\n\n// \u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528:\nexport class TabSelectorSample extends PureComponent {\n    state = {\n        color: null\n    };\n    render() {\n        return (\n            <div>\n                Select color:{" "}\n                <TabSelector\n                    options={options}\n                    value={this.state.color}\n                    onChange={c => this.setState({ color: c })}\n                />\n                {/* time \u5c5e\u6027\u662f\u901a\u8fc7\u5305\u88c5\u6dfb\u52a0\u8fdb\u6765\u7684 */}\n                <p>{this.props.time.toLocaleTimeString()}</p>\n            </div>\n        );\n    }\n}\n\nexport default withTimer(TabSelectorSample);\n')),(0,l.kt)("p",null,"\u51fd\u6570\u4f5c\u4e3a\u5b50\u7ec4\u4ef6:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'const FunctionAsSonComponent = props => {\n    return (\n        <MyComponent>\n        {/* \u4f20\u5165\u4e00\u4e2a\u51fd\u6570 */}\n            {name => {\n                return <div>{name}</div>;\n            }}\n        </MyComponent>\n    );\n};\n\n// \u4f7f\u7528: \n\nconst MyComponent = props => {\n    // \u8c03\u7528\u4f20\u5165\u7684\u51fd\u6570, hello \u5c31\u662f\u51fd\u6570\u7684\u53c2\u6570\n    return <div>{props.children("hello")}</div>;\n};\n')),(0,l.kt)("h2",{id:"108-fragment"},"10.8. Fragment"),(0,l.kt)("p",null,"Fragments \u770b\u8d77\u6765\u50cf\u7a7a\u7684 JSX \u6807\u7b7e, \u53ef\u4ee5\u5c06\u591a\u4e2a\u5143\u7d20\u4f5c\u4e3a\u8fd4\u56de\u503c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Table extends React.Component {\n  render() {\n    return (\n      <table>\n        <tr>\n          <Columns />\n        </tr>\n      </table>\n    );\n  }\n}\n\nclass Columns extends React.Component {\n  render() {\n    return (\n        // \u8fd9\u91cc\u5c31\u662f\u4e00\u4e2a Fragment, jsx \u89c4\u5b9a\u65e0\u6cd5\u76f4\u63a5\u8fd4\u56de\u591a\u4e2a\u5143\u7d20, \u901a\u8fc7 Fragment \u53ef\u89c4\u907f\u8fd9\u4e2a\u9650\u5236\n        // \u5176\u5b9e\u5c31\u662f <React.Fragment/> \u7684\u8bed\u6cd5\u7cd6\n        // \u4f46\u662f <></> \u8bed\u6cd5\u4e0d\u80fd\u63a5\u53d7\u952e\u503c\u6216\u5c5e\u6027, \u53ea\u6709  <React.Fragment/> \u53ef\u63a5\u53d7\n      <>\n        <td>Hello</td>\n        <td>World</td>\n      </>\n    );\n  }\n}\n\n")),(0,l.kt)("p",null,"\u63a5\u53d7 key \u5c5e\u6027\u7684 demo:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function Glossary(props) {\n  return (\n    <dl>\n      {props.items.map(item => (\n        // \u6ca1\u6709`key`\uff0c\u5c06\u4f1a\u89e6\u53d1\u4e00\u4e2akey\u8b66\u544a\n        // key \u662f\u552f\u4e00\u53ef\u4ee5\u4f20\u9012\u7ed9 Fragment \u7684\u5c5e\u6027\n        <React.Fragment key={item.id}>\n          <dt>{item.term}</dt>\n          <dd>{item.description}</dd>\n        </React.Fragment>\n      ))}\n    </dl>\n  );\n}\n\n")),(0,l.kt)("h2",{id:"109-strictmode"},"10.9. StrictMode"),(0,l.kt)("p",null,"\u4e0e Fragment \u7c7b\u4f3c\uff0cStrictMode \u4e0d\u5448\u73b0\u4efb\u4f55\u53ef\u89c1 UI\u3002\u5b83\u4e3a\u5b83\u7684\u540e\u4ee3\u542f\u52a8\u989d\u5916\u7684\u68c0\u67e5\u548c\u8b66\u544a\u3002(\u4e25\u683c\u6a21\u5f0f\u68c0\u67e5\u4ec5\u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\u8fd0\u884c\uff1b\u5b83\u4eec\u4e0d\u4f1a\u5f71\u54cd\u751f\u4ea7\u6784\u5efa\u3002"),(0,l.kt)("p",null,")"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react';\n\nfunction ExampleApplication() {\n  return (\n    <div>\n      <Header />\n      <React.StrictMode>\n        <div>\n          <ComponentOne />\n          <ComponentTwo />\n        </div>\n      </React.StrictMode>\n      <Footer />\n    </div>\n  );\n}\n\n")),(0,l.kt)("h2",{id:"1010-\u793a\u4f8b"},"10.10. \u793a\u4f8b"),(0,l.kt)("p",null,"\u6bcf\u4e2a demo \u90fd\u63d0\u4f9b 3 \u79cd\u5199\u6cd5, \u4f9b\u5bf9\u6bd4."),(0,l.kt)("h3",{id:"10101-\u4f7f\u7528-props"},"10.10.1. \u4f7f\u7528 props"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u7ec4\u4ef6\u7c7b\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5fc5\u987b\u5927\u5199\uff0c\u5426\u5219\u4f1a\u62a5\u9519\uff0c\u6bd4\u5982HelloMessage\u4e0d\u80fd\u5199\u6210helloMessage\u3002\u53e6\u5916\uff0c\u7ec4\u4ef6\u7c7b\u53ea\u80fd\u5305\u542b\u4e00\u4e2a\u9876\u5c42\u6807\u7b7e\uff0c\u5426\u5219\u4e5f\u4f1a\u62a5\u9519\u3002\n\n/*************************\n      demo1: \u4f7f\u7528props\n***************************/\n\n// react api \u5199\u6cd5\n\nvar HelloMsg = React.createClass({\n    render: function() {\n        return <h1>Hello, {this.props.name}</h1>;\n    }\n});\n\n// state component \u5199\u6cd5\n\nclass HelloMsg extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    render() {\n        return <h1>Hello, {this.props.name}</h1>;\n    }\n}\n\n// Functional component , \u5355\u7eaf\u7684ui, \u6ca1\u6709 state, \u6ca1\u6709ref, \u4ec5\u4ec5\u4e00\u4e2a\u6784\u9020\u51fd\u6570\n\nconst HelloMsg = props => (\n    // \u6ce8\u610f\u8fd9\u8fb9 props \u662f\u4f20\u5165\u51fd\u5f0f\u7684\u53c2\u6570\uff0c\u56e0\u6b64\u53d6\u7528 props \u4e0d\u7528\u52a0 this\n    <h1>Hello, {props.name}</h1>\n);\n\nReactDOM.render(\n    <HelloMsg name="xiaoyu"></HelloMsg>,\n    document.getElementById("component")\n);\n')),(0,l.kt)("h3",{id:"10102-\u904d\u5386\u5b50\u5143\u7d20"},"10.10.2. \u904d\u5386\u5b50\u5143\u7d20"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// ------------------------------------------------------\n\n/******************************\n        demo2: \u904d\u5386\u5b50\u5143\u7d20\n*******************************************/\n\n/* \u904d\u5386\u5b50\u5143\u7d20, this.props.children\u83b7\u53d6\u5230\u6240\u6709\u5b50\u5143\u7d20, React.Children.map\u904d\u5386 */\n\n/* this.props.children\u53ef\u80fd\u67093\u79cd\u53ef\u80fd\u503c undefined: \u6ca1\u6709\u5b50node, object: \u4ec5\u4ec5\u4e00\u4e2a\u5b50node, array: \u591a\u4e2a\u5b50node */\n\nvar ChildNode = React.createClass({\n    render: function() {\n        return (\n            <ol>\n                {// React.Children \u5de5\u5177\u7c7b, \u8fd8\u6709\u5f88\u591a\u5de5\u5177\u65b9\u6cd5, \u53c2\u89c1\u6587\u6863\n                React.Children.map(this.props.children, function(child) {\n                    return <li>{child}</li>;\n                })}\n            </ol>\n        );\n    }\n});\n\nclass ChildNode extends React.Component {\n    // \u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf, \u6ca1\u6709 constructor, \u56e0\u4e3a\u6ca1\u6709\u8bbe\u7f6eprops\n\n    render() {\n        return (\n            <ol>\n                {// React.Children \u5de5\u5177\u7c7b, \u8fd8\u6709\u5f88\u591a\u5de5\u5177\u65b9\u6cd5, \u53c2\u89c1\u6587\u6863\n                React.Children.map(this.props.children, function(child) {\n                    return <li>{child}</li>;\n                })}\n            </ol>\n        );\n    }\n}\n\nconst ChildNode = props => (\n    <ol>\n        {// React.Children \u5de5\u5177\u7c7b, \u8fd8\u6709\u5f88\u591a\u5de5\u5177\u65b9\u6cd5, \u53c2\u89c1\u6587\u6863\n        React.Children.map(props.children, function(child) {\n            return <li>{child}</li>;\n        })}\n    </ol>\n);\nReactDOM.render(\n    <ChildNode>\n        <div>test childNode div1</div>\n        <div>test childNode div2</div>\n    </ChildNode>,\n    document.getElementById("childNode")\n);\n\n// ---------------------------------------------------------\n')),(0,l.kt)("h3",{id:"10103-\u627e\u5230\u771f\u5b9e\u7684-domthisrefxxx"},"10.10.3. \u627e\u5230\u771f\u5b9e\u7684 dom(this.ref.xxx)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'/**********************************\n        demo3: find a DOM node \u627e\u5230\u771f\u5b9e\u7684dom\n*************************************/\n\n/* find a DOM node \u627e\u5230\u771f\u5b9e\u7684dom */\n\nvar TrueDom = React.createClass({\n    render: function() {\n        return (\n            <div>\n                <input type="text" ref="textInput" />\n                <input\n                    type="button"\n                    value="click to focus"\n                    onClick={this.handleClick}\n                />\n            </div>\n        );\n    },\n    handleClick: function() {\n        // onclick \u4e8b\u4ef6\u4fdd\u8bc1\u4e86\u53ea\u6709\u865a\u62dfdom\u63d2\u5165document\u540e\u624d\u4f1a\u4f7f\u7528this.refs\u5c5e\u6027, \u5c31\u50cf\u653e\u5165\u5230\u4e86 lifeCycle\u65b9\u6cd5componentDidMount\u4e2d\u4e00\u6837\n        this.refs.textInput.focus();\n    }\n});\n\nclass TrueDom extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        // \u4e0e ES5 React.createClass({}) \u4e0d\u540c\u7684\u662f component \u5185\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u9700\u8981\u81ea\u884c\u7ed1\u5b9a\u5230 this context, \u5982\u679c\u53bb\u6389, \u4f1a\u627e\u4e0d\u5230\u76f8\u5e94\u7684refs\n        this.handleClick = this.handleClick.bind(this);\n    }\n    render() {\n        return (\n            <div>\n                <input type="text" ref="textInput" />\n                <input\n                    type="button"\n                    value="click to focus"\n                    onClick={this.handleClick}\n                />\n            </div>\n        );\n    }\n    handleClick() {\n        this.refs.textInput.focus();\n    }\n}\nReactDOM.render(<TrueDom></TrueDom>, document.getElementById("trueDom"));\n\n// -------------------------------------------------------------------\n')),(0,l.kt)("h3",{id:"10104-\u4f7f\u7528-statethisstate"},"10.10.4. \u4f7f\u7528 state(this.state)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'/*************************************\n        demo4: \u72b6\u6001 this.state\n***************************************/\n\n/* \u72b6\u6001 this.state */\n\nvar MyState = React.createClass({\n    getInitialState: function() {\n        // \u5b9a\u4e49\u521d\u59cb\u72b6\u6001\u7684state, getInitialState \u65b9\u6cd5\u7528\u4e8e\u5b9a\u4e49\u521d\u59cb\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7 this.state \u5c5e\u6027\u8bfb\u53d6\n        return {\n            liked: false\n        };\n    },\n    render: function() {\n        var text = this.state.liked ? "like" : "\u8fd8\u6ca1\u6709\u5f00\u59cb\u559c\u6b22";\n        // \u6837\u5f0f: \u7b2c\u4e00\u91cd\u5927\u62ec\u53f7\u8868\u793a\u8fd9\u662f JavaScript \u8bed\u6cd5\uff0c\u7b2c\u4e8c\u91cd\u5927\u62ec\u53f7\u8868\u793a\u6837\u5f0f\u5bf9\u8c61\n        return (\n            <p onClick={this.handleClick}>\n                \u4f60<span style={{ color: "red" }}>{text}</span>\u8fd9\u91cc(\u70b9\u51fb\u5207\u6362)\n            </p>\n        );\n    },\n    handleClick: function() {\n        // \u6539\u53d8state\n        this.setState({\n            liked: !this.state.liked\n        });\n    }\n});\n\nclass MyState extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.state = {\n            liked: false\n        };\n    }\n    render() {\n        var text = this.state.liked ? "like" : "\u8fd8\u6ca1\u6709\u5f00\u59cb\u559c\u6b22";\n        // \u6837\u5f0f: \u7b2c\u4e00\u91cd\u5927\u62ec\u53f7\u8868\u793a\u8fd9\u662f JavaScript \u8bed\u6cd5\uff0c\u7b2c\u4e8c\u91cd\u5927\u62ec\u53f7\u8868\u793a\u6837\u5f0f\u5bf9\u8c61\n        return (\n            <p onClick={this.handleClick}>\n                \u4f60<span style={{ color: "red" }}>{text}</span>\u8fd9\u91cc(\u70b9\u51fb\u5207\u6362)\n            </p>\n        );\n    }\n    handleClick() {\n        this.setState({\n            liked: !this.state.liked\n        });\n    }\n}\nReactDOM.render(<MyState></MyState>, document.getElementById("myState"));\n')),(0,l.kt)("h3",{id:"10105-\u4e00\u4e2a\u8868\u5355\u793a\u4f8b"},"10.10.5. \u4e00\u4e2a\u8868\u5355\u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'/* \u8868\u5355 */\n\nvar Form = React.createClass({\n    getInitialState: function() {\n        return {\n            value: "hello"\n        };\n    },\n    handleChange: function(event) {\n        // \u5904\u7406\u53d8\u5316\u4e8b\u4ef6, \u6ce8\u610f\u6709\u65b9\u6cd5\u53c2\u6570: event, event.target.value \u8bfb\u53d6\u7528\u6237\u8f93\u5165\u7684\u503c\n        this.setState({\n            value: event.target.value\n        });\n    },\n    render: function() {\n        // this.props \u8868\u793a\u90a3\u4e9b\u4e00\u65e6\u5b9a\u4e49\uff0c\u5c31\u4e0d\u518d\u6539\u53d8\u7684\u7279\u6027\uff0c\u800c this.state \u662f\u4f1a\u968f\u7740\u7528\u6237\u4e92\u52a8\u800c\u4ea7\u751f\u53d8\u5316\u7684\u7279\u6027\u3002\n        var value = this.state.value;\n        return (\n            <div>\n                <input type="text" value={value} onChange={this.handleChange} />\n                <p>{value}</p>\n            </div>\n        );\n    }\n});\n\nclass Form extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: "hello"\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(event) {\n        // \u6709event\u53c2\u6570, \u5426\u5219\u62a5\u9519: ... is changing a controlled input of type text to be uncontrolled\n        this.setState({\n            value: event.target.value\n        });\n    }\n    render() {\n        // this.props \u8868\u793a\u90a3\u4e9b\u4e00\u65e6\u5b9a\u4e49\uff0c\u5c31\u4e0d\u518d\u6539\u53d8\u7684\u7279\u6027\uff0c\u800c this.state \u662f\u4f1a\u968f\u7740\u7528\u6237\u4e92\u52a8\u800c\u4ea7\u751f\u53d8\u5316\u7684\u7279\u6027\u3002\n        var value = this.state.value;\n        return (\n            <div>\n                <input type="text" value={value} onChange={this.handleChange} />\n                <p>{value}</p>\n            </div>\n        );\n    }\n}\nReactDOM.render(<Form></Form>, document.getElementById("form"));\n')),(0,l.kt)("h3",{id:"10106-\u767b\u5f55\u754c\u9762"},"10.10.6. \u767b\u5f55\u754c\u9762"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/efc080e6ecd9"},"https://www.jianshu.com/p/efc080e6ecd9")," //todo"),(0,l.kt)("h3",{id:"10107-todo-list-app"},"10.10.7. todo list app"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/523eb1fc1504"},"https://www.jianshu.com/p/523eb1fc1504")," //todo"),(0,l.kt)("h1",{id:"11-\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f"},"11. \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f"),(0,l.kt)("h2",{id:"111-\u751f\u547d\u5468\u671f\u4ecb\u7ecd"},"11.1. \u751f\u547d\u5468\u671f\u4ecb\u7ecd"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/"},"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/")," ----- \u4ea4\u4e92\u5f0f\u7684\u6f14\u793a"),(0,l.kt)("p",null,"Component \u5c31\u50cf\u4e2a\u72b6\u6001\u673a\uff08State Machine\uff09\uff0c\u6839\u636e\u4e0d\u540c\u7684 state\uff08\u53ef\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"setState()")," \u4fee\u6539\uff09\u548c props\uff08\u7531\u7236\u5143\u7d20\u4f20\u5165\uff09\uff0cComponent \u4f1a\u51fa\u73b0\u5bf9\u5e94\u7684\u663e\u793a\u7ed3\u679c\u3002"),(0,l.kt)("p",null,"\u5c31\u50cf\u662f \u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7684\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f, react \u63d0\u4f9b\u7ed9\u6211\u4eec\u4e00\u7cfb\u5217 \u6a21\u677f\u65b9\u6cd5, \u8fd9\u4e9b\u6a21\u677f\u65b9\u6cd5\u4e2d\u7684\u5185\u5bb9 \u4f1a\u5728\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u7684\u67d0\u4e2a\u9636\u6bb5\u88ab\u8c03\u7528"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5927\u81f4\u53ef\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"render \u9636\u6bb5: \u7eaf\u51c0\u65e0\u526f\u4f5c\u7528, \u6e32\u67d3\u7684\u662f virtual dom"),(0,l.kt)("li",{parentName:"ul"},"pre-commit \u9636\u6bb5: \u5c06 state \u8f6c\u6362\u4e3a dom \u64cd\u4f5c, \u8fd9\u65f6\u8fd8\u6ca1\u6709\u6267\u884c dom \u64cd\u4f5c, \u771f\u5b9e dom \u4e2d\u7684\u8282\u70b9\u8fd8\u662f\u6765\u81ea\u4e0a\u4e00\u7248 state/props "),(0,l.kt)("li",{parentName:"ul"},"commit \u9636\u6bb5: \u6267\u884c dom \u64cd\u4f5c, \u5c06 virtual dom \u771f\u5b9e\u53cd\u6620\u5230\u771f\u5b9e dom \u4e0a (\u8fd9\u65f6 \u53ef\u4ee5\u4f7f\u7528\u66f4\u65b0\u540e\u7684 dom \u8282\u70b9\u6267\u884c\u4e00\u4e9b\u81ea\u5b9a\u4e49\u64cd\u4f5c)")),(0,l.kt)("p",null,"\u5bf9\u4e8e\u4e00\u4e2a\u7ec4\u4ef6, \u53ef\u80fd\u63a5\u6536\u4e09\u79cd\u64cd\u4f5c, \u56e0\u6b64 api \u4e5f\u53ef\u4ee5\u5206\u4e3a\u4e09\u7c7b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u88ab\u6302\u8f7d"),(0,l.kt)("li",{parentName:"ul"},"\u88ab\u66f4\u65b0"),(0,l.kt)("li",{parentName:"ul"},"\u88ab\u5378\u8f7d")),(0,l.kt)("h2",{id:"112-\u7ec4\u4ef6\u88ab\u6302\u8f7d"},"11.2. \u7ec4\u4ef6\u88ab\u6302\u8f7d"),(0,l.kt)("p",null,"\u4f9d\u6b21\u6267\u884c\u8fd9\u4e9b\u65b9\u6cd5"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"constructor(props)  \u4f1a\u5728\u521b\u5efa \u7ec4\u4ef6\u65f6 (\u88ab\u6302\u8f7d\u4e4b\u524d) \u8c03\u7528, \u7528\u4e8e\u521d\u59cb\u5316 state, \u8fd8\u6709\u7ec4\u4ef6\u65b9\u6cd5\u7684 binding"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u7ec4\u4ef6\u6709\u7236\u7c7b, \u9996\u5148\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"p"},"super(props)"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c \u7ec4\u4ef6\u662f functional component, \u5219\u4e0d\u9700\u8981 \u6784\u9020\u51fd\u6570 (\u56e0\u4e3a\u6ca1\u6709\u5185\u72b6\u6001)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u552f\u4e00\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539 state \u5bf9\u8c61\u7684\u5730\u65b9 (\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"this.state"),"), \u5176\u4ed6\u5730\u65b9\u60f3\u8981\u4fee\u6539 state \u9700\u8981\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"setState()"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8981\u907f\u514d\u5728\u6784\u9020\u51fd\u6570\u4e2d\u5f15\u5165\u4efb\u4f55\u526f\u4f5c\u7528(\u5982 \u83b7\u53d6\u5916\u90e8\u6570\u636e), ",(0,l.kt)("inlineCode",{parentName:"p"},"componentDidMount")," \u624d\u662f\u5e94\u8be5\u5e72\u8fd9\u4e9b\u4e8b\u7684\u5730\u65b9")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u907f\u514d\u5c06 props \u7684\u67d0\u4e2a\u503c\u590d\u5236\u7ed9 state, \u56e0\u4e3a\u66f4\u65b0 props \u7684\u503c\u5e76\u4e0d\u4f1a\u5c06\u8fd9\u4e2a\u503c\u540c\u6b65\u66f4\u884c\u5230 state \u4e2d. \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 this.props.xxx")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"(\u4e0d\u5e38\u7528 )static getDerivedStateFromProps(props, state) \u6bcf\u6b21 render() \u524d\u90fd\u4f1a\u89e6\u53d1 ; \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0 state ,\u5982\u679c\u8fd4\u56de null \u5219\u4e0d\u66f4\u65b0\u4efb\u4f55\u5185\u5bb9 ; (",(0,l.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops"},"ref"),")//todo"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982: state \u9700\u8981\u4ece props \u8ba1\u7b97\u5f97\u51fa\u65f6, \u53ef\u4ee5\u4f7f\u7528 ;"),(0,l.kt)("p",{parentName:"li"},"  \u6bd4\u5982: \u8868\u5355\u63a7\u4ef6\u83b7\u53d6\u9ed8\u8ba4\u521d\u59cb\u503c (\u6b64\u65f6 state \u4e2d\u7684\u8868\u5355\u9879\u9ed8\u8ba4\u503c\u662f\u901a\u8fc7 props \u4f20\u5165\u7684)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e0d\u63a8\u8350\u4f7f\u7528 ( \u56e0\u4e3a \u624b\u52a8\u7ef4\u62a4 state \u548c props \u7684\u5bf9\u5e94\u5173\u7cfb\u589e\u52a0\u4e86\u590d\u6742\u6027 )")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"render() \u6e32\u67d3 ui, \u552f\u4e00\u5fc5\u987b\u5b9e\u73b0\u7684\u65b9\u6cd5; \u6bcf\u6b21 state \u53d8\u5316, \u90fd\u4f1a\u89e6\u53d1"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd4\u56de\u503c\u53ea\u6709\u56db\u79cd:"),(0,l.kt)("p",{parentName:"li"},"  react \u5143\u7d20. (\u539f\u751f\u8fd8\u662f\u901a\u8fc7 jsx \u81ea\u5b9a\u4e49\u5747\u53ef)"),(0,l.kt)("p",{parentName:"li"},"  \u6570\u7ec4 or ",(0,l.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/fragments.html"},"fragments")," //todo"),(0,l.kt)("p",{parentName:"li"},"  ",(0,l.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/portals.html"},"Portals")," //todo"),(0,l.kt)("p",{parentName:"li"},"  \u5b57\u7b26\u4e32 or \u6570\u5b57 (\u5728\u771f\u5b9e dom \u4e2d\u4f1a\u88ab\u6e32\u67d3\u6210\u6587\u672c\u8282\u70b9)"),(0,l.kt)("p",{parentName:"li"},"  boolean \u7c7b\u578b or null (\u7528\u4e8e\u652f\u6301\u8fd4\u56de test &&  ",(0,l.kt)("inlineCode",{parentName:"p"},"<Child />")," \u7684\u6a21\u5f0f)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5e94\u8be5\u4e3a pure function, \u4fdd\u8bc1\u6e32\u67d3\u7ed3\u679c\u4ec5\u4ec5\u548c state \u6709\u5173   ")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u82e5 shouldComponentUpdate() \u8fd4\u56de false\uff0c\u5219\u4e0d\u4f1a\u8c03\u7528 render()")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"React \u66f4\u65b0 \u771f\u5b9e \xadD\xadO\xadM \u548c refs")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"componentDidMount() \u8fdb\u884c\u4f9d\u8d56\u4e8e dom \u8282\u70b9 \u7684\u521d\u59cb\u5316\u64cd\u4f5c; \u4f1a\u5728\u7ec4\u4ef6\u6302\u8f7d\u540e (\u88ab\u63d2\u5165 dom \u6811\u4e2d) \u8c03\u7528"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982: \u901a\u8fc7 ajax \u83b7\u53d6\u6570\u636e; \u6dfb\u52a0\u8ba2\u9605 (\u4e0d\u8981\u5fd8\u8bb0\u5728 componentWillUnmount() \u91cc\u53d6\u6d88\u8ba2\u9605)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 setState() \u89e6\u53d1\u6e32\u67d3, \u4f46\u6b64\u6e32\u67d3\u4f1a\u53d1\u751f\u5728\u6d4f\u89c8\u5668\u66f4\u65b0\u5c4f\u5e55\u4e4b\u524d (\u56e0\u6b64\u7528\u6237\u4e0d\u4f1a\u611f\u77e5\u5230\u4e24\u6b21\u6e32\u67d3)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6574\u4e2a\u751f\u547d\u5468\u671f\u53ea\u6267\u884c\u4e00\u6b21"))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"constructor(props) {\n    super(props);\n    // \u4e0d\u8981\u5728\u8fd9\u91cc\u8c03\u7528 this.setState()\n    this.state = { counter: 0 };\n    this.handleClick = this.handleClick.bind(this);\n}\n")),(0,l.kt)("h2",{id:"113-\u7ec4\u4ef6\u88ab\u5378\u8f7d"},"11.3. \u7ec4\u4ef6\u88ab\u5378\u8f7d"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"componentWillUnMount() \u4f1a\u5728\u7ec4\u4ef6\u5378\u8f7d\u4e4b\u524d\u8c03\u7528; \u53ef\u4ee5 \u6b64\u65b9\u6cd5\u4e2d\u6267\u884c\u5fc5\u8981\u7684\u6e05\u7406\u64cd\u4f5c, \u7528\u4e8e\u8d44\u6e90\u91ca\u653e"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f8b\u5982\uff0c\u6e05\u9664 timer\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\u6216\u6e05\u9664\u5728 componentDidMount() \u4e2d\u521b\u5efa\u7684\u8ba2\u9605")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e0d\u5e94\u8c03\u7528 setState()\uff0c\u56e0\u4e3a\u8be5\u7ec4\u4ef6\u5373\u5c06\u88ab\u5378\u8f7d, \u5c06\u6c38\u8fdc\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3"))))),(0,l.kt)("h2",{id:"114-\u7ec4\u4ef6\u88ab\u66f4\u65b0"},"11.4. \u7ec4\u4ef6\u88ab\u66f4\u65b0"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"static getDerivedStateFromProps(props, state)")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"(\u4e0d\u5e38\u7528) shouldComponentUpdate(nextProps, nextState) \u5728 state/props \u53d1\u751f\u53d8\u5316\u540e, render() \u524d\u89e6\u53d1; \u7528\u6765\u81ea\u5b9a\u4e49\u5224\u65ad\u7ec4\u4ef6\u662f\u5426\u9700\u8981\u91cd\u65b0\u6e32\u67d3"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u9ed8\u8ba4\u8fd4\u56de\u503c\u4e3a true, \u4e5f\u5c31\u662f state \u6bcf\u6b21\u53d1\u751f\u53d8\u5316\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3, \u5927\u591a\u6570\u65f6\u5019\u9ed8\u8ba4\u5373\u53ef")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u9996\u6b21\u6e32\u67d3\u6216 or \u7528 forceUpdate() \u65f6\u4e0d\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5, \u8868\u793a\u4e00\u5f8b\u6e32\u67d3")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/react-component.html#shouldcomponentupdate"},"\u6027\u80fd\u8c03\u4f18")),(0,l.kt)("p",{parentName:"li"},"  \u53ef\u4ee5\u4f7f\u7528 Pure Component, \u9ed8\u8ba4\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u65b9\u6cd5, \u53ea\u5bf9 props/state \u8fdb\u884c\u6d45\u5c42\u6bd4\u8f83, \u9002\u7528\u4e8e props/state \u6570\u636e\u7ed3\u6784\u7b80\u5355\u7684\u60c5\u51b5"),(0,l.kt)("p",{parentName:"li"},"  \u624b\u52a8\u7f16\u5199\u6b64\u51fd\u6570: \u6bd4\u5bf9\u524d\u540e\u7684 state/props, \u8fd4\u56de false\u4ee5\u544a\u77e5 React \u53ef\u4ee5\u8df3\u8fc7\u66f4\u65b0, \u8fd4\u56de false \u5e76\u4e0d\u4f1a\u963b\u6b62\u5b50\u7ec4\u4ef6\u5728 state \u66f4\u6539\u65f6\u91cd\u65b0\u6e32\u67d3\u3002react \u4e0d\u63a8\u8350 \u8fdb\u884c\u6df1\u5c42\u6bd4\u8f83,\u4f1a\u635f\u5bb3\u6027\u80fd\u3002"),(0,l.kt)("p",{parentName:"li"},"  \u82e5\u91c7\u7528 immutable \u53ef\u4ee5\u4f7f\u7528 nextProps === this.props \u6bd4\u5bf9\u662f\u5426\u6709\u53d8\u52a8\uff1a")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"render()")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"(\u4e0d\u5e38\u7528) getSnapshotBeforeUpdate(prevProps, prevState) \u5728 render() \u540e, \u5728\u6e32\u67d3\u8f93\u51fa\u5230\u771f\u5b9e dom \u524d\u89e6\u53d1; \u7528\u4e8e\u5728\u7ec4\u4ef6\u53d1\u751f\u66f4\u6539\u4e4b\u524d\u4ece DOM \u4e2d\u6355\u83b7\u4e00\u4e9b\u4fe1\u606f\uff08\u4f8b\u5982\uff0c\u6eda\u52a8\u4f4d\u7f6e\uff09"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6b64\u65f6 state \u5df2\u7ecf\u66f4\u65b0\u4e86")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd4\u56de\u503c\u5c06\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9 componentDidUpdate(prevProps, prevState, ","[snapshot]",")\u3002\u5e94\u8fd4\u56de snapshot \u7684\u503c\uff08\u6216 null\uff09")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e00\u822c\u51fa\u73b0\u5728ui\u5904\u7406\u4e2d")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"React \u66f4\u65b0 \u771f\u5b9e \xadD\xadO\xadM \u548c refs")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"componentDidUpdate(prevProps, prevState, ","[snapshot]",") \u5728\u6e32\u67d3\u8f93\u51fa\u5230\u771f\u5b9edom\u540e\u89e6\u53d1, \u9996\u6b21\u6e32\u67d3\u4e0d\u4f1a\u6267\u884c\u6b64\u65b9\u6cd5; \u7528\u6765\u5bf9\u66f4\u65b0\u540e\u7684 dom \u8fdb\u884c\u64cd\u4f5c"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u573a\u666f: \u9875\u9762\u9700\u8981\u6839\u636e props \u53d8\u5316\u6765\u91cd\u65b0\u83b7\u53d6\u6570\u636e (\u5982\u5f53 props \u672a\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5219\u4e0d\u6267\u884c\u7f51\u7edc\u8bf7\u6c42)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5730\u4f4d\u7c7b\u4f3c \u7ec4\u4ef6\u88ab\u6302\u8f7d\u65f6\u7684 componentDidMount()")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 setState()\uff0c\u4f46\u5b83\u5fc5\u987b\u88ab\u5305\u88f9\u5728\u4e00\u4e2a\u6761\u4ef6\u8bed\u53e5\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e09\u4e2a\u53c2\u6570 \u662f getSnapshotBeforeUpdate() \u7684\u8fd4\u56de\u503c, \u53ef\u80fd\u4e3a undefined")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c shouldComponentUpdate() \u8fd4\u56de\u503c\u4e3a false\uff0c\u5219\u4e0d\u4f1a\u8c03\u7528 componentDidUpdate()"))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class ScrollingList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listRef = React.createRef();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    // \u6211\u4eec\u662f\u5426\u5728 list \u4e2d\u6dfb\u52a0\u65b0\u7684 items \uff1f\n    // \u6355\u83b7\u6eda\u52a8\u200b\u200b\u4f4d\u7f6e\u4ee5\u4fbf\u6211\u4eec\u7a0d\u540e\u8c03\u6574\u6eda\u52a8\u4f4d\u7f6e\u3002\n    if (prevProps.list.length < this.props.list.length) {\n      const list = this.listRef.current;\n      return list.scrollHeight - list.scrollTop;\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // \u5982\u679c\u6211\u4eec snapshot \u6709\u503c\uff0c\u8bf4\u660e\u6211\u4eec\u521a\u521a\u6dfb\u52a0\u4e86\u65b0\u7684 items\uff0c\n    // \u8c03\u6574\u6eda\u52a8\u4f4d\u7f6e\u4f7f\u5f97\u8fd9\u4e9b\u65b0 items \u4e0d\u4f1a\u5c06\u65e7\u7684 items \u63a8\u51fa\u89c6\u56fe\u3002\n    //\uff08\u8fd9\u91cc\u7684 snapshot \u662f getSnapshotBeforeUpdate \u7684\u8fd4\u56de\u503c\uff09\n    if (snapshot !== null) {\n      const list = this.listRef.current;\n      list.scrollTop = list.scrollHeight - snapshot;\n    }\n\n    // \u5178\u578b\u7528\u6cd5\uff08\u4e0d\u8981\u5fd8\u8bb0\u6bd4\u8f83 props\uff09\uff1a\n    if (this.props.userID !== prevProps.userID) {\n        this.fetchData(this.props.userID);\n    }\n\n  }\n\n  render() {\n    return (\n      <div ref={this.listRef}>{/* ...contents... */}</div>\n    );\n  }\n}\n")),(0,l.kt)("h2",{id:"115-\u751f\u547d\u5468\u671f\u51fd\u6570-demo"},"11.5. \u751f\u547d\u5468\u671f\u51fd\u6570 demo"),(0,l.kt)("p",null,"demo1: \u4e00\u4e2a\u5b9a\u65f6\u6d6e\u73b0\u9690\u85cf\u7684\u56fe\u6807"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var Hello = React.createClass({\n    getInitialState: function() {\n        return {\n            opacity: 1.0\n        };\n    },\n\n    componentDidMount: function() {\n        // \u8bbe\u5b9a \u5b9a\u65f6\u5668\n        this.timer = setInterval(\n            function() {\n                var opacity = this.state.opacity;\n                opacity -= 0.05;\n                if (opacity < 0.1) {\n                    opacity = 1.0;\n                }\n                this.setState({\n                    opacity: opacity\n                });\n            }.bind(this),\n            100\n        ); // \u6bcf\u9694100ms, \u5c31\u91cd\u65b0\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u900f\u660e\u5ea6\uff0c\u4ece\u800c\u5f15\u53d1\u91cd\u65b0\u6e32\u67d3\n        // \u56de\u8c03\u51fd\u6570\u4e00\u5b9a\u8981\u52a0.bind(this)\u65b9\u6cd5\uff0c\u539f\u56e0\u662f\uff1a\u5728setInterval()\u4e2d\u5b9a\u4e49\u7684\u56de\u8c03\u51fd\u6570\uff0c\u662f\u5728\u540c\u6b65\u4ee3\u7801\u6267\u884c\u5b8c\u540e\uff0c\u968f\u7740\u4e8b\u4ef6\u89e6\u53d1\u6765\u5f02\u6b65\u6267\u884c\u7684\uff0c\n        // \u6b64\u65f6\u51fd\u6570\u7684\u4e0a\u4e0b\u6587Context\u5df2\u7ecf\u7531\u5b9a\u4e49\u8be5\u51fd\u6570\u7684Script\u6587\u4ef6\u53d8\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\n        // \u5982\u679c\u4e0d\u901a\u8fc7bind(this)\u6765\u6307\u5b9a\u7531\u7ec4\u4ef6\u5b9e\u4f8b\u4f5c\u4e3a\u4e0a\u4e0b\u6587\u7684\u8bdd\uff0c\u56de\u8c03\u51fd\u6570\u4e2d\u7684this\u4f1a\u6307\u5411\u5168\u5c40\u53d8\u91cf\u4e2d\u7684Window\u53d8\u91cf\uff0c\u663e\u7136\u4e0d\u5bf9\n    },\n\n    render: function() {\n        // \u6837\u5f0f: \u5199\u6210 style="opacity:{this.state.opacity};" \u662f\u9519\u8bef\u7684\n        return (\n            <div>\n                Hello {this.props.name}{" "}\n                <span style={{ opacity: this.state.opacity }}>\ud83d\udc48</span>\n            </div>\n        );\n    }\n});\nclass Hello extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            opacity: 1.0\n        };\n        this.intervalCallback = this.intervalCallback.bind(this); // \u9700\u8981bind\u5230\u5f53\u524d\u7ec4\u4ef6(\u9ed8\u8ba4\u662f\u7ed1\u5b9a\u5230\u5168\u5c40window), \u5426\u5219\u62a5\u9519: Cannot read property \'opacity\' of undefined\n    }\n    render() {\n        return (\n            <div>\n                Hello {this.props.name}{" "}\n                <span style={{ opacity: this.state.opacity }}>\ud83d\udc48</span>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.timer = setInterval(this.intervalCallback, 100);\n    }\n    intervalCallback() {\n        var opacity = this.state.opacity;\n        opacity -= 0.05;\n        if (opacity < 0.1) {\n            opacity = 1.0;\n        }\n        this.setState({\n            opacity: opacity\n        });\n    }\n}\n\nReactDOM.render(<Hello name="world" />, document.getElementById("lifeCycle"));\n')),(0,l.kt)("h1",{id:"12-virtual-dom-\u548c-diff-\u7b97\u6cd5"},"12. virtual dom \u548c diff \u7b97\u6cd5"),(0,l.kt)("h2",{id:"121-virtual-dom"},"12.1. virtual dom"),(0,l.kt)("p",null,"\u5982\u679c\u6709\u5927\u9762\u79ef\u7684\u64cd\u4f5c DOM\uff0c\u6027\u80fd\u4f1a\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u95ee\u9898\uff0c\u6240\u4ee5 React \u5b9e\u73b0\u4e86\u4e00\u4e2a",(0,l.kt)("em",{parentName:"p"},"Virtual DOM"),"\uff0c\u5145\u5f53\u6d4f\u89c8\u5668\u771f\u5b9e dom \u548c react \u4e4b\u95f4\u7684\u4e2d\u95f4\u5c42"),(0,l.kt)("p",null,"\u8fd9\u4e2a Virtual DOM \u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684 JS \u6570\u636e\u7ed3\u6784\uff0c\u5728\u8fd9\u4e2a\u7ed3\u6784\u4e0a, \u5b9e\u73b0\u4e86 diff \u7b97\u6cd5"),(0,l.kt)("h2",{id:"122-react-\u7684-diff-\u7b97\u6cd5\u6cd5"},"12.2. react \u7684 diff \u7b97\u6cd5\u6cd5"),(0,l.kt)("p",null,"\u590d\u6742\u5ea6 O(n)"),(0,l.kt)("p",null,"\u62ff\u5230\u524d\u540e\u4e24\u4e2a\u72b6\u6001\u7684 virtual dom \u6811\u540e, \u4f1a\u4e00\u5c42\u4e00\u5c42\u5bf9\u6bcf\u4e2a\u8282\u70b9\u8fdb\u884c\u6bd4\u8f83; "),(0,l.kt)("p",null,"\u5e76\u4e14\u53ea\u4f1a\u5bf9\u6bd4\u540c\u4e00\u5c42\u7684\u8282\u70b9. \u5bf9\u4e8e\u8de8\u5c42\u7ea7\u7684\u5dee\u5f02, \u4f1a\u91c7\u7528 \u65b0\u5efa + \u5220\u9664 \u64cd\u4f5c, \u4e0d\u4f1a\u904d\u5386\u6bd4\u8f83\u5b50\u8282\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u67d0\u4e00\u5c42, \u5bf9\u6bd4\u524d\u540e\u72b6\u6001\u53d1\u73b0, \u53ea\u662f\u8282\u70b9\u987a\u5e8f\u53d8\u5316, \u5219\u64cd\u4f5c\u771f\u5b9e dom, \u4ea4\u6362\u8282\u70b9\u987a\u5e8f,")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u67d0\u4e00\u5c42, \u524d\u540e\u72b6\u6001 \u67d0\u8282\u70b9\u6d88\u5931\u4e0d\u89c1 or \u65b0\u589e, \u5219\u5728\u771f\u5b9e dom \u4e0a, \u76f4\u63a5\u5220\u9664/\u65b0\u589e\u8be5\u8282\u70b9\u53ca\u6240\u6709\u5b50\u8282\u70b9. \u8fd9\u6837\u51cf\u5c11\u4e86\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u904d\u5386.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u67d0\u4e00\u5c42, \u53d1\u751f\u8282\u70b9\u8de8\u5c42\u79fb\u52a8, \u6bd4\u5982: \u524d\u540e\u72b6\u6001,\u53d1\u73b0 \u5b50\u8282\u70b9 node1 \u79fb\u52a8\u5230 \u5144\u5f1f\u8282\u70b9 node2 \u4e0b\u4e86, \u90a3\u4e48 diff \u7b97\u6cd5\u4f1a\u5728 node2 \u4e0b\u521b\u5efa node1 \u53ca\u5176\u5b50\u7ed3\u70b9, \u521b\u5efa\u6210\u529f\u540e, \u7136\u540e\u76f4\u63a5\u5220\u9664 node1 (\u65b0\u5efa + \u5220\u9664)"))),(0,l.kt)("p",null,"===================\u5bf9\u4e8e\u62e5\u6709\u4e0d\u540c class \u76842\u4e2a\u7ec4\u4ef6"),(0,l.kt)("p",null,"react \u6839\u672c\u4e0d\u4f1a\u8d70\u5230 diff \u6bd4\u8f83 virtual dom \u8fd9\u4e00\u6b65:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u62e5\u6709\u4e0d\u540c\u7c7b\u7684\u4e24\u4e2a\u7ec4\u4ef6\u6709\u7279\u6b8a\u89c4\u5219: \u524d\u540e\u4e24\u4e2a\u7ec4\u4ef6\u5c06\u4f1a\u751f\u6210\u4e0d\u540c\u7684 dom \u6811\u7ed3\u6784\uff0c\u5f53 react \u5224\u65ad\u7ec4\u4ef6\u4e3a dirty component\uff0c\u4ece\u800c\u66ff\u6362\u6574\u4e2a\u7ec4\u4ef6\u4e0b\u6240\u6709\u5b50\u8282\u70b9"),(0,l.kt)("p",{parentName:"li"},"  \u5982: \u5728\u5f00\u53d1\u4e2d\u6211\u4eec\u9700\u8981\u5c06 A \u7ec4\u4ef6\u6362\u6210 B \u7ec4\u4ef6\uff0cA \u4e0e B \u4e0d\u662f\u540c\u7c7b\u7ec4\u4ef6\u65f6\uff0creact \u4f1a\u6beb\u4e0d\u72b9\u8c6b\u7684\u5220\u9664 A\uff0c\u65b0\u5efa B \u53ca\u5176\u5b50\u8282\u70b9\u3002\u4e0d\u7ba1 A \u4e0e B \u662f\u5426\u6709\u76f8\u540c\u7684\u7ed3\u6784"),(0,l.kt)("p",{parentName:"li"},"  \u5e26\u6765\u7684\u95ee\u9898: \u5047\u5982\u4e0d\u540c\u7684\u7c7b\uff0c\u4f46\u662f\u7ed3\u6784\u76f8\u4f3c\u7684\u7ec4\u4ef6\u76f8\u4e92\u66ff\u6362\uff0c\u5c06\u4f1a\u5927\u5927\u5f71\u54cd react \u6027\u80fd\u3002"),(0,l.kt)("p",{parentName:"li"},"  \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462, \u901a\u8fc7 shouldComponentUpdate()\u6765\u624b\u52a8\u5224\u65ad\u662f\u5426\u9700\u8981\u66f4\u65b0\u7ec4\u4ef6"))),(0,l.kt)("h2",{id:"123-key-\u5c5e\u6027\u6709\u4ec0\u4e48\u4f5c\u7528"},"12.3. key \u5c5e\u6027\u6709\u4ec0\u4e48\u4f5c\u7528"),(0,l.kt)("p",null,"key\u5c5e\u6027 \u7528\u6765\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u7ec4\u4ef6, \u82e5\u6e32\u67d3\u524d\u540e\u7ec4\u4ef6\u5177\u6709\u76f8\u540c\u7684key \u5219 react\u8ba4\u4e3a\u662f\u540c\u4e00\u4e2a\u7ec4\u4ef6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u6e32\u67d3\u524d\u540e\u67d0\u4e2a\u5143\u7d20\u5177\u6709\u76f8\u540ckey, \u82e5\u5143\u7d20\u5c5e\u6027\u6709\u6240\u53d8\u5316\uff0c\u5219React\u53ea\u66f4\u65b0\u8be5\u7ec4\u4ef6\u5bf9\u5e94\u7684\u5c5e\u6027, \u4e0d\u6d89\u53ca\u7ec4\u4ef6\u7684\u6302\u8f7d\u5378\u8f7d\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6027\u80fd\u5f00\u9500\u4f1a\u76f8\u5bf9\u8f83\u5c0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u5143\u7d20\u524d\u540e\u6709\u4e0d\u540c\u7684key, \u90a3\u4e48\u5728\u524d\u540e\u4e24\u6b21\u6e32\u67d3\u4e2d\u5c31\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u8fd9\u65f6\u5019\u65e7\u7684\u90a3\u4e2a\u5143\u7d20\u4f1a\u88abunmount\uff0c\u65b0\u7684\u5143\u7d20\u4f1a\u88abmount"))),(0,l.kt)("p",null,"\u6240\u4ee5\u4e3a\u5143\u7d20\u6dfb\u52a0 key\u5c5e\u6027, \u6709\u52a9\u4e8e\u63d0\u5347\u6027\u80fd; \u4e14 key \u9700\u8981\u6ee1\u8db3 \u552f\u4e00, \u7a33\u5b9a\u4e0d\u53d8"),(0,l.kt)("p",null,"\u4e0d\u63a8\u8350\u4f7f\u7528\u6570\u7ec4/\u96c6\u5408\u7684index\u6765\u505akey\u503c, \u56e0\u4e3a\u6570\u7ec4\u5728\u6267\u884c\u63d2\u5165\u3001\u6392\u5e8f\u7b49\u64cd\u4f5c\u4e4b\u540e\uff0cindex\u5e76\u4e0d\u518d\u5bf9\u5e94\u5230\u539f\u5148\u7684\u503c\uff0c\u90a3\u4e48\u8fd9\u4e2akey\u5c31\u5931\u53bb\u4e86\u672c\u8eab\u7684\u610f\u4e49"),(0,l.kt)("p",null,"\u4e0d\u63a8\u8350\u4f7f\u7528 \u968f\u673a\u751f\u6210\u503c \u6765\u505a key"),(0,l.kt)("h2",{id:"124-\u8bbe\u7f6e\u7ec4\u4ef6\u65f6\u600e\u4e48\u63d0\u9ad8\u6027\u80fd"},"12.4. \u8bbe\u7f6e\u7ec4\u4ef6\u65f6\u600e\u4e48\u63d0\u9ad8\u6027\u80fd"),(0,l.kt)("p",null,"\u56e0\u6b64 diff \u7b97\u6cd5\u9ad8\u6548 \u6709\u4e24\u4e2a\u524d\u63d0:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u7684 dom \u7ed3\u6784\u76f8\u5bf9\u7a33\u5b9a (\u5f88\u5c11\u53d1\u751f\u8de8\u5c42\u79fb\u52a8, \u589e\u52a0/\u5220\u9664)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u540c\u7c7b\u578b\u7684\u5144\u5f1f\u8282\u70b9\u53ef\u4ee5\u88ab\u552f\u4e00\u6807\u8bc6 (\u901a\u8fc7 key \u5c5e\u6027)"))),(0,l.kt)("p",null,"\u6240\u4ee5\u8bbe\u8ba1\u7ec4\u4ef6, \u5e94\u8be5\u9075\u5b88\u8fd9\u6837\u7684\u539f\u5219:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"ui \u4e2d\u7684\u5143\u7d20\u5c3d\u91cf\u53ea\u53d1\u751f\u79fb\u52a8, \u5c5e\u6027\u53d8\u5316, \u5c11\u53d1\u751f \u589e\u52a0, \u5220\u9664, \u5c11\u53d1\u751f\u8de8\u5c42\u79fb\u52a8"),(0,l.kt)("p",{parentName:"li"},"\u6bd4\u5982, \u5bf9\u4e8e\u589e\u52a0/\u5220\u9664\u8282\u70b9, \u53ef\u4ee5\u4f7f\u7528\u6837\u5f0f\u63a7\u5236\u8282\u70b9\u7684 display \u5b9e\u73b0")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e0d\u540c\u7c7b\u7684\u7ec4\u4ef6\u4e0d\u8981\u5b58\u5728\u76f8\u4f3c DOM"),(0,l.kt)("p",{parentName:"li"},"\u5982: \u5bf9\u4e8e\u4e24\u4e2a\u7ec4\u4ef6\u5177\u6709\u76f8\u4f3c\u7684 dom \u7ed3\u6784, \u5e94\u8be5\u8bbe\u8ba1\u4e3a\u540c\u4e00\u4e2a \u7ec4\u4ef6\u7c7b"))),(0,l.kt)("h1",{id:"13-context-api-\u4f7f\u7528"},"13. context-api \u4f7f\u7528"),(0,l.kt)("h1",{id:"14-state-\u72b6\u6001"},"14. state \u72b6\u6001"),(0,l.kt)("h2",{id:"141-state-\u4ecb\u7ecd"},"14.1. state \u4ecb\u7ecd"),(0,l.kt)("p",null,"state \u662f\u7ec4\u4ef6\u5185\u90e8\u7ef4\u62a4\u7684\u72b6\u6001, props \u662f\u5916\u90e8\u4f20\u5165\u7684\u5c5e\u6027; state \u4e00\u822c\u662f\u771f\u6b63\u7684\u4e1a\u52a1\u6570\u636e, props \u4e00\u822c\u662f\u7ec4\u4ef6\u7684\u914d\u7f6e, \u4ece\u7236\u7ec4\u4ef6\u4f20\u5165, \u5b9a\u4e49\u540e\u4e00\u822c\u4e0d\u53d8\u5316"),(0,l.kt)("p",null,"\u5f53\u7ec4\u4ef6\u72b6\u6001 state \u6709\u66f4\u6539\u7684\u65f6\u5019(\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"setState()"),"\u66f4\u6539, \u76f4\u63a5\u4fee\u6539\u7684\u8bdd, \u7ec4\u4ef6\u4e0d\u4f1a\u91cd\u7ed8)\uff0cReact \u4f1a\u81ea\u52a8\u8c03\u7528\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u91cd\u65b0\u6e32\u67d3 (\u91cd\u7ed8 redraw) \u6574\u4e2a\u7ec4\u4ef6\u7684 UI"),(0,l.kt)("p",null,"React Component \u53ef\u4ee5\u7ba1\u7406\u81ea\u5df1\u7684\u5185\u90e8 state, \u5728 constructor(props) \u6784\u9020\u51fd\u6570 \u4e2d\u521d\u59cb\u5316 state, \u5e76\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"this.state"),"\u6765\u83b7\u53d6 state\u3002\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"setState(newState)")," \u65b9\u6cd5\u66f4\u65b0 state, \u66f4\u65b0\u540e\u5c06\u91cd\u65b0\u8c03\u7528 render() \u65b9\u6cd5\uff0c\u91cd\u65b0\u7ed8\u5236 component \u5185\u5bb9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Timer extends React.Component {\n    constructor(props) {\n        super(props);\n        // \u4e0e ES5 React.createClass({}) \u4e0d\u540c\u7684\u662f component \u5185\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u9700\u8981\u81ea\u884c\u7ed1\u5b9a this context\uff0c\u6216\u662f\u4f7f\u7528 arrow function\n        this.tick = this.tick.bind(this);\n        // \u521d\u59cb state\uff0c\u7b49\u4e8e ES5 \u4e2d\u7684 getInitialState\n        this.state = {\n            secondsElapsed: 0\n        };\n    }\n    // \u7d2f\u52a0\u5668\u65b9\u6cd5\uff0c\u6bcf\u4e00\u79d2\u88ab\u547c\u53eb\u540e\u5c31\u4f1a\u4f7f\u7528 setState() \u66f4\u65b0\u5185\u90e8 state\uff0c\u8ba9 Component \u91cd\u65b0 render\n    tick() {\n        this.setState({ secondsElapsed: this.state.secondsElapsed + 1 });\n    }\n    // componentDidMount \u4e3a component \u751f\u547d\u5468\u671f\u4e2d\u9636\u6bb5 component \u5df2\u63d2\u5165\u8282\u70b9\u7684\u9636\u6bb5\uff0c\u901a\u5e38\u4e00\u4e9b\u975e\u540c\u6b65\u64cd\u4f5c\u90fd\u4f1a\u653e\u7f6e\u5728\u8fd9\u4e2a\u9636\u6bb5\u3002\u8fd9\u4fbf\u662f\u6bcf1\u79d2\u949f\u4f1a\u53bb\u547c\u53eb tick \u65b9\u6cd5\n    componentDidMount() {\n        this.interval = setInterval(this.tick, 1000);\n    }\n    // componentWillUnmount \u4e3a component \u751f\u547d\u5468\u671f\u4e2d component \u5373\u5c06\u79fb\u51fa\u63d2\u5165\u7684\u8282\u70b9\u7684\u9636\u6bb5\u3002\u8fd9\u8fb9\u79fb\u9664\u4e86 setInterval \u6548\u529b\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n    // render \u4e3a class Component \u4e2d\u552f\u4e00\u9700\u8981\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u5176\u56de\u4f20 component \u6b32\u663e\u793a\u7684\u5185\u5bb9\n    render() {\n        return <div>Seconds Elapsed: {this.state.secondsElapsed}</div>;\n    }\n}\n\nReactDOM.render(<Timer />, document.getElementById("app"));\n')),(0,l.kt)("h2",{id:"142-state-\u548c\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u533a\u522b"},"14.2. state \u548c\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u533a\u522b"),(0,l.kt)("p",null,"\u5728 state \u4e2d\u7684\u53d8\u91cf\u662f\u548c ui \u6e32\u67d3\u76f8\u5173\u7684, \u603b\u662f\u4f1a\u5728 render() \u4e2d\u4f7f\u7528\u5230"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u7684\u666e\u901a\u5c5e\u6027\u548c state \u4e00\u6837\u4f1a\u5728\u7ec4\u4ef6\u5185\u90e8\u7528\u5230, \u4f46\u662f\u4e0d\u662f\u5728 render() \u4e2d\u4f7f\u7528, \u548c ui \u6e32\u67d3\u65e0\u5173. \u5982: \u7ec4\u4ef6\u4e2d\u7528\u5230\u7684\u5b9a\u65f6\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u521d\u59cb\u5316\n  constructor(props) {\n    super(props);\n    this.state = {}; // state \u53d8\u91cf\n    this.timer = 0; // \u666e\u901a\u5c5e\u6027\n  }\n")),(0,l.kt)("h2",{id:"143-\u5982\u4f55\u66f4\u65b0-state"},"14.3. \u5982\u4f55\u66f4\u65b0 state"),(0,l.kt)("p",null,"\u901a\u8fc7 setState \u65b9\u6cd5, \u6709\u4e24\u79cd\u4f7f\u7528\u65b9\u6cd5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"setState(newState)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"setState((preState, props) => newState)"),(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u540c\u65f6\u4f20\u9012\u4e00\u4e2a callback \u56de\u8c03\u51fd\u6570, setState((preState, props) => newState, callback)"))),(0,l.kt)("p",null,"\u5f53State\u4e2d\u7684\u67d0\u4e2a\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u6211\u4eec\u5e94\u8be5\u91cd\u65b0\u521b\u5efa\u8fd9\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4fee\u6539\u539f\u6765\u7684\u72b6\u6001. \u4e3a\u4ec0\u4e48\u5462"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6709\u5229\u4e8e\u6027\u80fd\u63d0\u5347."),(0,l.kt)("p",{parentName:"li"},"  \u5982\u679c \u6574\u4e2a state \u662f\u53ef\u53d8\u5bf9\u8c61, \u90a3\u4e48\u8bf4\u4e0d\u5b9a\u5728\u54ea\u4e2a\u5730\u65b9\u5c31\u6539\u53d8\u4e86 state, \u9020\u6210\u7ec4\u4ef6\u4e0d\u5fc5\u8981\u7684 \u91cd\u7ed8"),(0,l.kt)("p",{parentName:"li"},"  \u5f53\u5bf9\u8c61\u7ec4\u4ef6\u72b6\u6001\u90fd\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61\u65f6\uff0c\u6211\u4eec\u5728\u7ec4\u4ef6\u7684shouldComponentUpdate\u65b9\u6cd5\u4e2d\uff0c\u4ec5\u9700\u8981\u6bd4\u8f83\u72b6\u6001\u7684\u5f15\u7528\u5c31\u53ef\u4ee5\u5224\u65ad\u72b6\u6001\u662f\u5426\u771f\u7684\u6539\u53d8\uff0c\u4ece\u800c\u907f\u514d\u4e0d\u5fc5\u8981\u7684render\u8c03\u7528\u3002"),(0,l.kt)("p",{parentName:"li"},"  \u6211\u4eec\u4f7f\u7528React \u63d0\u4f9b\u7684PureComponent\u65f6\uff0c\u66f4\u662f\u8981\u4fdd\u8bc1\u7ec4\u4ef6\u72b6\u6001\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u5426\u5219\u5728\u7ec4\u4ef6\u7684shouldComponentUpdate\u65b9\u6cd5\u4e2d\uff0c\u72b6\u6001\u6bd4\u8f83\u5c31\u53ef\u80fd\u51fa\u73b0\u9519\u8bef\uff0c\u56e0\u4e3aPureComponent\u6267\u884c\u7684\u662f\u6d45\u6bd4\u8f83\uff08\u6bd4\u8f83\u5bf9\u8c61\u7684\u5f15\u7528\uff09\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e0d\u53ef\u53d8\u5bf9\u8c61\u65b9\u4fbf\u7ba1\u7406\u548c\u8c03\u8bd5"))),(0,l.kt)("p",null,"\u6240\u4ee5 state \u5e94\u8be5\u662f Immutable \u7684, \u76ee\u524d\u662f\u6211\u4eec\u81ea\u5df1\u4fdd\u8bc1\u5b83\u662f\u4e0d\u53ef\u53d8\u7684, \u540e\u9762\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Immutable.js"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5f53\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5982\u4f55\u521b\u5efa\u65b0\u7684\u72b6\u6001\u5462\uff1f\u6839\u636e\u72b6\u6001\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u5206\u6210\u4e09\u79cd\u60c5\u51b5\uff1a\n\n// 1. \u72b6\u6001\u7684\u7c7b\u578b\u662f\u4e0d\u53ef\u53d8\u7c7b\u578b\uff08\u6570\u5b57\uff0c\u5b57\u7b26\u4e32\uff0c\u5e03\u5c14\u503c\uff0cnull\uff0c undefined\uff09\n\n// \u6700\u7b80\u5355, \u76f4\u63a5\u7ed9\u8981\u4fee\u6539\u7684\u72b6\u6001\u8d4b\u4e00\u4e2a\u65b0\u503c\u5373\u53ef\nthis.setState({\n  count: 1,\n  title: 'Redux',\n  success: true\n})\n\n////////////////////////////////////////////////////////////\n\n// 2. \u72b6\u6001\u7684\u7c7b\u578b\u662f\u6570\u7ec4\n//\u6ce8\u610f\u4e0d\u8981\u4f7f\u7528push\u3001pop\u3001shift\u3001unshift\u3001splice\u7b49\u65b9\u6cd5\u4fee\u6539\u6570\u7ec4\u7c7b\u578b\u7684\u72b6\u6001\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u662f\u5728\u539f\u6570\u7ec4\u7684\u57fa\u7840\u4e0a\u4fee\u6539\uff0c\u800cconcat\u3001slice\u3001filter\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002\n\n\n// \u5982\u6709\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b\u7684\u72b6\u6001books\uff0c\u5f53\u5411books\u4e2d\u589e\u52a0\u4e00\u672c\u4e66\u65f6\uff0c\u4f7f\u7528\u6570\u7ec4\u7684concat\u65b9\u6cd5\u6216ES6\u7684\u6570\u7ec4\u6269\u5c55\u8bed\u6cd5\uff08spread syntax\uff09\uff1a\n\n// \u65b9\u6cd5\u4e00\uff1a\u5c06state\u5148\u8d4b\u503c\u7ed9\u53e6\u5916\u7684\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528concat\u521b\u5efa\u65b0\u6570\u7ec4\nvar books = this.state.books; \nthis.setState({\n  books: books.concat(['React Guide']);\n})\n// \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528preState\u3001concat\u521b\u5efa\u65b0\u6570\u7ec4\nthis.setState(preState => ({\n  books: preState.books.concat(['React Guide']);\n}))\n// \u65b9\u6cd5\u4e09\uff1aES6 spread syntax\nthis.setState(preState => ({\n  books: [...preState.books, 'React Guide'];\n}))\n\n\n// \u5f53\u4ecebooks\u4e2d\u622a\u53d6\u90e8\u5206\u5143\u7d20\u4f5c\u4e3a\u65b0\u72b6\u6001\u65f6\uff0c\u4f7f\u7528\u6570\u7ec4\u7684slice\u65b9\u6cd5\uff1a\n\n// \u65b9\u6cd5\u4e00\uff1a\u5c06state\u5148\u8d4b\u503c\u7ed9\u53e6\u5916\u7684\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528slice\u521b\u5efa\u65b0\u6570\u7ec4\nvar books = this.state.books; \nthis.setState({\n  books: books.slice(1,3);\n})\n// \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528preState\u3001slice\u521b\u5efa\u65b0\u6570\u7ec4\nthis.setState(preState => ({\n  books: preState.books.slice(1,3);\n}))\n\n\n//\u5f53\u4ecebooks\u4e2d\u8fc7\u6ee4\u90e8\u5206\u5143\u7d20\u540e\uff0c\u4f5c\u4e3a\u65b0\u72b6\u6001\u65f6\uff0c\u4f7f\u7528\u6570\u7ec4\u7684filter\u65b9\u6cd5\uff1a\n\n// \u65b9\u6cd5\u4e00\uff1a\u5c06state\u5148\u8d4b\u503c\u7ed9\u53e6\u5916\u7684\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528filter\u521b\u5efa\u65b0\u6570\u7ec4\nvar books = this.state.books; \nthis.setState({\n  books: books.filter(item => {\n    return item != 'React'; \n  });\n})\n// \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528preState\u3001filter\u521b\u5efa\u65b0\u6570\u7ec4\nthis.setState(preState => ({\n  books: preState.books.filter(item => {\n    return item != 'React'; \n  });\n}))\n\n////////////////////////////////////////////////////////////\n\n\n\n// 3. \u72b6\u6001\u7684\u7c7b\u578b\u662f\u666e\u901a\u5bf9\u8c61\uff08\u4e0d\u5305\u542b\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\uff09\n\n\n\n//\u4f7f\u7528ES6 \u7684Object.assgin\u65b9\u6cd5\n\n// \u65b9\u6cd5\u4e00\uff1a\u5c06state\u5148\u8d4b\u503c\u7ed9\u53e6\u5916\u7684\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528Object.assign\u521b\u5efa\u65b0\u5bf9\u8c61\nvar owner = this.state.owner;\nthis.setState({\n  owner: Object.assign({}, owner, {name: 'Jason'});\n})\n// \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528preState\u3001Object.assign\u521b\u5efa\u65b0\u5bf9\u8c61\nthis.setState(preState => ({\n  owner: Object.assign({}, preState.owner, {name: 'Jason'});\n}))\n\n\n// \u4f7f\u7528\u5bf9\u8c61\u6269\u5c55\u8bed\u6cd5\uff08object spread properties\uff09\n\n// \u65b9\u6cd5\u4e00\uff1a\u5c06state\u5148\u8d4b\u503c\u7ed9\u53e6\u5916\u7684\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528\u5bf9\u8c61\u6269\u5c55\u8bed\u6cd5\u521b\u5efa\u65b0\u5bf9\u8c61\nvar owner = this.state.owner;\nthis.setState({\n  owner: {...owner, name: 'Jason'};\n})\n// \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528preState\u3001\u5bf9\u8c61\u6269\u5c55\u8bed\u6cd5\u521b\u5efa\u65b0\u5bf9\u8c61\nthis.setState(preState => ({\n  owner: {...preState.owner, name: 'Jason'};\n}))\n\n")),(0,l.kt)("h2",{id:"144-setstate-\u662f\u4e0d\u662f\u5f02\u6b65\u7684"},"14.4. setState \u662f\u4e0d\u662f\u5f02\u6b65\u7684"),(0,l.kt)("p",null,"\u7ecf\u5178\u4f8b\u5b50:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// demo.js\nclass Demo extends PureComponent {\n  state={\n    count: 0,\n  }\n  // \u94a9\u5b50\u51fd\u6570 (\u5728\u8fd9\u91cc\u662f\u5f02\u6b65\u7684)\n  componentDidMount() {\n    console.log('pre state', this.state.count);\n    this.setState({\n      count: this.state.count + 1\n    });\n    console.log('next state', this.state.count);//\u524d\u540e\u6ca1\u53d8\u5316\n\n    //\u6d4b\u8bd5setTimeout (\u8fd9\u91cc\u662f\u540c\u6b65\u7684)\n    setTimeout(() => {\n      console.log('setTimeout pre state', this.state.count);\n      this.setState({\n        count: this.state.count + 1\n      });\n      console.log('setTimeout next state', this.state.count);// \u524d\u540e\u6709\u53d8\u5316\n    }, 0);\n  }\n\n  onClick = (event) => {\n    // \u6d4b\u8bd5\u5408\u6210\u51fd\u6570 (\u5408\u6210\u4e8b\u4ef6\u89e6\u53d1\u7684\u51fd\u6570) \u4e2dsetState (\u8fd9\u91cc\u662f\u5f02\u6b65\u7684)\n    console.log(`${event.type} pre state`, this.state.count);\n    this.setState({\n      count: this.state.count + 1\n    });\n    console.log(`${event.type} next state`, this.state.count);// \u524d\u540e\u6ca1\u53d8\u5316\n  }\n\n  render() {\n    return <button onClick={this.onClick}>count+1</button>\n  }\n}\n")),(0,l.kt)("p",null,"\u8c03\u7528setState\uff0c\u7ec4\u4ef6\u7684state\u5e76\u4e0d\u4f1a\u7acb\u5373\u6539\u53d8\uff0csetState\u53ea\u662f\u628a\u8981\u4fee\u6539\u7684\u72b6\u6001\u653e\u5165\u4e00\u4e2a\u961f\u5217\u4e2d\uff0cReact\u4f1a\u4f18\u5316\u771f\u6b63\u7684\u6267\u884c\u65f6\u673a\uff0c\u5e76\u4e14 React \u4f1a\u5c06\u591a\u6b21setState\u7684\u72b6\u6001\u4fee\u6539\u5408\u5e76\u6210\u4e00\u6b21\u72b6\u6001\u4fee\u6539. "),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6240\u4ee5\u4e0d\u8981\u4f9d\u8d56\u5f53\u524d\u7684State\uff0c\u8ba1\u7b97\u4e0b\u4e2aState; \u524d\u540e\u4e24\u4e2a state \u5e94\u8be5\u6ca1\u6709\u4efb\u4f55\u8054\u7cfb; \u540c\u6837\u4e0d\u80fd\u4f9d\u8d56\u5f53\u524d\u7684Props\u8ba1\u7b97\u4e0b\u4e2a state\uff0c\u56e0\u4e3aProps\u4e00\u822c\u4e5f\u662f\u4ece\u7236\u7ec4\u4ef6\u7684State\u4e2d\u83b7\u53d6\uff0c\u4f9d\u7136\u65e0\u6cd5\u786e\u5b9a\u83b7\u53d6\u7684\u5f53\u524d props \u5c31\u662f\u6700\u65b0\u7684")),(0,l.kt)("p",null,"==================\u771f\u7684\u662f\u5f02\u6b65\u7684\u5417"),(0,l.kt)("p",null,"setState\u672c\u8eab\u7684\u6267\u884c\u8fc7\u7a0b\u662f\u540c\u6b65\u7684"),(0,l.kt)("p",null,"\u4f46\u662f\u5728react\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"\u5408\u6210\u51fd\u6570 (\u81ea\u5b9a\u4e49\u51fd\u6570)"),"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"\u94a9\u5b50\u51fd\u6570 (\u751f\u547d\u5468\u671f\u51fd\u6570)"),"\u4e2d\u7684 setState() \u4e0d\u4f1a\u7acb\u9a6c\u66f4\u65b0 state\uff0c\u6240\u4ee5\u4e0d\u80fd\u7acb\u5373\u62ff\u5230\u66f4\u65b0\u540e\u7684 state\uff0c\u5f62\u6210\u4e86\u6240\u8c13\u7684\u5f02\u6b65\uff1b"),(0,l.kt)("p",null,"==================\u4e3a\u4ec0\u4e48\u9700\u8981\u6709\u5f02\u6b65\u5462 //todo"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4fdd\u6301 \u548c props \u7684\u4e00\u81f4\u6027"),(0,l.kt)("p",{parentName:"li"},"  \u5c31\u7b97\u8ba9 state \u540c\u6b65\u66f4\u65b0\uff0cprops \u4e5f\u4e0d\u884c\uff0c\u56e0\u4e3a\u5f53\u7236\u7ec4\u4ef6\u91cd\u6e32\u67d3\uff08re-render \uff09\u4e86\u4f60\u624d\u77e5\u9053 props\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6027\u80fd\u4f18\u5316"),(0,l.kt)("p",{parentName:"li"},"  React \u4f1a\u7ed9\u4e0d\u540c\u7684 setState() \u8c03\u7528\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7, \u800c\u4e0d\u662f\u7acb\u9a6c\u66f4\u65b0 state, \u9632\u6b62\u5e76\u53d1\u7684\u52a8\u4f5c\u963b\u585e\u7ebf\u7a0b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u5b9e\u73b0 \u66f4\u65b0 state, \u5728\u5e55\u540e\u6e32\u67d3\u65b0\u7684\u9875\u9762, \u8fd8\u4fdd\u6301\u65e7\u7684\u9875\u9762\u53ef\u4ee5\u4ea4\u4e92"))),(0,l.kt)("p",null,"=======================\u53ef\u4ee5\u662f\u540c\u6b65\u7684\u5417"),(0,l.kt)("p",null,"\u53ef\u4ee5 "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5728\u539f\u751f\u4e8b\u4ef6\u89e6\u53d1\u7684\u51fd\u6570, setTimeout, async\u51fd\u6570\u4e2d\u662f\u540c\u6b65\u7684")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u751f\u547d\u5468\u671f\u51fd\u6570\u548c\u5408\u6210\u51fd\u6570\u4e2d\u90fd\u662f\u5f02\u6b65\u66f4\u65b0"))),(0,l.kt)("h2",{id:"145-setstate-\u66f4\u65b0\u662f\u4e00\u4e2a\u5408\u5e76\u8fc7\u7a0b"},"14.5. setState \u66f4\u65b0\u662f\u4e00\u4e2a\u5408\u5e76\u8fc7\u7a0b"),(0,l.kt)("p",null,"State \u7684\u66f4\u65b0\u662f\u4e00\u4e2a\u6d45\u5408\u5e76\uff08Shallow Merge\uff09\u7684\u8fc7\u7a0b, \u6240\u4ee5 \u5f53\u8c03\u7528setState\u4fee\u6539\u7ec4\u4ef6\u72b6\u6001\u65f6\uff0c\u53ea\u9700\u8981\u4f20\u5165\u53d1\u751f\u6539\u53d8\u7684State\uff0c\u800c\u4e0d\u662f\u7ec4\u4ef6\u5b8c\u6574\u7684State"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// setState \u7b49\u4ef7\u4e8e\nObject.assign(preState, newState)\n\n\n\n// \u4f8b\u5982\n// \u521d\u59cb\u5316 state\nthis.state = {\n  title : 'React',\n  content : 'React is an wonderful JS library!'\n}\n// \u66f4\u65b0 state\nthis.setState({title: 'Reactjs'});\n// \u6700\u7ec8\u5408\u5e76\u540e\u7684 state \u662f\u8fd9\u6837\u7684:\n{\n  title : 'Reactjs',\n  content : 'React is an wonderful JS library!'\n}\n\n\n")),(0,l.kt)("h2",{id:"146-replacestate-\u66f4\u65b0\u662f\u4e00\u4e2a\u66ff\u6362\u8fc7\u7a0b"},"14.6. replaceState \u66f4\u65b0\u662f\u4e00\u4e2a\u66ff\u6362\u8fc7\u7a0b"),(0,l.kt)("p",null,"replaceState()\u65b9\u6cd5\u4e0esetState()\u7c7b\u4f3c\uff0c\u4f46\u662f\u65b9\u6cd5\u53ea\u4f1a\u4fdd\u7559nextState\u4e2d\u72b6\u6001\uff0c\u539fstate\u4e0d\u5728nextState\u4e2d\u7684\u72b6\u6001\u90fd\u4f1a\u88ab\u5220\u9664"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"//\u4f7f\u7528\u8bed\u6cd5\uff1a\nreplaceState(object nextState[, function callback])\n\n// nextState\uff0c\u5c06\u8981\u8bbe\u7f6e\u7684\u65b0\u72b6\u6001\uff0c\u8be5\u72b6\u6001\u4f1a\u6574\u4e2a\u66ff\u6362\u5f53\u524d\u7684state\u3002\n// callback\uff0c\u53ef\u9009\u53c2\u6570\uff0c\u56de\u8c03\u51fd\u6570\u3002\u8be5\u51fd\u6570\u4f1a\u5728replaceState\u8bbe\u7f6e\u6210\u529f\uff0c\u4e14\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u540e\u8c03\u7528\u3002\n")),(0,l.kt)("h1",{id:"15-props-\u5c5e\u6027"},"15. props \u5c5e\u6027"),(0,l.kt)("h2",{id:"151-\u5728-jsx-\u4e2d\u904d\u5386-props"},"15.1. \u5728 jsx \u4e2d\u904d\u5386 props"),(0,l.kt)("p",null,'\u4f7f\u7528 "..." \u904d\u5386 props'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var props = {\n    style: "width:20px",// \u62a5\u9519, \u5b58\u7591; \u53ef\u80fdstyle\u9700\u8981\u5355\u72ec\u4e00\u4e2a\u5bf9\u8c61, \u6216\u8005 <HelloMessage style={{ color: \'#FFFFFF\', fontSize: \'30px\'}} />\n    className: "main",\n    value: "yo",  // \u4f1a\u88ab\u66ff\u6362\n}\n\n<HelloMessage  {...props} value="yo" />\n\n// \u7b49\u4e8e\u4ee5\u4e0b\nReact.createElement("h1", React._spread({}, props, {value: "yo"}), "Hello React!");\n')),(0,l.kt)("h2",{id:"152-proptypes-\u7c7b\u578b\u68c0\u67e5"},"15.2. PropTypes \u7c7b\u578b\u68c0\u67e5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import PropTypes from 'prop-types';\n\nclass Greeting extends React.Component {\n  render() {\n    return (\n      <h1>Hello, {this.props.name}</h1>\n    );\n  }\n}\n\nGreeting.propTypes = {\n  name: PropTypes.string\n\n  // \u9650\u5236\u67d0\u4e2aprops\u4e3ajs\"\u539f\u751f\u7c7b\u578b\"\n  optionalArray: PropTypes.array,\n  optionalBool: PropTypes.bool,\n  optionalFunc: PropTypes.func,\n  optionalNumber: PropTypes.number,\n  optionalObject: PropTypes.object,// \u4e0d\u63a8\u8350\n  optionalString: PropTypes.string,\n  optionalSymbol: PropTypes.symbol,// \u7c7b\u4f3c\u4e8e\u5b57\u7b26\u578b\u7684\u6570\u636e\u7c7b\u578b, \u72ec\u4e00\u65e0\u4e8c\u7684\u503c, \u7ed9object\u65b0\u589e\u5c5e\u6027\u540d\u79f0 let s = Symbol();let s1 = Symbol('s1');(ref:https://www.jianshu.com/p/174f88d189c6)\n\n  // \u4efb\u4f55\u53ef\u88ab\u6e32\u67d3\u7684\u5143\u7d20\uff08\u5305\u62ec\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5b50\u5143\u7d20\u6216\u6570\u7ec4\uff09\u3002\n  optionalNode: PropTypes.node,//  numbers, strings, elements or an array\n\n  // \u4e00\u4e2a React \u5143\u7d20\n  optionalElement: PropTypes.element,// A React element.\n\n  optionalMessage: PropTypes.instanceOf(Message),// \u67d0\u4e2a\u7c7b\u7684\u5b9e\u4f8b\n\n  optionalEnum: PropTypes.oneOf(['News', 'Photos']),// [\u67d0\u4e2a\u7cfb\u5217]\u4e2d\u7684\u4e00\u4e2a, \u7c7b\u4f3c\u679a\u4e3e\u7c7b\u578b\n  optionalUnion: PropTypes.oneOfType([// \u51e0\u79cd\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.instanceOf(Message)\n  ]),\n\n  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),// \u67d0\u79cd\u7c7b\u578b\u7684\u6570\u7ec4\n\n  // \u4e00\u4e2a\u6307\u5b9a\u7c7b\u578b\u7684\u5bf9\u8c61\n  optionalObjectOf: PropTypes.objectOf(PropTypes.number),// \u5bf9\u8c61, \u6240\u6709\u5c5e\u6027\u90fd\u662f\u67d0\u4e00\u7279\u5b9a\u7c7b\u578b\n  // \u4e00\u4e2a\u6307\u5b9a\u5c5e\u6027\u53ca\u5176\u7c7b\u578b\u7684\u5bf9\u8c61\n  optionalObjectWithShape: PropTypes.shape({// \u5bf9\u8c61, \u89c4\u5b9a\u5404\u4e2a\u5c5e\u6027\u4e0d\u540c\u7684\u7c7b\u578b\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n\n  // \u5fc5\u987b\uff0c \u8fd9\u6837\u5982\u679c\u8fd9\u4e2a\u5c5e\u6027\u7236\u7ec4\u4ef6\u6ca1\u6709\u63d0\u4f9b\u65f6\uff0c\u4f1a\u6253\u5370\u8b66\u544a\u4fe1\u606f\n  requiredFunc: PropTypes.func.isRequired,\n  requiredAny: PropTypes.any.isRequired,// any\u4e0d\u63a8\u8350\n\n   // \u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668\u3002\u5b83\u5e94\u8be5\u5728\u9a8c\u8bc1\u5931\u8d25\u65f6\u8fd4\u56de\n  // \u4e00\u4e2a Error \u5bf9\u8c61\u800c\u4e0d\u662f `console.warn` \u6216\u629b\u51fa\u5f02\u5e38\u3002\n  // \u4e0d\u8fc7\u5728 `oneOfType` \u4e2d\u5b83\u4e0d\u8d77\u4f5c\u7528\u3002\n  customProp: function(props, propName, componentName) {// \u81ea\u5b9a\u4e49 validator\n    if (!/matchme/.test(props[propName])) {\n      return new Error(\n        'Invalid prop `' + propName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  },\n  // \u81ea\u5b9a\u4e49 validator to `arrayOf` and `objectOf`.\n  // The validator  will be called for each key in the array or object.\n  // The first two arguments of the validator are the array or object itself, and the current item's key.\n  customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) {\n    if (!/matchme/.test(propValue[key])) {\n      return new Error(\n        'Invalid prop `' + propFullName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  })\n};\n")),(0,l.kt)("p",null,"for example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'//  \u6ce8\u610f\u7ec4\u4ef6\u5f00\u5934\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u90fd\u8981\u5927\u5199\nclass MyComponent extends React.Component {\n    // render \u662f Class based \u7ec4\u4ef6\u552f\u4e00\u5fc5\u987b\u7684\u65b9\u6cd5\uff08method\uff09\n    render() {\n        return <div>Hello, World!</div>;\n    }\n}\n\n// PropTypes \u9a8c\u8bc1\uff0c\u82e5\u4f20\u5165\u7684 props type \u4e0d\u7b26\u5408\u5c06\u4f1a\u663e\u793a\u9519\u8bef\nMyComponent.propTypes = {\n    todo: React.PropTypes.object,\n    name: React.PropTypes.string\n};\n\n// Prop \u9884\u8bbe\u503c\uff0c\u82e5\u5bf9\u5e94 props \u6ca1\u4f20\u5165\u503c\u5c06\u4f1a\u4f7f\u7528 default \u503c\nMyComponent.defaultProps = {\n    todo: {},\n    name: ""\n};\n')),(0,l.kt)("h2",{id:"153-\u5f15\u5165\u7c7b\u578b\u68c0\u67e5\u7684\u5176\u4ed6\u65b9\u6cd5"},"15.3. \u5f15\u5165\u7c7b\u578b\u68c0\u67e5\u7684\u5176\u4ed6\u65b9\u6cd5"),(0,l.kt)("h3",{id:"1531-\u5f15\u5165-typescript"},"15.3.1. \u5f15\u5165 TypeScript"),(0,l.kt)("p",null,"JavaScript \u7684\u8d85\u96c6"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://react-typescript-cheatsheet.netlify.app/docs/basic/setup"},"https://react-typescript-cheatsheet.netlify.app/docs/basic/setup"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/interfaces.html"},"https://www.typescriptlang.org/docs/handbook/interfaces.html")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"npx create-react-app hook-ts-demo --template typescript\n\n")),(0,l.kt)("h3",{id:"1532-flow-\u7c7b\u578b\u68c0\u67e5"},"15.3.2. flow \u7c7b\u578b\u68c0\u67e5"),(0,l.kt)("p",null,"Facebook \u81ea\u5df1\u7684\u5de5\u5177"),(0,l.kt)("h2",{id:"154-\u8bbe\u5b9a-props-\u7684\u9ed8\u8ba4\u503c"},"15.4. \u8bbe\u5b9a props \u7684\u9ed8\u8ba4\u503c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Greeting extends React.Component {\n    render() {\n        return <h1>Hello, {this.props.name}</h1>;\n    }\n}\n\n// Specifies the default values for props:\nGreeting.defaultProps = {\n    name: "Stranger"\n};\n')),(0,l.kt)("p",null,"or"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Greeting extends React.Component {\n    static defaultProps = {\n        name: "stranger"\n    };\n\n    render() {\n        return <div>Hello, {this.props.name}</div>;\n    }\n}\n')),(0,l.kt)("h2",{id:"155-\u6709\u54ea\u4e9b\u5c5e\u6027"},"15.5. \u6709\u54ea\u4e9b\u5c5e\u6027"),(0,l.kt)("p",null,"\u548c react-router \u5408\u4f5c\u65f6\u5019, \u5c06 react-router \u7684 history,location,match \u4e09\u4e2a\u5bf9\u8c61\u7ed1\u5b9a\u5230 props, \u6253\u5370 props :"),(0,l.kt)("h1",{id:"16-refs"},"16. refs"),(0,l.kt)("p",null,"\u8868\u5355\u5904\u7406\u4e0e\u7b2c\u4e09\u65b9 lib \u96c6\u6210"),(0,l.kt)("p",null,"ref \u4ecb\u7ecd\u53c2\u89c1\u6587\u6863: ",(0,l.kt)("a",{parentName:"p",href:"https://react-cn.github.io/react/docs/more-about-refs.html"},"https://react-cn.github.io/react/docs/more-about-refs.html")),(0,l.kt)("p",null,"ref \u5728 redux \u4e2d\u4f7f\u7528: ",(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000015172005"},"https://segmentfault.com/a/1190000015172005")),(0,l.kt)("p",null,"\u548c\u7b2c\u4e09\u65b9 js lib \u96c6\u4e5f\u4f1a\u7528\u5230 Refs"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class MarkdownEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.rawMarkup = this.rawMarkup.bind(this);\n        this.state = {\n            value: "Type some *markdown* here!"\n        };\n    }\n    // \u53e6\u4e00\u79cd\u5904\u7406\u65b9\u6cd5\u662f: \u501f\u52a9 onChange(event), \u901a\u8fc7 event.target.value \u62ff\u5230\u5b9e\u7684\u503cd\n    handleChange() {\n        this.setState({ value: this.refs.textarea.value });\n    }\n    // \u5c06\u4f7f\u7528\u8005\u8f93\u5165\u7684 Markdown \u8bed\u6cd5 parse \u6210 HTML \u653e\u5165 DOM \u4e2d\uff0cReact \u901a\u5e38\u4f7f\u7528 virtual DOM \u4f5c\u4e3a\u548c DOM \u6c9f\u901a\u7684\u4e2d\u4ecb\uff0c\u4e0d\u5efa\u8bae\u76f4\u63a5\u64cd\u4f5c DOM\u3002\u6545\u4f7f\u7528\u65f6\u7684\u5c5e\u6027\u4e3a dangerouslySetInnerHTML\n    rawMarkup() {\n        const md = new Remarkable();\n        return { __html: md.render(this.state.value) };\n    }\n    render() {\n        return (\n            <div className="MarkdownEditor">\n                <h3>Input</h3>\n                <textarea\n                    onChange={this.handleChange}\n                    // ref \u53ef\u4ee5\u662f\u4e00\u4e2aid, \u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\n                    ref="textarea"\n                    defaultValue={this.state.value}\n                />\n                <h3>Output</h3>\n                <div\n                    className="content"\n                    dangerouslySetInnerHTML={this.rawMarkup()}\n                />\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<MarkdownEditor />, document.getElementById("app"));\n')),(0,l.kt)("h1",{id:"17-\u5408\u6210\u4e8b\u4ef6"},"17. \u5408\u6210\u4e8b\u4ef6"),(0,l.kt)("p",null,"react\u4e3a\u4e86\u89e3\u51b3\u8de8\u5e73\u53f0\uff0c\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u81ea\u5df1\u5c01\u88c5\u4e86\u4e00\u5957\u4e8b\u4ef6\u673a\u5236\uff0c\u4ee3\u7406\u4e86\u539f\u751f\u7684\u4e8b\u4ef6\uff0c\u50cf\u5728jsx\u4e2d\u5e38\u89c1\u7684onClick\u3001onChange\u8fd9\u4e9b\u90fd\u662f\u5408\u6210\u4e8b\u4ef6"),(0,l.kt)("p",null,"demo: TodoList app"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// TodoApp \u7ec4\u4ef6\u4e2d\u5305\u542b\u4e86\u663e\u793a Todo \u7684 TodoList \u7ec4\u4ef6\uff0cTodo \u7684\u5185\u5bb9\u900f\u8fc7 props \u4f20\u5165 TodoList \u4e2d\u3002\u7531\u4e8e TodoList \u4ec5\u5355\u7eaf Render UI \u4e0d\u6d89\u53ca\u5185\u90e8 state \u64cd\u4f5c\u662f stateless component\uff0c\u6240\u4ee5\u4f7f\u7528 Functional Component \u5199\u6cd5\u3002\n\n// \u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\u7528 map function \u6765\u8fed\u4ee3 Todos\uff0c\u9700\u8981\u7559\u610f\u7684\u662f\u6bcf\u4e2a\u8fed\u4ee3\u7684\u5143\u7d20\u5fc5\u987b\u8981\u6709 unique key \u4e0d\u7136\u4f1a\u53d1\u751f\u9519\u8bef\uff08\u53ef\u4ee5\u7528\u81ea\u5b9a\u4e49 id\uff0c\u6216\u662f\u4f7f\u7528 map function \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 index\uff09\n\nconst TodoList = props => (\n    <ul>\n        {props.items.map(item => (\n            <li key={item.id}>{item.text}</li>\n        ))}\n    </ul>\n);\n\n// \u6574\u4e2a App \u7684\u4e3b\u8981\u7ec4\u4ef6\n\n// \u600e\u4e48\u83b7\u53d6input\u8868\u5355\u9879\u7684value, \u6709\u591a\u79cd\u65b9\u6cd5, \u8fd9\u662f\u7b2c\u4e00\u79cd: \u501f\u52a9 onchange\u4e8b\u4ef6\u548cstate\n\nclass TodoApp extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onChange = this.onChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            items: [],\n            text: ""\n        };\n    }\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n    handleSubmit(e) {\n        e.preventDefault();\n        const nextItems = this.state.items.concat([\n            { text: this.state.text, id: Date.now() }\n        ]);\n        const nextText = "";\n        this.setState({ items: nextItems, text: nextText });\n    }\n    render() {\n        return (\n            <div>\n                <h3>TODO</h3>\n                <TodoList items={this.state.items} />\n                <form onSubmit={this.handleSubmit}>\n                    <input onChange={this.onChange} value={this.state.text} />\n                    <button>{"Add #" + (this.state.items.length + 1)}</button>\n                </form>\n            </div>\n        );\n    }\n}\n\n// \u7b2c\u4e8c\u79cd\u83b7\u53d6input\u503c\u7684\u65b9\u6cd5: \u501f\u52a9 submit\u4e8b\u4ef6\n\nclass MyOwnListApp extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: []\n        };\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n    render() {\n        return (\n            <div>\n                <h3>MyOwnListApp</h3>\n                <MyOwnList items={this.state.items}></MyOwnList>\n                <form onSubmit={this.onSubmit}>\n                    <input type="text" />\n                    <button>submit</button>\n                </form>\n            </div>\n        );\n    }\n    onSubmit(event) {\n        event.preventDefault();\n        /* this.state.items.push([{// \u8fd9\u6837\u5b50ui\u4e0d\u4f1a\u81ea\u52a8redraw\n            id: Date.now(),\n            value: event.target[0].value\n        }]); */\n        this.setState({\n            // \u73b0\u5728\u624d\u4f1aauto redraw\n            items: this.state.items.concat([\n                {\n                    id: Date.now(),\n                    value: event.target[0].value\n                }\n            ])\n        });\n        event.target[0].value = ""; // \u6e05\u7a7a\n    }\n}\n\nReactDOM.render(<TodoApp />, document.getElementById("app"));\n')),(0,l.kt)("p",null,"\u4e5f\u53ef\u4ee5\u81ea\u5df1\u7ed1\u5b9a\u539f\u751f\u4e8b\u4ef6:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'//\u624b\u52a8\u7ed1\u5b9amousedown\u4e8b\u4ef6\n    ReactDom.findDOMNode(this).addEventListener(\n      "mousedown",\n      this.onClick.bind(this)\n    );\n')),(0,l.kt)("h1",{id:"18-\u72b6\u6001\u7ba1\u7406"},"18. \u72b6\u6001\u7ba1\u7406"),(0,l.kt)("p",null,"Data Flow \u548c Flux/Redux"),(0,l.kt)("p",null,"Flux \u67b6\u6784: \u4e00\u79cd\u65b9\u4fbf\u5e94\u7528\u72b6\u6001\u7ba1\u7406\u7684\u67b6\u6784 -- \u201c\u5355\u5411\u6570\u636e\u6d41\u201d, \u662f React \u63a8\u5d07\u7684\u4e00\u79cd\u5e94\u7528\u67b6\u6784\u7684\u65b9\u5f0f, app \u8db3\u591f\u590d\u6742\u624d\u80fd\u4f53\u73b0\u65b9\u4fbf (React \u672c\u8eab\u53ea\u6d89\u53ca UI \u5c42\uff0c\u5982\u679c\u642d\u5efa\u5927\u578b\u5e94\u7528\uff0capp \u7684 state, \u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1 \u4f1a\u53d8\u5f97\u65e0\u6bd4\u590d\u6742, \u8fd9\u65f6 Flux \u67b6\u6784\u5c31\u6709\u4e86\u7528\u6b66\u4e4b\u5730)."),(0,l.kt)("p",null,'\u6838\u5fc3\u601d\u60f3: \u5f53 view \u4e0a\u7528\u6237\u53d1\u751f\u4e86\u64cd\u4f5c, app \u4f1a\u901a\u8fc7 "Action Creator" \u521b\u5efa\u4e00\u4e2a "Action", \u901a\u8fc7 "Dispatcher" \u5206\u53d1\u51fa\u53bb, \u7531 "Store" \u8fdb\u884c\u5904\u7406. "Store" \u548c "View" \u662f\u7ed1\u5b9a\u7684,Store \u4ea7\u751f\u53d8\u5316,View \u4e5f\u4f1a\u540c\u6b65\u53d8\u5316'),(0,l.kt)("p",null,"Redux: \u662f flux \u67b6\u6784\u7684\u4e00\u4e2a\u5177\u4f53\u5b9e\u73b0\uff0c \u5c06 Flux \u67b6\u6784 \u4e0e\u51fd\u6570\u5f0f\u7f16\u7a0b\u7ed3\u5408\u4e00\u8d77"),(0,l.kt)("p",null,"\u540c\u7c7b: mobx ,Reflux,Flummox\u3002"),(0,l.kt)("p",null,'\u540c\u65f6, \u5982\u679c app \u6bd4\u8f83\u7b80\u5355, \u662f\u4e0d\u9700\u8981\u7684 redux \u6765\u7ba1\u7406 state \u7684, redux \u53ea\u9002\u7528\u4e8e"\u591a\u4ea4\u4e92\u3001\u591a\u6570\u636e\u6e90"\u7684\u60c5\u51b5'),(0,l.kt)("h2",{id:"181-flux-\u67b6\u6784\u7684\u601d\u60f3"},"18.1. flux \u67b6\u6784\u7684\u601d\u60f3"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/33864532/answer/57667838"},"https://www.zhihu.com/question/33864532/answer/57667838")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"  \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557       \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557       \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n  \u2551 Actions \u2551\u2500\u2500\u2500\u2500\u2500\u2500>\u2551 Stores \u2551\u2500\u2500\u2500\u2500\u2500\u2500>\u2551 View Components \u2551\n  \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d       \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d       \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n       ^                                      \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"\u5c06\u5404\u4e2a\u7ec4\u4ef6\u7684 state \u96c6\u4e2d\u5230 Store, \u7edf\u4e00\u7ba1\u7406, \u5404\u4e2a\u7ec4\u4ef6\u548c Store \u4ea4\u4e92, \u7b80\u5316\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1"),(0,l.kt)("p",null,"View \u5c42\u4e0d\u80fd\u76f4\u63a5\u5bf9 state \u8fdb\u884c\u64cd\u4f5c\uff0c\u800c\u9700\u8981\u4f9d\u8d56 Actions \u6d3e\u53d1\u6307\u4ee4\u6765\u544a\u77e5 Store \u4fee\u6539\u72b6\u6001\uff0cStore \u63a5\u6536 Actions \u6307\u4ee4\u540e\u53d1\u751f\u76f8\u5e94\u7684\u6539\u53d8\uff0cView \u5c42\u540c\u65f6\u8ddf\u7740 Store \u7684\u53d8\u5316\u800c\u53d8\u5316"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1aA \u7ec4\u4ef6\u8981\u4f7f B \u7ec4\u4ef6\u53d1\u751f\u53d8\u5316\u3002\u9996\u5148\uff0cA \u7ec4\u4ef6\u9700\u8981\u5c06\u8fd9\u4e2a\u610f\u56fe\u5c01\u88c5\u4e3a\u4e00\u4e2a action \u6267\u884c\uff0c\u544a\u77e5\u7ed1\u5b9a B \u7ec4\u4ef6\u7684 Store \u53d1\u751f\u53d8\u5316\uff0cStore \u63a5\u6536\u5230\u6d3e\u53d1\u7684\u6307\u4ee4\u540e\u6539\u53d8\uff0c\u90a3\u76f8\u5e94\u7684 B \u7ec4\u4ef6\u7684\u89c6\u56fe\u4e5f\u5c31\u53d1\u751f\u4e86\u6539\u53d8\u3002\u5047\u5982 C\uff0cD\uff0cE\uff0cF \u7ec4\u4ef6\u7ed1\u5b9a\u4e86\u548c B \u7ec4\u4ef6\u76f8\u540c\u7684 Store\uff0c\u90a3\u4e48 C\uff0cD\uff0cE\uff0cF \u4e5f\u4f1a\u8ddf\u7740\u53d8\u5316\u3002"),(0,l.kt)("h2",{id:"182-flux-\u5b98\u65b9\u5b9e\u73b0"},"18.2. Flux \u5b98\u65b9\u5b9e\u73b0"),(0,l.kt)("p",null,"Advantages:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u5feb\u901f\u4e86\u89e3\u6574\u4e2a App \u4e2d\u7684\u884c\u4e3a(\u5728 store \u4e2d\u770b\u5c31\u884c\u4e86)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6570\u636e\u548c\u4e1a\u52a1\u903b\u8f91\u7edf\u4e00\u5b58\u653e\u597d\u7ba1\u7406")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8ba9 View \u5355\u7eaf\u5316\u53ea\u8d1f\u8d23 UI \u7684\u6392\u7248\u4e0d\u9700\u8d1f\u8d23 state \u7ba1\u7406"))),(0,l.kt)("p",null,"Disadvantages:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ee3\u7801\u5fd2\u590d\u6742\u4e86, \u5199 \u270d \u5c0f\u5e94\u7528\u4e0d\u5408\u7b97")),(0,l.kt)("p",null,"\u6709\u54ea\u4e9b\u6982\u5ff5?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"actions \uff1a\u4e00\u4e9b\u5217\u52a8\u4f5c(\u5c31\u662f\u51fd\u6570), \u8d1f\u8d23\u5b9a\u4e49\u6240\u6709\u6539\u53d8 state\uff08\u72b6\u6001\uff09\u7684\u884c\u4e3a\uff0c\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5feb\u901f\u4e86\u89e3 App \u7684\u5404\u79cd\u529f\u80fd\uff0c\u82e5\u4f60\u60f3\u6539\u53d8 state \u4f60\u53ea\u80fd\u53d1 action\u3002\u6ce8\u610f action \u53ef\u4ee5\u662f\u540c\u6b65\u6216\u662f\u975e\u540c\u6b65")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Dispatcher : \u662f Flux \u67b6\u6784\u7684\u6838\u5fc3\uff0c\u6bcf\u4e2a App \u53ea\u6709\u4e00\u4e2a Dispatcher\uff0c\u5e76\u8d1f\u8d23\u5411\u6240\u6709 store \u53d1\u9001 action \u4e8b\u4ef6(store.dispatch())")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Store: \u4e00\u4e2a App \u901a\u5e38\u4f1a\u6709\u591a\u4e2a store \u8d1f\u8d23\u5b58\u653e\u4e1a\u52a1\u903b\u8f91\uff0c\u6839\u636e\u4e0d\u540c\u4e1a\u52a1\u4f1a\u6709\u4e0d\u540c store; store \u8d1f\u8d23\u64cd\u4f5c\u548c\u50a8\u5b58\u6570\u636e(state);"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u503c\u5f97\u6ce8\u610f\u7684\u662f store \u53ea\u63d0\u4f9b getter API \u8bfb\u53d6\u8d44\u6599\uff0c\u82e5\u60f3\u6539\u53d8 state \u4e00\u5f8b\u53d1\u9001 action;")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u63d0\u4f9b API \u8ba9 store \u53ef\u4ee5\u6ce8\u518c callback function(\u5c31\u662f\u6ce8\u518c listener, \u6307\u5b9a state \u6539\u53d8\u7684\u56de\u8c03\u51fd\u6570(\u4e00\u822c\u662f setState()\u89e6\u53d1 redraw), EventEmitter.on(actionType, callbackFn))\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u9700\u8981\u5728 store \u91cc, \u901a\u8fc7 AppDispatcher.register(fn) \u6ce8\u518c\u5904\u7406 action \u7684\u51fd\u6570(\u56e0\u4e3a store \u6a21\u5757\u8fd9\u91cc\u624d\u80fd\u76f4\u63a5\u8bbf\u95ee store \u5185\u90e8\u7684 state), \u5904\u7406\u5b8c\u6bd5, \u901a\u8fc7 EventEmitter.emit(actionType) \u89e6\u53d1 listener")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"View: \u8fd9\u90e8\u4efd\u662f React \u8d1f\u8d23\u7684\u8303\u7574\uff0c\u8d1f\u8d23\u63d0\u4f9b\u76d1\u542c\u4e8b\u4ef6\u7684 callback function\uff0c\u5f53\u4e8b\u4ef6\u53d1\u751f\u65f6\u91cd\u65b0\u53d6\u5f97\u6570\u636e\u5e76\u91cd\u7ed8 View"))),(0,l.kt)("h2",{id:"183-redux"},"18.3. Redux"),(0,l.kt)("h3",{id:"1831-\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528-redux"},"18.3.1. \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528 redux"),(0,l.kt)("p",null,"\u4e0b\u56fe\u5c55\u793a\u4e86\u4f7f\u7528 redux \u548c\u4e0d\u4f7f\u7528 redux \u65f6, state \u548c\u7ec4\u4ef6\u95f4\u7684\u4ea4\u4e92\u5173\u7cfb:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6574\u5408\u4e86 react-redux \u540e\uff0c\u6211\u4eec\u7684 React App \u5c31\u53ef\u4ee5\u89e3\u51b3\u4f20\u7edf\u8de8 Component \u4e4b\u95f4\u4f20\u9012 state \u7684\u95ee\u9898\u548c\u56f0\u96be\u3002\u53ea\u8981\u901a\u8fc7 Provider \u5c31\u53ef\u4ee5\u8ba9\u6bcf\u4e2a React App \u4e2d\u7684 Component \u53d6\u7528 store \u4e2d\u7684 state\uff0c\u975e\u5e38\u65b9\u4fbf"),(0,l.kt)("li",{parentName:"ul"},"\u6570\u636e\u548c\u4e1a\u52a1\u903b\u8f91\u653e\u5230\u4e86\u4e00\u4e2a\u5730\u65b9, \u4e00\u76ee\u4e86\u7136")),(0,l.kt)("h3",{id:"1832-\u57fa\u672c\u6982\u5ff5"},"18.3.2. \u57fa\u672c\u6982\u5ff5"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html"},"http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"State: Store \u5bf9\u8c61\u53ef\u4ee5\u5305\u542b\u591a\u4e2a \u8282\u70b9 \u3002\u5982\u679c\u60f3\u5f97\u5230\u67d0\u4e2a\u65f6\u523b\u7684\u6570\u636e\uff0c\u5c31\u8981\u5bf9 Store \u751f\u6210\u5feb\u7167\u3002\u8fd9\u79cd\u65f6\u95f4\u5207\u7247\u7684\u6570\u636e\u96c6\u5408\uff0c\u5c31\u53eb\u505a State;"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5176\u672c\u8d28\u5c31\u662f\u4e00\u4e2a js \u5bf9\u8c61, ",(0,l.kt)("inlineCode",{parentName:"p"},"const state = store.getState();")," \u53ef\u4ee5\u5f97\u5230\u5f53\u524d\u65f6\u523b\u7684 state"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n  counter: 0,\n  todos: [] // \u5f85\u529e\u9879\n}\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e00\u4e2a State \u5bf9\u5e94\u4e00\u4e2a View\u3002\u53ea\u8981 State \u76f8\u540c\uff0cView \u5c31\u76f8\u540c.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u82e5\u8981\u6539\u53d8 state\uff0c\u5fc5\u987b dispatch \u4e00\u4e2a action")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Action: \u5c31\u662f View \u53d1\u51fa\u7684\u901a\u77e5\uff0c\u8868\u793a State \u5e94\u8be5\u8981\u53d1\u751f\u53d8\u5316\u4e86"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'\u672c\u8d28\u5c31\u662f\u4e00\u4e2a js \u5bf9\u8c61, \u4f46\u662f\u4e00\u5b9a\u8981\u5305\u542b"type "\u5c5e\u6027, \u5176\u4ed6\u6ca1\u6709\u8981\u6c42, \u4f46\u662f\u4e5f\u6709\u89c4\u8303'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n  type: 'ADD_TODO',\n  payload: {\n    id: 1,\n    content: '\u5f85\u529e\u4e8b\u98791',\n    completed: false\n  }\n}\n")),(0,l.kt)("p",{parentName:"li"},"\u5982\u679c\u9700\u8981\u65b0\u589e\u4e00\u4e2a todo \u9879\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06 payload \u5199\u5165\u5230 state.todos \u6570\u7ec4\u4e2d")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Action Creator: \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u6765\u751f\u6210 Action"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u793a\u4f8b:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var id = 1;\nfunction addTodo(content) {\n    return {\n        type: "ADD_TODO",\n        payload: {\n            id: id++,\n            content: content, // \u5f85\u529e\u4e8b\u9879\u5185\u5bb9\n            completed: false // \u662f\u5426\u5b8c\u6210\u7684\u6807\u8bc6\n        }\n    };\n}\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Action Creator \u53ef\u4ee5\u662f\u540c\u6b65\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u5f02\u6b65\u7684")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Reducer: Store \u6536\u5230 Action \u4ee5\u540e\uff0c\u5fc5\u987b\u7ed9\u51fa\u4e00\u4e2a\u65b0\u7684 State\uff0c\u8fd9\u6837 View \u624d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u79cd State \u7684\u8ba1\u7b97\u8fc7\u7a0b\u5c31\u53eb\u505a Reducer\u3002"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Reducer \u5fc5\u987b\u662f\u540c\u6b65\u7684\u7eaf\u51fd\u6570\uff0c\u5b83\u63a5\u53d7 Action \u548c\u5f53\u524d State \u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 State(Reducer \u51fd\u6570\u91cc\u9762\u4e0d\u80fd\u6539\u53d8 State\uff0c\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5168\u65b0\u7684\u5bf9\u8c61)\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"store.dispatch(action)\u4e4b\u540e, \u4f1a\u89e6\u53d1 reducer \u6267\u884c(\u521b\u5efa store \u65f6\u5019, \u5c06 reducer \u4f20\u5165\u4e86)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6700\u597d\u628a State \u5bf9\u8c61\u8bbe\u6210\u53ea\u8bfb\u3002\u4f60\u6ca1\u6cd5\u6539\u53d8\u5b83\uff0c\u8981\u5f97\u5230\u65b0\u7684 State\uff0c\u552f\u4e00\u529e\u6cd5\u5c31\u662f\u751f\u6210\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4efb\u4f55\u65f6\u5019\uff0c\u4e0e\u67d0\u4e2a View \u5bf9\u5e94\u7684 State \u603b\u662f\u4e00\u4e2a\u4e0d\u53d8\u7684\u5bf9\u8c61"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"(\u53ef\u4ee5\u501f\u52a9 ImutableJs \u5e93)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u4f7f\u7528 lodash \u7684 cloneDeep")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e5f\u53ef\u4ee5\u4f7f\u7528 Object.assign / map / filter/ ... \u7b49\u8fd4\u56de\u526f\u672c\u7684\u51fd\u6570")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u793a\u4f8b:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var initState = {\n    counter: 0,\n    todos: []\n};\n\nfunction reducer(state, action) {\n    // \u203b \u5e94\u7528\u7684\u521d\u59cb\u72b6\u6001\u662f\u5728\u7b2c\u4e00\u6b21\u6267\u884c reducer \u65f6\u8bbe\u7f6e\u7684 \u203b\n    if (!state) state = initState;\n\n    switch (action.type) {\n        case "ADD_TODO":\n            var nextState = _.cloneDeep(state); // \u7528\u5230\u4e86 lodash \u7684\u6df1\u514b\u9686\n            nextState.todos.push(action.payload);\n            return nextState;\n\n        default:\n            // \u7531\u4e8e nextState \u4f1a\u628a\u539f state \u6574\u4e2a\u66ff\u6362\u6389\n            // \u82e5\u65e0\u4fee\u6539\uff0c\u5fc5\u987b\u8fd4\u56de\u539f state\uff08\u5426\u5219\u5c31\u662f undefined\uff09\n            return state;\n    }\n}\n')))))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Redux \u6570\u636e\u6d41\u7684\u6a21\u578b\u5927\u81f4\u4e0a\u53ef\u4ee5\u7b80\u5316\u6210\uff1a\u9996\u5148\uff0c\u7528\u6237\u548c view \u4ea4\u4e92\u53d1\u51fa Action (\u5305\u542b type, data \u8fd9\u4e24\u4e2a\u57fa\u672c\u5c5e\u6027): ",(0,l.kt)("inlineCode",{parentName:"p"},"store.dispatch(action);"),"\u7136\u540e\uff0cStore \u81ea\u52a8\u8c03\u7528 Reducer (\u5373\u5904\u7406 action \u7684\u51fd\u6570)\uff0c\u5e76\u4e14\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff1a\u5f53\u524d State \u548c\u6536\u5230\u7684 Action\u3002 Reducer \u4f1a\u8fd4\u56de\u65b0\u7684 State : ",(0,l.kt)("inlineCode",{parentName:"p"},"let nextState = todoApp(previousState, action);")," State \u4e00\u65e6\u6709\u53d8\u5316\uff0cStore \u5c31\u4f1a\u8c03\u7528\u76d1\u542c\u51fd\u6570, \u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"store.subscribe(listener);")," \u4e2d\u7684 listener, listener \u53ef\u4ee5\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"store.getState()"),"\u5f97\u5230\u5f53\u524d\u72b6\u6001\u7136\u540e set \u56de\u53bb, \u5982\u679c\u4f7f\u7528\u7684\u662f React\uff0c\u8fd9\u65f6\u53ef\u4ee5\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3 View\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Web \u5e94\u7528\u662f\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u89c6\u56fe\u4e0e\u72b6\u6001\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6240\u6709\u7684\u72b6\u6001\uff0c\u4fdd\u5b58\u5728\u4e00\u4e2a\u5bf9\u8c61\u91cc\u9762 (Store)\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6b64\u5916, redux \u6709 synchronous\uff08\u540c\u6b65\uff09\u7684\u60c5\u5f62\uff0casynchronous\uff08\u975e\u540c\u6b65\uff09\u60c5\u5f62")),(0,l.kt)("h3",{id:"1833-\u57fa\u672c-api"},"18.3.3. \u57fa\u672c api"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/kenberkeley/redux-simple-tutorial/blob/master/redux-advanced-tutorial.md"},"https://github.com/kenberkeley/redux-simple-tutorial/blob/master/redux-advanced-tutorial.md")),(0,l.kt)("h4",{id:"18331-store"},"18.3.3.1. store"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"const store = createStore(reducer)")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"getState()"),(0,l.kt)("li",{parentName:"ul"},"dispatch(action)"),(0,l.kt)("li",{parentName:"ul"},"subscribe(listener)")),(0,l.kt)("p",null,"\u4e0b\u9762\u770b\u770b\u8be6\u7ec6\u89e3\u91ca:"),(0,l.kt)("p",null,"Store: Redux \u53ea\u6709\u4e00\u4e2a Store \u8d1f\u8d23\u5b58\u653e\u6574\u4e2a App \u7684 State, \u4e00\u4e2a Store \u53ef\u4ee5\u5305\u542b\u591a\u4e2a state \u8282\u70b9, \u4e00\u4e2a state \u8282\u70b9 \u5bf9\u5e94\u4e00\u4e2a reducer; \u552f\u4e00\u80fd\u6539\u53d8 State \u7684\u65b9\u6cd5\u53ea\u6709\u901a\u8fc7 store \u53d1\u9001 action\u3002"),(0,l.kt)("p",null,"\u600e\u4e48\u521b\u5efa?"),(0,l.kt)("p",null,"createStore(reducer, ","[preloadedState]",", ","[enhancer]",") \u751f\u6210 store, \u5e38\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"const store = createStore(reducer);")," createStore \u51fd\u6570\u63a5\u53d7\u53e6\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u65b0\u751f\u6210\u7684 Store \u5bf9\u8c61"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e00\u4e2a\u53c2\u6570\u653e\u5165\u6211\u4eec\u7684 reducer \u6216\u662f\u6709\u591a\u4e2a reducers combine\uff08\u4f7f\u7528 combineReducers()\uff09\u5728\u4e00\u8d77\u7684 rootReducers\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6211\u4eec\u4f1a\u653e\u5165\u5e0c\u671b\u9884\u5148\u8f7d\u5165\u7684 state \u4f8b\u5982\uff1auser session \u7b49\u3002(\u5982\u679c\u63d0\u4f9b\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u5b83\u4f1a\u8986\u76d6 Reducer \u51fd\u6570\u7684\u9ed8\u8ba4\u521d\u59cb\u503c\u3002) \u4e3b\u8981\u7528\u4e8e\u524d\u540e\u7aef\u540c\u6784\u65f6\u7684\u6570\u636e\u540c\u6b65")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7b2c\u4e09\u4e2a\u53c2\u6570\u901a\u5e38\u4f1a\u653e\u5165\u6211\u4eec\u60f3\u8981\u4f7f\u7528\u7528\u6765\u589e\u5f3a Redux \u529f\u80fd\u7684 middlewares\uff0c\u82e5\u6709\u591a\u4e2a middlewares \u7684\u8bdd\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528 applyMiddleware \u6765\u6574\u5408\u3002"))),(0,l.kt)("p",null,"\u770b\u770b\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import { createStore } from 'redux'\n...\nconst store = createStore(reducer, initialState) // initialState \u4e3b\u8981\u7528\u4e8e\u524d\u540e\u7aef\u540c\u6784\u7684\u6570\u636e\u540c\u6b65\uff08\u8be6\u60c5\u8bf7\u5173\u6ce8 React \u670d\u52a1\u7aef\u6e32\u67d3\uff09\n")),(0,l.kt)("p",null,"\u5c5e\u4e8e Store \u7684\u56db\u4e2a\u65b9\u6cd5:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"getState() \u83b7\u53d6\u5f53\u524d\u65f6\u523b\u7684 state")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"dispatch(action) View \u53d1\u51fa Action \u7684\u552f\u4e00\u65b9\u6cd5"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5185\u90e8\u4f1a\u89e6\u53d1 Reducer \u7684\u6267\u884c, \u4e3a\u6b64, Store \u9700\u8981\u77e5\u9053 Reducer \u51fd\u6570, \u505a\u6cd5\u5c31\u662f\u5728\u751f\u6210 Store \u7684\u65f6\u5019, \u5c06 Reducer \u4f20\u5165 createStore \u65b9\u6cd5."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"subscribe(listener) \u8bbe\u7f6e\u76d1\u542c\u51fd\u6570\uff0c\u4e00\u65e6 State \u53d1\u751f\u53d8\u5316\uff0c\u5c31\u81ea\u52a8\u6267\u884c\u8fd9\u4e2a\u51fd\u6570"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ea\u8981\u628a View \u7684\u66f4\u65b0\u51fd\u6570\uff08\u5bf9\u4e8e React \u9879\u76ee\uff0c\u5c31\u662f\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u6216 setState \u65b9\u6cd5\uff09\u653e\u5165 listen\uff0c\u5c31\u4f1a\u5b9e\u73b0 View \u7684\u81ea\u52a8\u6e32\u67d3\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"store.subscribe \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u89e3\u9664\u76d1\u542c\u3002")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"replaceReducer(nextReducer) \u4e00\u822c\u5728 Webpack Code-Splitting \u6309\u9700\u52a0\u8f7d\u7684\u65f6\u5019\u7528"))),(0,l.kt)("h4",{id:"18332-reducer"},"18.3.3.2. reducer"),(0,l.kt)("p",null,"reducer \u5c31\u662f\u4e00\u4e2a\u51fd\u6570, \u63a5\u6536 old state \u548c action, \u751f\u6210 new state;"),(0,l.kt)("p",null,"combineReducers\uff1acombineReducers(reducers) , combineReducers \u53ef\u4ee5\u5c06\u591a\u4e2a reducers \u8fdb\u884c\u6574\u5408\u5e76\u56de\u4f20\u4e00\u4e2a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import { combineReducers } from 'redux';\n\n// \u8fd9\u79cd\u5199\u6cd5\u6709\u4e00\u4e2a\u524d\u63d0\uff0c\u5c31\u662f State \u7684\u5c5e\u6027\u540d\u5fc5\u987b\u4e0e\u5b50 Reducer \u540c\u540d\nconst chatReducer = combineReducers({\n  chatLog,\n  statusMessage,\n  userName\n})\n\n// \u5982\u679c\u4e0d\u540c\u540d\uff0c\u5c31\u8981\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\n// \u6839\u636e State \u7684 key \u53bb\u6267\u884c\u76f8\u5e94\u7684\u5b50 Reducer\uff0c\u5e76\u5c06\u8fd4\u56de\u7ed3\u679c\u5408\u5e76\u6210\u4e00\u4e2a\u5927\u7684 State \u5bf9\u8c61\u3002\nconst reducer = combineReducers({\n  a: doSomethingWithA,\n  b: processB,`\n  c: c\n})\n// \u7b49\u540c\u4e8e\nfunction reducer(state = {}, action) {\n  return {\n    a: doSomethingWithA(state.a, action),\n    b: processB(state.b, action),\n    c: c(state.c, action)\n  }\n}\n\nexport default todoApp;\n")),(0,l.kt)("h4",{id:"18333-applymiddleware"},"18.3.3.3. applyMiddleware"),(0,l.kt)("p",null,"redux \u63d0\u4f9b\u7684\u5de5\u5177\u51fd\u6570"),(0,l.kt)("p",null,"applyMiddleware(...middlewares) \u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u5728 req \u548c res \u4e4b\u95f4\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\u3002\u5728 Redux \u4e2d Middleware \u5219\u662f\u626e\u6f14 action \u5230\u8fbe reducer \u524d\u7684\u7b2c\u4e09\u65b9\u6269\u5145\u3002\u800c applyMiddleware \u53ef\u4ee5\u5c06\u591a\u4e2a middlewares \u6574\u5408\u5e76\u56de\u4f20\u4e00\u4e2a Function\uff0c\u4fbf\u4e8e\u4f7f\u7528\u3002"),(0,l.kt)("h4",{id:"18334-bindactioncreators"},"18.3.3.4. bindActionCreators"),(0,l.kt)("p",null,"\u5de5\u5177\u51fd\u6570"),(0,l.kt)("p",null,"bindActionCreators(actionCreators, dispatch) bindActionCreators \u53ef\u4ee5\u5c06 actionCreators \u548c dispatch \u7ed1\u5b9a\uff0c\u5e76\u56de\u4f20\u4e00\u4e2a Function \u3002\u4f46\u82e5\u662f\u4f7f\u7528 react-redux \u53ef\u4ee5\u7528 connect \u8ba9 dispatch \u884c\u4e3a\u66f4\u5bb9\u6613\u7ba1\u7406"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"compose(...functions) \u5c06 function \u7531\u53f3\u5230\u5de6\u5408\u5e76\u5e76\u56de\u4f20\u4e00\u4e2a Function"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const store = createStore(\n    reducer,\n    compose(applyMiddleware(thunk), DevTools.instrument())\n);\n")))),(0,l.kt)("h3",{id:"1834-\u7eaf-redux-\u7684-api-\u793a\u4f8b\u540c\u6b65\u7248\u672c\u7684-api"},"18.3.4. \u7eaf redux \u7684 api \u793a\u4f8b(\u540c\u6b65\u7248\u672c\u7684 api)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\nimport { createStore, combineReducers, bindActionCreators } from "redux";\n\nfunction run() {\n    // Store initial state\n    const initialState = { count: 0 };\n\n    // reducer\n    // \u4ee3\u8868 state \u7684\u5904\u7406\u903b\u8f91\n    const counter = (state = initialState, action) => {\n        switch (action.type) {\n            case "PLUS_ONE":\n                return { count: state.count + 1 };\n            case "MINUS_ONE":\n                return { count: state.count - 1 };\n            case "CUSTOM_COUNT":\n                return {\n                    count: state.count + action.payload.count\n                };\n            default:\n                break;\n        }\n        return state;\n    };\n\n    const todos = (state = {}) => state; // \u5f85\u6dfb\u52a0\u5230 Store \u4e2d\u7684\u65b0\u8282\u70b9\n\n    // Create store\n    const store = createStore(\n        // combineReducers \u53ef\u4ee5\u5e2e\u52a9\u7ef4\u62a4\u591a\u4e2a state \u8fdb store \u4e2d\n        //\u8fd9\u6837 Store \u4e2d\u5c31\u6709 \u4e24\u4e2a\u8282\u70b9\u4e86\n        combineReducers({\n            todos,\n            counter\n        })\n    );\n\n    // Action creator\n    function plusOne() {\n        // action\n        return { type: "PLUS_ONE" };\n    }\n\n    function minusOne() {\n        return { type: "MINUS_ONE" };\n    }\n\n    function customCount(count) {\n        return { type: "CUSTOM_COUNT", payload: { count } };\n    }\n\n    // bindActionCreators \u662f redux \u63d0\u4f9b\u7684\u5de5\u5177\u51fd\u6570, \u5c06 dispatcher \u7ed1\u5b9a\u5230 action \u5185\u90e8\n    // \u7701\u6389\u4e86\u624b\u52a8 dispatch \u8fd9\u76f4\u63a5\u8c03\u7528action \u5373\u53ef\n    plusOne = bindActionCreators(plusOne, store.dispatch);\n\n    store.subscribe(() => console.log(store.getState()));\n    // store.dispatch(plusOne());\n    plusOne();\n    store.dispatch(minusOne());\n    store.dispatch(customCount(5));\n}\nexport default () => (\n    <div>\n        <button onClick={run}>Run</button>\n        <p>* \u8bf7\u6253\u5f00\u63a7\u5236\u53f0\u67e5\u770b\u8fd0\u884c\u7ed3\u679c</p>\n    </div>\n);\n')),(0,l.kt)("h3",{id:"1835-react-redux"},"18.3.5. react-redux"),(0,l.kt)("p",null,"react-redux \u63d0\u4f9b \u4e00\u4e2a\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"connect"),", \u901a\u8fc7\u9ad8\u9636\u7ec4\u4ef6\u7684\u65b9\u5f0f, \u5c06 redux \u4e2d\u7684 store \u548c react \u4e2d\u7684 component \u94fe\u63a5\u8d77\u6765"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport { bindActionCreators, createStore } from "redux";\nimport { Provider, connect } from "react-redux";\n\n// Store initial state\nconst initialState = { count: 0 };\n\n// reducer\nconst counter = (state = initialState, action) => {\n    switch (action.type) {\n        case "PLUS_ONE":\n            return { count: state.count + 1 };\n        case "MINUS_ONE":\n            return { count: state.count - 1 };\n        case "CUSTOM_COUNT":\n            return { count: state.count + action.payload.count };\n        default:\n            break;\n    }\n    return state;\n};\n\n// Create store\nconst store = createStore(counter);\n\n// Action creator\nfunction plusOne() {\n    // action\n    return { type: "PLUS_ONE" };\n}\n\nfunction minusOne() {\n    return { type: "MINUS_ONE" };\n}\n\nexport class Counter extends React.Component {\n    render() {\n        // \u5728\u8fd9\u91cc\u901a\u8fc7 props \u53ef\u4ee5\u62ff\u5230 state \u4e2d\u6211\u4eec\u5173\u5fc3\u7684\u6570\u636e \u548c actions\n        const { count, plusOne, minusOne } = this.props;\n        return (\n            <div className="counter">\n                <button onClick={minusOne}>-</button>\n                <span style={{ display: "inline-block", margin: "0 10px" }}>\n                    {count}\n                </span>\n                <button onClick={plusOne}>+</button>\n            </div>\n        );\n    }\n}\n\n/**\n * bind state data of which wo take care to props\n * \u7ed1\u5b9astate\u4e2d\u6211\u4eec\u5173\u5fc3\u7684\u6570\u636e\u5230 props (\u4e0d\u80fd\u6574\u4e2a store \u7ed1\u5b9a\u5230 props, \u56e0\u4e3a state \u4e2d\u548c\u5f53\u524d\u7ec4\u4ef6\u65e0\u5173\u7684\u6570\u636e\u66f4\u65b0\u65e0\u9700\u51fa\u53d1\u7ec4\u4ef6\u91cd\u7ed8\n * @param state store.getState()\n */\nfunction mapStateToProps(state) {\n    return {\n        count: state.count\n    };\n}\n\n/**\n * \u7ed1\u5b9a action \u5230 props\n * @param dispatch\n */\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({ plusOne, minusOne }, dispatch);\n}\n\n// \u8fde\u63a5\nconst ConnectedCounter = connect(mapStateToProps, mapDispatchToProps)(Counter);\n\nexport default class CounterSample extends React.Component {\n    render() {\n        return (\n            // \u6839\u8282\u70b9\u901a\u8fc7 Provider \u63d0\u4f9b store, \u5b50\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u968f\u65f6\u8bbf\u95ee store \u4e2d\u7684\u6570\u636e\n            <Provider store={store}>\n                <ConnectedCounter />\n            </Provider>\n        );\n    }\n}\n')),(0,l.kt)("h3",{id:"1836-\u5f02\u6b65-action"},"18.3.6. \u5f02\u6b65 Action"),(0,l.kt)("p",null,"\u8981\u4f7f\u7528 asynchronous\uff08\u975e\u540c\u6b65\uff09\u7684\u884c\u4e3a\u7684\u8bdd\u9700\u8981\u4f7f\u7528\u5176\u4e2d\u4e00\u79cd middleware\uff1a redux-thunk\u3001redux-promise \u6216 redux-promise-middleware \uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4f60\u5728 actions \u4e2d dispatch Promises \u800c\u975e function\u3002"),(0,l.kt)("p",null,"\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684: \u7528\u6237\u5728 view \u89e6\u53d1\u4e00\u4e2a action (\u5c31\u662f\u666e\u901a action \u5e76\u6ca1\u6709\u6240\u8c13\u7684 \u5f02\u6b65 action), \u5e76\u6ca1\u6709\u88ab dispatch \u7ed9 reducer, \u800c\u662f\u88ab Middlewares \u62e6\u622a, \u5185\u90e8\u5904\u7406\u540e, \u751f\u6210\u65b0\u7684\u6807\u51c6\u7684 action ,\u7ed9 reducer;"),(0,l.kt)("p",null,"\u6240\u8c13\u7684 \u5f02\u6b65 action, \u5e76\u4e0d\u662f\u7279\u6b8a\u7684 action, \u800c\u662f\u591a\u4e2a action \u7684\u7ec4\u5408\u4f7f\u7528"),(0,l.kt)("p",null,"Middleware \u5728 dispatcher \u4e2d\u5bf9 action \u8fdb\u884c\u62e6\u622a\u8fdb\u884c\u7279\u6b8a\u5904\u7406"),(0,l.kt)("h3",{id:"1837-thunk-saga"},"18.3.7. thunk, saga"),(0,l.kt)("p",null,"todo"),(0,l.kt)("h3",{id:"1838-\u8c03\u8bd5\u5de5\u5177"},"18.3.8. \u8c03\u8bd5\u5de5\u5177"),(0,l.kt)("p",null,"Redux \u5f00\u53d1\u8c03\u8bd5\u5de5\u5177\uff1aredux-devtools\nReact \u5e94\u7528\u65e0\u5237\u65b0\u4fdd\u5b58\u5de5\u5177\uff1areact-transform"),(0,l.kt)("h3",{id:"1839-demo\u4e00\u4e2a-todo-app"},"18.3.9. demo(\u4e00\u4e2a todo-app)"),(0,l.kt)("p",null,"\u6574\u4e2a React Redux App \u7684\u8d44\u6599\u6d41\u7a0b\u56fe\uff08\u4f7f\u7528\u8005\u4e0e View \u4e92\u52a8 => dispatch \u51fa Action => Reducers \u4f9d\u636e action tyoe \u5206\u914d\u5230\u5bf9\u5e94\u5904\u7406\u65b9\u5f0f\uff0c\u56de\u4f20\u65b0\u7684 state => \u900f\u8fc7 React Redux \u4f20\u9001\u7ed9 React\uff0cReact \u91cd\u65b0\u7ed8\u5236 View\uff09\uff1a"),(0,l.kt)("p",null,"react-redux \u6574\u5408 react \u548c redux,"),(0,l.kt)("h2",{id:"184-redux-\u548c-flux-\u7684\u4e00\u4e9b\u5dee\u5f02"},"18.4. Redux \u548c Flux \u7684\u4e00\u4e9b\u5dee\u5f02"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u53ea\u4f7f\u7528\u4e00\u4e2a store \u5c06\u6574\u4e2a\u5e94\u7528\u7a0b\u5f0f\u7684\u72b6\u6001 (state) \u7528\u7269\u4ef6\u6811 (object tree) \u7684\u65b9\u5f0f\u50a8\u5b58\u8d77\u6765; \u539f\u751f\u7684 Flux \u4f1a\u6709\u8bb8\u591a\u5206\u6563\u7684 store \u50a8\u5b58\u5404\u4e2a\u4e0d\u540c\u7684\u72b6\u6001"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'//\u539f\u751f Flux \u7684 store\nconst userStore = {\n    name: ""\n};\nconst todoStore = {\n    text: ""\n};\n\n// Redux \u7684\u5355\u4e00 store\nconst state = {\n    userState: {\n        name: ""\n    },\n    todoState: {\n        text: ""\n    }\n};\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Redux \u5e76\u6ca1\u6709\u50cf Flux \u8bbe\u8ba1\u6709 Dispatcher(\u552f\u4e00\u53ef\u4ee5\u6539\u53d8 state \u7684\u65b9\u6cd5\u5c31\u662f\u53d1\u9001 action\uff0c\u8fd9\u90e8\u4efd\u548c Flux \u7c7b\u4f3c, action \u90fd\u662f\u4e00\u4e2a\u5305\u542b type \u548c payload \u7684\u5bf9\u8c61); Redux \u62e5\u6709 Flux \u6240\u6ca1\u6709\u7684 Reducer\u3002Reducer \u6839\u636e action \u7684 type \u53bb\u6267\u884c\u5bf9\u5e94\u7684 state \u505a\u53d8\u5316\u7684\u51fd\u5f0f\u53eb\u505a Reducer\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 switch \u6216\u662f\u4f7f\u7528\u51fd\u5f0f mapping \u7684\u65b9\u5f0f\u53bb\u5bf9\u5e94\u5904\u7406\u7684\u65b9\u5f0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Redux \u62e5\u6709\u8bb8\u591a\u65b9\u4fbf\u597d\u7528\u7684\u8f85\u52a9\u6d4b\u8bd5\u5de5\u5177\uff08\u4f8b\u5982\uff1aredux-devtools\u3001react-transform-boilerplate\uff09\uff0c\u65b9\u4fbf\u6d4b\u8bd5\u548c\u4f7f\u7528 Hot Module Reload\u3002"))),(0,l.kt)("h2",{id:"185-immutablejs"},"18.5. ImmutableJS"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=I7IdS-PbEgI"},"https://www.youtube.com/watch?v=I7IdS-PbEgI"),"\nhttp://react-immutable-proptypes/ (\u9002\u7528\u4e8e imutable \u7684 proptypes \u9a8c\u8bc1)"),(0,l.kt)("p",null,"\u4e3a\u4ec0\u4e48\u9700\u8981 \u4e0d\u53ef\u53d8\u6570\u636e?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u5316\u6027\u80fd (react \u5224\u65ad\u7ec4\u4ef6\u662f\u5426\u8981\u5237\u65b0\u662f\u6839\u636e state \u662f\u5426\u6709\u53d8\u5316\u6765\u51b3\u5b9a\u7684, \u91c7\u7528\u4e0d\u53ef\u53d8\u6570\u636e\u90a3\u4e48 state \u4e00\u65e6, react \u53ef\u4ee5\u6bd4\u8f83 \u65b0\u65e7 \u4e24\u4e2a state \u662f\u5426\u662f\u4e00\u4e2a\u5bf9\u8c61\u6765\u51b3\u5b9a\u662f\u5426\u5237\u65b0\u7ec4\u4ef6, \u800c\u4e0d\u5fc5\u8fdb\u5165 state \u5185\u90e8\u53bb\u6bd4\u8f83\u5c5e\u6027\u662f\u5426\u6709\u53d8\u5316)"),(0,l.kt)("li",{parentName:"ul"},"\u5bb9\u6613\u8c03\u8bd5\u8ddf\u8e2a (\u968f\u65f6\u53ef\u4ee5\u770b\u5230 \u65b0\u65e7 stat \u7684\u5177\u4f53\u503c, \u53ef\u4ee5\u65b9\u4fbf\u7684\u5bf9\u6bd4)")),(0,l.kt)("p",null,"redux \u8fd0\u884c\u7684\u57fa\u7840\u9700\u8981\u4fdd state \u662f\u4e0d\u53ef\u53d8\u6570\u636e"),(0,l.kt)("p",null,"es6 \u539f\u751f\u63d0\u4f9b api \u4e0d\u53ef\u53d8\u6570\u636e\u4fee\u6539:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const state = {\n    filter: "completed",\n    todos: ["a"]\n};\n// \u5199\u6cd51:\nconst newState = {\n    ...state,\n    todos: [...state.todos, "b"]\n};\n// \u5199\u6cd52\nconst newState2 = Object.assign({}, state, { todos: [...state.todos, "b"] });\n')),(0,l.kt)("p",null,"ImmutableJs \u63d0\u4f9b\u4e86\u4fee\u6539\u5de5\u5177\u7c7b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import update from 'immutability-helper';\n\n...\n")),(0,l.kt)("p",null,"immer \u4e5f\u6709\u76f8\u5173\u5de5\u5177\u7c7b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import produce from 'immer';\n\n...\n")),(0,l.kt)("p",null,"ImmutableJS \u5c01\u88c5\u4e86\u81ea\u5df1\u7684\u6570\u636e\u7ed3\u6784: 7 \u79cd\u4e0d\u53ef\u4fee\u6539\u7684\u7c7b\u578b\uff1aList\u3001Map\u3001Stack\u3001OrderedMap\u3001Set\u3001OrderedSet\u3001Record\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import Immutable from "immutable";\n\nvar map1 = Immutable.Map({ a: 1, b: 3 });\nvar map2 = map1.set("a", 2); // \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684map\n\nmap1.get("a"); // 1\nmap2.get("a"); // 2\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const Map= Immutable.Map;\n\n// 1. Map \u5927\u5c0f\nconst map1 = Map({ a: 1 });\nmap1.size\n// => 1\n\n// 2. \u65b0\u589e\u6216\u53d6\u4ee3 Map \u5143\u7d20\n// set(key: K, value: V)\nconst map2 = map1.set(\'a\', 7);\n// => Map { "a": 7 }\n\n// 3. \u5220\u9664\u5143\u7d20\n// delete(key: K)\nconst map3 = map1.delete(\'a\');\n// => Map {}\n\n// 4. \u6e05\u9664 Map \u5185\u5bb9\nconst map4 = map1.clear();\n// => Map {}\n\n// 5. \u66f4\u65b0 Map \u5143\u7d20\n// update(updater: (value: Map<K, V>) => Map<K, V>)\n// update(key: K, updater: (value: V) => V)\n// update(key: K, notSetValue: V, updater: (value: V) => V)\nconst map5 = map1.update(\'a\', () => (7))\n// => Map { "a": 7 }\n\n// 6. \u5408\u5e76 Map\nconst map6 = Map({ b: 3 });\nmap1.merge(map6);\n// => Map { "a": 1, "b": 3 }\n--------------------------\nconst List= Immutable.List;\n\n// 1. \u53d6\u5f97 List \u957f\u5ea6\nconst arr1 = List([1, 2, 3]);\narr1.size\n// => 3\n\n// 2. \u65b0\u589e\u6216\u53d6\u4ee3 List \u5143\u7d20\u5185\u5bb9\n// set(index: number, value: T)\n// \u5c06 index \u4f4d\u7f6e\u7684\u5143\u7d20\u66ff\u6362\nconst arr2 = arr1.set(-1, 7);\n// => [1, 2, 7]\nconst arr3 = arr1.set(4, 0);\n// => [1, 2, 3, undefined, 0]\n\n// 3. \u5220\u9664 List \u5143\u7d20\n// delete(index: number)\n// \u5220\u9664 index \u4f4d\u7f6e\u7684\u5143\u7d20\nconst arr4 = arr1.delete(1);\n// => [1, 3]\n\n// 4. \u63d2\u5165\u5143\u7d20\u5230 List\n// insert(index: number, value: T)\n// \u5728 index \u4f4d\u7f6e\u63d2\u5165 value\nconst arr5 = arr1.insert(1, 2);\n// => [1, 2, 2, 3]\n\n// 5. \u6e05\u7a7a List\n// clear()\nconst arr6 = arr1.clear();\n// => []\n------------------------\nconst Set= Immutable.Set;\n\n// 1. \u5efa\u7acb Set\nconst set1 = Set([1, 2, 3]);\n// => Set { 1, 2, 3 }\n\n// 2. \u65b0\u589e\u5143\u7d20\nconst set2 = set1.add(1).add(5);\n// => Set { 1, 2, 3, 5 }\n// \u7531\u4e8e Set \u4e3a\u4e0d\u80fd\u91cd\u590d\u96c6\u5408\uff0c\u6545 1 \u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\n\n// 3. \u5220\u9664\u5143\u7d20\nconst set3 = set1.delete(3);\n// => Set { 1, 2 }\n\n// 4. \u53d6\u8054\u96c6\nconst set4 = Set([2, 3, 4, 5, 6]);\nset1.union(set4);\n// => Set { 1, 2, 3, 4, 5, 6 }\n\n// 5. \u53d6\u4ea4\u96c6\nset1.intersect(set4);\n// => Set { 2, 3 }\n\n// 6. \u53d6\u5dee\u96c6\nset1.subtract(set4);\n// => Set { 1 }\n')),(0,l.kt)("h1",{id:"19-\u8def\u7531-react-router"},"19. \u8def\u7531 react-router"),(0,l.kt)("p",null,"\u8def\u7531(routing)\u5e93, \u901a\u8fc7 URL \u7684\u53d8\u5316\u6765\u7ba1\u7406\u5bf9\u5e94\u7684\u72b6\u6001\u548c\u7ec4\u4ef6."),(0,l.kt)("p",null,"\u4f20\u7edf\u7684 Web \u5f00\u53d1\u4e3b\u8981\u662f\u7531\u670d\u52a1\u5668\u7ba1\u7406 URL Routing \u548c\u6e32\u67d3 HTML \u9875\u9762\uff0c\u8fc7\u5f80\u6bcf\u6b21 URL \u4e00\u6362, \u5c31\u9700\u8981\u91cd\u65b0 server \u7aef\u91cd\u65b0\u8f7d\u5165\u9875\u9762\u3002\u73b0\u5728\u8fdb\u5316\u5230\u7531\u524d\u7aef\u8d1f\u8d23 URL \u7684 routing \u7ba1\u7406. \u5728 React \u5f00\u53d1\u4e16\u754c\u4e2d\u4e3b\u6d41\u662f\u4f7f\u7528 react-router"),(0,l.kt)("p",null,"\u6700\u65b0\u7248: React Router4(",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ReactTraining/react-router"},"https://github.com/ReactTraining/react-router"),"), 2.x \u672c\u7248\u662f static route, 4.x \u7248\u672c\u662f dynamic route"),(0,l.kt)("p",null,"React Router \u88ab\u62c6\u5206\u6210\u4e09\u4e2a\u5305\uff1areact-router(\u6700\u5c0f\u6838\u5fc3, \u5305\u542b\u8fdb\u540e\u9762\u4e24\u4e2a\u4e86),react-router-dom(web)\u548c react-router-native(app)\u3002react-router \u63d0\u4f9b\u6838\u5fc3\u7684\u8def\u7531\u7ec4\u4ef6\u4e0e\u51fd\u6570\u3002\u5176\u4f59\u4e24\u4e2a\u5219\u63d0\u4f9b\u8fd0\u884c\u73af\u5883\uff08\u5373\u6d4f\u89c8\u5668\u4e0e react-native\uff09\u6240\u9700\u7684\u7279\u5b9a\u7ec4\u4ef6"),(0,l.kt)("h2",{id:"191-\u8def\u7531\u6807\u7b7e\u7684\u4f7f\u7528"},"19.1. \u8def\u7531\u6807\u7b7e\u7684\u4f7f\u7528"),(0,l.kt)("h3",{id:"1911-router-\u8def\u7531\u5bb9\u5668"},"19.1.1. Router-\u8def\u7531\u5bb9\u5668"),(0,l.kt)("p",null,"\u6709\u51e0\u4e2a\u5b9e\u73b0:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'\n-   <BrowserRouter>\uff1a\u4f7f\u7528 HTML5 \u63d0\u4f9b\u7684 history API \u6765\u4fdd\u6301 UI \u548c URL \u7684\u540c\u6b65\uff1b\u9700\u8981 server \u7aef\u7684\u914d\u5408\n\n-   <HashRouter>\uff1a\u4f7f\u7528 URL \u7684 hash, \u5e26\u6709 "#"\u7684 url (\u4f8b\u5982\uff1awindow.location.hash); \u7528\u4e8e\u652f\u6301\u4f4e\u7248\u672c\u7684\u6d4f\u89c8\u5668\n\n-   <MemoryRouter>\uff1a\u80fd\u5728\u5185\u5b58\u4fdd\u5b58\u4f60 \u201cURL\u201d \u7684\u5386\u53f2\u7eaa\u5f55(\u5e76\u6ca1\u6709\u5bf9\u5730\u5740\u680f\u8bfb\u5199)\uff1b\u9875\u9762\u53d8\u52a8\u4e0d\u4f1a\u53cd\u6620\u5230\u6d4f\u89c8\u5668\u5730\u5740\u680f\n\n-   <NativeRouter>\uff1a\u4e3a\u4f7f\u7528 React Native \u63d0\u4f9b\u8def\u7531\u652f\u6301\uff1b\n\n-   <StaticRouter>\uff1a\u4ece\u4e0d\u4f1a\u6539\u53d8\u5730\u5740\uff1b\n')),(0,l.kt)("h3",{id:"1912-route-\u8def\u7531\u7ec4\u4ef6\u6620\u5c04"},"19.1.2. Route-\u8def\u7531\u7ec4\u4ef6\u6620\u5c04"),(0,l.kt)("p",null,"\u8d1f\u8d23 URL \u548c\u5bf9\u5e94\u7684\u7ec4\u4ef6\u6620\u5c04\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a Route \u89c4\u5219\u4e5f\u53ef\u4ee5\u6709\u5d4c\u5957\uff08nested\uff09Routing"),(0,l.kt)("h4",{id:"19121-\u5c5e\u6027"},"19.1.2.1. \u5c5e\u6027"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'path\uff08string\uff09: \u8def\u7531\u5339\u914d\u8def\u5f84, \u652f\u6301 regex(path="/order/:direction(asc|desc)")\u3002'),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6ca1\u6709 path \u5c5e\u6027\u7684 Route \u603b\u662f\u4f1a \u5339\u914d(\u6e32\u67d3)\uff09\uff1b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'\u6709\u591a\u4e2a path \u5339\u914d\u5f53\u524d url, \u5219\u5bf9\u5e94\u7684\u591a\u4e2a component \u90fd\u4f1a\u663e\u793a ("\u591a\u5339\u914d")')))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"component (\u8868\u8fbe\u5f0f): \u5bf9\u5e94\u7684\u7ec4\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"render: \u51fd\u6570, \u63a5\u53d7\u4e00\u4e2a props, \u8fd4\u56de component")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"exact\uff08bool\uff09\uff1a\u51fa\u73b0\u65f6\uff0c\u5219\u8981\u6c42\u8def\u5f84\u4e0e location.pathname \u5fc5\u987b\u5b8c\u5168\u5339\u914d, \u5bf9\u5e94\u7ec4\u4ef6\u624d\u4f1a\u663e\u793a")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"strict\uff08bool\uff09\uff1atrue \u7684\u65f6\u5019\uff0c\u6709\u7ed3\u5c3e\u659c\u7ebf\u7684 path \u8def\u5f84\u53ea\u80fd\u5339\u914d\u6709\u659c\u7ebf\u7684 location.pathname\uff1b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"location: object ",(0,l.kt)("inlineCode",{parentName:"p"},"<Route>"),"\u5143\u7d20\u5c1d\u8bd5\u5c06\u5176\u8def\u5f84\u4e0e\u5f53\u524d history location\uff08\u901a\u5e38\u662f\u5f53\u524d\u6d4f\u89c8\u5668 URL\uff09\u76f8\u5339\u914d\u3002\u4f46\u662f\uff0c\u4e5f\u53ef\u4ee5\u4eba\u4e3a\u6307\u5b9a\u7279\u5b9a\u7684 location \u8fdb\u884c\u5339\u914d"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"Switch \u4e2d\u7684 location \u4f1a\u8986\u76d6 Route \u4e2d\u7684 location"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"sensitive: bool \u8def\u5f84\u5927\u5c0f\u5199\u654f\u611f"))),(0,l.kt)("h4",{id:"19122-\u901a\u8fc7-url-\u4f20\u9012\u53c2\u6570\u7ed9-route"},"19.1.2.2. \u901a\u8fc7 url \u4f20\u9012\u53c2\u6570\u7ed9 Route"),(0,l.kt)("p",null,"\u4f20\u9012: ",(0,l.kt)("inlineCode",{parentName:"p"},'<Route path="/topic/:id"></Route>')),(0,l.kt)("p",null,"\u83b7\u53d6: ",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.match.params")),(0,l.kt)("p",null,"\u80fd\u591f\u653e\u5165 url \u53c2\u6570\u4e2d\u7684 state \u4fe1\u606f\u5c3d\u91cf\u653e url \u53c2\u6570\u4e2d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\nimport { BrowserRouter as Router, Route, Link } from "react-router-dom";\n\nconst Topic = ({ match }) => <h1>Topic {match.params.id}</h1>;\n\nexport default class RouterParams extends React.PureComponent {\n    render() {\n        return (\n            <Router>\n                <div>\n                    <ul id="menu">\n                        <li>\n                            <Link to="/topic/1">Topic 1</Link>\n                        </li>\n                        <li>\n                            <Link to="/topic/2">Topic 2</Link>\n                        </li>\n                        <li>\n                            <Link to="/topic/3">Topic 3</Link>\n                        </li>\n                    </ul>\n\n                    <div id="page-container">\n                        <Route path="/topic/:id" component={Topic} />\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\n')),(0,l.kt)("h4",{id:"19123-\u5d4c\u5957\u8def\u7531"},"19.1.2.3. \u5d4c\u5957\u8def\u7531"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\nimport { BrowserRouter as Router, Route, Link } from "react-router-dom";\n\nconst SonCategory = ({ match }) => <h1>Sub Category {match.params.subId}</h1>;\n\nconst SubCategory = ({ match }) => (\n    <div>\n        <h1>Category {match.params.id}</h1>\n\n        <ul id="menu">\n            <li>\n                <Link to={`/category/${match.params.id}/sub/1`}>\n                    Sub Category 1\n                </Link>\n            </li>\n            <li>\n                <Link to={`/category/${match.params.id}/sub/2`}>\n                    Sub Category 2\n                </Link>\n            </li>\n            <li>\n                <Link to={`/category/${match.params.id}/sub/3`}>\n                    Sub Category 3\n                </Link>\n            </li>\n        </ul>\n        <div id="page-container-2">\n            <Route path="/category/:id/sub/:subId" component={SonCategory} />\n        </div>\n    </div>\n);\n\nexport default class NestedRoute extends React.PureComponent {\n    render() {\n        return (\n            <Router>\n                <div>\n                    <ul id="menu">\n                        <li>\n                            <Link to="/category/1">Category 1</Link>\n                        </li>\n                        <li>\n                            <Link to="/category/2">Category 2</Link>\n                        </li>\n                        <li>\n                            <Link to="/category/3">Category 3</Link>\n                        </li>\n                    </ul>\n\n                    <div id="page-container">\n                        <Route path="/category/:id" component={SubCategory} />\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\n')),(0,l.kt)("h4",{id:"19124-route-\u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f"},"19.1.2.4. Route \u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f"),(0,l.kt)("p",null,"Route \u4e09\u79cd\u6e32\u67d3\u5185\u5bb9\u7684\u65b9\u6cd5, \u4e0d\u53ef\u540c\u65f6\u4f7f\u7528, \u5747\u4f1a\u8bbe\u7f6e match, location, history \u5728 props \u4e2d"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"<Route component=xxx\u7c7b>"),"\uff1a\u5f53 location \u5339\u914d\u5230 path \u65f6\u5019, \u4f1a render\uff0croute props \u4e5f\u4f1a\u968f\u7740\u4e00\u8d77\u88ab\u6e32\u67d3\uff1b"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u4e0d\u8981\u63d0\u4f9b inline function, \u56e0\u4e3a\u5982\u679c\u8fd9\u6837, \u6bcf\u6b21 render, \u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 component(the router uses React.createElement to create a new React element from the given component. That means if you provide an inline function to the component prop, you would create a new component every render.)"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"<Route render=xxx\u51fd\u6570>"),"\uff1a\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e8e\u5185\u8054\u6e32\u67d3\u548c\u5305\u88c5 Route \u5374\u4e0d\u5f15\u8d77\u610f\u6599\u4e4b\u5916\u7684\u91cd\u65b0\u6302\u8f7d\u7279\u522b\u65b9\u4fbf\uff1b"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"Route component \u7684\u4f18\u5148\u7ea7\u8981\u6bd4 Route render \u9ad8"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"<Route children=xxx\u51fd\u6570>"),"\uff1a\u4e0e render \u5c5e\u6027\u7684\u5de5\u4f5c\u65b9\u5f0f\u57fa\u672c\u4e00\u6837\uff0c\u9664\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u5b83\u662f\u4e0d\u7ba1\u5730\u5740\u5339\u914d\u4e0e\u5426\u90fd\u4f1a\u88ab\u8c03\u7528"),"\uff1b"),(0,l.kt)("p",{parentName:"li"},"\u5f53\u6ca1\u6709\u5339\u914d\u4e0a, match \u4e3a null, \u53ef\u4ee5\u501f\u52a9\u8fd9\u4e00\u7279\u6027, \u66f4\u5177\u662f\u5426\u5339\u914d\u4e0a\u4e86\u8bbe\u7f6e\u52a8\u6001\u7684\u6837\u5f0f"))),(0,l.kt)("h3",{id:"1913-switch-\u89e3\u51b3\u591a\u5339\u914d\u95ee\u9898"},"19.1.3. Switch-\u89e3\u51b3\u591a\u5339\u914d\u95ee\u9898"),(0,l.kt)("p",null,"\u5185\u90e8\u5305\u542b\u7684 Router/Redirect \u5339\u914d\u7b2c\u4e00\u4e2a\u5c31\u4e0d\u518d\u7ee7\u7eed\u5f80\u4e0b\u5339\u914d\u4e86"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"location: object \u53ef\u4ee5\u8ba4\u4e3a\u7684\u6307\u5b9a location \u6765\u51b3\u5b9a\u54ea\u4e2a child \u88ab render, \u4e00\u822c\u4e0d\u6307\u5b9a, \u6839\u636e\u6d4f\u89c8\u5668 location \u51b3\u5b9a\u662f\u54ea\u4e2a child \u88ab render"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u7684 location \u4f1a\u8986\u76d6 Route \u4e2d\u7684 location")))),(0,l.kt)("h3",{id:"1914-redirect-\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762"},"19.1.4. Redirect-\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762"),(0,l.kt)("p",null,"\u5178\u578b\u573a\u666f: \u767b\u9646\u5224\u65ad"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"to \u91cd\u5b9a\u5411\u8def\u5f84")),(0,l.kt)("h3",{id:"1915-link-\u8d85\u94fe\u63a5"},"19.1.5. Link-\u8d85\u94fe\u63a5"),(0,l.kt)("p",null,"\u4e0d\u4f1a\u89e6\u6d4f\u89c8\u5668\u5237\u65b0"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"to\uff08string/object\uff09\uff1a\u8981\u8df3\u8f6c\u7684\u8def\u5f84\u6216\u5730\u5740\uff1b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"replace\uff08bool\uff09\uff1a\u4e3a true \u65f6\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\u5c06\u4f7f\u7528\u65b0\u5730\u5740\u66ff\u6362\u6389\u8bbf\u95ee\u5386\u53f2\u8bb0\u5f55\u91cc\u9762\u7684\u539f\u5730\u5740\uff1b\u4e3a false(\u9ed8\u8ba4) \u65f6\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\u5c06\u5728\u539f\u6709\u8bbf\u95ee\u5386\u53f2\u8bb0\u5f55\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u7eaa\u5f55"))),(0,l.kt)("h3",{id:"1916-navlink-\u5e26\u6837\u5f0f\u7684-link"},"19.1.6. NavLink: \u5e26\u6837\u5f0f\u7684 Link"),(0,l.kt)("p",null,"\u4f1a\u6dfb\u52a0\u9009\u4e2d\u72b6\u6001\u7684\u6837\u5f0f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"activeClassName: string \u6fc0\u6d3b\u65f6\u5019\u7684 className, \u9ed8\u8ba4\u503c active(\u5916\u90e8\u5f15\u5165 css \u6587\u4ef6\u7684\u65f6\u5019\u8c8c\u4f3c\u4e0d\u597d\u4f7f, \u5b58\u7591)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"activeStyle: object \u901a\u8fc7 inline \u65b9\u5f0f\u5f15\u5165\u6837\u5f0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},'exact: bool \u7cbe\u786e\u5339\u914d\u6a21\u5f0f, strict: bool url \u672b\u5c3e\u9700\u8981"/", \u6bd4\u5982 to="/events/"')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"isActive: func(match, location) \u81ea\u5b9a\u4e49\u51fd\u6570\u5224\u65ad\u662f\u5426\u6fc0\u6d3b\u72b6\u6001")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"location: object \u53ef\u4ee5\u8bbe\u5b9a\u4e00\u4e2a location \u5bf9\u8c61"))),(0,l.kt)("h3",{id:"1917-prompt-\u63d0\u793a"},"19.1.7. Prompt-\u63d0\u793a"),(0,l.kt)("p",null,"\u6ee1\u8db3\u6761\u4ef6\u65f6\u4f1a\u63d0\u793a\u7528\u6237\u662f\u5426\u79bb\u5f00\u5f53\u524d\u9875\u9762"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"when \u6761\u4ef6\u903b\u8f91"),(0,l.kt)("li",{parentName:"ul"},"message \u63d0\u793a\u4fe1\u606f")),(0,l.kt)("h2",{id:"192-history"},"19.2. history"),(0,l.kt)("p",null,"history is mutable\uff0c \u56e0\u6b64\u63a8\u8350\u8fd9\u6837\u83b7\u53d6 location: this.props.location"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Comp extends React.Component {\n    componentWillReceiveProps(nextProps) {\n        // will be true\n        const locationChanged = nextProps.location !== this.props.location;\n\n        // INCORRECT, will *always* be false because history is mutable.\n        const locationChanged =\n            nextProps.history.location !== this.props.history.location;\n    }\n}\n")),(0,l.kt)("h2",{id:"193-location"},"19.3. location"),(0,l.kt)("p",null,"location \u957f\u8fd9\u6837"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n  key: 'ac3df4', // not with HashHistory!\n  pathname: '/somewhere'\n  search: '?some=search-string',\n  hash: '#howdy',\n  state: {\n    xxx: xxx\n  }\n}\n")),(0,l.kt)("p",null,"router \u5c06\u5728\u8fd9\u4e9b\u5730\u65b9\u63d0\u4f9b location \u5bf9\u8c61:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Route component")," as ",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.location"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Route render")," as ",(0,l.kt)("inlineCode",{parentName:"p"},"({ location }) => ()"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Route children")," as ",(0,l.kt)("inlineCode",{parentName:"p"},"({ location }) => ()"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"withRouter")," as ",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.location")))),(0,l.kt)("p",null,"A location object is never mutated , \u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u5b83\u5728 lifecycle hooks \u4e2d\u6765\u51b3\u5b9a\u4f55\u65f6\u600e\u4e48\u5bfc\u822a(\u83b7\u53d6\u6570\u636e\u548c\u52a8\u753b\u8fc7\u6e21\u7279\u522b\u6709\u7528)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"componentWillReceiveProps(nextProps) {\n  if (nextProps.location !== this.props.location) {\n    // navigated!\n  }\n}\n")),(0,l.kt)("p",null,"\u8fd9\u4e9b\u5730\u65b9\u53ef\u4ee5\u8bbe\u7f6e location \u5bf9\u8c61\u6765\u4ee3\u66ff string \u5f62\u5f0f\u7684 url patern:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Web ",(0,l.kt)("inlineCode",{parentName:"li"},"Link to")),(0,l.kt)("li",{parentName:"ul"},"Native Link to"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Redirect to")),(0,l.kt)("li",{parentName:"ul"},"history.push"),(0,l.kt)("li",{parentName:"ul"},"history.replace")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const location = {\n    pathname: "/somewhere",\n    state: { fromDashboard: true }\n};\n')),(0,l.kt)("h2",{id:"194-match"},"19.4. match"),(0,l.kt)("h1",{id:"20-\u8c03\u8bd5\u548c\u6d4b\u8bd5"},"20. \u8c03\u8bd5\u548c\u6d4b\u8bd5"),(0,l.kt)("p",null,"chrome \u8c03\u8bd5\u63d2\u4ef6: React DevTool, Redux DevTool"),(0,l.kt)("p",null,"\u683c\u5f0f\u5316: Prettier (\u53ef\u4ee5\u81ea\u52a8\u4fee\u6b63)"),(0,l.kt)("p",null,"\u4ee3\u7801\u98ce\u683c\u7ea6\u675f: ESLint"),(0,l.kt)("p",null,"\u6d4b\u8bd5: Jest (",(0,l.kt)("a",{parentName:"p",href:"https://www.v2ex.com/t/854074#reply41"},"https://www.v2ex.com/t/854074#reply41"),"), Enzyme"),(0,l.kt)("p",null,"mock \u5047\u6570\u636e, \u6a21\u62df\u5047\u7684 api: json-server\u914d\u5408faker.js"),(0,l.kt)("h1",{id:"21-graphql-\u548c-relay"},"21. GraphQL \u548c Relay"),(0,l.kt)("p",null,"GraphQL \u662f\u4e00\u79cd\u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08Data Query Language\uff09, \u4e3b\u8981\u662f\u60f3\u89e3\u51b3\u4f20\u7edf RESTful API \u6240\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898"),(0,l.kt)("p",null,"Relay \u662f\u642d\u914d GraphQL \u7528\u4e8e React \u7684\u4e00\u4e2a\u5ba3\u544a\u5f0f\u6570\u636e\u6846\u67b6\uff0c\u53ef\u4ee5\u964d\u4f4e Ajax \u7684\u8bf7\u6c42\u6570\u91cf"),(0,l.kt)("p",null,"\u597d\u5904\u4e3b\u8981\u662f\u53ef\u4ee5\u7701\u6d41\u91cf\uff0c\u7701 http \u8bf7\u6c42\u6b21\u6570\uff0c\u574f\u5904\u5176\u5b9e\u633a\u591a\u7684\uff0c\u6bd4\u5982\u9274\u6743\uff0c\u9650\u6d41\uff0c\u7f13\u5b58\uff0c\u6027\u80fd\u6d6a\u8d39 (",(0,l.kt)("a",{parentName:"p",href:"https://www.pupboss.com/post/2021/experience-sharing-of-graphql-backend/"},"https://www.pupboss.com/post/2021/experience-sharing-of-graphql-backend/"),")"),(0,l.kt)("h1",{id:"22-css-module-\u6a21\u5757\u5316"},"22. CSS-Module \u6a21\u5757\u5316"),(0,l.kt)("p",null,"\u89e3\u51b3\u4e86 css \u7c7b\u540d\u7684\u51b2\u7a81\u95ee\u9898, ",(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/20495964"},"https://zhuanlan.zhihu.com/p/20495964")),(0,l.kt)("p",null,"\u4e1a\u754c\u53e6\u4e00\u79cd\u65b9\u6848\u662f BEM \u7c7b\u547d\u540d\u65b9\u6cd5 (",(0,l.kt)("a",{parentName:"p",href:"https://www.ibm.com/developerworks/cn/web/1512_chengfu_bem/index.html"},"bem \u547d\u540d"),")"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528 webpack, css-loader \u9700\u8981\u5982\u6b64\u914d\u7f6e: ",(0,l.kt)("inlineCode",{parentName:"p"},"'css-loader?modules&localIdentName=[name]__[local]-[hash:base64:5]'")),(0,l.kt)("p",null,"\u53ef\u4ee5\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"react-css-modules")," \u914d\u5408\u4f7f\u7528 (",(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000004530909"},"ref"),")"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/camsong/blog/issues/5"},"https://github.com/camsong/blog/issues/5")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://www.alloyteam.com/2017/03/getting-started-with-css-modules-and-react-in-practice/"},"http://www.alloyteam.com/2017/03/getting-started-with-css-modules-and-react-in-practice/")),(0,l.kt)("p",null,"css \u6a21\u5757\u5316\u8fdb\u5316\uff1a\u3010\u641c\u7d22 \u201ccss modules styled-components \u533a\u522b\u201d\u3011 ",(0,l.kt)("a",{parentName:"p",href:"https://www.zcfy.cc/article/css-evolution-from-css-sass-bem-css-modules-to-styled-components"},"1"),"\uff0c",(0,l.kt)("a",{parentName:"p",href:"http://hkongm.github.io/2018/07/25/ReactStyleTypes/"},"2"),"\uff0c",(0,l.kt)("a",{parentName:"p",href:"http://www.alloyteam.com/2017/05/guide-styled-components/"},"3")),(0,l.kt)("p",null,"\u5728 create-react-app \u4e2d\u5982\u4f55\u4f7f\u7528? -- css \u6587\u4ef6\u547d\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"<componentName>.module.css")," \u5373\u53ef\u4f7f\u7528 css modules \u7279\u6027"),(0,l.kt)("h1",{id:"23-css-in-js"},"23. css-in-js"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/91498498"},"emotion \u548c styled-components \u4e24\u79cd\u89e3\u51b3\u65b9\u6848")),(0,l.kt)("p",null,"\u597d\u5904\u662f\u80fd\u901a\u8fc7 js \u52a8\u6001\u751f\u6210 css"),(0,l.kt)("p",null,"\u63a8\u8350 emotion, emotion \u540c\u65f6\u652f\u6301 css props \u5199\u6cd5\u548c styled \u5199\u6cd5, styled-components \u53ea\u6709 styled \u5199\u6cd5"),(0,l.kt)("p",null,"\u603b\u4f53\u4e0d\u5982 css-module, \u56e0\u4e3a css \u548c js \u8026\u5408, \u5c06\u6765\u5982\u679c\u8fc1\u79fb, \u4e0d\u65b9\u4fbf"),(0,l.kt)("p",null,"\u53e6\u4e00\u79cd css \u89e3\u51b3\u65b9\u6848: ",(0,l.kt)("a",{parentName:"p",href:"https://tailwindcss.com/"},"https://tailwindcss.com/")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://codedaily.io/tutorials/62/Create-a-Hoverable-Display-Card-with-React-and-Emotion"},"react + emotion \u7684 styled \u5199\u6cd5")),(0,l.kt)("h1",{id:"24-\u6700\u4f73\u5b9e\u8df5-best-practice"},"24. \u6700\u4f73\u5b9e\u8df5 best practice"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/camsong/blog"},"https://github.com/camsong/blog"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/camsong/blog/issues/6"},"https://github.com/camsong/blog/issues/6")),(0,l.kt)("p",null,"\u6280\u672f\u73af\u5883\uff1a"),(0,l.kt)("p",null,"\u6253\u5305 es6 + Webpack + less\n\u4f7f\u7528\u4e86 HapiJs \u4f5c\u4e3a\u6a21\u62df server\uff0c\u524d\u7aef\u5f00\u53d1\u548c\u540e\u7aef\u5f7b\u5e95\u5206\u79bb\uff0c\u540e\u671f\u96c6\u6210\u65f6\uff0c\u4f7f\u7528\u81ea\u5df1\u5f00\u53d1\u7684\u4ee3\u7406\u670d\u52a1\u5668\u8c03\u7528\u771f\u6b63\u7684 API\n\u8fd0\u884c\u5e93 React + Flux + React-router+ material-ui + ImmutableJS + \u81ea\u5df1\u7814\u53d1\u7684\u63a7\u4ef6\n\u5355\u6d4b\u73af\u5883 Karma+mocha+chai+Istanbul\n\u5e03\u5c40\u5b8c\u5168\u7528 flex"),(0,l.kt)("p",null,"\u4f7f\u7528 Flex \u5e03\u5c40\u4f1a\u5927\u5927\u964d\u4f4e CSS \u7684\u96be\u5ea6\n\u4f7f\u7528 Flux \u53ef\u4ee5\u5f88\u597d\u7684\u9694\u79bb\u4e1a\u52a1\uff08\u6211\u4eec\u7684\u4e1a\u52a1\u903b\u8f91\u90fd\u5728 Store \u91cc\uff09,\u5927\u5927\u964d\u4f4e\u4e86\u5355\u5143\u6d4b\u8bd5\u7684\u96be\u5ea6\n\u57fa\u4e8e React \u7684\u63a7\u4ef6\uff08\u8fd9\u91cc\u8bf4\u7684\u662f\u57fa\u672c\u63a7\u4ef6\uff09\u662f\u5bf9 React \u7406\u89e3\u7684\u4e00\u4e2a\u4f53\u73b0\n\u5c3d\u91cf\u628a React \u7ec4\u4ef6\uff08Component\uff09\u505a\u5230\u5c0f\uff0c\u505a\u5230\u7ec6\uff0c\u4e5f\u5c31\u662f\u5c3d\u91cf\u62c6\u5206 React \u7ec4\u4ef6\n\u57fa\u4e8e\u6570\u636e\u9a71\u52a8\u7684\u65b9\u5f0f\uff08Data-Driven\uff09\u5f00\u53d1\uff0c\u7406\u89e3\u5230\u8fd9\u4e00\u70b9\u5c31\u4f1a\u53d1\u73b0 React \u5f88\u795e\u5947\uff0c\u53ef\u80fd\u8fd9\u4e5f\u662f\u6700\u4e0d\u597d\u7406\u89e3\u7684\u5730\u65b9\nImmutableJS \u5e26\u6765\u4e86\u5927\u91cf\u7684\u597d\u5904\uff0c\u6240\u6709\u7ec4\u4ef6\u90fd\u4f7f\u7528\u4e86 ShouldComponentUpdate \u6765\u4f18\u5316\n\u5b9e\u73b0\u4e86 I18N \u7684\u52a8\u6001\u52a0\u8f7d\n\u4f7f\u7528\u4e86 Url \u6765\u4fdd\u5b58 Router \u4fe1\u606f\uff0c\u6ca1\u6709\u4f7f\u7528 Hash\uff0c\u611f\u89c9\u5f88\u7b80\u6d01"),(0,l.kt)("h2",{id:"241-fetch-data"},"24.1. fetch data"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/juliencrn/usehooks-ts"},"https://github.com/juliencrn/usehooks-ts")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/vercel/swr"},"https://github.com/vercel/swr")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/data-client/rest-hooks"},"https://github.com/data-client/rest-hooks")),(0,l.kt)("h1",{id:"25-\u670d\u52a1\u7aef\u6e32\u67d3"},"25. \u670d\u52a1\u7aef\u6e32\u67d3"),(0,l.kt)("h2",{id:"251-\u4ec0\u4e48\u662f-ssr"},"25.1. \u4ec0\u4e48\u662f ssr"),(0,l.kt)("p",null,"\u4ee5\u524d\u7684\u591a\u9875\u9762\u7ad9\u70b9\u662f\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u7684\uff0c\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u65f6\u5df2\u7ecf\u6709\u4e86\u5b8c\u6574\u7684\u9aa8\u67b6\uff08 html \uff09\uff0c\u8fd9\u6837\u722c\u866b\u6293\u5230\u65f6\u53ef\u4ee5\u5206\u6790\u9875\u9762\u6807\u9898\uff0c\u5185\u5bb9\u7b49\u7b49\uff0c\u505a seo \u5bb9\u6613\uff0c\u90a3\u65f6\u7684\u6280\u672f\u6808\u662f jsp\uff0cphp \u7b49\u7b49\u3002"),(0,l.kt)("p",null,"\u73b0\u5728\u6d41\u884c\u7684\u524d\u7aef\u6846\u67b6\u5728\u8fd9\u65b9\u9762\u662f\u5f00\u4e86\u5012\u8f66\uff0c\u4e00\u4e2a\u7a7a\u7684\u9aa8\u67b6\uff0c\u4e00\u4e2a\u5f88\u5927\u7684 js\uff0c\u6293\u5230\u6d4f\u89c8\u5668\u4ee5\u540e\u624d\u5f00\u59cb\u6e32\u67d3\u5b8c\u6574\u7684\u9875\u9762\uff0c\u722c\u866b\u5c31\u5f88\u4e3a\u96be\u4e86\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6cd5\u6267\u884c js \u554a\uff0c\u6b64\u5916\uff0c\u767d\u5c4f\u65f6\u95f4\u4e5f\u662f\u7531\u4e8e\u524d\u7aef\u6e32\u67d3\u5e26\u6765\u7684\u95ee\u9898\u3002\u4e8e\u662f\u53c8\u6709\u4e86\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u8ba9\u6e32\u67d3\u8fd9\u4e00\u6b65\u518d\u56de\u5230\u670d\u52a1\u7aef\uff0c\u5728\u670d\u52a1\u7aef\u6a21\u62df\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u7ed9 react \u548c vue \u7b49\u6846\u67b6\u4e00\u4e2a\u53ef\u6267\u884c\u7684\u4e0a\u4e0b\u6587\uff0c\u5c31\u662f\u4e3a\u4e86\u63d0\u524d\u5f97\u5230\u5b8c\u6574\u7684 html, \u8fd9\u5c31\u662f server side  render"),(0,l.kt)("p",null,"Isomorphic JavaScript : \u6307\u524d\u540e\u7aef\uff08Client/Server\uff09\u5171\u7528\u76f8\u540c\u90e8\u5206\u7684 js \u4ee3\u7801, \u8ba9 JavaScript \u5e94\u7528\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u5728\u6d4f\u89c8\u5668\u7aef\u548c server \u7aef\uff0c\u5728 React \u4e2d\u53ef\u4ee5\u4f7f\u7528 server \u7aef\u6e32\u67d3\uff08server side rendering\uff09\u9759\u6001 HTML \u7684\u65b9\u5f0f\u8fbe\u5230 Isomorphic JavaScript \u6548\u679c\uff0c\u8ba9 SEO \u548c\u6267\u884c\u6548\u7387\u66f4\u52a0\u63d0\u5347\u5e76\u8ba9\u524d\u540e\u7aef\u5171\u7528\u4ee3\u7801"),(0,l.kt)("h2",{id:"252-ssr-\u7684\u597d\u5904"},"25.2. ssr \u7684\u597d\u5904"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"seo \u53cb\u597d"),(0,l.kt)("li",{parentName:"ul"},"\u540c\u65f6\u6709\u52a9\u4e8e\u6539\u5584\u9996\u5c4f\u52a0\u8f7d\u4f53\u9a8c")),(0,l.kt)("h2",{id:"253-\u89e3\u51b3\u65b9\u6848"},"25.3. \u89e3\u51b3\u65b9\u6848"),(0,l.kt)("p",null,"\u6700\u65b0\u7684\u65b9\u6848: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/rendora/rendora"},"https://github.com/rendora/rendora"),"    (",(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000017361781?utm_source=tag-newest"},"https://segmentfault.com/a/1190000017361781?utm_source=tag-newest"),")"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/51949678"},"https://www.zhihu.com/question/51949678")," \u60f3\u8981 seo \u7684\u9875\u9762\u8981\u9759\u6001\u5206\u5f00\u90e8\u7f72, \u4e0d\u8981\u4f7f\u7528 react\n",(0,l.kt)("a",{parentName:"p",href:"https://blog.coding.net/blog/React-Server-Side-Rendering-for-SPA-SEO"},"https://blog.coding.net/blog/React-Server-Side-Rendering-for-SPA-SEO"),",\n",(0,l.kt)("a",{parentName:"p",href:"https://blog.bluedgeusa.com/how-to-build-an-seo-friendly-website-with-react-ef42bb52c563#.ge090p9pu"},"https://blog.bluedgeusa.com/how-to-build-an-seo-friendly-website-with-react-ef42bb52c563#.ge090p9pu")," //todo ,\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/carlleton/reactjs101/blob/zh-CN/Ch10/react-redux-server-rendering-isomorphic-javascript.md"},"https://github.com/carlleton/reactjs101/blob/zh-CN/Ch10/react-redux-server-rendering-isomorphic-javascript.md"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/56ca46c90ee2"},"https://www.jianshu.com/p/56ca46c90ee2")," \u4f7f\u7528\u7c7b\u5e93"),(0,l.kt)("p",null,"\u5176\u5b9e, \u5bf9\u4e8e\u771f\u6b63\u9002\u5408\u505a\u6210 SPA \u7684\u5e94\u7528\uff0cSEO \u53cd\u800c\u901a\u5e38\u4e0d\u662f\u95ee\u9898\u3002\u9488\u5bf9 marketing \u7684\u9875\u9762\u5e94\u8be5\u662f\u9759\u6001\u5206\u5f00\u90e8\u7f72\u7684\uff0capp \u672c\u8eab\u5219\u8981\u767b\u9646\u624d\u80fd\u7528\uff0cSEO \u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u3002\u5bf9\u4e8e\u5c11\u6570\u540c\u65f6\u9700\u8981 seo, \u800c\u4e14\u540c\u65f6\u9700\u8981\u5f3a\u4ea4\u4e92\u6027 spa \u7684\u573a\u666f, \u6709\u5982\u4e0b\u51e0\u79cd\u89e3\u51b3\u65b9\u6848:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"React \u4f7f\u7528 Next.js \u4f5c\u670d\u52a1\u5668\u7aef\u6e32\u67d3 ",(0,l.kt)("a",{parentName:"p",href:"https://nextjs.org/"},"https://nextjs.org/")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/unicodeveloper/awesome-nextjs#videos"},"https://github.com/unicodeveloper/awesome-nextjs#videos"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 Node.js \u4f5c\u4e3a\u524d\u540e\u7aef\u7684\u4e2d\u95f4\u5c42\u8fdb\u884c\u4e2d\u95f4\u5c42\u6e32\u67d3 \uff0c\u4f46\u53ef\u80fd\u5bf9\u9879\u76ee\u6539\u52a8\u6709\u70b9\u5927 (",(0,l.kt)("a",{parentName:"p",href:"http://www.alloyteam.com/2015/10/8783/"},"http://www.alloyteam.com/2015/10/8783/"),"), \u53c2\u8003 ",(0,l.kt)("a",{parentName:"p",href:"https://juejin.im/post/6844903693033144333"},"https://juejin.im/post/6844903693033144333")),(0,l.kt)("p",{parentName:"li"},"React \u63d0\u4f9b\u4e86\u4fe9\u4e2a\u795e\u5947\u7684\u65b9\u6cd5\uff0crenderToString \u548c renderToStaticMarkup:"),(0,l.kt)("p",{parentName:"li"},"renderToString \u65b9\u6cd5\uff0c\u53ea\u5e94\u7528\u5728\u670d\u52a1\u5668\u7aef\uff0c\u628a\u4e00\u4e2a React Component \u6e32\u67d3\u6210 HTMl ,\u53ef\u4ee5\u5c06\u5b83\u901a\u8fc7 response \u53d1\u9001\u5230\u6d4f\u89c8\u5668\u7aef\uff0c\u8fbe\u5230 SEO \u7684\u76ee\u7684\u3002"),(0,l.kt)("p",{parentName:"li"},"renderToStaticMarkup \u65b9\u6cd5\uff0c\u548c renderToString \u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u751f\u6210\u7684 HTML Dom \u4e0d\u5305\u542b\u7c7b\u4f3c data-react-id \u8fd9\u6837\u7684\u989d\u5916\u5c5e\u6027\uff0c\u53ef\u4ee5\u7528\u4e8e\u751f\u6210\u7b80\u5355\u7684\u9759\u6001\u9875\u9762\uff0c\u8282\u7701\u5927\u91cf\u5b57\u7b26\u4e32\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/rendora/rendora"},"https://github.com/rendora/rendora")," \u4f7f\u7528 headless Chrome")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/jaredpalmer/razzle"},"https://github.com/jaredpalmer/razzle")))),(0,l.kt)("h3",{id:"2531-\u62d6\u8fc7-vite"},"25.3.1. \u62d6\u8fc7 vite"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://cn.vitejs.dev/guide/ssr.html"},"https://cn.vitejs.dev/guide/ssr.html")),(0,l.kt)("h3",{id:"2532-\u914d\u5408-koa2-\u5b9e\u73b0-ssr"},"25.3.2. \u914d\u5408 koa2 \u5b9e\u73b0 ssr"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yangfan0095/react-koa2-ssr"},"https://github.com/yangfan0095/react-koa2-ssr")),(0,l.kt)("h3",{id:"2533-egg-\u5b9e\u73b0-ssr"},"25.3.3. egg \u5b9e\u73b0 ssr"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/zhangyuang/ssr"},"https://github.com/zhangyuang/ssr"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/zhangyuang/egg-react-ssr"},"https://github.com/zhangyuang/egg-react-ssr")),(0,l.kt)("h1",{id:"26-\u6027\u80fd\u4f18\u5316"},"26. \u6027\u80fd\u4f18\u5316"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/37148975"},"https://zhuanlan.zhihu.com/p/37148975")),(0,l.kt)("h2",{id:"261-\u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u573a\u666f"},"26.1. \u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u573a\u666f"),(0,l.kt)("p",null,"\u952e\u76d8\u8f93\u5165\u5361\u987f"),(0,l.kt)("p",null,"\u9f20\u6807\u79fb\u52a8/\u6eda\u52a8\u5361\u987f (\u8c03\u6574\u5c3a\u5bf8 resize)"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u62c6\u5206\u7684\u8981\u8db3\u591f\u5c0f, \u51cf\u5c11 virtual dom \u7684 diff \u64cd\u4f5c\u8d1f\u62c5"),(0,l.kt)("h2",{id:"262-\u4f7f\u7528\u5de5\u5177\u5b9a\u4f4d\u6027\u80fd\u95ee\u9898"},"26.2. \u4f7f\u7528\u5de5\u5177\u5b9a\u4f4d\u6027\u80fd\u95ee\u9898"),(0,l.kt)("p",null,"react devtools (highlight update \u529f\u80fd)\nchrome devtools"),(0,l.kt)("h2",{id:"263-\u7f51\u7edc\u6027\u80fd\u4f18\u5316-\u81ea\u52a8\u6309\u9700\u52a0\u8f7d"},"26.3. \u7f51\u7edc\u6027\u80fd\u4f18\u5316-\u81ea\u52a8\u6309\u9700\u52a0\u8f7d"),(0,l.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7 react-loadable \u7ec4\u4ef6 + webpack import api \u6765\u5b9e\u73b0 react \u5f02\u6b65\u52a0\u8f7d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import loadable from "react-loadable";\n\nconst TargetComponent = loadable({\n    loader: () => import("./TargetComponent"),\n    // \u7b49\u5f85\u9875\u9762\n    loading: () => <div>Loading....</div>\n});\n')),(0,l.kt)("h2",{id:"264-\u4f7f\u7528-reselect-\u907f\u514d\u91cd\u590d\u8ba1\u7b97"},"26.4. \u4f7f\u7528 Reselect \u907f\u514d\u91cd\u590d\u8ba1\u7b97"),(0,l.kt)("p",null,"reselect \u5e93\u7528\u6765\u521b\u5efa\u81ea\u52a8\u7f13\u5b58\u7684\u6570\u636e\u7684\u5904\u7406\u51fd\u6570"),(0,l.kt)("h1",{id:"27-react-\u52a8\u753b"},"27. react \u52a8\u753b"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/Ey24FrWN2SiLK2LAmPv7hA"},"https://mp.weixin.qq.com/s/Ey24FrWN2SiLK2LAmPv7hA")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/pmndrs/react-spring"},"https://github.com/pmndrs/react-spring"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/chenglou/react-motion"},"https://github.com/chenglou/react-motion")),(0,l.kt)("p",null,"TODO"),(0,l.kt)("h1",{id:"28-react-native"},"28. react native"),(0,l.kt)("p",null,"expo.dev  \u57fa\u4e8e react native \u7684\u5c01\u88c5, \u5c4f\u853d\u4e86\u5e95\u5c42\u66f4\u591a\u7ec6\u8282"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/getting-started"},"https://reactnative.dev/docs/getting-started")," \u5b98\u7f51\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/reactnativecn/react-native-guide"},"https://github.com/reactnativecn/react-native-guide")," \u4e2d\u6587\u8d44\u6e90\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/jondot/awesome-react-native"},"https://github.com/jondot/awesome-react-native")),(0,l.kt)("p",null,"\u7f8e\u56e2\u5916\u5356\u7684\u5b9e\u8df5: ",(0,l.kt)("a",{parentName:"p",href:"https://tech.meituan.com/2019/12/19/meituan-mrn-practice.html"},"https://tech.meituan.com/2019/12/19/meituan-mrn-practice.html")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://guoshuyu.cn/home/wx/"},"https://guoshuyu.cn/home/wx/"),"\n",(0,l.kt)("a",{parentName:"p",href:"http://laomengit.com/guide/introduction/cross-platform.html"},"http://laomengit.com/guide/introduction/cross-platform.html")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://xiaozhuanlan.com/topic/8924513706"},"https://xiaozhuanlan.com/topic/8924513706")," \u8de8\u5e73\u53f0\u5f00\u53d1\u539f\u7406\n",(0,l.kt)("a",{parentName:"p",href:"https://exp.newsmth.net/topic/article/51b2b5d2371fc166e46ef0ff881b8506"},"https://exp.newsmth.net/topic/article/51b2b5d2371fc166e46ef0ff881b8506")," flutter \u5bf9\u6bd4\n",(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/43957699"},"https://zhuanlan.zhihu.com/p/43957699")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/henter/ReactNativeRubyChina"},"https://github.com/henter/ReactNativeRubyChina")," \u5b9e\u4f8b\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/soliury/noder-react-native"},"https://github.com/soliury/noder-react-native")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000040047178"},"https://segmentfault.com/a/1190000040047178")," \u5bf9\u6bd4 flutter\n",(0,l.kt)("a",{parentName:"p",href:"https://www.infoq.cn/article/8zslqg9iys5wyrezgrxr"},"https://www.infoq.cn/article/8zslqg9iys5wyrezgrxr")),(0,l.kt)("h1",{id:"29-\u5f00\u53d1\u5c0f\u7a0b\u5e8f"},"29. \u5f00\u53d1\u5c0f\u7a0b\u5e8f"),(0,l.kt)("p",null,"remax, taro, anujs, \u63a8\u8350 Taro + typescript"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/24946190"},"https://zhuanlan.zhihu.com/p/24946190")," \u7533\u8bf7\u6b65\u9aa4"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/didi/chameleon"},"https://github.com/didi/chameleon")),(0,l.kt)("h1",{id:"30-\u5c0f\u9879\u76ee"},"30. \u5c0f\u9879\u76ee"),(0,l.kt)("h2",{id:"301-\u5b9e\u73b0-route"},"30.1. \u5b9e\u73b0 route"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/huyue/p/9463328.html"},"https://www.cnblogs.com/huyue/p/9463328.html"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/014fd226352b"},"https://www.jianshu.com/p/014fd226352b")),(0,l.kt)("h2",{id:"302-\u8868\u5355\u8bbe\u8ba1\u5668"},"30.2. \u8868\u5355\u8bbe\u8ba1\u5668"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/alibaba/form-render"},"https://github.com/alibaba/form-render"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/rjsf-team/react-jsonschema-form"},"https://github.com/rjsf-team/react-jsonschema-form")," json \u6e32\u67d3\u8868\u5355"),(0,l.kt)("h2",{id:"303-cms-\u7cfb\u7edf"},"30.3. cms \u7cfb\u7edf"),(0,l.kt)("p",null,"(\u914d\u5408 antd)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"npx create-react-app cms-article\n\n# \u6837\u5f0f \u4e3b\u9898 \u652f\u6301 less \n# \u81ea\u5b9a\u4e49\u914d\u7f6e\nnpm i -S antd craco-less @craco/craco\n\n# \u8def\u7531\nnpm i -S react-router-dom\n\n# ajax\nnpm i -S axios\n\n# redux\nnpm i -S redux react-redux\n")),(0,l.kt)("h1",{id:"31-\u90e8\u7f72\u5230-github-\u4e0a"},"31. \u90e8\u7f72\u5230 github \u4e0a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},'# \u5728package.json\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u4e00\u53e5, \u5904\u7406\u8de8\u57df\u95ee\u9898\n#\u201chomepage\u201d: \u201chttps://fyxwanan.github.io/test\u201d \n\n# or\n\n# "proxy": {\n#     "/api": {\n#       "target": "http://localhost:8080",\n#       "ws": true\n#     }\n#   }\n\n# \u751f\u6210\u4e00\u4e2abuild\u6587\u4ef6\u5939\nnpm run build\n\n# \u63d0\u4ea4 master \u4ee3\u7801\ngit push origin master\n\n# build\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u53e6\u4e00\u4e2a\u5206\u652f\ngit subtree push --prefix=build origin gh-pages\n\n# \u6700\u540e\u5230 github \u914d\u7f6e github pages\n\n')),(0,l.kt)("h1",{id:"32-\u548c-springboot-\u6253\u5305\u5355\u4f53\u5e94\u7528"},"32. \u548c springboot \u6253\u5305\u5355\u4f53\u5e94\u7528"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://cloud.tencent.com/developer/news/603125"},"https://cloud.tencent.com/developer/news/603125")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://medium.com/@itzgeoff/including-react-in-your-spring-boot-maven-build-ae3b8f8826e"},"https://medium.com/@itzgeoff/including-react-in-your-spring-boot-maven-build-ae3b8f8826e"),"\nfrontend-maven-plugin"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/andy_zhang2007/article/details/89393005"},"https://blog.csdn.net/andy_zhang2007/article/details/89393005")," \u548c webjars"),(0,l.kt)("h1",{id:"33-\u548c-typescript-\u4e00\u8d77\u4f7f\u7528"},"33. \u548c typescript \u4e00\u8d77\u4f7f\u7528"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/labs42io/clean-code-typescript"},"https://github.com/labs42io/clean-code-typescript")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/jkchao/typescript-book-chinese"},"https://github.com/jkchao/typescript-book-chinese"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.v2ex.com/t/948292#reply52"},"https://www.v2ex.com/t/948292#reply52")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/type-challenges/type-challenges"},"https://github.com/type-challenges/type-challenges")," \u6311\u6218\u7ec3\u4e60"),(0,l.kt)("h2",{id:"331-\u96c6\u6210-ts-\u73af\u5883"},"33.1. \u96c6\u6210 ts \u73af\u5883"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://create-react-app.dev/docs/adding-typescript/"},"https://create-react-app.dev/docs/adding-typescript/")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"npx create-react-app my-app --template typescript\n\n# default use yarn to manage package, specify use npm\nnpx create-react-app my-app --use-npm\n\n\n")),(0,l.kt)("p",null,"\u5168\u5c40\u58f0\u660e\u6587\u4ef6  ",(0,l.kt)("inlineCode",{parentName:"p"},"react-app-env.d.ts"),", ts \u914d\u7f6e ",(0,l.kt)("inlineCode",{parentName:"p"},"tsconfig.js")," \u89c1 ",(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/qq_41831345/article/details/106843875"},"https://blog.csdn.net/qq_41831345/article/details/106843875")),(0,l.kt)("h2",{id:"332-ts-\u57fa\u672c\u4f7f\u7528"},"33.2. ts \u57fa\u672c\u4f7f\u7528"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/xcatliu/typescript-tutorial"},"https://github.com/xcatliu/typescript-tutorial"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://rmolinamir.github.io/typescript-cheatsheet/"},"https://rmolinamir.github.io/typescript-cheatsheet/"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://typescript.bootcss.com/"},"https://typescript.bootcss.com/")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"npm install -g typescript")," , ",(0,l.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/play/"},"https://www.typescriptlang.org/play/")),(0,l.kt)("h3",{id:"3321-\u57fa\u672c\u6570\u636e\u7c7b\u578b"},"33.2.1. \u57fa\u672c\u6570\u636e\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"// any & unknown\n// unknown \u662f\u4e25\u683c\u7248\u7684 any, \u5c3d\u91cf\u7528 \u524d\u8005\u4ee3\u66ff\u540e\u8005\n// unknown \u7c7b\u578b\u503c\u65e0\u6cd5\u8d4b\u503c\u7ed9\u4efb\u4f55\u5176\u4ed6\u53d8\u91cf\n// unknown \u7c7b\u578b\u503c\u65e0\u6cd5\u8bfb\u53d6\u4efb\u4f55\u65b9\u6cd5\n\n// \u679a\u4e3e\nconst enum Color {Red = 1, Green, Blue}\nlet colorName: string = Color[2];\nconsole.log(colorName);  // \u663e\u793a'Green'\u56e0\u4e3a\u4e0a\u9762\u4ee3\u7801\u91cc\u5b83\u7684\u503c\u662f2\n\n// \u679a\u4e3e\u76f8\u5f53\u4e8e\u4e00\u4e2a\u5bf9\u8c61\n// obj: { X: number }\n\n// \u679a\u4e3e\u4f5c\u4e3a\u7c7b\u578b:\nenum ShapeKind {\n    Circle,\n    Square,\n}\ninterface Circle {\n    kind: ShapeKind.Circle;\n    radius: number;\n}\ninterface Square {\n    kind: ShapeKind.Square;\n    sideLength: number;\n}\nlet c: Circle = {\n    kind: ShapeKind.Square,\n    //    ~~~~~~~~~~~~~~~~ Error!\n    radius: 100,\n}\n\n")),(0,l.kt)("h3",{id:"3322-interface"},"33.2.2. interface"),(0,l.kt)("h4",{id:"33221-\u4f7f\u7528-interface-\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b"},"33.2.2.1. \u4f7f\u7528 interface \u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'\n// similar to bean in java\ninterface SquareConfig {\n  // optional properties, \n  color?: string;\n  width?: number;\n  readonly xxx: number;// readonly property, \n  //\u6700\u7b80\u5355\u5224\u65ad\u8be5\u7528readonly\u8fd8\u662fconst\u7684\u65b9\u6cd5\u662f\u770b\u8981\u628a\u5b83\u505a\u4e3a\u53d8\u91cf\u4f7f\u7528\u8fd8\u662f\u505a\u4e3a\u4e00\u4e2a\u5c5e\u6027\u3002 \u505a\u4e3a\u53d8\u91cf\u4f7f\u7528\u7684\u8bdd\u7528 const\uff0c\u82e5\u505a\u4e3a\u5c5e\u6027\u5219\u4f7f\u7528readonly\n}\n\n//ReadonlyArray<T>\u7c7b\u578b\uff0c\u5b83\u4e0eArray<T>\u76f8\u4f3c\uff0c\u53ea\u662f\u628a\u6240\u6709\u53ef\u53d8\u65b9\u6cd5\u53bb\u6389\u4e86\uff0c\u56e0\u6b64\u53ef\u4ee5\u786e\u4fdd\u6570\u7ec4\u521b\u5efa\u540e\u518d\u4e5f\u4e0d\u80fd\u88ab\u4fee\u6539\uff1a\nlet ro: ReadonlyArray<number> = a;\nconst a = [];\na = ro; // error!\na = ro as number[];//ok\n\n\n\n// \u989d\u5916\u7684\u5c5e\u6027\u68c0\u67e5\ninterface SquareConfig {\n    color?: string;\n    width?: number;\n}\nfunction createSquare(config: SquareConfig) {\n}\nlet mySquare = createSquare({ colour: "red", width: 100 });//error, \u53c2\u6570 interface \u4e2d\u6ca1\u6709 colour, \u5373\u4f7f color \u662f \u53ef\u9009\u53c2\u6570\u4e5f\u4e0d\u884c\nlet mySquare = createSquare({  width: 100 });// ok\nlet mySquare1 = createSquare({ width: 100, opacity: 0.5 } );//error\nlet mySquare = createSquare({ width: 100, opacity: 0.5 } as SquareConfig);//ok \n// \u82e5\u5e0c\u671b\u53c2\u6570\u4e2d\u5e26\u6709\u5176\u4ed6\u5c5e\u6027, \u6700\u597d\u7684\u89e3\u51b3\u65b9\u5f0f:\ninterface SquareConfig {\n    color?: string;\n    width?: number;\n    [propName: string]: any;//\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u91cf\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u53ea\u8981\u5b83\u4eec\u4e0d\u662fcolor\u548cwidth\uff0c\u90a3\u4e48\u5c31\u65e0\u6240\u8c13\u5b83\u4eec\u7684\u7c7b\u578b\u662f\u4ec0\u4e48\n}\n\n//\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5: \u5c06\u53ef\u80fd\u6709\u9519\u7684\u53c2\u6570\u5bf9\u8c61\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53e6\u4e00\u4e2a\u53d8\u91cf, \u7136\u540e\u4f20\u5165\u65b9\u6cd5\u4e2d\nlet squareOptions = { colour: "red", width: 100 };\nlet mySquare = createSquare(squareOptions);\n\n')),(0,l.kt)("h4",{id:"33222-interface-\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b"},"33.2.2.2. interface \u5b9a\u4e49\u51fd\u6570\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"interface SearchFunc {\n  (source: string, subString?: string): boolean;// \u53ef\u9009\u53c2\u6570\u5fc5\u987b\u5728\u6700\u540e\n  // \u53ef\u4ee5\u4e0d\u6b62\u6709\u4e00\u4e2a\u51fd\u6570\u7b7e\u540d\n  \n}\nlet mySearch: SearchFunc;\nmySearch = function(src, sub) {// \u8fd4\u56de\u503c\u7c7b\u578b, \u53c2\u6570\u7c7b\u578b\u53ef\u7701\u7565\n    let result = src.search(sub);\n    return result > -1;\n}\n\n\n// \u6df7\u5408\u7c7b\u578b\n//\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u540c\u65f6\u505a\u4e3a\u51fd\u6570\u548c\u5bf9\u8c61\u4f7f\u7528\uff0c\u5e76\u5e26\u6709\u989d\u5916\u7684\u5c5e\u6027\ninterface Counter {\n    (start: number): string;\n    interval: number;\n    reset(): void;\n}\nfunction getCounter(): Counter {\n    let counter = <Counter>function (start: number) { };\n    counter.interval = 123;\n    counter.reset = function () { };\n    return counter;\n}\nlet c = getCounter();\nc(10);\nc.reset();\nc.interval = 5.0;\n")),(0,l.kt)("h4",{id:"33223-interface-\u5b9a\u4e49\u53ef\u7d22\u5f15\u7c7b\u578b"},"33.2.2.3. interface \u5b9a\u4e49\u53ef\u7d22\u5f15\u7c7b\u578b"),(0,l.kt)("p",null,"\u7c7b\u4f3c\u6570\u7ec4, map..."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'interface StringArray {\n  [index: number]: string;// \u7d22\u5f15\u652f\u6301\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528, \u4f46\u662f\u6570\u5b57\u7d22\u5f15\u7684\u8fd4\u56de\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u8fd4\u56de\u503c\u7684\u5b50\u7c7b\u578b\n}\n\n\n  // \u5e95\u5c42\u5b9e\u9645\u53ea\u652f\u6301 \u5b57\u7b26\u4e32\u4f5c\u4e3a\u7d22\u5f15, \u82e5\u662f\u6570\u5b57\u4f5c\u4e3a\u7d22\u5f15, \u5b9e\u9645\u8fd8\u662f\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32, \u7136\u540e\u53bb\u67e5\u627e, \u6240\u4ee5\u4e3a\u4e86\u80fd\u591f\u67e5\u5230, number \u5bf9\u5e94\u7684\u8fd4\u56de\u7c7b\u578b\u5fc5\u987b\u548c string \u5bf9\u5e94\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u76f8\u540c or \u4e3a\u5b50\u7c7b\u578b\n//\nclass Animal {\n    name: string;\n}\nclass Dog extends Animal {\n    breed: string;\n}\n// \u9519\u8bef\uff1a\u4f7f\u7528\u6570\u503c\u578b\u7684\u5b57\u7b26\u4e32\u7d22\u5f15\uff0c\u6709\u65f6\u4f1a\u5f97\u5230\u5b8c\u5168\u4e0d\u540c\u7684Animal!\ninterface NotOkay {\n    [x: number]: Animal;\n    [x: string]: Dog;\n}\n\n\n// \u4e00\u65e6\u6307\u5b9a\u4e86\u7d22\u5f15\u7c7b\u578b, \u5f53\u524d\u5bf9\u8c61\u7684\u5176\u4ed6\u7d22\u6027\u8fd4\u56de\u7c7b\u578b\u5fc5\u987b\u7b26\u5408\u8fd9\u4e2a\u7d22\u5f15\u7c7b\u578b\ninterface NumberDictionary {\n  [index: string]: number;\n  length: number;    // \u53ef\u4ee5\uff0clength\u662fnumber\u7c7b\u578b\n  name: string       // \u9519\u8bef\uff0c`name`\u7684\u7c7b\u578b\u4e0e\u7d22\u5f15\u7c7b\u578b\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u4e0d\u5339\u914d\n}\n\n//\u53ef\u4ee5\u5c06\u7d22\u5f15\u7b7e\u540d\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff0c\u8fd9\u6837\u5c31\u9632\u6b62\u4e86\u7ed9\u7d22\u5f15\u8d4b\u503c, \u4e5f\u5c31\u963b\u6b62\u4e86\u6570\u7ec4\u6269\u5c55\ninterface ReadonlyStringArray {\n    readonly [index: number]: string;\n}\nlet myArray: ReadonlyStringArray = ["Alice", "Bob"];\nmyArray[2] = "Mallory"; // error! \u4e0d\u80fd\u8bbe\u7f6emyArray[2]\uff0c\u56e0\u4e3a\u7d22\u5f15\u7b7e\u540d\u662f\u53ea\u8bfb\u7684\n')),(0,l.kt)("h4",{id:"33224-interface-\u5b9a\u4e49-class-\u7c7b"},"33.2.2.4. interface \u5b9a\u4e49 class \u7c7b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"interface ClockInterface {\n    currentTime: Date;// \u5c06\u4f5c\u4e3a\u5b50\u7c7b\u6210\u5458\u53d8\u91cf, \u5b50\u7c7b\u5fc5\u987b\u6709\n    setTime(d: Date);\n}\n\nclass Clock implements ClockInterface {\n    currentTime: Date;\n    setTime(d: Date) {\n        this.currentTime = d;\n    }\n    constructor(h: number, m: number) { }\n}\n")),(0,l.kt)("h4",{id:"33225-interface-\u7ee7\u627f"},"33.2.2.5. interface \u7ee7\u627f"),(0,l.kt)("p",null,"interface \u53ef\u4ee5\u7ee7\u627f \u591a\u4e2a\u5176\u4ed6 interface, \u9017\u53f7\u5206\u79bb"),(0,l.kt)("p",null,"\u4ea6\u53ef\u7ee7\u627f\u5176\u4ed6 class: (interface \u81ea\u52a8\u62e5\u6709 class \u7684\u5c5e\u6027, \u5373\u4f7f\u662f private)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Control {\n    private state: any;\n}\n\ninterface SelectableControl extends Control {// \u62e5\u6709\u4e86 state \n    select(): void;\n}\n\n// \u53ef\u4ee5\u5b9e\u73b0 interface, \u56e0\u4e3a button \u62e5\u6709 state \nclass Button extends Control implements SelectableControl {\n    select() { }\n}\n// ok\nclass TextBox extends Control {\n    select() { }\n}\n\n// \u9519\u8bef\uff1a\u201cImage\u201d\u7c7b\u578b\u7f3a\u5c11\u201cstate\u201d\u5c5e\u6027\u3002\nclass Image implements SelectableControl {\n    select() { }\n}\n\n\n")),(0,l.kt)("h3",{id:"3323-interface-\u548c-type-\u533a\u522b"},"33.2.3. interface \u548c type \u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.jb51.net/article/163299.htm"},"https://www.jb51.net/article/163299.htm")),(0,l.kt)("h3",{id:"3324-class-\u4f7f\u7528"},"33.2.4. class \u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Greeter {\n  // \u6bd4\u8f83\u4e24\u4e2a object \u662f\u5426\u76f8\u7b49, \n  //\u53ea\u6709\u5b9e\u4f8b\u7684\u6210\u5458\u4f1a\u88ab\u6bd4\u8f83\u3002 \u9759\u6001\u6210\u5458\u548c\u6784\u9020\u51fd\u6570\u4e0d\u5728\u6bd4\u8f83\u7684\u8303\u56f4\u5185\u3002\n  // \u5982\u679c\u5c5e\u6027\u4e0d\u5e26\u4fee\u9970\u7b26, \u53ea\u9700\u8981\u5404\u4e2a\u5c5e\u6027\u7c7b\u578b\u90fd\u517c\u5bb9\u76f8\u7b49, \u5219 object \u76f8\u7b49\n  // \u82e5\u5c5e\u6027\u5e26\u6709\u4fee\u9970\u7b26(private\u6216 protected), \u5219\u4e24\u4e2a object \u4e2d\u7684 field \u5fc5\u987b\u90fd\u6709\u76f8\u540c\u7684\u4fee\u9970\u7b26, \u4e14\u4e24\u4e2a field \u58f0\u660e\u81ea\u540c\u4e00\u4e2a\u5730\u65b9(\u6bd4\u5982\u901a\u8fc7\u7ee7\u627f\u5f97\u5230\u7684 field)\n\n  public name: string;\n         greeting: string;  //// \u9ed8\u8ba4 public\n  protected name: string;//protected\u6210\u5458\u5728\u6d3e\u751f\u7c7b\u4e2d\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee; \u6784\u9020\u51fd\u6570\u4e5f\u53ef\u4ee5\u88ab\u6807\u8bb0\u6210 protected\u3002 \u8fd9\u610f\u5473\u7740\u8fd9\u4e2a\u7c7b\u4e0d\u80fd\u5728\u5305\u542b\u5b83\u7684\u7c7b\u5916\u88ab\u5b9e\u4f8b\u5316\uff0c\u4f46\u662f\u80fd\u88ab\u7ee7\u627f, \u53ef\u4ee5\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528 super()\n  private name: string; //\u65e0\u6cd5\u5728\u7c7b\u5916\u90e8\u8bbf\u95ee\n  readonly xiaoyu: string = \'\';// \u53ea\u8bfb\u5c5e\u6027\u5fc5\u987b\u5728\u58f0\u660e\u65f6\u6216\u6784\u9020\u51fd\u6570\u91cc\u88ab\u521d\u59cb\u5316\n      \n  static origin = {x: 0, y: 0};// \u9759\u6001\u5c5e\u6027, \u901a\u8fc7\u7c7b\u540d\u8bbf\u95ee \n\n\n  // \u53c2\u6570\u5c5e\u6027: \u901a\u8fc7\u7ed9\u6784\u9020\u51fd\u6570\u53c2\u6570\u524d\u9762\u6dfb\u52a0\u4e00\u4e2a\u8bbf\u95ee\u9650\u5b9a\u7b26\u6765\u58f0\u660e\u3002 \u4f7f\u7528 private\u9650\u5b9a\u4e00\u4e2a\u53c2\u6570\u5c5e\u6027\u4f1a\u58f0\u660e\u5e76\u521d\u59cb\u5316\u4e00\u4e2a\u79c1\u6709\u6210\u5458\uff1b\u5bf9\u4e8e public\u548c protected\u6765\u8bf4\u4e5f\u662f\u4e00\u6837\n  constructor(message: string, readonly xiaoyu: string = \'XIAOYU\') {// \u8fd9\u91cc\u662f\u4e3a\u540c\u540d\u53c2\u6570 xiaoyu \u521d\u59cb\u5316, \u53ef\u4ee5\u7701\u6389\u4e00\u4e9b\u4ee3\u7801 \n    // \u82e5\u6709\u7ee7\u627f, \u5728\u6784\u9020\u51fd\u6570\u91cc\u8bbf\u95ee this\u7684\u5c5e\u6027\u4e4b\u524d\uff0c\u6211\u4eec \u4e00\u5b9a\u8981\u8c03\u7528 super()\n      this.greeting = message;\n  }\n\n  // getter, setter\n  private _fullName: string;\n\n  get fullName(): string {\n      return this._fullName;\n  }\n\n  set fullName(newName: string) {\n      if (passcode && passcode == "secret passcode") {  \n          this._fullName = newName;\n      }\n      else {\n          console.log("Error: Unauthorized update of employee!");\n      }\n  }\n}\n\n// \u4f7f\u7528 getter, setter\nlet employee = new Employee();\nemployee.fullName = "Bob Smith";//setter\nif (employee.fullName) {//getter\n    alert(employee.fullName);\n}\n')),(0,l.kt)("h3",{id:"3325-\u6cdb\u578b\u4f7f\u7528"},"33.2.5. \u6cdb\u578b\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function identity<T>(arg: T): T {\n    return arg;\n}\nlet myIdentity: <U>(arg: U) => U = identity;\nlet myIdentity: {<T>(arg: T): T} = identity;// \u76f8\u5f53\u4e8e\u5b9a\u4e49\u4e86\u4e00\u4e2a\u533f\u540d interface/object \u6765\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b\n\n\nlet output = identity<string>("myString");\nlet output = identity("myString");// \u7b80\u5199\n\n\n//\u6cdb\u578b\u7ea6\u675f\nfunction create<T>(c: {new(): T; }): T {\n    return new c();\n}\nfunction createInstance<A extends Animal>(c: new () => A): A {\n    return new c();\n}\n')),(0,l.kt)("h3",{id:"3326-\u4ea4\u53c9\u7c7b\u578b"},"33.2.6. \u4ea4\u53c9\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u901a\u8fc7\u6cdb\u578b\u5b9a\u4e49\u6df7\u5408\u989d\u7c7b\u578b\nfunction extend<T, U>(first: T, second: U): T & U {\n    let result = <T & U>{};\n    for (let id in first) {\n        (<any>result)[id] = (<any>first)[id];\n    }\n    for (let id in second) {\n        if (!result.hasOwnProperty(id)) {\n            (<any>result)[id] = (<any>second)[id];\n        }\n    }\n    return result;\n}\n\nclass Person {\n    constructor(public name: string) { }\n}\ninterface Loggable {\n    log(): void;\n}\nclass ConsoleLogger implements Loggable {\n    log() {\n        // ...\n    }\n}\nvar jim = extend(new Person("Jim"), new ConsoleLogger());\nvar n = jim.name;\njim.log();\n')),(0,l.kt)("h3",{id:"3327-\u8054\u5408\u7c7b\u578b"},"33.2.7. \u8054\u5408\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'function padLeft(value: string, padding: string | number) {// padding can be string | number type\n    // ...\n}\nlet indentedString = padLeft("Hello world", true); // errors during compilation\n\n\n//\u5982\u679c\u4e00\u4e2a\u503c\u662f\u8054\u5408\u7c7b\u578b\uff0c\u53ea\u80fd\u8bbf\u95ee\u8054\u5408\u7c7b\u578b\u91cc\u7684\u516c\u5171\u90e8\u5206\ninterface Bird {\n    fly();\n    layEggs();\n}\ninterface Fish {\n    swim();\n    layEggs();\n}\nfunction getSmallPet(): Fish | Bird {\n    // ...\n}\nlet pet = getSmallPet();\npet.layEggs(); // okay\npet.swim();    // errors\n\n////////////////////////////////////////\n// \u7c7b\u578b\u65ad\u8a00\nlet pet = getSmallPet();\nif ((<Fish>pet).swim) { // \u663e\u5f0f\u6307\u5b9a\u4e00\u4e2a\u7c7b\u578b\n    (<Fish>pet).swim();\n} else {\n    (<Bird>pet).fly();\n}\n\n// \u7b80\u5316:\n// \u5c06\u65ad\u8a00\u62bd\u51fa\u6765\u6210\u4e3a\u51fd\u6570\nfunction isFish(pet: Fish | Bird): pet is Fish {// \u8fd4\u56de\u503c\u4e3a\u7c7b\u578b\u8c13\u8bcd, \u8bed\u6cd5\u4e3a param is Type\n    return (<Fish>pet).swim !== undefined;\n}\nif (isFish(pet)) {\n    pet.swim();\n}\nelse {\n    pet.fly();\n}\n\n\n// \u611f\u53f9\u53f7 (!): \u624b\u52a8\u53bb\u9664null\u6216 undefined\u7684\u8054\u5408\u7c7b\u578b\nfunction fixed(name: string | null): string {\n  function postfix(epithet: string) {\n    return name!.charAt(0) + \'.  the \' + epithet; // ok, \u901a\u8fc7 ! \u53bb\u6389\u4e86 null \u7c7b\u578b\n  }\n  name = name || "Bob";\n  return postfix("great");\n}\n\n\n// \u53ef\u8fa8\u8bc6\u8054\u5408\ninterface Square {\n    kind: "square";\n    size: number;\n}\ninterface Rectangle {\n    kind: "rectangle";\n    width: number;\n    height: number;\n}\ninterface Circle {\n    kind: "circle";\n    radius: number;\n}\ntype Shape = Square | Rectangle | Circle;\nfunction area(s: Shape) {\n    switch (s.kind) {\n        case "square": return s.size * s.size;\n        case "rectangle": return s.height * s.width;\n        case "circle": return Math.PI * s.radius ** 2;\n    }\n}\n')),(0,l.kt)("h3",{id:"3328-\u7c7b\u578b\u4fdd\u62a4"},"33.2.8. \u7c7b\u578b\u4fdd\u62a4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u5bf9\u4e8e\u7c7b\u578b\nfunction padLeft(value: string, padding: string | number) {\n    if (typeof padding === "number") {//\u5fc5\u987b\u662f "number"\uff0c "string"\uff0c "boolean"\u6216 "symbol"\n        return Array(padding + 1).join(" ") + value;\n    }\n    if (typeof padding === "string") {\n        return padding + value;\n    }\n    throw new Error(`Expected string or number, got \'${padding}\'.`);\n}\n\n// \u5bf9\u4e8e\u5b9e\u4f8b\n// \u7c7b\u578b\u4e3aSpaceRepeatingPadder | StringPadder\nlet padder: Padder = getRandomPadder();\nif (padder instanceof SpaceRepeatingPadder) { // \u53f3\u4fa7\u5fc5\u987b\u4e3a\u6784\u9020\u51fd\u6570\n    padder; // \u7c7b\u578b\u7ec6\u5316\u4e3a\'SpaceRepeatingPadder\'\n}\nif (padder instanceof StringPadder) {\n    padder; // \u7c7b\u578b\u7ec6\u5316\u4e3a\'StringPadder\'\n}\n')),(0,l.kt)("h3",{id:"3329-\u7c7b\u578b\u522b\u540d"},"33.2.9. \u7c7b\u578b\u522b\u540d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Name = string;\ntype NameResolver = () => string;\ntype NameOrResolver = Name | NameResolver;\ntype Tree<T> = {\n    value: T;\n    left: Tree<T>;\n    right: Tree<T>;\n}\n\ntype LinkedList<T> = T & { next: LinkedList<T> };\ninterface Person {\n    name: string;\n}\nvar people: LinkedList<Person>;\nvar s = people.name;\nvar s = people.next.name;\nvar s = people.next.next.name;\nvar s = people.next.next.next.name;\n\n\n// \u548c\u63a5\u53e3\u7684\u533a\u522b\ntype Alias = { num: number }//\u7c7b\u578b\u522b\u540d\u5e76\u4e0d\u521b\u5efa\u65b0\u540d\u5b57\ninterface Interface {\n    num: number;\n}\ndeclare function aliased(arg: Alias): Alias;//\u5c06\u9f20\u6807\u60ac\u505c\u5728 interfaced\u4e0a\uff0c\u663e\u793a\u5b83\u8fd4\u56de\u7684\u662f Interface\uff0c\u4f46\u60ac\u505c\u5728 aliased\u4e0a\u65f6\uff0c\u663e\u793a\u7684\u5374\u662f\u5bf9\u8c61\u5b57\u9762\u91cf\u7c7b\u578b\ndeclare function interfaced(arg: Interface): Interface;\n\n//\u7c7b\u578b\u522b\u540d\u4e0d\u80fd\u88ab extends\u548c implements\n")),(0,l.kt)("h3",{id:"33210-\u7a7a\u7c7b\u578b"},"33.2.10. \u7a7a\u7c7b\u578b"),(0,l.kt)("p",null,"--strictNullChecks\u6807\u8bb0 \u6548\u679c:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"let s = \"foo\";\ns = null; // \u9519\u8bef, 'null'\u4e0d\u80fd\u8d4b\u503c\u7ed9'string', \u82e5\u679c\u662f js \u89c4\u5219/ts \u4e0d\u52a0 strict \u6807\u8bb0, \u5219\u53ef\u4ee5\n\n// TypeScript\u4f1a\u628a null\u548c undefined\u533a\u522b\u5bf9\u5f85\u3002 string | null\uff0c string | undefined\u548c string | undefined | null\u662f\u4e0d\u540c\u7684\u7c7b\u578b\nlet sn: string | null = \"bar\";\nsn = null; // \u53ef\u4ee5\n\nsn = undefined; // error, 'undefined'\u4e0d\u80fd\u8d4b\u503c\u7ed9'string | null'\n\n\n\n//\u53ef\u9009\u53c2\u6570\u4f1a\u88ab\u81ea\u52a8\u5730\u52a0\u4e0a | undefined\nfunction f(x: number, y?: number) {\n    return x + (y || 0);\n}\nf(1, 2);\nf(1);\nf(1, undefined);\nf(1, null); // error, 'null' is not assignable to 'number | undefined'\n")),(0,l.kt)("h2",{id:"333-\u4e3a\u6837\u5f0f\u6587\u4ef6\u7f16\u5199-types"},"33.3. \u4e3a\u6837\u5f0f\u6587\u4ef6\u7f16\u5199 types"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/Dilomen/article/details/100837293"},"https://blog.csdn.net/Dilomen/article/details/100837293"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/q/1010000017979602/a-1020000017980147"},"https://segmentfault.com/q/1010000017979602/a-1020000017980147")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/dt/search?search="},"https://www.typescriptlang.org/dt/search?search=")," \u641c\u7d22\u7c7b\u578b\u58f0\u660e\u6587\u4ef6"),(0,l.kt)("p",null,"typeRoots \u662f tsconfig \u4e2d compilerOptions \u7684\u4e00\u4e2a\u914d\u7f6e\u9879\uff0ctypeRoots \u4e0b\u9762\u7684\u5305\u4f1a\u88ab ts \u7f16\u8bd1\u5668\u81ea\u52a8\u5305\u542b\u8fdb\u6765\uff0ctypeRoots \u9ed8\u8ba4\u6307\u5411 node_modules/@types"),(0,l.kt)("p",null,"types \u548c typeRoots \u4e00\u6837\u4e5f\u662f compilerOptions \u7684\u914d\u7f6e\uff0c\u6307\u5b9a types \u540e\uff0ctypeRoots \u4e0b\u53ea\u6709\u88ab\u6307\u5b9a\u7684\u5305\u624d\u4f1a\u88ab\u5f15\u5165"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/350961609"},"https://www.zhihu.com/question/350961609")," \u58f0\u660e\u5168\u5c40\u7c7b\u578b \u65e0\u9700\u5bfc\u5165"),(0,l.kt)("h2",{id:"334-\u914d\u7f6e-css-\u8df3\u8f6c"},"33.4. \u914d\u7f6e css \u8df3\u8f6c"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/641bcac7754b"},"https://www.jianshu.com/p/641bcac7754b")),(0,l.kt)("h1",{id:"34-\u5f00\u6e90\u5e93"},"34. \u5f00\u6e90\u5e93"),(0,l.kt)("h2",{id:"\u6548\u7387\u5f00\u53d1"},"\u6548\u7387\u5f00\u53d1"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/payloadcms/payload"},"https://github.com/payloadcms/payload")," \u5feb\u901f\u521b\u8fd8\u80fd crud, \u53ef\u89c6\u5316\u7ec4\u5408\u5404\u79cd\u6280\u672f\u6808"),(0,l.kt)("h2",{id:"\u53ef\u89c6\u5316\u5e93"},"\u53ef\u89c6\u5316\u5e93"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"\nG6 \u6765\u81ea antv \u7684\u56fe\u53ef\u89c6\u5316\u5f15\u64ce (\u5173\u7cfb\u6570\u636e\u53ef\u89c6\u5316)\n    antv \u4e0b\u8fd8\u5305\u62ec G2 ...\n\nECharts  \u7b80\u5355\u6613\u7528, \u6765\u81ea\u767e\u5ea6, \u5c01\u88c5\u6027\u66f4\u9ad8 (ECharts<G2<D3)\n\nD3 \u7075\u6d3b\u6027\u8d85\u9ad8\u7684\u53ef\u89c6\u5316\u56fe\u8868\n\nthreejs \u7ed8\u5236\u4e09\u7ef4\u56fe\u5f62\u7684\uff0c\u5b83\u5c5e\u4e8eWebGL\u6280\u672f, \u9700\u8981 OpenGL\u76f8\u5173\u77e5\u8bc6\n\n\n\u573a\u666f\uff1a\u753b\u4e09\u7ef4\u56fe\u7528Three\uff0c\u4e09\u7ef4\u5730\u56feAntV\u7684L7|L7Plot\u4e5f\u53ef\u4ee5\u505a\u5230\uff0c\u753b\u4e8c\u7ef4\u56fe\u7528ECharts\u6216\u8005G2\u3001G2Plot\u5747\u53ef\n")),(0,l.kt)("h2",{id:"auth-ui"},"auth ui"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/supabase/auth-ui"},"https://github.com/supabase/auth-ui")),(0,l.kt)("h2",{id:"341-how-to-search-the-scaffold-boilerplate-on-github-\u811a\u624b\u67b6"},"34.1. How to search the scaffold (boilerplate) on github \u811a\u624b\u67b6"),(0,l.kt)("p",null,"keywords: react scaffold/boilerplate/template landing page"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"https://github.com/kriasoft/react-starter-kit jamstack\n\nhttps://github.com/chetanverma16/react-portfolio-template nextjs + tilewindcss\n")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},"https://create-react-app.dev/")," \u642d\u5efa\u811a\u624b\u67b6"),(0,l.kt)("h2",{id:"342-command-line-app-ui"},"34.2. command-line app ui"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/vadimdemedes/ink"},"https://github.com/vadimdemedes/ink")," \u547d\u4ee4\u884c\u7a0b\u5e8f"),(0,l.kt)("h2",{id:"343-satori-\u751f\u6210-svg-pdf"},"34.3. satori \u751f\u6210 svg pdf"),(0,l.kt)("p",null,"\u6765\u81ea vercel"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/vercel/satori"},"https://github.com/vercel/satori")),(0,l.kt)("h2",{id:"344-\u7ec4\u4ef6\u5e93"},"34.4. \u7ec4\u4ef6\u5e93"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/palantir/blueprint"},"https://github.com/palantir/blueprint")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/ant-design/ant-design/"},"https://github.com/ant-design/ant-design/")),(0,l.kt)("h2",{id:"345-\u52a8\u753b"},"34.5. \u52a8\u753b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"react framer motion\n\nhttps://github.com/useAnimations/react-useanimations \u4f1a\u52a8\u7684\u56fe\u6807\n\n")),(0,l.kt)("h2",{id:"346-css-\u6846\u67b6"},"34.6. css \u6846\u67b6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\nBootstrap \u4f7f\u7528\u6700\u5e7f\u6cdb\u7684, \u4e0d\u5b9a\u5236\u7684\u8bdd \u7f51\u7ad9\u5916\u89c2\u5343\u7bc7\u4e00\u5f8b\n\nBulma \u540e\u8d77\u4e4b\u79c0\n\nPure.css \u8f7b\u91cf\u7ea7, \u53ef\u4ee5\u4f7f\u7528\u5176\u6805\u683c\u8bbe\u8ba1\u548c\u83dc\u5355\u521b\u5efa\u9ad8\u5ea6\u54cd\u5e94\u5f0f\u7684\u9875\u9762\u5e03\u5c40\n\nAnimate.css \u4e30\u5bcc\u7684\u52a8\u753b\u6548\u679c\n\nTailwind \u9ad8\u5ea6\u53ef\u5b9a\u5236\n\nNES.css \u50cf\u7d20\u98ce\u683c\n\nPaper Css \u624b\u5199\u98ce\u683c\n\n")),(0,l.kt)("h2",{id:"347-\u56fe\u8868\u5e93"},"34.7. \u56fe\u8868\u5e93"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/NorthwoodsSoftware/gojs-react"},"https://github.com/NorthwoodsSoftware/gojs-react")," \u7ed8\u5236\u5404\u79cd\u56fe"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yeori/mind-wired"},"https://github.com/yeori/mind-wired")," \u8111\u56fe"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/jerosoler/Drawflow"},"https://github.com/jerosoler/Drawflow")," \u6d41\u7a0b\u56fe"))}d.isMDXComponent=!0}}]);