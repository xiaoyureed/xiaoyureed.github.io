"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8790],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return v}});var r=n(67294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var o=r.createContext({}),p=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,s=e.mdxType,l=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(n),v=s,d=c["".concat(o,".").concat(v)]||c[v]||m[v]||l;return n?r.createElement(d,a(a({ref:t},u),{},{components:n})):r.createElement(d,a({ref:t},u))}));function v(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var l=n.length,a=new Array(l);a[0]=c;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:s,a[1]=i;for(var p=2;p<l;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},95819:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return o},default:function(){return v},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return m}});var r=n(83117),s=n(80102),l=(n(67294),n(3905)),a=["components"],i={title:"Servlet Note",tags:["servlet"],date:new Date("2016-04-13T22:16:29.000Z"),toc_min_heading_level:2,toc_max_heading_level:5},o=void 0,p={unversionedId:"servlet",id:"servlet",title:"Servlet Note",description:"Servlet note",source:"@site/docs/servlet.md",sourceDirName:".",slug:"/servlet",permalink:"/en/docs/servlet",draft:!1,tags:[{label:"servlet",permalink:"/en/docs/tags/servlet"}],version:"current",frontMatter:{title:"Servlet Note",tags:["servlet"],date:"2016-04-13T22:16:29.000Z",toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"service mesh \u670d\u52a1\u7f51\u683c",permalink:"/en/docs/service-mesh"},next:{title:"shell-bash\u811a\u672c\u6536\u96c6",permalink:"/en/docs/shell-bash-note"}},u={},m=[{value:"\u624b\u52a8\u5f00\u53d1Servlet",id:"\u624b\u52a8\u5f00\u53d1servlet",level:2},{value:"\u501f\u52a9\u5de5\u5177\u5f00\u53d1Servlet",id:"\u501f\u52a9\u5de5\u5177\u5f00\u53d1servlet",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"Tomcat\u6784\u9020Servlet\u8fc7\u7a0b",id:"tomcat\u6784\u9020servlet\u8fc7\u7a0b",level:2},{value:"Servlet\u6620\u5c04\u8def\u5f84",id:"servlet\u6620\u5c04\u8def\u5f84",level:2},{value:"Servlet\u7f3a\u7701\u8def\u5f84",id:"servlet\u7f3a\u7701\u8def\u5f84",level:2},{value:"Servlet\u751f\u547d\u5468\u671f",id:"servlet\u751f\u547d\u5468\u671f",level:2},{value:"Servlet\u63d0\u524d\u52a0\u8f7d(load-on-startup)",id:"servlet\u63d0\u524d\u52a0\u8f7dload-on-startup",level:2},{value:"init(),init(xxx)\u533a\u522b",id:"initinitxxx\u533a\u522b",level:2},{value:"Servlet\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee",id:"servlet\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee",level:2},{value:"ServletConfig\u5bf9\u8c61",id:"servletconfig\u5bf9\u8c61",level:2},{value:"ServletContext\u5bf9\u8c61",id:"servletcontext\u5bf9\u8c61",level:2},{value:"demo",id:"demo",level:2},{value:"\u57df\u5bf9\u8c61\u5171\u4eab\u6570\u636e",id:"\u57df\u5bf9\u8c61\u5171\u4eab\u6570\u636e",level:2},{value:"\u8c03\u7528\u65b9\u5f0f",id:"\u8c03\u7528\u65b9\u5f0f",level:2},{value:"\u672c\u8d28\u533a\u522b",id:"\u672c\u8d28\u533a\u522b",level:2},{value:"\u4ee3\u7801\u4f8b\u5b50",id:"\u4ee3\u7801\u4f8b\u5b50",level:2},{value:"\u4f20\u7edf\u914d\u7f6e\u65b9\u6cd5\u5f00\u53d1 filter",id:"\u4f20\u7edf\u914d\u7f6e\u65b9\u6cd5\u5f00\u53d1-filter",level:2},{value:"\u6848\u4f8b:\u7edf\u4e00\u5904\u7406\u7f16\u7801",id:"\u6848\u4f8b\u7edf\u4e00\u5904\u7406\u7f16\u7801",level:2},{value:"\u6848\u4f8b:\u767b\u5f55\u8fc7\u6ee4",id:"\u6848\u4f8b\u767b\u5f55\u8fc7\u6ee4",level:2},{value:"\u6848\u4f8b:\u81ea\u52a8\u767b\u5f55",id:"\u6848\u4f8b\u81ea\u52a8\u767b\u5f55",level:2},{value:"spring boot \u4e2d\u4f7f\u7528filter",id:"spring-boot-\u4e2d\u4f7f\u7528filter",level:2},{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:2},{value:"\u6709\u54ea\u4e9b\u76d1\u542c\u5668",id:"\u6709\u54ea\u4e9b\u76d1\u542c\u5668",level:2},{value:"\u751f\u547d\u5468\u671f\u76d1\u542c\u5668",id:"\u751f\u547d\u5468\u671f\u76d1\u542c\u5668",level:2},{value:"\u5c5e\u6027\u76d1\u542c\u5668",id:"\u5c5e\u6027\u76d1\u542c\u5668",level:2},{value:"session\u7ed1\u5b9a\u76d1\u542c\u5668",id:"session\u7ed1\u5b9a\u76d1\u542c\u5668",level:2},{value:"form\u4e2d\u53ea\u6709\u7eaf\u6587\u672c\u6570\u636e",id:"form\u4e2d\u53ea\u6709\u7eaf\u6587\u672c\u6570\u636e",level:2},{value:"form\u4e2d\u542b\u6709\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"form\u4e2d\u542b\u6709\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6",level:2},{value:"\u5f02\u6b65\u652f\u6301",id:"\u5f02\u6b65\u652f\u6301",level:2},{value:"\u5b9e\u73b0\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u9694\u79bb",id:"\u5b9e\u73b0\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u9694\u79bb",level:3},{value:"\u63d2\u4ef6\u5f0f\u5f00\u53d1",id:"\u63d2\u4ef6\u5f0f\u5f00\u53d1",level:2},{value:"\u6ce8\u89e3\u5f00\u53d1",id:"\u6ce8\u89e3\u5f00\u53d1",level:2}],c={toc:m};function v(e){var t=e.components,n=(0,s.Z)(e,a);return(0,l.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{align:"center"},"Servlet note Servlet \u662f\u5355\u5b9e\u4f8b\u591a\u7ebf\u7a0b\u7684, \u56e0\u6b64\u4f1a\u6709 thread-safe \u95ee\u9898"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1-%E4%BB%8E%E8%B5%84%E6%BA%90%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B%E8%AF%B4%E8%B5%B7"},"1. \u4ece\u8d44\u6e90\u8bf7\u6c42\u8fc7\u7a0b\u8bf4\u8d77")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#2-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8A%A8%E6%80%81%E8%B5%84%E6%BA%90"},"2. \u4ec0\u4e48\u662f\u52a8\u6001\u8d44\u6e90"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#21-%E6%89%8B%E5%8A%A8%E5%BC%80%E5%8F%91servlet"},"2.1. \u624b\u52a8\u5f00\u53d1Servlet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#22-%E5%80%9F%E5%8A%A9%E5%B7%A5%E5%85%B7%E5%BC%80%E5%8F%91servlet"},"2.2. \u501f\u52a9\u5de5\u5177\u5f00\u53d1Servlet")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#3-%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83"},"3. \u76ee\u5f55\u89c4\u8303")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#4-%E8%A7%A3%E5%86%B3web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E4%B9%B1%E7%A0%81"},"4. \u89e3\u51b3web\u9879\u76ee\u4e2d\u7684\u4e71\u7801")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#5-web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"},"5. web\u9879\u76ee\u4e2d\u7684\u8def\u5f84\u95ee\u9898")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#6-%E5%92%8C%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E7%9A%84api"},"6. \u548c\u8def\u5f84\u76f8\u5173\u7684api")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#7-servlet-details"},"7. Servlet details"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#71-%E6%80%BB%E7%BB%93"},"7.1. \u603b\u7ed3")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#72-tomcat%E6%9E%84%E9%80%A0servlet%E8%BF%87%E7%A8%8B"},"7.2. Tomcat\u6784\u9020Servlet\u8fc7\u7a0b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#73-servlet%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"},"7.3. Servlet\u6620\u5c04\u8def\u5f84")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#74-servlet%E7%BC%BA%E7%9C%81%E8%B7%AF%E5%BE%84"},"7.4. Servlet\u7f3a\u7701\u8def\u5f84")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#75-servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"},"7.5. Servlet\u751f\u547d\u5468\u671f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#76-servlet%E6%8F%90%E5%89%8D%E5%8A%A0%E8%BD%BDload-on-startup"},"7.6. Servlet\u63d0\u524d\u52a0\u8f7dload-on-startup")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#77-initinitxxx%E5%8C%BA%E5%88%AB"},"7.7. init,initxxx\u533a\u522b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#78-servlet%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE"},"7.8. Servlet\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#79-servletconfig%E5%AF%B9%E8%B1%A1"},"7.9. ServletConfig\u5bf9\u8c61")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#710-servletcontext%E5%AF%B9%E8%B1%A1"},"7.10. ServletContext\u5bf9\u8c61")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#711-demo"},"7.11. demo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#712-%E5%9F%9F%E5%AF%B9%E8%B1%A1%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"},"7.12. \u57df\u5bf9\u8c61\u5171\u4eab\u6570\u636e")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#8-jsp%E4%B9%9D%E4%B8%AA%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%9B%9B%E4%B8%AA%E5%9F%9F%E5%AF%B9%E8%B1%A1servlet%E4%B8%89%E5%A4%A7%E5%9F%9F%E5%AF%B9%E8%B1%A1"},"8. jsp\u4e5d\u4e2a\u5185\u7f6e\u5bf9\u8c61/\u56db\u4e2a\u57df\u5bf9\u8c61,servlet\u4e09\u5927\u57df\u5bf9\u8c61")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#9-%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"},"9. \u4e09\u79cd\u65b9\u5f0f\u8bfb\u53d6\u8d44\u6e90\u6587\u4ef6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#10-%E8%BD%AC%E5%8F%91%E9%87%8D%E5%AE%9A%E5%90%91"},"10. \u8f6c\u53d1&\u91cd\u5b9a\u5411"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#101-%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F"},"10.1. \u8c03\u7528\u65b9\u5f0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#102-%E6%9C%AC%E8%B4%A8%E5%8C%BA%E5%88%AB"},"10.2. \u672c\u8d28\u533a\u522b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#103-%E4%BB%A3%E7%A0%81%E4%BE%8B%E5%AD%90"},"10.3. \u4ee3\u7801\u4f8b\u5b50")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#11-%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86"},"11. \u4f1a\u8bdd\u7ba1\u7406")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#12-%E8%BF%87%E6%BB%A4%E5%99%A8filter"},"12. \u8fc7\u6ee4\u5668filter"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#121-%E4%BC%A0%E7%BB%9F%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95%E5%BC%80%E5%8F%91-filter"},"12.1. \u4f20\u7edf\u914d\u7f6e\u65b9\u6cd5\u5f00\u53d1 filter")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#122-%E6%A1%88%E4%BE%8B%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86%E7%BC%96%E7%A0%81"},"12.2. \u6848\u4f8b:\u7edf\u4e00\u5904\u7406\u7f16\u7801")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#123-%E6%A1%88%E4%BE%8B%E7%99%BB%E5%BD%95%E8%BF%87%E6%BB%A4"},"12.3. \u6848\u4f8b:\u767b\u5f55\u8fc7\u6ee4")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#124-%E6%A1%88%E4%BE%8B%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95"},"12.4. \u6848\u4f8b:\u81ea\u52a8\u767b\u5f55")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#125-spring-boot-%E4%B8%AD%E4%BD%BF%E7%94%A8filter"},"12.5. spring boot \u4e2d\u4f7f\u7528filter")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#13-%E7%9B%91%E5%90%AC%E5%99%A8listener"},"13. \u76d1\u542c\u5668listener"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#131-%E6%A6%82%E5%BF%B5"},"13.1. \u6982\u5ff5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#132-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%9B%91%E5%90%AC%E5%99%A8"},"13.2. \u6709\u54ea\u4e9b\u76d1\u542c\u5668")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#133-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%91%E5%90%AC%E5%99%A8"},"13.3. \u751f\u547d\u5468\u671f\u76d1\u542c\u5668")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#134-%E5%B1%9E%E6%80%A7%E7%9B%91%E5%90%AC%E5%99%A8"},"13.4. \u5c5e\u6027\u76d1\u542c\u5668")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#135-session%E7%BB%91%E5%AE%9A%E7%9B%91%E5%90%AC%E5%99%A8"},"13.5. session\u7ed1\u5b9a\u76d1\u542c\u5668")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#14-i18n"},"14. i18n")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#15-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD"},"15. \u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#151-form%E4%B8%AD%E5%8F%AA%E6%9C%89%E7%BA%AF%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE"},"15.1. form\u4e2d\u53ea\u6709\u7eaf\u6587\u672c\u6570\u636e")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#152-form%E4%B8%AD%E5%90%AB%E6%9C%89%E6%96%87%E6%9C%AC%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"},"15.2. form\u4e2d\u542b\u6709\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#16-javamail%E9%82%AE%E4%BB%B6%E5%BC%80%E5%8F%91"},"16. javamail\u90ae\u4ef6\u5f00\u53d1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#17-servlet30"},"17. servlet3.0"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#171-%E5%BC%82%E6%AD%A5%E6%94%AF%E6%8C%81"},"17.1. \u5f02\u6b65\u652f\u6301"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#1711-%E5%AE%9E%E7%8E%B0%E8%AF%B7%E6%B1%82%E7%BA%BF%E7%A8%8B%E6%B1%A0%E9%9A%94%E7%A6%BB"},"17.1.1. \u5b9e\u73b0\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u9694\u79bb")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#172-%E6%8F%92%E4%BB%B6%E5%BC%8F%E5%BC%80%E5%8F%91"},"17.2. \u63d2\u4ef6\u5f0f\u5f00\u53d1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#173-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"},"17.3. \u6ce8\u89e3\u5f00\u53d1")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#18-xxxwapper"},"18. xxxWapper")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#19-servlet%E5%92%8C%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"},"19. servlet\u548c\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"))),(0,l.kt)("h1",{id:"\u4ece\u8d44\u6e90\u8bf7\u6c42\u8fc7\u7a0b\u8bf4\u8d77"},"\u4ece\u8d44\u6e90\u8bf7\u6c42\u8fc7\u7a0b\u8bf4\u8d77"),(0,l.kt)("h1",{id:"\u4ec0\u4e48\u662f\u52a8\u6001\u8d44\u6e90"},"\u4ec0\u4e48\u662f\u52a8\u6001\u8d44\u6e90"),(0,l.kt)("p",null,"\u52a8\u6001\u8d44\u6e90\u662f\u76f8\u5bf9\u4e8e\u9759\u6001\u8d44\u6e90\u6765\u8bf4\u7684, \u5f53\u591a\u4e2auser\u8bbf\u95ee\u52a8\u6001\u8d44\u6e90, \u9875\u9762\u6e90\u4ee3\u7801\u53ef\u80fd\u4f1a\u53d1\u751f\u6539\u53d8"),(0,l.kt)("p",null,"Servlet\u672c\u8d28\u662f\u4e00\u4e2a\u63a5\u53e3, \u662f\u5b9a\u4e49\u7684\u4e00\u5957\u5f00\u53d1\u89c4\u8303, \u81ea\u5b9a\u4e49\u7684servlet\u9700\u8981\u5b9e\u73b0\u8be5\u63a5\u53e3, \u5b9e\u73b0\u5bf9\u5e94\u7684\u65b9\u6cd5, \u5982init(), service(), destroy();"),(0,l.kt)("h2",{id:"\u624b\u52a8\u5f00\u53d1servlet"},"\u624b\u52a8\u5f00\u53d1Servlet"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u7b2c\u4e00\u4e2aservlet\u7a0b\u5e8f\n */\npublic class HelloServlet extends HttpServlet{\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n                    throws ServletException, IOException {\n        //\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u95ee\u9898\n        resp.setContentType("text/html;charset=utf-8");\n        //\u5411\u6d4f\u89c8\u5668\u8f93\u51fa\u5185\u5bb9\n        resp.getWriter().write("\u8fd9\u662f\u7b2c\u4e00\u4e2aservlet\u7a0b\u5e8f\u3002\u5f53\u524d\u65f6\u95f4\u4e3a\uff1a"+new Date());\n    }\n}\n\n')),(0,l.kt)("p",null,"\u7f16\u8bd1\u540e,\u62f7\u8d1dhelloServlet\u5230Tomcat\u91cc\u7684web\u9879\u76ee\u7684WEB-INF/classes."),(0,l.kt)("p",null,"\u914d\u7f6eweb.xml:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- \u914d\u7f6e\u4e00\u4e2aservlet\u7a0b\u5e8f --\x3e\n<servlet>\n    \x3c!-- servlet\u7684\u5185\u90e8\u540d\u79f0 \uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49--\x3e\n    <servlet-name>HelloServlet</servlet-name>\n    \x3c!-- servlet\u7c7b\u540d\uff1a \u5305\u540d+\u7b80\u5355\u7c7b\u540d--\x3e\n    <servlet-class>gz.itcast.d_servlet.HelloServlet</servlet-class>\n</servlet>\n<servlet-mapping>\n    \x3c!-- servlet\u7684\u5185\u90e8\u540d\u79f0\uff0c\u548c\u4e0a\u9762\u7684\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\uff01\uff01\uff01--\x3e\n    <servlet-name>HelloServlet</servlet-name>\n    \x3c!-- servlet\u7684\u8bbf\u95ee\u540d\u79f0\uff1a /\u540d\u79f0 --\x3e\n    <url-pattern>/hello</url-pattern>\n</servlet-mapping>\n\n")),(0,l.kt)("p",null,"\u8bbf\u95ee: http://localhost:8080/projectName/hello"),(0,l.kt)("h2",{id:"\u501f\u52a9\u5de5\u5177\u5f00\u53d1servlet"},"\u501f\u52a9\u5de5\u5177\u5f00\u53d1Servlet"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5e38\u89c1web project"),(0,l.kt)("li",{parentName:"ol"},"\u5728webroot\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u9759\u6001\u8d44\u6e90\u6587\u4ef6, \u5982js, css\u7b49"),(0,l.kt)("li",{parentName:"ol"},"src\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u52a8\u6001\u8d44\u6e90\u6587\u4ef6"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u5de5\u5177\u4e2d\u5173\u8054Tomcat"),(0,l.kt)("li",{parentName:"ol"},"\u90e8\u7f72(\u62f7\u8d1dweb app \u5230Tomcat\u7684webapps\u6587\u4ef6\u5939\u4e0b)"),(0,l.kt)("li",{parentName:"ol"},"\u542f\u52a8Tomcat, \u8bbf\u95ee")),(0,l.kt)("h1",{id:"\u76ee\u5f55\u89c4\u8303"},"\u76ee\u5f55\u89c4\u8303"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/u011687186/article/details/61194580"},"java web\u9879\u76eeWEB-INF\u4e0eMETA-INF\u7684\u4f5c\u7528")),(0,l.kt)("p",null,"\u4f7f\u7528 eclipse \u751f\u6210\u7684 maven web \u9879\u76ee \u76ee\u5f55\u89c4\u8303\u5982\u4e0b:"),(0,l.kt)("h1",{id:"\u89e3\u51b3web\u9879\u76ee\u4e2d\u7684\u4e71\u7801"},"\u89e3\u51b3web\u9879\u76ee\u4e2d\u7684\u4e71\u7801"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/xiazdong/article/details/7217022"},"https://blog.csdn.net/xiazdong/article/details/7217022")),(0,l.kt)("p",null,"spring web \u5305\u63d0\u4f9b\u4e00\u4e2afilter \u89e3\u51b3 post \u8bf7\u6c42\u4e71\u7801"),(0,l.kt)("p",null,"web.xml\u914d\u7f6e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- \u7f16\u7801\u8fc7\u6ee4\u5668 --\x3e\n<filter>\n    <filter-name>CharacterEncodingFilter</filter-name>\n    <filter-class>\norg.springframework.web.filter.CharacterEncodingFilter\n    </filter-class>\n    <init-param>\n        <param-name>encoding</param-name>\n        <param-value>UTF-8</param-value>\n    </init-param>\n</filter>\n<filter-mapping>\n    <filter-name>CharacterEncodingFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n")),(0,l.kt)("h1",{id:"web\u9879\u76ee\u4e2d\u7684\u8def\u5f84\u95ee\u9898"},"web\u9879\u76ee\u4e2d\u7684\u8def\u5f84\u95ee\u9898"),(0,l.kt)("p",null,"\u6839\u636erequest \u83b7\u53d6\u7684\u5404\u79cd\u8def\u5f84(\u4ee5\u53ca, \u767b\u5f55\u6210\u529f\u540e\u600e\u4e48\u6839\u636e\u8bb0\u4f4f\u7684URL\u8df3\u56de\u7528\u6237\u6700\u540e\u8bbf\u95ee\u7684\u9875\u9762): ",(0,l.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/JemBai/archive/2010/11/10/1873764.html"},"https://www.cnblogs.com/JemBai/archive/2010/11/10/1873764.html")),(0,l.kt)("p",null,"\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u4e2d\u7684\u8def\u5f84\u6709\u4ec0\u4e48\u533a\u522b? \u770b\u770b\u8fd9\u4e2a\u4f8b\u5b50"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * web\u5e94\u7528\u4e2d\u8def\u5f84\u95ee\u9898\n */\npublic class PathDemo extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType("text/html;charset=utf-8");\n        //\u76ee\u6807\u8d44\u6e90\uff1a target.html\n        /**\n         * \u601d\u8003\uff1a \u76ee\u6807\u8d44\u6e90\u662f\u7ed9\u8c01\u4f7f\u7528\u7684\u3002\n         *      \u7ed9\u670d\u52a1\u5668\u4f7f\u7528\u7684\uff1a   / \u8868\u793a\u5728\u5f53\u524dweb\u5e94\u7528\u7684\u6839\u76ee\u5f55\uff08webRoot\u4e0b\uff09\n         *      \u7ed9\u6d4f\u89c8\u5668\u4f7f\u7528\u7684\uff1a /  \u8868\u793a\u5728webapps\u7684\u6839\u76ee\u5f55\u4e0b-----\u610f\u5473\u7740\u5730\u5740\u8981\u52a0\u9879\u76ee\u540d\n         */\n        // 1.\u8f6c\u53d1, \u7ed9server\u7528, "/"\u4ee3\u8868\u5f53\u524d\u9879\u76ee\u7684webroot\n        request.getRequestDispatcher("/target.html").forward(request, response);\n        //  2.\u8bf7\u6c42\u91cd\u5b9a\u5411, \u7ed9client\u7528, "/"\u4ee3\u8868Tomcat\u7684webapps\u76ee\u5f55\u4e0b, \u9700\u8981\u5e26\u4e0a\u9879\u76ee\u540d\u79f0\n        response.sendRedirect("/day11/target.html");\n         // 3.html\u9875\u9762\u7684\u8d85\u8fde\u63a5href\n        response.getWriter().write("<html><body><a href=\'/day11/target.html\'>\u8d85\u94fe\u63a5</a></body></html>");\n        \n        /**\n         * 4.html\u9875\u9762\u4e2d\u7684form\u63d0\u4ea4\u5730\u5740\n         */\n        response.getWriter().write("<html><body><form action=\'/day11/target.html\'><input type=\'submit\'/></form></body></html>");\n    }\n}\n\n')),(0,l.kt)("h1",{id:"\u548c\u8def\u5f84\u76f8\u5173\u7684api"},"\u548c\u8def\u5f84\u76f8\u5173\u7684api"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//\u5047\u5b9a\u4f60\u7684web application \u540d\u79f0\u4e3anews,\u4f60\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u8bf7\u6c42\u8def\u5f84\uff1ahttp://localhost:8080/news/main/list.jsp\n//\u5219\u6267\u884c\u4e0b\u9762\u4ee3\u7801\u540e\u6253\u5370\u51fa\u5982\u4e0b\u7ed3\u679c\uff1a\n System.out.println(request.getContextPath());\n//\u6253\u5370\u7ed3\u679c\uff1a/news\n\nSystem.out.println(request.getServletPath());\n//\u6253\u5370\u7ed3\u679c\uff1a/main/list.jsp\n\nSystem.out.println(request.getRequestURI());\n//\u6253\u5370\u7ed3\u679c\uff1a/news/main/list.jsp\n\nSystem.out.println(request.getRequestURL());\n//\u6253\u5370\u7ed3\u679c\uff1ahttp://localhost:8080/news/main/list.jsp\n\nSystem.out.println(request.getRealPath("/"));\n//\u6253\u5370\u7ed3\u679c\uff1aF:\\Tomcat 6.0\\webapps\\news\\test\n\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\u5982\u679c\u662fServlet , Action , Controller, \u6216\u8005Filter , Listener , \u62e6\u622a\u5668\u7b49\u76f8\u5173\u7c7b\u65f6\uff0c \u6211\u4eec\u53ea\u9700\u8981\u83b7\u5f97ServletContext\uff0c \u7136\u540e\u901a\u8fc7ServletContext.getRealPath("/")\u6765\u83b7\u53d6\u5f53\u524d\u5e94\u7528\u5728\u670d\u52a1\u5668\u4e0a\u7684\u7269\u7406\u5730\u5740\u3002'),(0,l.kt)("li",{parentName:"ul"},'\u5982\u679c\u5728\u7c7b\u4e2d\u53d6\u4e0d\u5230ServletContext\u65f6\uff0c\u5229\u7528Java\u7684\u7c7b\u52a0\u8f7d\u673a\u5236\uff1a\u8c03\u7528XXX.class.getClassLoader().getResource(""); \u65b9\u6cd5\u6765\u83b7\u53d6\u5230ClassPath , \u7136\u540e\u5904\u7406\u83b7\u5f97WebRoot\u76ee\u5f55\u3002'),(0,l.kt)("li",{parentName:"ul"},"\u8fd9\u79cd\u65b9\u5f0f\u53ea\u80fd\u662f\u8be5class\u5728WebRoot/WEB-INF/classes\u4e0b\u624d\u80fd\u751f\u6548\uff0c \u5982\u679c\u8be5class\u88ab\u6253\u5305\u5230\u4e00\u4e2ajar\u6587\u4ef6\u4e2d\uff0c \u5219\u8be5\u65b9\u6cd5\u5931\u6548\u3002")),(0,l.kt)("h1",{id:"servlet-details"},"Servlet details"),(0,l.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'Servlet\u7f16\u7a0b\n1\uff09Servlet\u751f\u547d\u5468\u671f\n    \u6784\u9020\u65b9\u6cd5\uff1a \u521b\u5efaservlet\u5bf9\u8c61\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u6b21\u8bbf\u95eeservlet\u5bf9\u8c61\u65f6\u3002\u53ea\u8c03\u75281\u6b21\u3002\n    init\u65b9\u6cd5\uff08\u6709\u53c2\uff09\uff1a \u521b\u5efa\u5b8cservlet\u5bf9\u8c61\u540e\u8c03\u7528\u3002\u53ea\u8c03\u75281\u6b21\u3002\n            \u6ce8\u610f\uff1a \u4f1a\u8c03\u7528\u65e0\u53c2\u7684init\u65b9\u6cd5\u3002\n    service\u65b9\u6cd5\uff1a servlet\u63d0\u4f9b\u670d\u52a1\u7684\u65b9\u6cd5\u3002\u6bcf\u6b21\u53d1\u51fa\u8bf7\u6c42\u8c03\u7528\u3002\n            \u6ce8\u610f\uff1a request\u5bf9\u8c61 \uff0cresponse\u5bf9\u8c61\n    destroy\u65b9\u6cd5\uff1a tomcat\u670d\u52a1\u5668\u505c\u6b62\u6216web\u5e94\u7528\u91cd\u65b0\u90e8\u7f72\uff0cservlet\u5bf9\u8c61\u9500\u6bc1\uff0cdestroy\u65b9\u6cd5\u88ab\u8c03\u7528\u3002\n2\uff09ServletConfig\u5bf9\u8c61\n        \u83b7\u53d6servlet\u7684\u521d\u59cb\u5316\u53c2\u6570\uff1a\n            getInitParameter("name    ");\n            getInitParameterNames();\n3\uff09ServletContext\u5bf9\u8c61\n        \u5f97\u5230web\u5e94\u7528\u8def\u5f84\uff1a\n                context.getContextPath();\n                request.getContextPath();  \u7b49\u4ef7\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801\n        \u5f97\u5230web\u5e94\u7528\u53c2\u6570\uff1a\n                context.getInitParameter("name");\n                context.getInitParameterNames();\n        \u57df\u5bf9\u8c61:\n                context.setAttribute("name",Object): \u4fdd\u5b58\u6570\u636e\n                context.getAttribute("name")   \u5f97\u5230\u6570\u636e\n                context.removeAttribue("name")  \u6e05\u9664\u6570\u636e\n        \u8f6c\u53d1\n                context.getRequestDispatcher("\u8def\u5f84").forward(request,response);\n                request.getRequestDispacher("\u8def\u5f84").forward(request,response);  \u7b49\u4ef7\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801\n        \u5f97\u5230web\u5e94\u7528\u4e2d\u7684\u8d44\u6e90\u6587\u4ef6\n                context.getRealPath("\u8def\u5f84")          \u8fd9\u91cc\u7684\u8def\u5f84\u4e00\u822c\u662f/WEB-INF/classes/db.properties\uff0c\u5f97\u5230\u7684\u662f\u7edd\u5bf9\u8def\u5f84\n                context.getResourceAsStream("\u8def\u5f84");\n                clazz.getResourceAcStream("/xxx");----------------\u5e26\u6709\u659c\u6760\uff0csrc\u76ee\u5f55\u4e0b\n                clazz.getClassLoader().getResourceAsStream(\u201cxxx\u201d);------------\u4e0d\u5e26\u659c\u6760\uff0csrc\u76ee\u5f55\u4e0b\n')),(0,l.kt)("h2",{id:"tomcat\u6784\u9020servlet\u8fc7\u7a0b"},"Tomcat\u6784\u9020Servlet\u8fc7\u7a0b"),(0,l.kt)("h2",{id:"servlet\u6620\u5c04\u8def\u5f84"},"Servlet\u6620\u5c04\u8def\u5f84"),(0,l.kt)("p",null,"servlet \u7684 url pattern"),(0,l.kt)("p",null,"demo:"),(0,l.kt)("h2",{id:"servlet\u7f3a\u7701\u8def\u5f84"},"Servlet\u7f3a\u7701\u8def\u5f84"),(0,l.kt)("h2",{id:"servlet\u751f\u547d\u5468\u671f"},"Servlet\u751f\u547d\u5468\u671f"),(0,l.kt)("p",null,"Servlet\u751f\u547d\u5468\u671f\u7531Tomcat\u63a7\u5236(\u4f55\u65f6\u521b\u5efa, \u4f55\u65f6\u8c03\u7528, \u4f55\u65f6\u9500\u6bc1)"),(0,l.kt)("p",null,"\u56db\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5:"),(0,l.kt)("h2",{id:"servlet\u63d0\u524d\u52a0\u8f7dload-on-startup"},"Servlet\u63d0\u524d\u52a0\u8f7d(load-on-startup)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"<servlet>\n    <servlet-name>LifeDemo</servlet-name>\n    <servlet-class>gz.itcast.c_life.LifeDemo</servlet-class>\n    \x3c!-- \u8ba9servlet\u5bf9\u8c61\u81ea\u52a8\u52a0\u8f7d --\x3e\n        \x3c!-- \u5f53\u503c >=0 \u65f6\uff0c\u8868\u793a\u5bb9\u5668\u5728\u5e94\u7528\u542f\u52a8\u65f6\u5c31\u52a0\u8f7d\u8fd9\u4e2aservlet\uff1b\u6574\u6570\u503c\u8d8a\u5927\uff0c\u521b\u5efa\u4f18\u5148\u7ea7\u8d8a\u4f4e\n                    \u5f53 <0 \u6216\u8005 \u6ca1\u6709\u6307\u5b9a\u65f6\uff0c\u5219\u6307\u793a\u5bb9\u5668\u5728\u8be5servlet\u88ab\u9009\u62e9\u65f6\u624d\u52a0\u8f7d\u3002\n                    \u9ed8\u8ba4\u503c = -1 --\x3e\n    <load-on-startup>1</load-on-startup>\n  </servlet>\n\n")),(0,l.kt)("h2",{id:"initinitxxx\u533a\u522b"},"init(),init(xxx)\u533a\u522b"),(0,l.kt)("p",null,"\u770b\u4e0b\u9762demo"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u6709\u53c2\u6570\u7684init\u548c\u65e0\u53c2\u7684init\u65b9\u6cd5\n */\npublic class InitDemo extends HttpServlet {\n    /**\n     * \u6709\u53c2\u6570\u7684init\u65b9\u6cd5\n     * \u8be5\u65b9\u6cd5\u662fservlet\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u5b9a\u4f1a\u88abtomcat\u670d\u52a1\u5668\u8c03\u7528\n     */\n    /**\n     * \u6ce8\u610f\uff1a\u5982\u679c\u8981\u7f16\u5199\u521d\u59cb\u4ee3\u7801\uff0c\u4e0d\u9700\u8981\u8986\u76d6\u6709\u53c2\u6570\u7684init\u65b9\u6cd5\n     */\n    /*@Override------------\u8fd9\u662f\u9519\u8bef\u7684\n    public void init(ServletConfig config) throws ServletException {\n        System.out.println("\u6709\u53c2\u6570\u7684init\u65b9\u6cd5");\n    }*/\n    /**\n     * \u65e0\u53c2\u6570\u7684init\u65b9\u6cd5\n     * \u8be5\u65b9\u6cd5\u662fservlet\u7684\u7f16\u5199\u521d\u59cb\u5316\u4ee3\u7801\u7684\u65b9\u6cd5\u3002\u662fSun\u516c\u53f8\u8bbe\u8ba1\u51fa\u6765\u4e13\u95e8\u7ed9\u5f00\u53d1\u8005\u8fdb\u884c\u8986\u76d6\uff0c\u7136\u540e\u5728\u91cc\u9762\u7f16\u5199servlet\u7684\u521d\u59cb\u903b\u8f91\u4ee3\u7801\u7684\u65b9\u6cd5\u3002\n     */\n    @Override\n    public void init() throws ServletException {\n        System.out.println("\u65e0\u53c2\u6570\u7684init\u65b9\u6cd5");\n    }\n}\n\n')),(0,l.kt)("h2",{id:"servlet\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee"},"Servlet\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee"),(0,l.kt)("p",null,"demo: \u8bb0\u5f55\u7b2c\u51e0\u4f4d\u8bbf\u5ba2"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * servlet\u7684\u591a\u7ebf\u7a0b\u5e76\u53d1\u95ee\u9898\n */\npublic class TheradDemo extends HttpServlet {\n    int count = 1;\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType("text/html;charset=utf-8");\n        \n        synchronized (TheradDemo.class) {//\u9501\u5bf9\u8c61\u5fc5\u987b\u552f\u4e00\u3002\u5efa\u8bae\u4f7f\u7528\u7c7b\u5bf9\u8c61\n            response.getWriter().write("\u4f60\u73b0\u5728\u662f\u5f53\u524d\u7f51\u7ad9\u7684\u7b2c"+count+"\u4e2a\u8bbf\u5ba2");   //\u7ebf\u7a0b1\u6267\u884c\u5b8c  \uff0c \u7ebf\u7a0b2\u6267\u884c\n            count++;\n        }\n    }\n}\n\n')),(0,l.kt)("h2",{id:"servletconfig\u5bf9\u8c61"},"ServletConfig\u5bf9\u8c61"),(0,l.kt)("p",null,"\u6bcf\u4e2a servlet \u90fd\u6709\u4e00\u4e2a ServletConfig"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"<servlet>\n  <servlet-name>ConfigDemo</servlet-name>\n  <servlet-class>com.xy.ConfigDemo</servlet-class>\n  \x3c!-- \u521d\u59cb\u53c2\u6570\uff1a \u8fd9\u4e9b\u53c2\u6570\u4f1a\u5728\u52a0\u8f7dweb\u5e94\u7528\u7684\u65f6\u5019\uff0c\u5c01\u88c5\u5230ServletConfig\u5bf9\u8c61\u4e2d, servlet\u7684\u53c2\u6570\u53ea\u80fd\u7531\u5f53\u524d\u7684\u8fd9\u4e2asevlet\u83b7\u53d6--\x3e\n  <init-param>\n      <param-name>path</param-name>\n      <param-value>e:/b.txt</param-value>\n  </init-param>\n  <init-param>\n        <param-name>BBB</param-name>\n        <param-value>BBB's value</param-value>\n    </init-param>\n     <init-param>\n        <param-name>CCCC</param-name>\n        <param-value>CCCC's value</param-value>\n    </init-param>\n\n</servlet>\n\n")),(0,l.kt)("p",null,"\u83b7\u53d6\u521d\u59cb\u5316\u53c2\u6570\u7684api"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class ConfigDemo extends HttpServlet {\n    /**\n     *  1\uff09tomcat\u670d\u52a1\u5668\u628a\u8fd9\u4e9b\u53c2\u6570\u4f1a\u5728\u52a0\u8f7dweb\u5e94\u7528\u7684\u65f6\u5019\uff0c\u5c01\u88c5\u5230ServletConfig\u5bf9\u8c61\u4e2d \n     *  2\uff09tomcat\u670d\u52a1\u5668\u8c03\u7528init\u65b9\u6cd5\u4f20\u5165ServletConfig\u5bf9\u8c61\n     */\n    /* \u8fd9\u662f\u5185\u90e8\u9690\u85cf\u7684\u4ee3\u7801:\n    private ServletConfig config;\n    public void init(ServletConfig config) throws ServletException {\n        this.config = config;\n    }*/\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        /**\n         * \u8bfb\u53d6servlet\u7684\u521d\u59cb\u53c2\u6570\n         */\n        String path = this.getServletConfig().getInitParameter("path");\n        File file = new File(path);\n        //\u8bfb\u53d6\u5185\u5bb9\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String str = null;\n        while( (str=br.readLine())!=null ){\n            System.out.println(str);\n        }\n        //\u67e5\u8be2\u5f53\u524dservlet\u7684\u6240\u6709\u521d\u59cb\u5316\u53c2\u6570\n        Enumeration<String> enums = this.getServletConfig().getInitParameterNames();\n        while(enums.hasMoreElements()){\n            String paramName = enums.nextElement();\n            String paramValue = this.getServletConfig().getInitParameter(paramName);\n            System.out.println(paramName+"="+paramValue);\n        }\n        //\u5f97\u5230servlet\u7684\u540d\u79f0\n        String servletName = this.getServletConfig().getServletName();\n        System.out.println(servletName);\n    }\n}\n\n\n')),(0,l.kt)("h2",{id:"servletcontext\u5bf9\u8c61"},"ServletContext\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/38481443"},"https://www.zhihu.com/question/38481443")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684ServletContext\u5bf9\u8c61\u3002\u5b83\u4e0d\u80fd\u8de8\u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u53ef\u4ee5\u5b9e\u73b0\u5e94\u7528\u7a0b\u5e8f\u5185\u7684\u6570\u636e\u5171\u4eab\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5b83\u7684\u5185\u90e8\u7ef4\u62a4\u4e86\u4e00\u4e2aMap\u96c6\u5408\uff0c\u8be5\u96c6\u5408\u4e2d\u653e\u7684\u5c31\u662f\u5171\u4eab\u7684\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7528\u4ec0\u4e48\u65b9\u6cd5\u53ef\u4ee5\u64cd\u4f5c\u8fd9\u4e2a\u96c6\u5408\u5462\uff1f",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"setAttribute(key,value);//\u653ekey-value\u5bf9"),(0,l.kt)("li",{parentName:"ul"},"Object obj = getAttribute(key);  //\u53d6\u503c"),(0,l.kt)("li",{parentName:"ul"},"removeAttribute(key);       //\u79fb\u9664key-value\u5bf9"),(0,l.kt)("li",{parentName:"ul"},"ServletContext\u7684\u751f\u547d\u5468\u671f\uff0c\u4e0e\u5e94\u7528\u7a0b\u5e8f\u5171\u5b58\u3002")))),(0,l.kt)("p",null,"ServletContext\u7684\u8bbe\u8ba1\u662f\u8fd9\u6837\u7684"),(0,l.kt)("p",null,"api:"),(0,l.kt)("p",null,"\u5982\u4f55\u83b7\u53d6?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"config.getServletContext();"),(0,l.kt)("li",{parentName:"ul"},"this.getServletContext()")),(0,l.kt)("p",null,"\u6709\u54ea\u4e9b\u4f5c\u7528?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u5168\u5c40\uff08web\u5e94\u7528\uff09\u521d\u59cb\u5316\u53c2\u6570"),(0,l.kt)("li",{parentName:"ul"},"\u8f6c\u53d1(\u83b7\u53d6\u8f6c\u53d1\u5668)"),(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u76f8\u5bf9\u8def\u5f84\u5f97\u5230\u7edd\u5bf9\u8def\u5f84"),(0,l.kt)("li",{parentName:"ul"},"\u7f13\u5b58(Web\u7f13\u5b58----\u628a\u4e0d\u7ecf\u5e38\u66f4\u6539\u7684\u5185\u5bb9\u8bfb\u5165\u5185\u5b58\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u54cd\u5e94\u8bf7\u6c42\u7684\u65f6\u5019\u5c31\u4e0d\u9700\u8981\u8fdb\u884c\u6162\u901f\u7684\u78c1\u76d8I/O\u4e86\u3002)")),(0,l.kt)("h2",{id:"demo"},"demo"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f97\u5230web\u5e94\u7528\u8def\u5f84, \u8f6c\u53d1, \u91cd\u5b9a\u5411")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u5f97\u5230web\u5e94\u7528\u8def\u5f84, \u8f6c\u53d1, \u91cd\u5b9a\u5411\n */\npublic class ContextDemo1 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //1.\u5f97\u5230ServletContext\u5bf9\u8c61\n        //ServletContext context = this.getServletConfig().getServletContext();\n        ServletContext context = this.getServletContext(); //\uff08\u63a8\u8350\u4f7f\u7528\uff09\n        //2.\u5f97\u5230web\u5e94\u7528\u8def\u5f84  /day10\n        /**\n         * web\u5e94\u7528\u8def\u5f84\uff1a\u90e8\u7f72\u5230tomcat\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684web\u5e94\u7528\u540d\u79f0\n         */\n        String contextPath = context.getContextPath();\n        System.out.println(contextPath);    //--     /day10\n        /**\n         * \u6848\u4f8b\uff1a\u5e94\u7528\u5230\u8bf7\u6c42\u91cd\u5b9a\u5411\n         */\n        response.sendRedirect(contextPath+"/index.html");//\u91cd\u5b9a\u5411\n        context.getRequestDispatcher("servlet\u540d").forward(request,response);//\u8f6c\u53d1\n    }\n}\n\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u83b7\u53d6Context\u53c2\u6570(web\u53c2\u6570\u53ef\u4ee5\u8ba9\u5e94\u7528\u4e2d\u6240\u6709\u7684Servlet\u83b7\u53d6, \u800cServlet\u53c2\u6570\u53ea\u80fd\u8ba9\u5bf9\u5e94\u7684\u4e00\u4e2aservlet\u83b7\u53d6)")),(0,l.kt)("p",null,"web.xml\u914d\u7f6e\u6587\u4ef6\u662f\u8fd9\u6837:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"<web-app>\n\x3c!-- \u914d\u7f6eweb\u5e94\u7528\u53c2\u6570 --\x3e\n    <context-param>\n        <param-name>AAA</param-name>\n        <param-value>AAA's value</param-value>\n    </context-param>\n    <context-param>\n        <param-name>BBB</param-name>\n        <param-value>BBB's value</param-value>\n    </context-param>\n    <context-param>\n        <param-name>CCC</param-name>\n        <param-value>CCC's value</param-value>\n    </context-param>\n\n</web-app>\n\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u5f97\u5230web\u5e94\u7528\u53c2\u6570\n */\npublic class ContextDemo2 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //\u5f97\u5230SErvletContext\u5bf9\u8c61\n        ServletContext context = this.getServletContext();\n        \n        System.out.println("\u53c2\u6570"+context.getInitParameter("AAA"));\n        \n        Enumeration<String> enums = context.getInitParameterNames();\n        while(enums.hasMoreElements()){\n            String paramName = enums.nextElement();\n            String paramValue  =context.getInitParameter(paramName);\n            System.out.println(paramName+"="+paramValue);\n        }\n        \n        //\u5c1d\u8bd5\u5f97\u5230ConfigDemo\u4e2d\u7684servlet\u53c2\u6570\uff0c\u4f46\u662f\u5f97\u4e0d\u5230, servlet\u53c2\u6570\u4e0d\u4e92\u901a\n        String path = this.getServletConfig().getInitParameter("path");\n        System.out.println("path="+path);\n    }\n}\n\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8bfb\u53d6\u5e94\u7528\u4e0b\u7684\u8d44\u6e90\u6587\u4ef6\uff08\u5982properties\u6587\u4ef6\uff09")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u8bfb\u53d6web\u5e94\u7528\u4e0b\u7684\u8d44\u6e90\u6587\u4ef6\uff08\u4f8b\u5982properties\uff09\n */\npublic class ResourceDemo extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        /**\n         * \u201c .\u201d \u4ee3\u8868java\u547d\u4ee4\u8fd0\u884c\u76ee\u5f55\u3002\u6b64\u65f6 \u5728tomcat/bin\u76ee\u5f55\u4e0b\n         *  \u5728web\u9879\u76ee\u4e2d\uff0c . \u4ee3\u8868\u5728tomcat/bin\u76ee\u5f55\u4e0b\u5f00\u59cb\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528\u8fd9\u79cd\u76f8\u5bf9\u8def\u5f84\u3002\n         */\n        /*File file = new File("./src/db.properties");\n        FileInputStream in = new FileInputStream(file);*/\n        /**\n         * \u4f7f\u7528web\u5e94\u7528\u4e0b\u52a0\u8f7d\u8d44\u6e90\u6587\u4ef6\u7684\u65b9\u6cd5\n         */\n        /**\n         * 1. getRealPath\u8bfb\u53d6,\u8fd4\u56de\u8d44\u6e90\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\n         */\n        String path = this.getServletContext().getRealPath("/WEB-INF/classes/db.properties");\n        System.out.println(path);\n        File file = new File(path);\n        FileInputStream in = new FileInputStream(file);\n        /**\n         * 2. getResourceAsStream()\uff0c\u8fd4\u56de\u7684\u662f\u8f93\u5165\u6d41\n         */\n        InputStream in = this.getServletContext().getResourceAsStream("/WEB-INF/classes/db.properties");\n        Properties prop = new Properties();\n        //\u8bfb\u53d6\u8d44\u6e90\u6587\u4ef6\n        prop.load(in);\n        String user = prop.getProperty("user");\n        String password = prop.getProperty("password");\n        System.out.println("user="+user);\n        System.out.println("password="+password);\n    }\n}\n\n')),(0,l.kt)("h2",{id:"\u57df\u5bf9\u8c61\u5171\u4eab\u6570\u636e"},"\u57df\u5bf9\u8c61\u5171\u4eab\u6570\u636e"),(0,l.kt)("h1",{id:"jsp\u4e5d\u4e2a\u5185\u7f6e\u5bf9\u8c61\u56db\u4e2a\u57df\u5bf9\u8c61servlet\u4e09\u5927\u57df\u5bf9\u8c61"},"jsp\u4e5d\u4e2a\u5185\u7f6e\u5bf9\u8c61/\u56db\u4e2a\u57df\u5bf9\u8c61,servlet\u4e09\u5927\u57df\u5bf9\u8c61"),(0,l.kt)("p",null,'\u641c\u7d22"jsp-note"\u2b05\ufe0f'),(0,l.kt)("h1",{id:"\u4e09\u79cd\u65b9\u5f0f\u8bfb\u53d6\u8d44\u6e90\u6587\u4ef6"},"\u4e09\u79cd\u65b9\u5f0f\u8bfb\u53d6\u8d44\u6e90\u6587\u4ef6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'servletContext.getRealPath("xxx")'),(0,l.kt)("li",{parentName:"ul"},'ResourceBundle.getBundle("xxx")'),(0,l.kt)("li",{parentName:"ul"},'this.getClass().getClassLoader().getResourceAsStram("xxx")')),(0,l.kt)("p",null,"demo:"),(0,l.kt)("h1",{id:"\u8f6c\u53d1\u91cd\u5b9a\u5411"},"\u8f6c\u53d1&\u91cd\u5b9a\u5411"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"#web%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"},"\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u65f6\u5019\u7684\u8def\u5f84\u95ee\u9898")),(0,l.kt)("h2",{id:"\u8c03\u7528\u65b9\u5f0f"},"\u8c03\u7528\u65b9\u5f0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'\u6211\u4eec\u77e5\u9053\uff0c\u5728servlet\u4e2d\u8c03\u7528\u8f6c\u53d1\u3001\u91cd\u5b9a\u5411\u7684\u8bed\u53e5\u5982\u4e0b\uff1a\nrequest.getRequestDispatcher("new.jsp").forward(request, response);//\u8f6c\u53d1\u5230new.jsp\nresponse.sendRedirect("new.jsp");//\u91cd\u5b9a\u5411\u5230new.jsp\n\n\u5728jsp\u9875\u9762\u4e2d\u4f60\u4e5f\u4f1a\u770b\u5230\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u5b9e\u73b0\u8f6c\u53d1\uff1a\n<jsp:forward page="apage.jsp" />\n\n\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728jsp\u9875\u9762\u4e2d\u5b9e\u73b0\u91cd\u5b9a\u5411\uff1a\n<%response.sendRedirect("new.jsp");//\u91cd\u5b9a\u5411\u5230new.jsp%>\n')),(0,l.kt)("h2",{id:"\u672c\u8d28\u533a\u522b"},"\u672c\u8d28\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/meiyalei/article/details/2129120"},"https://blog.csdn.net/meiyalei/article/details/2129120")),(0,l.kt)("p",null,"\u8f6c\u53d1\u662f\u670d\u52a1\u5668\u884c\u4e3a\uff0c\u91cd\u5b9a\u5411\u662f\u5ba2\u6237\u7aef\u884c\u4e3a"),(0,l.kt)("h2",{id:"\u4ee3\u7801\u4f8b\u5b50"},"\u4ee3\u7801\u4f8b\u5b50"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u8f6c\u53d1\uff08\u6548\u679c\uff1a\u8df3\u8f6c\u9875\u9762\uff09\n */\npublic class ForwardDemo1 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //\u8f6c\u53d1    \n        /**\n         * \u6ce8\u610f\uff1a\u4e0d\u80fd\u8f6c\u53d1\u5f53\u524dweb\u5e94\u7528\u4ee5\u5916\u7684\u8d44\u6e90\u3002\n         * \n         */\n        this.getServletContext().getRequestDispatcher("/GetDateServlet").forward(request, response);// \u518d server\u670d\u52a1\u5668\u5185\u90e8\u5c31\u5b8c\u6210\u4e86, so \u8def\u5f84\u65e0\u9700\u52a0\u9879\u76ee\u540d\u79f0\n        //\u5305\u542b\n        this.getServletContext().getRequestDispatcher("").include(request, response);//\u5c06\u76ee\u6807\u7ed3\u679c\u5305\u542b\u5230\u6e90\uff1b\n    }\n\n}\n/*\u91cd\u5b9a\u5411\u6548\u679c\n */\npublic class RedirectDemo1 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        /**\n         * \u4fdd\u5b58\u6570\u636e\u5230request\u57df\u5bf9\u8c61\n         */\n        request.setAttribute("name", "rose");\n        //\u91cd\u5b9a\u5411\n        /**\n         * \u6ce8\u610f\uff1a\u53ef\u4ee5\u8df3\u8f6c\u5230web\u5e94\u7528\u5185\uff0c\u6216\u5176\u4ed6web\u5e94\u7528\uff0c\u751a\u81f3\u5176\u4ed6\u5916\u90e8\u57df\u540d\u3002\n                        \u53ef\u4ee5\u8df3\u8f6c\u5230 servlet, \u9875\u9762\n         */\n        //response.sendRedirect("/day09/adv.html");\n        response.sendRedirect("/day10/GetDataServlet");// \u8def\u5f84\u9700\u8981\u52a0\u4e0a\u9879\u76ee\u540d\n    }\n\n}\n\n')),(0,l.kt)("h1",{id:"\u4f1a\u8bdd\u7ba1\u7406"},"\u4f1a\u8bdd\u7ba1\u7406"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'1) \u4f1a\u8bdd\u7ba1\u7406\uff1a \u7ba1\u7406\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef \u548c \u670d\u52a1\u5668\u7aef\u4e4b\u95f4\u4f1a\u8bdd\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u4f1a\u8bdd\u6570\u636e\u3002\n\n\u4e00\u6b21\u4f1a\u8bdd\uff1a \u6253\u5f00\u6d4f\u89c8\u5668 -> \u8bbf\u95ee\u4e00\u4e9b\u670d\u52a1\u5668\u5185\u5bb9 -> \u5173\u95ed\u6d4f\u89c8\u5668\n eg \uff1a\n\u767b\u5f55\u573a\u666f\uff1a\n    \u6253\u5f00\u6d4f\u89c8\u5668 -> \u6d4f\u89c8\u5230\u767b\u9646\u9875\u9762 -> \u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801 -> \u8bbf\u95ee\u5230\u7528\u6237\u4e3b\u9875(\u663e\u793a\u7528\u6237\u540d)\n\u8d2d\u7269\u573a\u666f\uff1a\n     \u6253\u5f00\u6d4f\u89c8\u5668 -> \u6d4f\u89c8\u5546\u54c1\u5217\u8868  -> \u52a0\u5165\u8d2d\u7269\u8f66(\u628a\u5546\u54c1\u4fe1\u606f\u4fdd\u5b58\u4e0b\u6765)  -> \u5173\u95ed\u6d4f\u89c8\u5668\n     \u6253\u5f00\u6d4f\u89c8\u5668->  \u76f4\u63a5\u8fdb\u5165\u8d2d\u7269\u8f66 -> \u67e5\u770b\u5230\u4e0a\u6b21\u52a0\u5165\u8d2d\u7269\u8f66\u7684\u5546\u54c1 -> \u4e0b\u8ba2\u5355 -> \u652f\u4ed8\n\n\u4f46\u662f\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff1a \u4f1a\u8bdd\u8fc7\u7a0b\u4e2d\uff0c\u5982\u4f55\u4fdd\u5b58\u5546\u54c1\u4fe1\u606f\u6216\u8005\u7528\u6237\u4fe1\u606f\uff1f\uff1f\n\n\u57df\u5bf9\u8c61\uff1a \u5b9e\u73b0\u8d44\u6e90\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u3002\n    request\u57df\u5bf9\u8c61\n    context\u57df\u5bf9\u8c61\n\n\u5c1d\u8bd5\u89e3\u51b3\u4fdd\u5b58\u6570\u636e\u7684\u95ee\u9898\n\u767b\u5f55\u573a\u666f\uff1a\n    \u5c0f\u5f20\uff1a \u8f93\u5165\u201c\u5f20\u4e09\u201d \uff08\u4fdd\u5b58\u6570\u636e\uff1a context.setAttribute("name","\u5f20\u4e09")\uff09 -> \u7528\u6237\u4e3b\u9875\uff08\u663e\u793a\u201c\u5f20\u4e09\u201d\uff09\n    \u5c0f\u674e\uff1a \u8f93\u5165\u201c\u674e\u56db\u201d(\u4fdd\u5b58\u6570\u636e\uff1acontext.setAttribute("name","\u674e\u56db")) ->     \u7528\u6237\u4e3b\u9875\uff08\u663e\u793a\u201c\u674e\u56db\u201d\uff09\n\u95ee\u9898\uff1a context\u662f\u6240\u6709\u7528\u6237\u516c\u6709\u7684\u8d44\u6e90\uff01\u4f1a\u8986\u76d6\u6570\u636e\u3002\n\n\u5176\u5b9e\u6700\u597d\u7684\u529e\u6cd5\uff1a\n    \u53ef\u4ee5\u4f7f\u7528session\u57df\u5bf9\u8c61\u6765\u4fdd\u5b58\u4f1a\u8bdd\u6570\u636e\n\n\u4f1a\u8bdd\u6280\u672f: \n    Cookie\u6280\u672f\uff1a\u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u3002\n    Session\u6280\u672f\uff1a\u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef\u3002\n\n2\uff09Cookie\u6280\u672f\uff1a \u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u3002\n\nCookie\u6838\u5fc3\u7684API/\u539f\u7406\uff1a\n    2.1 \u5728\u670d\u52a1\u5668\u7aef\u521b\u5efaCookie\u5bf9\u8c61\n        Cookeie cookie = new Cookie("name","value");\n        void setPath(java.lang.String uri)   \uff1a\u8bbe\u7f6ecookie\u7684\u6709\u6548\u8bbf\u95ee\u8def\u5f84, \u5f53\u8bbf\u95ee\u7684resource\u4e0d\u518d\u6709\u6548\u8def\u5f84, \u5219\u4e0d\u5e26cookies;\n            eg1: cookie.setPath("/day17"), \u6d4f\u89c8\u5668\u518d\u6b21\u8bbf\u95ee/day17/xxx/xxx.jsp\uff08\u5c31\u662f\u9879\u76ee/day17\u4e0b\u7684\u8d44\u6e90\uff09\u65f6\uff0c\u5c31\u643a\u5e26cookie\u4fe1\u606f\n            eg2: cookie.setPath("/");\uff0c\u5219\u8868\u793a\u8bbf\u95ee\u8bbf\u95ee\u4efb\u4f55\u8d44\u6e90\u90fd\u5e26cookie\u4fe1\u606f\n        void setMaxAge(int expiry) \uff1a \u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4\n            \u6b63\u6574\u6570\uff1a\u8868\u793acookie\u6570\u636e\u4fdd\u5b58\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u76ee\u5f55\uff08\u786c\u76d8\u4e2d\uff09\uff0c\u6570\u503c\u8868\u793a\u4fdd\u5b58\u7684\u65f6\u95f4\u3002\n            \u8d1f\u6574\u6570\uff1a\u8868\u793acookie\u6570\u636e\u4fdd\u5b58\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u3002\u6d4f\u89c8\u5668\u5173\u95edcookie\u5c31\u4e22\u5931\u4e86\uff01\uff01\n            \u96f6\uff1a\u8868\u793a\u5220\u9664\u540c\u540d\u7684cookie\u6570\u636e\n        void setValue(java.lang.String newValue) \uff1a\u8bbe\u7f6ecookie\u7684\u503c\n\n    2.2 \u628acookie\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\u7aef\uff08\u9690\u5f0f\u53d1\u9001\u4e86\u4e00\u4e2a\u54cd\u5e94\u5934\uff1aset-cookie: name=value\uff09\u4fdd\u5b58\u8d77\u6765\n        response.addCookie(cookie);\n    2.3 \u518d\u6b21\u8bbf\u95ee, \u6d4f\u89c8\u5668\u5e26\u7740cookie\u4fe1\u606f\u8bbf\u95ee\u670d\u52a1\u5668\uff08\u901a\u8fc7\u8bf7\u6c42\u5934\uff1acookie\uff09\uff0c\u670d\u52a1\u5668\u5f97\u5230cookie\u4fe1\u606f\n        Cookie[] cookies = request.getCookies();\n\n\u5c40\u9650\uff1a\n    1\uff09\u53ea\u80fd\u4fdd\u5b58\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u4e0d\u80fd\u4fdd\u5b58\u4e2d\u6587\n    2\uff09\u53ef\u4ee5\u4fdd\u5b58\u591a\u4e2acookie\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u4e00\u822c\u53ea\u5141\u8bb8\u5b58\u653e300\u4e2aCookie\uff0c\u6bcf\u4e2a\u7ad9\u70b9\u6700\u591a\u5b58\u653e20\u4e2aCookie\uff0c\u6bcf\u4e2aCookie\u7684\u5927\u5c0f\u9650\u5236\u4e3a4KB\n    \n3\uff09Session\u6280\u672f\uff1a\u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef(\u5185\u5b58\u4e2d)\u3002\u670d\u52a1\u5668\u80fd\u591f\u8bc6\u522b\u4e0d\u540c\u7684\u6d4f\u89c8\u8005\n\nSession\u6838\u5fc3\u7684API/\u539f\u7406\uff1a\n    3.1 \u521b\u5efa\u6216\u5f97\u5230session\u5bf9\u8c61    \n        HttpSession session = request.getSession(); //\u521b\u5efa\u6216\u5f97\u5230session\u5bf9\u8c61, \u82e5\u6ca1\u6709\u5339\u914d\u7684session\u7f16\u53f7, \u5219\u8fd4\u56de\u65b0\u521b\u5efa\u7684session\n        request.getSession(false); //\u5f97\u5230session\u5bf9\u8c61, \u82e5\u6ca1\u6709\u5339\u914d\u7684\u7f16\u53f7, \u8fd4\u56denull\n    3.2 \u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58session\u5bf9\u8c61\u4e2d\uff0c\u548c\u5f97\u5230\u4f1a\u8bdd\u6570\u636e\n        session.setAttribute("name",Object);  \u4fdd\u5b58\u6570\u636e\n        session.getAttribute("name")   \u5f97\u5230\u6570\u636e\n        void removeAttribute(java.lang.String name) \uff1a \u6e05\u9664\u6570\u636e\n    3.3 \u8bbe\u7f6esession\u5bf9\u8c61\n        void setMaxInactiveInterval(int interval)  \uff1a \u8bbe\u7f6esession\u7684\u6709\u6548\u65f6\u95f4\n            \u9ed8\u8ba4\u60c5\u51b530\u5206\u949f\u670d\u52a1\u5668\u81ea\u52a8\u56de\u6536\n            \x3c!-- \u4fee\u6539session\u5168\u5c40\u6709\u6548\u65f6\u95f4:   \u5206\u949f\uff1b \u5728<web-app>\u91cc\u9762--\x3e\n            <session-config>\n                <session-timeout>1</session-timeout>\n            </session-config>\n\n        void invalidate()     \uff1a \u624b\u52a8\u9500\u6bc1session\u5bf9\u8c61\n        String getId()  \uff1a \u5f97\u5230session\u7f16\u53f7\n\nsession\u539f\u7406:\n\n1\uff09\u7b2c\u4e00\u6b21\u8bbf\u95ee\u521b\u5efasession\u5bf9\u8c61\uff0c\u7ed9session\u5bf9\u8c61\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684ID\uff0c\u53ebJSESSIONID\n2\uff09\u628aJSESSIONID\u4f5c\u4e3aCookie\u7684\u503c\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\u4fdd\u5b58\n        Cookie cookie = new Cookie("JSESSIONID", sessionID);\n        response.addCookie(cookie);\n3\uff09\u7b2c\u4e8c\u6b21\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5e26\u7740JSESSIONID\u7684cookie\u8bbf\u95ee\u670d\u52a1\u5668\n4\uff09\u670d\u52a1\u5668\u5f97\u5230JSESSIONID\uff0c\u5728\u670d\u52a1\u5668\u7684\u5185\u5b58\u4e2d\u641c\u7d22\u662f\u5426\u5b58\u653e\u5bf9\u5e94\u7f16\u53f7\u7684session\u5bf9\u8c61\u3002\n    \u5373\u641c\u7d22\u8fd9\u6837\u7684\u6570\u636e\u7ed3\u6784\n    Map<String,HttpSession>\n    <"s001", s1>\n    <"s001,"s2>\n\n    if(\u627e\u5230){\n        return map.get(sessionID);\n    }\n    else {\n        \u521b\u5efa\u65b0\u7684session\u5bf9\u8c61\uff0c\u7ee7\u7eed\u8d701\u7684\u6d41\u7a0b\n    }\n        \n\u7ed3\u8bba\uff1a\u901a\u8fc7\u5b58\u50a8\u65e9\u6d4f\u89c8\u5668\u4e2d\u7684JSESSION\u7684cookie\u503c\u5728\u670d\u52a1\u5668\u627esession\u5bf9\u8c61\n\n\u95ee\u9898: \u5982\u4f55\u907f\u514d\u6d4f\u89c8\u5668\u7684JSESSIONID\u7684cookie\u968f\u7740\u6d4f\u89c8\u5668\u5173\u95ed\u800c\u4e22\u5931\u7684\u95ee\u9898\n/**\n * \u624b\u52a8\u53d1\u9001\u4e00\u4e2a\u786c\u76d8\u4fdd\u5b58\u7684cookie\u7ed9\u6d4f\u89c8\u5668\n */\nCookie c = new Cookie("JSESSIONID",session.getId());\nc.setMaxAge(60*60);\nresponse.addCookie(c);\n\n\n')),(0,l.kt)("p",null,"cookies demo:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u7b2c\u4e00\u4e2acookie\u7684\u7a0b\u5e8f\n */\npublic class CookieDemo1 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //1.\u521b\u5efaCookie\u5bf9\u8c61\n        Cookie cookie1 = new Cookie("name","eric");\n        //Cookie cookie2 = new Cookie("email","jacky@qq.com");\n        //Cookie cookie1 = new Cookie("email","eric@qq.com");\n        /**\n         * 1\uff09\u8bbe\u7f6ecookie\u7684\u6709\u6548\u8def\u5f84\u3002\u9ed8\u8ba4\u60c5\u51b5\uff1a\u6709\u6548\u8def\u5f84\u5728\u5f53\u524dweb\u5e94\u7528\u4e0b\u3002 /day11\n         */\n        //cookie1.setPath("/day11");\n        //cookie2.setPath("/day12");\n        /**\n         * 2)\u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4\n         * \u6b63\u6574\u6570\uff1a\u8868\u793acookie\u6570\u636e\u4fdd\u5b58\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u76ee\u5f55\uff08\u786c\u76d8\u4e2d\uff09\uff0c\u6570\u503c\u8868\u793a\u4fdd\u5b58\u7684\u65f6\u95f4\u3002\n            \u8d1f\u6574\u6570\uff1a\u8868\u793acookie\u6570\u636e\u4fdd\u5b58\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u3002\u6d4f\u89c8\u5668\u5173\u95edcookie\u5c31\u4e22\u5931\u4e86\uff01\uff01\n            \u96f6\uff1a\u8868\u793a\u5220\u9664\u540c\u540d\u7684cookie\u6570\u636e\n         */\n        //cookie1.setMaxAge(20); //20\u79d2\uff0c\u4ece\u6700\u540e\u4e0d\u8c03\u7528cookie\u5f00\u59cb\u8ba1\u7b97\n        cookie1.setMaxAge(-1); //cookie\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5185\u5b58\uff08\u4f1a\u8bddcookie\uff09\n        //cookie1.setMaxAge(0);\n        \n        //2.\u628acookie\u6570\u636e\u53d1\u9001\u5230\u6d4f\u89c8\u5668\uff08\u901a\u8fc7\u54cd\u5e94\u5934\u53d1\u9001\uff1a set-cookie\u540d\u79f0\uff09\n        //response.setHeader("set-cookie", cookie.getName()+"="+cookie.getValue()+",email=eric@qq.com");\n        //\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u907f\u514d\u624b\u52a8\u53d1\u9001cookie\u4fe1\u606f\n        response.addCookie(cookie1);\n        //response.addCookie(cookie2);\n        //response.addCookie(cookie1);\n        \n        //3.\u63a5\u6536\u6d4f\u89c8\u5668\u53d1\u9001\u7684cookie\u4fe1\u606f\n        String name = request.getHeader("cookie");\n        System.out.println(name);\n        //\u83b7\u53d6\u6240\u6709\u7684cookies\n        Cookie[] cookies = request.getCookies();\n        //\u6ce8\u610f\uff1a\u5224\u65adnull,\u5426\u5219\u7a7a\u6307\u9488\n        if(cookies!=null){\n            //\u904d\u5386\n            for(Cookie c:cookies){\n                String name = c.getName();\n                String value = c.getValue();\n                System.out.println(name+"="+value);\n            }\n        }else{\n            System.out.println("\u6ca1\u6709\u63a5\u6536cookie\u6570\u636e");\n        }\n    }\n}\n\n')),(0,l.kt)("p",null,"session demo: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4fdd\u5b58\u4f1a\u8bdd\u6570\u636e\u5230session\u57df\u5bf9\u8c61\n */\npublic class SessionDemo1 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //1.\u521b\u5efasession\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        /**\n         * \u5f97\u5230session\u7f16\u53f7\n         */\n        System.out.println("id="+session.getId());\n        /**\n         * \u4fee\u6539session\u7684\u6709\u6548\u65f6\u95f4\n         */\n        session.setMaxInactiveInterval(20);\n        /**\n         * \u624b\u52a8\u53d1\u9001\u4e00\u4e2a\u786c\u76d8\u4fdd\u5b58\u7684cookie\u7ed9\u6d4f\u89c8\u5668\n         */\n        Cookie c = new Cookie("JSESSIONID",session.getId());\n        c.setMaxAge(60*60);\n        response.addCookie(c);\n        \n        //2.\u4fdd\u5b58\u4f1a\u8bdd\u6570\u636e\n        session.setAttribute("name", "rose");\n    }\n}\n\n/**\n * \u4ecesession\u57df\u5bf9\u8c61\u4e2d\u53d6\u51fa\u4f1a\u8bdd\u6570\u636e\n */\npublic class SessionDemo2 extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        //1.\u5f97\u5230session\u5bf9\u8c61\n        HttpSession session = request.getSession(false);\n        if(session==null){\n            System.out.println("\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684sessino\u5bf9\u8c61");\n            return;\n        }\n        /**\n         * \u5f97\u5230session\u7f16\u53f7\n         */\n        System.out.println("id="+session.getId());\n        \n        //2.\u53d6\u51fa\u6570\u636e\n        String name = (String)session.getAttribute("name");\n        System.out.println("name="+name);\n    }\n}\n/**\n * \u9500\u6bc1session\u5bf9\u8c61\n */\npublic class DeleteSession extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        HttpSession session = request.getSession(false);\n        if(session!=null){\n            session.invalidate();//\u624b\u52a8\u9500\u6bc1\n        }\n        System.out.println("\u9500\u6bc1\u6210\u529f");\n    }\n}\n\n')),(0,l.kt)("p",null,"\u6848\u4f8b: \u4e0a\u6b21\u8bbf\u95ee\u65f6\u95f4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u6848\u4f8b-\u7528\u6237\u4e0a\u6b21\u8bbf\u95ee\u65f6\u95f4\n */\npublic class HistServlet extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType("text/html;charset=utf-8");\n        //\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\n        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");\n        String curTime = format.format(new Date());\n        \n        //\u53d6\u5f97cookie\n        Cookie[] cookies = request.getCookies();\n        String lastTime = null;\n        /**\n         * \u7b2cn\u6b21\u8bbf\u95ee\n         */\n        if(cookies!=null){\n            for (Cookie cookie : cookies) {\n                if(cookie.getName().equals("lastTime")){\n                    //\u6709lastTime\u7684cookie\uff0c\u5df2\u7ecf\u662f\u7b2cn\u6b21\u8bbf\u95ee\n                    lastTime = cookie.getValue();//\u4e0a\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\n                    //\u7b2cn\u6b21\u8bbf\u95ee\n                    //1.\u628a\u4e0a\u6b21\u663e\u793a\u65f6\u95f4\u663e\u793a\u5230\u6d4f\u89c8\u5668\n                    response.getWriter().write("\u6b22\u8fce\u56de\u6765\uff0c\u4f60\u4e0a\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u4e3a\uff1a"+lastTime+",\u5f53\u524d\u65f6\u95f4\u4e3a\uff1a"+curTime);\n                    //2.\u66f4\u65b0cookie\n                    cookie.setValue(curTime);\n                    cookie.setMaxAge(1*30*24*60*60);\n                    //3.\u628a\u66f4\u65b0\u540e\u7684cookie\u53d1\u9001\u5230\u6d4f\u89c8\u5668\n                    response.addCookie(cookie);\n                    break;\n                }\n            }\n        }\n        /**\n         * \u7b2c\u4e00\u6b21\u8bbf\u95ee\uff08\u6ca1\u6709cookie \u6216 \u6709cookie\uff0c\u4f46\u6ca1\u6709\u540d\u4e3alastTime\u7684cookie\uff09\n         */\n        if(cookies==null || lastTime==null){\n            //1.\u663e\u793a\u5f53\u524d\u65f6\u95f4\u5230\u6d4f\u89c8\u5668\n            response.getWriter().write("\u4f60\u662f\u9996\u6b21\u8bbf\u95ee\u672c\u7f51\u7ad9\uff0c\u5f53\u524d\u65f6\u95f4\u4e3a\uff1a"+curTime);\n            //2.\u521b\u5efaCookie\u5bf9\u8c61\n            Cookie cookie = new Cookie("lastTime",curTime);\n            cookie.setMaxAge(1*30*24*60*60);//\u4fdd\u5b58\u4e00\u4e2a\u6708\uff0c\u5355\u4f4ds\n            //3.\u628acookie\u53d1\u9001\u5230\u6d4f\u89c8\u5668\u4fdd\u5b58\n            response.addCookie(cookie);\n        }\n    }\n}\n\n')),(0,l.kt)("p",null,"\u6848\u4f8b: \u767b\u5f55/\u6ce8\u9500\u573a\u666f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u5904\u7406\u767b\u5f55\u7684\u903b\u8f91\n */\npublic class LoginServlet extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        request.setCharacterEncoding("utf-8");\n        //1.\u63a5\u6536\u53c2\u6570\n        String userName = request.getParameter("userName");\n        String userPwd = request.getParameter("userPwd");\n        \n        //2.\u5224\u65ad\u903b\u8f91\uff08\u8fd9\u91cc\u5199\u6b7b\u4e86\uff0c\u6b63\u5e38\u5e94\u8be5\u8981\u5230\u6570\u636e\u5e93\u4e2d\u6bd4\u5bf9\uff09\n        if("eric".equals(userName)\n                 && "123456".equals(userPwd)){\n            //\u767b\u5f55\u6210\u529f\n            /**\n             * \u5206\u6790\uff1a\u9009\u53d6\u54ea\u4e2a\u57df\u5bf9\u8c61\uff1f\n             *    context\u57df\u5bf9\u8c61\uff1a\u4e0d\u5408\u9002\uff0c\u53ef\u80fd\u4f1a\u8986\u76d6\u6570\u636e\u3002\n             *    request\u57df\u5bf9\u8c61\uff1a \u4e0d\u5408\u9002\uff0c\u6574\u4e2a\u7f51\u7ad9\u5fc5\u987b\u5f97\u4f7f\u7528\u8f6c\u53d1\u6280\u672f\u6765\u8df3\u8f6c\u9875\u9762\n             *    session\u57df\u5bf9\u8c61\uff1a\u5408\u9002\uff0c\u6bcf\u4e2a\u7528\u6237\u5bf9\u5e94\u4e00\u4e2asession\u3002\n             */\n            /**\n             * \u4e00\u3001\u767b\u5f55\u6210\u529f\u540e\uff0c\u628a\u7528\u6237\u6570\u636e\u4fdd\u5b58session\u5bf9\u8c61\u4e2d\n             */\n            //1.\u521b\u5efasession\u5bf9\u8c61\n            HttpSession session = request.getSession();\n            //2.\u628a\u6570\u636e\u4fdd\u5b58\u5230session\u57df\u4e2d\n            session.setAttribute("loginName", userName);\n            //3.\u8df3\u8f6c\u5230\u7528\u6237\u4e3b\u9875\n            response.sendRedirect(request.getContextPath()+"/IndexServlet");\n        }else{\n            //\u767b\u5f55\u5931\u8d25\n            //\u8bf7\u6c42\u91cd\u5b9a\u5411\n            response.sendRedirect(request.getContextPath()+"/fail.html");\n        }\n    }\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        doGet(request, response);\n    }\n}\n/**\n * \u7528\u6237\u4e3b\u9875\u7684\u903b\u8f91\n */\npublic class IndexServlet extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType("text/html;charset=utf-8");\n        PrintWriter writer = response.getWriter();\n        \n        String html = "";\n        /**\n         * \u4e8c\u3001\u5728\u7528\u6237\u4e3b\u9875\uff0c\u5224\u65adsession\u4e0d\u4e3a\u7a7a\u4e14\u5b58\u5728\u6307\u5b9a\u7684\u5c5e\u6027\u624d\u89c6\u4e3a\u767b\u5f55\u6210\u529f\uff01\u624d\u80fd\u8bbf\u95ee\u8d44\u6e90\u3002\n         * \u4ecesession\u57df\u4e2d\u83b7\u53d6\u4f1a\u8bdd\u6570\u636e\n         */\n        //1.\u5f97\u5230session\u5bf9\u8c61\n        HttpSession session = request.getSession(false);\n        if(session==null){\n            //\u6ca1\u6709\u767b\u5f55\u6210\u529f\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\n            response.sendRedirect(request.getContextPath()+"/login.html");\n            return;\n        }\n        //2.\u53d6\u51fa\u4f1a\u8bdd\u6570\u636e\n        String loginName = (String)session.getAttribute("loginName");\n        if(loginName==null){\n            //\u6ca1\u6709\u767b\u5f55\u6210\u529f\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\n            response.sendRedirect(request.getContextPath()+"/login.html");\n            return;\n        }\n        html = "<html><body>\u6b22\u8fce\u56de\u6765\uff0c"+loginName+"\uff0c<a href=\'"+request.getContextPath()+"/LogoutServlet\'>\u5b89\u5168\u9000\u51fa</a></body></html>";\n        writer.write(html);\n    }\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        doGet(request, response);\n    }\n}\n/**\n * \u9000\u51fa\u903b\u8f91\n */\npublic class LogoutServlet extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        /**\n         * \u4e09\u3001\u5b89\u5168\u9000\u51fa\uff1a\n         *      \u5220\u9664\u6389session\u5bf9\u8c61\u4e2d\u6307\u5b9a\u7684loginName\u5c5e\u6027\u5373\u53ef\uff01  \n         */\n        //1.\u5f97\u5230session\u5bf9\u8c61\n        HttpSession session = request.getSession(false);\n        if(session!=null){\n            //2.\u5220\u9664\u5c5e\u6027\n            session.removeAttribute("loginName");\n        }\n        //2.\u56de\u6765\u767b\u5f55\u9875\u9762\n        response.sendRedirect(request.getContextPath()+"/login.html");\n    }\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        doGet(request, response);\n    }\n}\n\n')),(0,l.kt)("h1",{id:"\u8fc7\u6ee4\u5668filter"},"\u8fc7\u6ee4\u5668filter"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/hanghangde/article/details/51298221"},"filter\u6392\u9664\u6307\u5b9aservlet")),(0,l.kt)("p",null,"filter init() \u4f1a\u5728\u7a0b\u5e8f\u542f\u52a8\u65f6\u6267\u884c, \u800c dofilter() \u4f1a\u5728\u62e6\u622a\u8bf7\u6c42\u6210\u529f\u65f6\u6267\u884c"),(0,l.kt)("p",null,"\u8fc7\u6ee4\u5668\uff0c\u8bbe\u8ba1\u6267\u884c\u6d41\u7a0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u5668"),(0,l.kt)("li",{parentName:"ol"},"\u8fc7\u6ee4\u5668\uff1a \u5bf9Servlet\u8bf7\u6c42\u8fdb\u884c\u62e6\u622a"),(0,l.kt)("li",{parentName:"ol"},"\u5148\u8fdb\u5165\u8fc7\u6ee4\u5668\uff0c \u8fc7\u6ee4\u5668\u5904\u7406"),(0,l.kt)("li",{parentName:"ol"},"\u8fc7\u6ee4\u5668\u5904\u7406\u5b8c\u540e\uff0c \u518d\u653e\u884c\uff0c \u6b64\u65f6\uff0c\u8bf7\u6c42\u5230\u8fbeServlet/JSP"),(0,l.kt)("li",{parentName:"ol"},"Servlet\u5904\u7406"),(0,l.kt)("li",{parentName:"ol"},"Servlet\u5904\u7406\u5b8c\u540e\uff0c\u518d\u56de\u5230\u8fc7\u6ee4\u5668, \u6700\u540e\u5728\u7531tomcat\u670d\u52a1\u5668\u56de\u5e94\u7528\u6237")),(0,l.kt)("h2",{id:"\u4f20\u7edf\u914d\u7f6e\u65b9\u6cd5\u5f00\u53d1-filter"},"\u4f20\u7edf\u914d\u7f6e\u65b9\u6cd5\u5f00\u53d1 filter"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u7f16\u5199java\u7c7b\u5b9e\u73b0Filter\u63a5\u53e3\uff0c\u5e76\u5b9e\u73b0\u5176doFilter\u65b9\u6cd5\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5728web.xml\u6587\u4ef6\u4e2d\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"<filter>"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"<filter-mapping>"),"\u5143\u7d20\u5bf9\u7f16\u5199\u7684filter\u7c7b\u8fdb\u884c\u6ce8\u518c\uff0c\u5e76\u8bbe\u7f6e\u5b83\u6240\u80fd\u62e6\u622a\u7684\u8d44\u6e90\u3002"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u8fc7\u6ee4\u5668\uff0c\u6d4b\u8bd5\n */\npublic class HelloFilter implements Filter{\n    // \u521b\u5efa\u5b9e\u4f8b\n    public HelloFilter(){\n            System.out.println("1. \u521b\u5efa\u8fc7\u6ee4\u5668\u5b9e\u4f8b");\n    }\n \n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n            System.out.println("2. \u6267\u884c\u8fc7\u6ee4\u5668\u521d\u59cb\u5316\u65b9\u6cd5");\n            // \u83b7\u53d6\u8fc7\u6ee4\u5668\u5728web.xml\u4e2d\u914d\u7f6e\u7684\u521d\u59cb\u5316\u53c2\u6570\n            String encoding = filterConfig.getInitParameter("encoding");\n            System.out.println(encoding);\n            // \u83b7\u53d6\u8fc7\u6ee4\u5668\u5728web.xml\u4e2d\u914d\u7f6e\u7684\u521d\u59cb\u5316\u53c2\u6570 \u7684\u540d\u79f0\n            Enumeration<String> enums =  filterConfig.getInitParameterNames();\n            while (enums.hasMoreElements()){\n                    // \u83b7\u53d6\u6240\u6709\u53c2\u6570\u540d\u79f0\uff1aencoding\u3001path\n                    String name = enums.nextElement();\n                    // \u83b7\u53d6\u540d\u79f0\u5bf9\u5e94\u7684\u503c\n                    String value = filterConfig.getInitParameter(name);\n            System.out.println(name + "\\t" + value);\n            }\n    }\n \n    // \u8fc7\u6ee4\u5668\u4e1a\u52a1\u5904\u7406\u65b9\u6cd5\uff1a \u5728\u8bf7\u6c42\u5230\u8fbeservlet\u4e4b\u524d\u5148\u8fdb\u5165\u6b64\u65b9\u6cd5\u5904\u7406\u516c\u7528\u7684\u4e1a\u52a1\u903b\u8f91\u64cd\u4f5c\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                    FilterChain chain) throws IOException, ServletException {\n            System.out.println("3. \u6267\u884c\u8fc7\u6ee4\u5668\u4e1a\u52a1\u5904\u7406\u65b9\u6cd5");\n            // \u653e\u884c (\u53bb\u5230Servlet)\n            // \u5982\u679c\u6709\u4e0b\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u8fdb\u5165\u4e0b\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u5426\u5219\u5c31\u6267\u884c\u8bbf\u95eeservlet\n            chain.doFilter(request, response);     //\u5fc5\u987b\u8981\u6b64\u884c\u4ee3\u7801\u624d\u80fd\u8bbf\u95ee\u8d44\u6e90\n            System.out.println("5. Servlet\u5904\u7406\u5b8c\u6210\uff0c\u53c8\u56de\u5230\u8fc7\u6ee4\u5668");\n    }\n \n    @Override\n    public void destroy() {\n            System.out.println("6. \u9500\u6bc1\u8fc7\u6ee4\u5668\u5b9e\u4f8b");\n    }\n \n}\n\n\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- \u8fc7\u6ee4\u5668\u914d\u7f6e --\x3e\n<filter>\n    \x3c!-- \u914d\u7f6e\u521d\u59cb\u5316\u53c2\u6570 --\x3e\n    <init-param>\n            <param-name>encoding</param-name>\n            <param-value>UTF-8</param-value>\n    </init-param>\n    <init-param>\n            <param-name>path</param-name>\n            <param-value>c:/...</param-value>\n    </init-param>\n    \x3c!-- \u5185\u90e8\u540d\u79f0 --\x3e\n    <filter-name>hello_filter</filter-name>\n    \x3c!-- \u8fc7\u6ee4\u5668\u7c7b\u7684\u5168\u540d --\x3e\n    <filter-class>cn.itcast.a_filter_hello.HelloFilter</filter-class>\n</filter>\n\n<filter-mapping>\n    \x3c!-- filter\u5185\u90e8\u540d\u79f0 --\x3e\n    <filter-name>hello_filter</filter-name>\n    \x3c!-- \u62e6\u622a\u8d44\u6e90, /* \u8868\u793a\u5bf9\u6240\u6709\u8bf7\u6c42\u8fc7\u6ee4 --\x3e\n    <url-pattern>/*</url-pattern>\n\n    \x3c!-- 1. \u62e6\u622a\u6240\u6709\n    <url-pattern>/*</url-pattern>\n     --\x3e\n     \n     \x3c!-- 2. \u62e6\u622a\u6307\u5b9a\u7684jsp \uff0c\u62e6\u622a\u591a\u4e2a\u8d44\u6e90\n     <url-pattern>/index.jsp</url-pattern>\n     <url-pattern>/list.jsp</url-pattern>\n     --\x3e\n     \x3c!-- \u62e6\u622a\u6240\u6709\u7684jsp\n     <url-pattern>*.jsp</url-pattern>\n      --\x3e\n      \x3c!-- 3. \u6839\u636eservlet\u7684\u5185\u90e8\u540d\u79f0\u62e6\u622a\n      <servlet-name>IndexServlet</servlet-name>\n       --\x3e\n      \x3c!-- \u62e6\u622a\u6307\u5b9a\u7684servlet \n      <url-pattern>/index</url-pattern>\n      --\x3e\n      \n      \x3c!-- 4. \u62e6\u622a\u6307\u5b9a\u7684\u7c7b\u578b\uff0c<dispatcher>\u6307\u5b9a\u8fc7\u6ee4\u5668\u6240\u62e6\u622a\u7684\u8d44\u6e90\u88ab Servlet \u5bb9\u5668\u8c03\u7528\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u662f\n            REQUEST(\u9ed8\u8ba4): \u62e6\u622a\u6d4f\u89c8\u5668\u76f4\u63a5\u8bbf\u95eeor\u91cd\u5b9a\u5411,\n            INCLUDE: \u62e6\u622a\u8f6c\u53d1,\n            FORWARD: \u62e6\u622a\u5305\u542b\u7684\u9875\u9762(RequestDispatcher.include("/page.jsp")),\n            ERROR: \u62e6\u622a\u58f0\u660e\u5f0f\u5f02\u5e38\u4fe1\u606f\n    \uff0c\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a<dispatcher> \u5b50\u5143\u7d20\u7528\u6765\u6307\u5b9a Filter \u5bf9\u8d44\u6e90\u7684\u591a\u79cd\u8c03\u7528\u65b9\u5f0f\u8fdb\u884c\u62e6\u622a\n --\x3e\n      \x3c!-- \n      <url-pattern>/*</url-pattern>\n      <dispatcher>REQUEST</dispatcher>\n      <dispatcher>FORWARD</dispatcher>\n       --\x3e\n\n</filter-mapping>\n\n')),(0,l.kt)("h2",{id:"\u6848\u4f8b\u7edf\u4e00\u5904\u7406\u7f16\u7801"},"\u6848\u4f8b:\u7edf\u4e00\u5904\u7406\u7f16\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'\u8fc7\u6ee4\u5668\uff1a\n \n/**\n * \u7f16\u7801\u5904\u7406\u7edf\u4e00\u5199\u5230\u8fd9\u91cc(servlet\u4e2d\u4e0d\u9700\u8981\u518d\u5904\u7406\u7f16\u7801)\n */\npublic class EncodingFilter implements Filter {\n \n    // \u8fc7\u6ee4\u5668\u4e1a\u52a1\u5904\u7406\u65b9\u6cd5\uff1a\u5305\u542b\u7684\u662f\u516c\u7528\u7684\u4e1a\u52a1\u903b\u8f91\u64cd\u4f5c\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res,\n                    FilterChain chain) throws IOException, ServletException {\n        // \u8f6c\u578b\uff0c\n        final HttpServletRequest request = (HttpServletRequest) req;    \n        HttpServletResponse response = (HttpServletResponse) res;\n        // \u4e00\u3001\u5904\u7406\u516c\u7528\u4e1a\u52a1\uff08\u516c\u5171\u4ee3\u7801\uff09// \u4f46\u662f\u53ea\u5bf9POST\u63d0\u4ea4\u6709\u6548\n        request.setCharacterEncoding("UTF-8");                    \n        response.setContentType("text/html;charset=UTF-8");\n        /*\n         * \u5f53\u65f6GET\u63d0\u4ea4\u65b9\u5f0f\u65f6\uff0c\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\uff0c\u662f\u56e0\u4e3a\u5728request.getParameter\u65b9\u6cd5\u5185\u90e8\u6ca1\u6709\u8fdb\u884c\u63d0\u4ea4\u65b9\u5f0f\u5224\u65ad\u5e76\u5904\u7406\u3002\n         * String name = request.getParameter("userName");\n         * \n         * \u89e3\u51b3\uff1a\u5bf9\u6307\u5b9a\u63a5\u53e3\u7684\u67d0\u4e00\u4e2a\u65b9\u6cd5\u8fdb\u884c\u529f\u80fd\u6269\u5c55\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee3\u7406!\n         *      \u5bf9request\u5bf9\u8c61(\u76ee\u6807\u5bf9\u8c61)\uff0c\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff01\n         */\n        HttpServletRequest proxy =  (HttpServletRequest) Proxy.newProxyInstance(\n            request.getClass().getClassLoader(),         // \u6307\u5b9a\u5f53\u524d\u4f7f\u7528\u7684\u7c7b\u52a0\u8f7d\u5668\n            new Class[]{HttpServletRequest.class},         // \u76ee\u6807\u5bf9\u8c61\u5b9e\u73b0\u4e86\u54ea\u4e9b\u63a5\u53e3\u7c7b\u578b\n            new InvocationHandler() {                    // \u4e8b\u4ef6\u5904\u7406\u5668\n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args)\n                                throws Throwable {\n                    // \u5b9a\u4e49\u65b9\u6cd5\u8fd4\u56de\u503c\n                    Object returnValue = null;\n                    // \u83b7\u53d6\u65b9\u6cd5\u540d\n                    String methodName = method.getName();\n                    // \u5224\u65ad\uff1a\u5bf9getParameter\u65b9\u6cd5\u6dfb\u52a0\u8fdb\u884cGET\u63d0\u4ea4\u4e2d\u6587\u5904\u7406\u7684\u4ee3\u7801\n                    if ("getParameter".equals(methodName)) {\n                        // \u83b7\u53d6\u8bf7\u6c42\u6570\u636e\u503c\u3010 <input type="text" name="userName">\u3011\n                        String value = request.getParameter(args[0].toString());    // \u8c03\u7528\u76ee\u6807\u5bf9\u8c61\u7684getPrameter()\u65b9\u6cd5\u5f97\u5230\u672a\u5904\u7406\u7684\u7ed3\u679c\n                        // \u83b7\u53d6\u63d0\u4ea4\u65b9\u5f0f GET   POST\n                        String methodSubmit = request.getMethod(); // \u76f4\u63a5\u8c03\u7528\u76ee\u6807\u5bf9\u8c61\u7684\u65b9\u6cd5\n                        // \u5224\u65ad\u5982\u679c\u662fGET\u63d0\u4ea4\uff0c\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406  (POST\u63d0\u4ea4\u5df2\u7ecf\u5904\u7406\u8fc7\u4e86)\n                        if ("GET".equals(methodSubmit)) {\n                            if (value != null && !"".equals(value.trim())){\n                                // \u5982\u679c\u4e0d\u7a7a\uff0c\u5904\u7406GET\u4e2d\u6587\n                                value = new String(value.getBytes("ISO8859-1"),"UTF-8");\n                            }\n                        } \n                        \n                        /*\u8fd9\u91cc\u8fd8\u53ef\u4ee5\u63d2\u5165\u7279\u6b8a\u8bcd\u8fc7\u6ee4\u7684\u4ee3\u7801*/\n                        \n                        return value;\n                    }\n                    else {\n                            // \u6267\u884crequest\u5bf9\u8c61\u7684\u5176\u4ed6\u65b9\u6cd5\n                        returnValue = method.invoke(request, args);\n                    }\n                    return returnValue;\n                }\n            });\n        // \u4e8c\u3001\u653e\u884c (\u6267\u884c\u4e0b\u4e00\u4e2a\u8fc7\u6ee4\u5668\u6216\u8005servlet)\n        chain.doFilter(proxy, response);        // \u4f20\u5165request\u7684\u4ee3\u7406\u5bf9\u8c61\n    }\n \n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n \n    @Override\n    public void destroy() {\n    }\n}\n\n')),(0,l.kt)("p",null,"\u8fc7\u6ee4\u5668\u914d\u7f6e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"\u8fc7\u6ee4\u5668\u914d\u7f6e\uff1a\n\x3c!-- \u7f16\u7801\u5904\u7406\u8fc7\u6ee4\u5668\u914d\u7f6e --\x3e\n<filter>\n        <filter-name>encoding</filter-name>\n        <filter-class>cn.itcast.a_loginFilter.EncodingFilter</filter-class>\n</filter>\n<filter-mapping>\n        <filter-name>encoding</filter-name>\n        <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n")),(0,l.kt)("h2",{id:"\u6848\u4f8b\u767b\u5f55\u8fc7\u6ee4"},"\u6848\u4f8b:\u767b\u5f55\u8fc7\u6ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//  \u8fc7\u6ee4\u5668\uff0c\u6839\u636e\u8bbf\u95ee\u9875\u9762\u505a\u51fa\u4e0d\u540c\u5904\u7406\npublic class LoginFilter implements Filter {\n \n    public void destroy() {\n            // TODO Auto-generated method stub\n    }\n    public void init(FilterConfig arg0) throws ServletException {\n            // TODO Auto-generated method stub\n    }\n    public void doFilter(ServletRequest arg0, ServletResponse arg1,\n        FilterChain arg2) throws IOException, ServletException {\n            \n         String uri = null;\n         \n        HttpServletRequest request = (HttpServletRequest)arg0;\n        HttpServletResponse response = (HttpServletResponse)arg1;\n        \n        String requestUri = request.getRequestURI();\n        String requestPath = requestUri.substring(requestUri.lastIndexOf("/") + 1, requestUri.length());\n        if("login".equals(requestPath) || "login.jsp".equals(requestPath)) {\n            //\u5982\u679c\u8bbf\u95ee\u7684\u662flogin.jsp, \u653e\u884c\n                arg2.doFilter(request, response);\n        }else {\n            //\u5982\u679c\u4e0d\u662f\n            HttpSession session = request.getSession(false);\n            if(session != null) {//\u5224\u65ad\u662f\u5426\u767b\u5f55\n                Admin admin = (Admin)session.getAttribute("loginInfo");\n                if(admin != null) {\n                        arg2.doFilter(request, response);\n                }else {\n                        uri = "/login.jsp";\n                }\n            }else {\n                    uri = "/login.jsp";\n            }\n            request.getRequestDispatcher(uri).forward(request, response);\n        }\n    }\n}\n\n')),(0,l.kt)("h2",{id:"\u6848\u4f8b\u81ea\u52a8\u767b\u5f55"},"\u6848\u4f8b:\u81ea\u52a8\u767b\u5f55"),(0,l.kt)("p",null,"\u5206\u6790: "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u4f7f\u7528\u7684cookie\u7684\u6280\u672f\uff0c\u4fdd\u5b58\u7528\u6237\u540d\u548c\u5bc6\u7801",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7528\u6237\u5982\u679c\u9009\u62e9\u4e86\u81ea\u52a8\u767b\u5f55\u7684\u529f\u80fd\uff0c\u624d\u4f1a\u4fdd\u5b58cookie     "))),(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u4f7f\u7528Filter\u7684\u6280\u672f\uff0c\u5b8c\u6210\u81ea\u52a8\u767b\u9646\u7684\u529f\u80fd")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'loginServlet\u4ee3\u7801\uff1a\n\n/**\n * \u767b\u5f55\u529f\u80fd\n */\npublic class LoginServlet extends HttpServlet {\n \n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        /**\n         * \u63a5\u6536\u7528\u6237\u540d\u548c\u5bc6\u7801\n         * \u901a\u8fc7\u7528\u6237\u540d\u548c\u5bc6\u7801\u53bb\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\n         *  * \u5982\u679c\u67e5\u8be2\u5230\u4e86\u7528\u6237\uff0c\u8bf4\u660e\u6ca1\u6709\u95ee\u9898\uff0c\u767b\u5f55\u6210\u529f\n         *  * \u5982\u679c\u67e5\u8be2\u4e0d\u5230\u7528\u6237\uff0c\u8bf4\u660e\u767b\u5f55\u5931\u8d25\n         */\n        // \u63a5\u6536\u7528\u6237\u540d\u548c\u5bc6\u7801\n        String username = request.getParameter("username");\n        String password = request.getParameter("password");\n        \n        // \u8c03\u7528\u6301\u4e45\u5c42\u67e5\u8be2\u6570\u636e\u5e93\n        UserDao dao = new UserDao();\n        try {\n            // \u767b\u5f55\u529f\u80fd\n            User existUser = dao.login(username, password);\n            // \u5982\u679c\uff0c\u8fd4\u56deexistUser\u4e3anull\uff0c\u8bf4\u660e\u767b\u5f55\u5931\u8d25\n            if(existUser == null){\n                request.setAttribute("msg", "\u7528\u6237\u540d\u6216\u8005\u5bc6\u7801\u9519\u8bef");\n                request.getRequestDispatcher("/pages/login.jsp").forward(request, response);\n            }else{// \u767b\u5f55, session\u4e2d\u4fdd\u5b58user\n                // \u5148\u5224\u65ad\uff0c\u7528\u6237\u662f\u5426\u5df2\u7ecf\u52fe\u9009\u81ea\u52a8\u767b\u5f55\n                String autologin = request.getParameter("autologin");\n                if("auto_ok".equals(autologin)){// \u5982\u679c\u52fe\u9009\n                    // \u628a\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u4fdd\u5b58\u5230cookie\u4e2d\uff0c\u56de\u5199cookie, \u4fdd\u5b58\u5230\u5ba2\u6237\u7aef\n                    String value = username+"#xxx#"+password;\n                    Cookie cookie = new Cookie("autologin",value);\n                    // \u8bbe\u7f6ecookie\u7684\u4e00\u4e9b\u5c5e\u6027\n                    // \u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2, 1h\u4e4b\u5185\u80fd\u591f\u81ea\u52a8\u767b\u5f55\n                    cookie.setMaxAge(60*60);\n                    // \u8bbe\u7f6ecookie\u7684\u6709\u6548\u8def\u5f84\n                    cookie.setPath("/");\n                    // \u56de\u5199cookie\n                    response.addCookie(cookie);\n                }\n                // \u4fdd\u5b58user\n                request.getSession().setAttribute("existUser", existUser);\n                response.sendRedirect(request.getContextPath()+"/pages/home.jsp");\n            }\n            \n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n \n    public void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        doGet(request, response);\n    }\n \n}\n\nFilter\u4ee3\u7801\uff1a\n\n/**\n * \u81ea\u52a8\u767b\u5f55\u7684\u8fc7\u6ee4\u5668\n */\npublic class AutologinFilter implements Filter{\n    \n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        \n        // \u4ecesession\u4e2d\u83b7\u53d6\u5230\u7528\u6237\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpSession session = req.getSession();\n        // \u83b7\u53d6\u7528\u6237\n        User user = (User) session.getAttribute("existUser");\n        // \u5982\u679cuser\u4e0d\u4e3anull\n        if(user != null){\n            // \u653e\u884c\n            chain.doFilter(req, response);\n        }else{\n            // \u8bf4\u660e\uff0c\u7528\u6237\u4e3anull\u4e86\n            // \u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u7684cookie\n            Cookie[] cookies = req.getCookies();\n            // \u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u67e5\u627ecookie\n            Cookie cookie = MyCookieUtil.findCookieByName(cookies, "autologin");\n            // \u5224\u65ad\n            if(cookie == null){\n                // \u8bf4\u660e\uff0c\u6ca1\u627e\u5230\uff0c\u767b\u5f55\u65f6\u6ca1\u6709\u52fe\u9009\u81ea\u52a8\u767b\u5f55\u529f\u80fd,\u653e\u884c\n                chain.doFilter(req, response);\n            }else{\n                // \u8bf4\u660e\u5df2\u7ecf\u627e\u5230\u4e86\u8be5cookie\n                // \u83b7\u53d6\u5230cookie\u4e2d\u7684value\n                String value = cookie.getValue();\n                String username = value.split("#xxx#")[0];\n                String password = value.split("#xxx#")[1];\n                // \u901a\u8fc7\u7528\u6237\u540d\u548c\u5bc6\u7801\u53bb\u6570\u636e\u5e93\u67e5\u8be2\n                UserDao dao = new UserDao();\n                \n                try {\n                    // \u67e5\u8be2\u7528\u6237\n                    User existUser = dao.login(username, password);\n                    // \u5224\u65ad\uff0c\u5982\u679c\u7528\u6237\u4e3anull\uff0c\u8bf4\u660e\u767b\u5f55\u5931\u8d25\u4e86\n                    if(existUser == null){\n                        // \u653e\u884c\n                        chain.doFilter(req, response);\n                    }else{\n                        // \u4e0d\u4e3anull\uff0c\u767b\u5f55\u6210\u529f,\u5e2e\u7528\u6237\u505a\u81ea\u52a8\u767b\u5f55\u529f\u80fd\n                        session.setAttribute("existUser", existUser);\n                        // \u653e\u884c\n                        chain.doFilter(req, response);\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    \n    public void destroy() {\n    }\n    public void init(FilterConfig arg0) throws ServletException {\n    }\n}\n')),(0,l.kt)("h2",{id:"spring-boot-\u4e2d\u4f7f\u7528filter"},"spring boot \u4e2d\u4f7f\u7528filter"),(0,l.kt)("p",null,"spring \u4e2d\u5f00\u53d1 filter \u7ee7\u627f \u62bd\u8c61\u7c7b GenericFilterBean , \u8be5\u7c7b\u63d0\u4f9b\u4e86 spring \u4e2d\u7684\u8bb8\u591a\u4fe1\u606f, \u5b9e\u73b0\u4e86\u5982\u4e0b 5 \u4e2a\u63a5\u53e3:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"javax.servlet.Filter\u3001\norg.springframework.beans.factory.BeanNameAware\u3001\norg.springframework.context.EnvironmentAware\u3001\norg.springframework.web.context.ServletContextAware\u3001\norg.springframework.beans.factory.InitializingBean\norg.springframework.beans.factory.DisposableBean\n")),(0,l.kt)("p",null,"\u5982\u679c\u4e0b\u5f80\u6240\u6709\u7684\u8bf7\u6c42\u53ea\u62e6\u622a\u4e00\u6b21, \u63a8\u8350 OncePerRequestFilter, \u5e76\u4e0d\u662f\u6240\u6709\u7684container\u90fd\u50cf\u6211\u4eec\u671f\u671b\u7684\u5bf9\u4e8e\u52a0\u5165\u4e86filter\u7684\u8bf7\u6c42\u53ea\u8fc7\u6ee4\u4e00\u6b21\uff0cservlet\u7248\u672c\u4e0d\u540c\uff0c\u8868\u73b0\u4e5f\u4e0d\u540c, \u6bd4\u5982 \u670d\u52a1\u5668\u5185\u90e8\u4f7f\u7528forward\u8f6c\u53d1\u7684\u8bf7\u6c42, servlet-2.3 \u90fd\u4f1a\u62e6\u622a, \u4f46\u662f servlet-2.4\u4e2dFilter\u9ed8\u8ba4\u4e0b\u53ea\u62e6\u622a\u5916\u90e8\u63d0\u4ea4\u7684\u8bf7\u6c42\uff0cforward\u548cinclude\u8fd9\u4e9b\u5185\u90e8\u8f6c\u53d1\u90fd\u4e0d\u4f1a"),(0,l.kt)("p",null,"========================\u539f\u59cb\u7684 filter \u5f00\u53d1\u5982\u4e0b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'\n//\u542f\u52a8\u7c7b\u9700\u8981\u914d\u7f6e servlet \u626b\u63cf @ServletComponentScan(basePackages={""})\n////////////////////////////////////\n\n@WebFilter(urlPatterns="/*",filterName="helloFilter",initParams= {@WebInitParam(name="paramName",value="paramValue"),@WebInitParam(name="paramName2",value="paramValue2")})\n@order(0)\npublic class UrlFilter implements Filter {\n \n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n \n        System.out.println("-----------------------\x3e\u8fc7\u6ee4\u5668\u88ab\u521b\u5efa");\n    }\n \n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n \n        HttpServletRequest req = (HttpServletRequest) servletRequest;\n        String requestURI = req.getRequestURI();\n        System.out.println("---------------------\x3e\u8fc7\u6ee4\u5668\uff1a\u8bf7\u6c42\u5730\u5740"+requestURI);\n        if(!requestURI.contains("info")){\n            servletRequest.getRequestDispatcher("/failed").forward(servletRequest, servletResponse);\n        }else{\n            filterChain.doFilter(servletRequest, servletResponse);\n        }\n    }\n \n    @Override\n    public void destroy() {\n \n        System.out.println("-----------------------\x3e\u8fc7\u6ee4\u5668\u88ab\u9500\u6bc1");\n    }\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528\u6ce8\u89e3, \u53ef\u4ee5\u5728\u914d\u7f6e\u7c7b\u4e2d\u6307\u5b9a interceptor"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@Configuration   //\u76f8\u5f53\u4e8espring\u4e2d\u7684<beans>\u6807\u7b7e\npublic class WebConfiguration {\n\n    @Bean   //\u76f8\u5f53\u4e8espring\u4e2d<bean>\u6807\u7b7e\n    public FilterRegistrationBean<MyFilter> testFilterRegistration() {\n        FilterRegistrationBean<MyFilter> registration = new FilterRegistrationBean<>();\n        registration.setFilter(new MyFilter());\n        registration.addUrlPatterns("/*");//\u914d\u7f6e\u8fc7\u6ee4\u8def\u5f84\n        registration.addInitParameter("paramName", "paramValue");//\u6dfb\u52a0\u521d\u59cb\u503c\n        registration.setName("myFilter");//\u8bbe\u7f6efilter\u540d\u79f0\n        registration.setOrder(1);//\u8bf7\u6c42\u4e2d\u8fc7\u6ee4\u5668\u6267\u884c\u7684\u5148\u540e\u987a\u5e8f\uff0c\u503c\u8d8a\u5c0f\u8d8a\u5148\u6267\u884c\n        return registration;\n    }\n')),(0,l.kt)("h1",{id:"\u76d1\u542c\u5668listener"},"\u76d1\u542c\u5668listener"),(0,l.kt)("h2",{id:"\u6982\u5ff5"},"\u6982\u5ff5"),(0,l.kt)("p",null,"\u76d1\u542c\u5668\uff1a\u4e3b\u8981\u662f\u7528\u6765\u76d1\u542c\u7279\u5b9a\u5bf9\u8c61\u7684\u521b\u5efa\u6216\u9500\u6bc1\u3001\u5c5e\u6027\u7684\u53d8\u5316\u7684. \u662f\u4e00\u4e2a\u5b9e\u73b0\u7279\u5b9a\u63a5\u53e3\u7684\u666e\u901ajava\u7c7b"),(0,l.kt)("p",null,"\u4e3b\u8981\u662f\u4e00\u4e9b\u5bb9\u5668\u521b\u5efa\u7684\u5bf9\u8c61\u9700\u8981\u76d1\u542c, \u5982request / session / servletContext, \u5206\u522b\u5bf9\u5e94\u7684\u662frequest\u76d1\u542c\u5668\u3001session\u76f8\u5173\u76d1\u542c\u5668\u3001servletContext\u76d1\u542c\u5668"),(0,l.kt)("h2",{id:"\u6709\u54ea\u4e9b\u76d1\u542c\u5668"},"\u6709\u54ea\u4e9b\u76d1\u542c\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\n\u4e09\u7c7b:\n\n1. ServletContext \u76d1\u542c (\u521b\u5efa, \u9500\u6bc1, \u5c5e\u6027\u53d8\u5316)\n\n    Interface ServletContextListener     \u76d1\u542cservletContext\u5bf9\u8c61\u7684\u521b\u5efa\u6216\u9500\u6bc1\n    Interface ServletContextAttributeListener  \u76d1\u542cservletContext\u5bf9\u8c61\u5c5e\u6027\u53d8\u5316\n\n2. HttpSession \u76d1\u542c (\u521b\u5efa, \u9500\u6bc1, \u5c5e\u6027\u53d8\u5316)\n\n    Interface HttpSessionListener        \u76d1\u542csession\u5bf9\u8c61\u7684\u521b\u5efa\u6216\u9500\u6bc1\n    Interface HttpSessionAttributeListener    \u76d1\u542csession\u5bf9\u8c61\u5c5e\u6027\u53d8\u5316: \u6dfb\u52a0\u3001\u79fb\u9664\u3001\u4fee\u6539\n\n3. ServletRequest \u76d1\u542c (\u521b\u5efa, \u9500\u6bc1, \u5c5e\u6027\u53d8\u5316)\n\n    Interface ServletRequestListener     \u76d1\u542crequest\u5bf9\u8c61\u7684\u521b\u5efa\u6216\u9500\u6bc1\n    Interface ServletRequestAttributeListener \u76d1\u542crequest\u5bf9\u8c61\u5c5e\u6027\u53d8\u5316: \u6dfb\u52a0\u3001\u79fb\u9664\u3001\u4fee\u6539\n\nsession\u5bf9\u8c61\u7ed1\u5b9a\u76f8\u5173\u76d1\u542c\u5668\n\n    Interface HttpSessionBindingListener   \u76d1\u542c\u5bf9\u8c61\u7ed1\u5b9a\u5230session\u4e0a\u7684\u4e8b\u4ef6    \n                HttpSessionListener\u53ea\u9700\u8981\u8bbe\u7f6e\u5230web.xml\u4e2d\u5c31\u53ef\u4ee5\u76d1\u542c\u6574\u4e2a\u5e94\u7528\u4e2d\u7684\u6240\u6709session\u3002\n                 HttpSessionBindingListener\u5fc5\u987b\u5b9e\u4f8b\u5316\u540e\u901a\u8fc7session.setAttribute\u653e\u5165\u67d0\u4e00\u4e2asession\u4e2d\uff0c\u624d\u53ef\u4ee5\u8fdb\u884c\u76d1\u542c\u3002\n\n")),(0,l.kt)("h2",{id:"\u751f\u547d\u5468\u671f\u76d1\u542c\u5668"},"\u751f\u547d\u5468\u671f\u76d1\u542c\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n *  \u76d1\u542crequest\u5bf9\u8c61\u7684\u521b\u5efa\u6216\u9500\u6bc1\n */\npublic class MyRequestListener implements ServletRequestListener{\n \n    // \u5bf9\u8c61\u9500\u6bc1\n    @Override\n    public void requestDestroyed(ServletRequestEvent sre) {\n            // \u83b7\u53d6request\u4e2d\u5b58\u653e\u7684\u6570\u636e\n            Object obj = sre.getServletRequest().getAttribute("cn");\n            System.out.println(obj);\n            System.out.println("MyRequestListener.requestDestroyed()");\n    }\n \n    // \u5bf9\u8c61\u521b\u5efa\n    @Override\n    public void requestInitialized(ServletRequestEvent sre) {\n            System.out.println("MyRequestListener.requestInitialized()");\n    }\n}\n\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- Web.xml , <web-app>\u4e0b --\x3e\n\x3c!-- \u76d1\u542crequest\u5bf9\u8c61\u521b\u5efa\u3001\u9500\u6bc1 --\x3e\n<listener>\n        <listener-class>cn.itcast.a_life.MyRequestListener</listener-class>\n</listener>\n\n\x3c!-- Jsp\u6587\u4ef6\uff1a --\x3e\n<%request.setAttribute("cn","China");%>\n')),(0,l.kt)("h2",{id:"\u5c5e\u6027\u76d1\u542c\u5668"},"\u5c5e\u6027\u76d1\u542c\u5668"),(0,l.kt)("p",null,"\u76d1\u542csession\u57df\u5c5e\u6027\u53d8\u5316"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u76d1\u542csession\u5bf9\u8c61\u5c5e\u6027\u7684\u53d8\u5316\n */\npublic class MySessionAttrListener implements HttpSessionAttributeListener {\n\n    // \u5c5e\u6027\u6dfb\u52a0\n    @Override\n    public void attributeAdded(HttpSessionBindingEvent se) {\n        // \u5148\u83b7\u53d6session\u5bf9\u8c61\n        HttpSession session = se.getSession();\n        // \u83b7\u53d6\u6dfb\u52a0\u7684\u5c5e\u6027\n        Object obj = session.getAttribute("userName");\n        // \u6d4b\u8bd5\n        System.out.println("\u6dfb\u52a0\u7684\u5c5e\u6027\uff1a" + obj);\n    }\n\n    // \u5c5e\u6027\u79fb\u9664\n    @Override\n    public void attributeRemoved(HttpSessionBindingEvent se) {\n        System.out.println("\u5c5e\u6027\u79fb\u9664");\n    }\n\n    // \u5c5e\u6027\u88ab\u66ff\u6362\n    @Override\n    public void attributeReplaced(HttpSessionBindingEvent se) {\n        // \u83b7\u53d6sesison\u5bf9\u8c61\n        HttpSession session = se.getSession();\n        \n        // \u83b7\u53d6\u66ff\u6362\u524d\u7684\u503c\n        Object old = se.getValue();\n        System.out.println("\u539f\u6765\u7684\u503c\uff1a" + old);\n        \n        // \u83b7\u53d6\u65b0\u503c\n        Object obj_new = session.getAttribute("userName");\n        System.out.println("\u65b0\u503c\uff1a" + obj_new);\n        \n    }\n\n}\n\n')),(0,l.kt)("h2",{id:"session\u7ed1\u5b9a\u76d1\u542c\u5668"},"session\u7ed1\u5b9a\u76d1\u542c\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'/* HttpSessionBindingListener   \n\u76d1\u542c\u5bf9\u8c61\u7ed1\u5b9a/\u89e3\u9664\u7ed1\u5b9a\u5230sesison\u4e0a\u7684\u4e8b\u4ef6!\n \n\u6b65\u9aa4\uff1a\n    \u5bf9\u8c61\u5b9e\u73b0\u63a5\u53e3\n    session.setAttribute("onlineUserBindingListener", new OnlineUserBindingListener(username));\n    \u4e0d\u7528web.xml\u914d\u7f6e(\u539f\u56e0:\u56e0\u4e3a\u76d1\u542c\u7684\u5bf9\u8c61\u662f\u81ea\u5df1\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u4e0d\u662f\u670d\u52a1\u5668\u5bf9\u8c61\uff01\u4e0d\u7528\u914d\u7f6eweb.xml)\n\u5178\u578b\u5e94\u7528\uff1a\n    (\u767b\u9646\u540e,\u663e\u793a\u4e0a\u7ebf\u63d0\u9192\uff01) */\n \n/**\n * \u76d1\u542c\u6b64\u5bf9\u8c61\u7ed1\u5b9a\u5230session\u4e0a\u7684\u8fc7\u7a0b\uff0c\u9700\u8981\u5b9e\u73b0session\u7279\u5b9a\u63a5\u53e3\n */\npublic class Admin implements HttpSessionBindingListener {\n     \u7701\u7565getter/setter\u2026\u2026\u2026\u2026\n// \u5bf9\u8c61\u653e\u5165session\n        @Override\n        public void valueBound(HttpSessionBindingEvent event) {\n                System.out.println("Admin\u5bf9\u8c61\u5df2\u7ecf\u653e\u5165session");\n                \u8fd9\u91cc\u53ef\u4ee5\u663e\u793a\u4e0a\u7ebf\u63d0\u9192\n        }\n        // \u5bf9\u8c61\u4ecesession\u4e2d\u79fb\u9664\n        @Override\n        public void valueUnbound(HttpSessionBindingEvent event) {\n                System.out.println("Admin\u5bf9\u8c61\u4ecesession\u4e2d\u79fb\u9664\uff01");\n        }\n}\n \n')),(0,l.kt)("p",null,"\u5b9e\u73b0\u7528\u6237\u4e0a\u7ebf\u63d0\u9192, \u5206\u6790:\n\u9700\u6c42\uff1a\u505a\u4e00\u4e2a\u5728\u7ebf\u5217\u8868\u63d0\u9192\u7684\u529f\u80fd!\n\u663e\u793a\u767b\u9646\u4fe1\u606f\uff0c\u5217\u8868\u5c55\u793a\u3002(list.jsp)\n\u663e\u793a\u5728\u7ebf\u7528\u6237\u5217\u8868        (list.jsp)\n\u5217\u8868\u70b9\u51fb\u8fdb\u5165\u201c\u5728\u7ebf\u5217\u8868\u9875\u9762\u201d   onlineuser.jsp"),(0,l.kt)("p",null,"\u5b9e\u73b0\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5148\u589e\u52a0\u9000\u51fa\u529f\u80fd\uff1b  \u518d\u628asession\u6d3b\u8dc3\u65f6\u95f41min;"),(0,l.kt)("li",{parentName:"ol"},"\u5199\u76d1\u542c\u5668\uff0c\u76d1\u542cservletContext\u5bf9\u8c61\u7684\u521b\u5efa\uff1a \u521d\u59cb\u5316\u96c6\u5408(onlineuserlist)"),(0,l.kt)("li",{parentName:"ol"},"\u767b\u9646\u529f\u80fd\uff1a \u7528\u6237\u767b\u9646\u65f6\u5019\uff0c\u628a\u6570\u636e\u4fdd\u5b58\u5230servletContext\u4e2d\u7684onlineList\u96c6\u5408"),(0,l.kt)("li",{parentName:"ol"},"List.jsp  \u589e\u52a0\u8d85\u94fe\u63a5\uff0c \u70b9\u51fb\u65f6\u5019\u63d0\u4ea4\u76f4\u63a5\u8df3\u8f6c\u5230online.jsp"),(0,l.kt)("li",{parentName:"ol"},"\u5199\u76d1\u542c\u5668\uff1a \u76d1\u542csession\u9500\u6bc1\uff0c\u628a\u5f53\u524d\u767b\u9646\u7528\u6237\u4eceonlineuserlist\u79fb\u9664\uff01")),(0,l.kt)("h1",{id:"i18n"},"i18n"),(0,l.kt)("h1",{id:"\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d"},"\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d"),(0,l.kt)("p",null,"\u600e\u4e48\u83b7\u53d6\u8868\u5355\u4e2d\u7684\u6570\u636e? \u67092\u4e2d\u60c5\u51b5:"),(0,l.kt)("h2",{id:"form\u4e2d\u53ea\u6709\u7eaf\u6587\u672c\u6570\u636e"},"form\u4e2d\u53ea\u6709\u7eaf\u6587\u672c\u6570\u636e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'String username = request.getParameter("username");\nString sex = request.getParameter("sex");\nString education = request.getParameter("education");\nString[] hobby = request.getParameterValues("hobby");\n\n')),(0,l.kt)("p",null,"\u6570\u636e\u7f16\u7801\uff1a \u5bf9\u4e8e\u7eaf\u6587\u672c\u7684\u8868\u5355\uff0c\u5176\u5b57\u6bb5enctype=application/x-www-form-urlencoded \u662f\u9ed8\u8ba4\u503c\uff0c\u8868\u793a\u8868\u5355\u7684\u6570\u636e\u8fdb\u884curl\u7f16\u7801\uff0c\u5982\uff1a\u8868\u5355\u7684\u6570\u636e\u88ab\u7f16\u7801\u6210username=123&password=222 \u3002"),(0,l.kt)("p",null,"\u4f20\u8f93\u65b9\u5f0f\uff1a \u6570\u636e\u4f20\u8f93\u65b9\u5f0fmethod \uff1a \u5982\u679c\u4f7f\u7528get \uff0c\u90a3\u4e48\u8be5\u5b57\u7b26\u4e32\u4f1a\u8ffd\u52a0\u5230\u8bf7\u6c42\u7684url\u5730\u5740\u540e\u9762\uff1b\u800c\u5982\u679c\u4f7f\u7528post \uff0c\u90a3\u4e48\u6253\u5f00\u8c03\u8bd5\u53f0\uff0c\u67e5\u770bForm Data \u9879\u4e5f\u53ef\u4ee5\u67e5\u770b\u5230\u5b57\u7b26\u4e32\u3002"),(0,l.kt)("h2",{id:"form\u4e2d\u542b\u6709\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6"},"form\u4e2d\u542b\u6709\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6"),(0,l.kt)("p",null,"\u5177\u4f53\u53c2\u8003 ",(0,l.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/tutorial/servlets011.htm#BABFGCHB"},"\u8fd9\u91cc"),")"),(0,l.kt)("p",null,"\u6bd4\u5982:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<form action="/webapp/formServlet" method="post" enctype="multipart/form-data">\n    <input type="text" name="username">\n    <input type="password" name="password">\n    <input type="file" name="file">\n    <input type="submit" value="\u63d0\u4ea4">\n</form>\n\n')),(0,l.kt)("p",null,"servlet 3.0 \u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c01\u88c5\u4e3a Part \u5bf9\u8c61"),(0,l.kt)("p",null,"\u4f20\u8f93\u65b9\u5f0f\uff1a \u56e0\u4e3a\u662f\u4e8c\u8fdb\u5236\u6d41\uff0c \u6240\u4ee5method \u53ea\u80fd\u4f7f\u7528post \u8fdb\u884c\u63d0\u4ea4\uff0c\u65e0\u6cd5\u4f7f\u7528get \u3002"),(0,l.kt)("h1",{id:"javamail\u90ae\u4ef6\u5f00\u53d1"},"javamail\u90ae\u4ef6\u5f00\u53d1"),(0,l.kt)("h1",{id:"servlet30"},"servlet3.0"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/1638865/what-are-the-differences-between-servlet-2-5-and-3"},"main conception (sos)")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.ibm.com/zh/articles/j-lo-servlet30/"},"https://developer.ibm.com/zh/articles/j-lo-servlet30/")),(0,l.kt)("h2",{id:"\u5f02\u6b65\u652f\u6301"},"\u5f02\u6b65\u652f\u6301"),(0,l.kt)("h3",{id:"\u5b9e\u73b0\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u9694\u79bb"},"\u5b9e\u73b0\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u9694\u79bb"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/sumlyl/article/details/108749779"},"https://blog.csdn.net/sumlyl/article/details/108749779"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://blog.csdn.net/liyantianmin/article/details/103760241"},"https://blog.csdn.net/liyantianmin/article/details/103760241"),"\n",(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/0529c126e166?utm_campaign"},"https://www.jianshu.com/p/0529c126e166?utm_campaign")),(0,l.kt)("h2",{id:"\u63d2\u4ef6\u5f0f\u5f00\u53d1"},"\u63d2\u4ef6\u5f0f\u5f00\u53d1"),(0,l.kt)("h2",{id:"\u6ce8\u89e3\u5f00\u53d1"},"\u6ce8\u89e3\u5f00\u53d1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'////////////////\n//     web.xml \u53ef\u9009, \u65b0\u589e\u6ce8\u89e3\n/////////////////\n\n@WebServlet(name="myServlet",\n    urlPatterns={"/path/to/my/servlet"},\n    initParams={@InitParam(name="configFile", value="config.xml")})\npublic class MyAwesomeServlet extends HttpServlet { ... }\n\n@ServletFilter(name="myFilter", urlPatterns={"/path/to/my/filter"})\npublic class MyAwesomeFilter implements Filter { ... }\n\n@WebServletContextListener\npublic class MyAwesomeListener implements ServletContextListener { ... }\n\n/////////////////\n//    Modularization of web.xml\n// n servlets 3, each "loadable" jar can have a web-fragment.xml in its META-INF directory specifying servlets, filters, etc.\n//////////////////////\n\n/////////////////\n//       \u52a8\u6001\u589e\u52a0 servlets, filters and listeners\n// following methods added to SevletContext: addServlet(), addFilter() and addListener()\n///////////////////\n\n///////////////////\n//     \u5f02\u6b65\u7684 servlet\n/////////////////////\n// servlet 2.5\npublic class MyAwesomeServlet extends HttpSerlvet {\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response) {\n        // ...\n\n        runSlowProcess();\n        // no async support, thread will be free when runSlowProcess() and\n        // doGet finish\n\n        // ...\n    }\n\n}\n// servlet 3.0\n@WebServlet(name="myServlet",\n             urlPatterns={"/mySlowProcess"},\n             asyncSupported=true) // asyncSupported MUST be specified for\n                                  // servlets that support asynchronous\n                                  // processing\npublic class MyAwesomeServlet extends HttpSerlvet {\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response) {\n\n\n        // an AsyncContext is created, now the response will be completed\n        // not when doGet finalizes its execution, but when\n        // myAsyncContext.complete() is called.\n        AsyncContext myAsyncContext = request.startAsync(request, response);\n\n        // ...\n\n        // myAsyncContext is passed to another thread\n        delegateExecutionToProcessingThread(myAsyncContext);\n\n        // done, now this thread is free to serve another request\n    }\n\n}\n\n// ... and somewhere in another part of the code:\n\npublic class MyProcessingObject {\n\n    public void doSlowProcess() {\n\n        // ...\n\n        runSlowProcess();\n        myAsyncContext.complete(); // request is now completed.\n\n        // ...\n\n    }\n}\n\n// \u53e6\u5916\u7684\u4e00\u4e2a\u793a\u4f8b\n\n@WebServlet(urlPatterns = "/demo", asyncSupported = true)\npublic class AsyncDemoServlet extends HttpServlet {\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse resp)\n    throws IOException, ServletException {\n        resp.setContentType("text/html;charset=UTF-8");\n        PrintWriter out = resp.getWriter();\n        out.println("\u8fdb\u5165Servlet\u7684\u65f6\u95f4\uff1a" + new Date() + ".");\n        out.flush();\n \n        //\u5728\u5b50\u7ebf\u7a0b\u4e2d\u6267\u884c\u4e1a\u52a1\u8c03\u7528\uff0c\u5e76\u7531\u5176\u8d1f\u8d23\u8f93\u51fa\u54cd\u5e94\uff0c\u4e3b\u7ebf\u7a0b\u9000\u51fa\n        AsyncContext ctx = req.startAsync();\n        new Thread(new Executor(ctx)).start();\n \n        out.println("\u7ed3\u675fServlet\u7684\u65f6\u95f4\uff1a" + new Date() + ".");\n        out.flush();\n    }\n}\n \npublic class Executor implements Runnable {\n    private AsyncContext ctx = null;\n    public Executor(AsyncContext ctx){\n        this.ctx = ctx;\n    }\n \n    public void run(){\n        try {\n            //\u7b49\u5f85\u5341\u79d2\u949f\uff0c\u4ee5\u6a21\u62df\u4e1a\u52a1\u65b9\u6cd5\u7684\u6267\u884c\n            Thread.sleep(10000);\n            PrintWriter out = ctx.getResponse().getWriter();\n            out.println("\u4e1a\u52a1\u5904\u7406\u5b8c\u6bd5\u7684\u65f6\u95f4\uff1a" + new Date() + ".");\n            out.flush();\n            ctx.complete();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n////////////////////\n//    \u53ef\u7f16\u7a0b\u7684 \u767b\u9646 \u767b\u51fa\n// In servlets 3, the interface HttpServletRequest has been added two new methods: login(username, password) and logout().  \n///////////////////////\n\n')),(0,l.kt)("h1",{id:"xxxwapper"},"xxxWapper"),(0,l.kt)("p",null,"HttpServletRequestWrapper ..."),(0,l.kt)("p",null,"\u5c3d\u7ba1\u4e0d\u80fd\u6539\u53d8ServletRequest\u4e0d\u53d8\u5bf9\u8c61\u672c\u8eab\uff0c\u4f46\u5374\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f(\u521b\u5efaxxxWapper)\u6765\u6539\u53d8\u5176\u72b6\u6001. \u4e00\u822c\u548c filter \u8054\u5408\u4f7f\u7528"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://uule.iteye.com/blog/1947192"},"http://uule.iteye.com/blog/1947192")),(0,l.kt)("h1",{id:"servlet\u548c\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"},"servlet\u548c\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/chanshuyi/p/5052426.html"},"https://www.cnblogs.com/chanshuyi/p/5052426.html"),"\n",(0,l.kt)("a",{parentName:"p",href:"http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html"},"http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"if (\u540c\u65f6\u6709\u591a\u4e2a http request \u540c\u4e00\u4e2a servlet\n            && \u8fd9\u4e2a servlet\u5b9a\u4e49\u4e86 \u6210\u5458\u53d8\u91cf/\u9759\u6001\u53d8\u91cf) {\n    \u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n}\n")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"#Servlet%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE"},"\u5e76\u53d1\u8bbf\u95ee servlet")))}v.isMDXComponent=!0}}]);