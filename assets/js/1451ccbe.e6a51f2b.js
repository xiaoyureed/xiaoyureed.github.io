"use strict";(self.webpackChunkwiki_1=self.webpackChunkwiki_1||[]).push([[8082],{3905:(e,n,t)=>{t.d(n,{Zo:()=>o,kt:()=>m});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=a.createContext({}),s=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},o=function(e){var n=s(e.components);return a.createElement(c.Provider,{value:n},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,c=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),u=s(t),d=l,m=u["".concat(c,".").concat(d)]||u[d]||k[d]||r;return t?a.createElement(m,p(p({ref:n},o),{},{components:t})):a.createElement(m,p({ref:n},o))}));function m(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,p=new Array(r);p[0]=d;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[u]="string"==typeof e?e:l,p[1]=i;for(var s=2;s<r;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3943:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=t(7462),l=(t(7294),t(3905));const r={title:"\u524d\u7aef\u6253\u5305\u6784\u5efa\u5de5\u5177",tags:["webpack","vite","esbuild","rollup"],date:new Date("2018-06-28T20:26:45.000Z"),toc_min_heading_level:2,toc_max_heading_level:5},p=void 0,i={unversionedId:"webpack-esbuild-vite-rollup",id:"webpack-esbuild-vite-rollup",title:"\u524d\u7aef\u6253\u5305\u6784\u5efa\u5de5\u5177",description:"\u5b98\u65b9\u6587\u6863",source:"@site/docs/webpack-esbuild-vite-rollup.md",sourceDirName:".",slug:"/webpack-esbuild-vite-rollup",permalink:"/docs/webpack-esbuild-vite-rollup",draft:!1,editUrl:"https://github.com/xiaoyureed/xiaoyureed.github.io/tree/main/docs/webpack-esbuild-vite-rollup.md",tags:[{label:"webpack",permalink:"/docs/tags/webpack"},{label:"vite",permalink:"/docs/tags/vite"},{label:"esbuild",permalink:"/docs/tags/esbuild"},{label:"rollup",permalink:"/docs/tags/rollup"}],version:"current",frontMatter:{title:"\u524d\u7aef\u6253\u5305\u6784\u5efa\u5de5\u5177",tags:["webpack","vite","esbuild","rollup"],date:"2018-06-28T20:26:45.000Z",toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"webassembly",permalink:"/docs/webassembly"},next:{title:"WSL \u4f7f\u7528",permalink:"/docs/windows-sub-system-on-linux"}},c={},s=[{value:"webpack\u4ecb\u7ecd",id:"webpack\u4ecb\u7ecd",level:2},{value:"\u4e3a\u4ec0\u4e48\u9700\u8981 webpack",id:"\u4e3a\u4ec0\u4e48\u9700\u8981-webpack",level:2},{value:"webpack\u5b89\u88c5",id:"webpack\u5b89\u88c5",level:2},{value:"webpack.config.js",id:"webpackconfigjs",level:2},{value:"Loader",id:"loader",level:2},{value:"\u547d\u4ee4\u884c",id:"\u547d\u4ee4\u884c",level:2},{value:"\u63d2\u4ef6",id:"\u63d2\u4ef6",level:2}],o={toc:s},u="wrapper";function k(e){let{components:n,...t}=e;return(0,l.kt)(u,(0,a.Z)({},o,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("div",{align:"center"},"[\u5b98\u65b9\u6587\u6863](https://webpack.js.org/concepts/) http://zhaoda.net/webpack-handbook/module-system.html"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B"},"\u6784\u5efa\u5de5\u5177\u7b80\u4ecb")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#vite"},"vite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#esbuild"},"esbuild")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#rollup"},"rollup")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#webpack"},"webpack"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#webpack%E4%BB%8B%E7%BB%8D"},"webpack\u4ecb\u7ecd")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-webpack"},"\u4e3a\u4ec0\u4e48\u9700\u8981 webpack")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#webpack%E5%AE%89%E8%A3%85"},"webpack\u5b89\u88c5")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#webpackconfigjs"},"webpack.config.js")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#loader"},"Loader")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E5%91%BD%E4%BB%A4%E8%A1%8C"},"\u547d\u4ee4\u884c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#%E6%8F%92%E4%BB%B6"},"\u63d2\u4ef6"))))),(0,l.kt)("h1",{id:"\u6784\u5efa\u5de5\u5177\u7b80\u4ecb"},"\u6784\u5efa\u5de5\u5177\u7b80\u4ecb"),(0,l.kt)("p",null,"\u524d\u7aef\u5f00\u53d1\u6784\u5efa\u5de5\u5177\u76ee\u524d\u6709\u4e24\u5927\u7c7b\uff1a bundle\u548cno bundle, \u5176\u4e2d,\nbundle\u7c7b\u5de5\u5177\u4e3b\u8981\u4ee3\u8868\uff1a webpack, parcel\uff0c rollup, esbuild.\nno bundle\u7c7b\u4e3b\u8981\u4ee3\u8868\uff1a snowpack, vite."),(0,l.kt)("h1",{id:"vite"},"vite"),(0,l.kt)("p",null,"\u6bd4 webpack \u66f4\u7b80\u5355 \u66f4\u5feb, \u9488\u5bf9 web \u5f00\u53d1\u5f00\u7bb1\u5373\u7528\u7684\u6253\u5305\u5de5\u5177"),(0,l.kt)("p",null,"\u6a21\u677f ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/vitejs/awesome-vite#templates"},"https://github.com/vitejs/awesome-vite#templates")),(0,l.kt)("p",null,"\u5e95\u5c42\u4f7f\u7528 esbuild"),(0,l.kt)("h1",{id:"esbuild"},"esbuild"),(0,l.kt)("p",null,"\u4e00\u4e2a\u300cJavaScript\u300dBundler \u6253\u5305\u548c\u538b\u7f29\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u5c06\u300cJavaScript\u300d\u548c\u300cTypeScript\u300d\u4ee3\u7801\u6253\u5305"),(0,l.kt)("p",null,"golang \u5b9e\u73b0"),(0,l.kt)("h1",{id:"rollup"},"rollup"),(0,l.kt)("h1",{id:"webpack"},"webpack"),(0,l.kt)("h2",{id:"webpack\u4ecb\u7ecd"},"webpack\u4ecb\u7ecd"),(0,l.kt)("p",null,"webpack: \u6a21\u5757\u5206\u6790\u6253\u5305\u5de5\u5177\uff08module bundler\uff09, \u5b83\u5c06\u4e00\u5806\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e2a\u6587\u4ef6\u90fd\u4f5c\u4e3a\u4e00\u4e2a\u6a21\u5757(module)\uff0c\u627e\u51fa\u4ed6\u4eec\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c06\u5b83\u4eec\u6253\u5305\u4e3a\u53ef\u90e8\u7f72\u7684\u9759\u6001\u8d44\u6e90(bundle)"),(0,l.kt)("p",null,"\u4e3b\u8981\u4f5c\u7528:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5c06 CSS\u3001\u56fe\u7247\u4e0e\u5176\u4ed6\u8d44\u6e90\u6253\u5305")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6253\u5305\u4e4b\u524d\u9884\u5904\u7406\uff08Less\u3001CoffeeScript\u3001JSX\u3001ES6 \u7b49\uff09")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f9d entry \u6587\u4ef6\u4e0d\u540c\uff0c\u628a .js \u5206\u62c6\u4e3a\u591a\u4e2a .js ")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6574\u5408\u4e30\u5bcc\u7684 Loader \u53ef\u4ee5\u4f7f\u7528\uff08Webpack \u672c\u8eab\u4ec5\u80fd\u5904\u7406 JavaScript \uff0c\u5176\u4f59\u5982\uff1aCSS\u3001Image \u9700\u8981\u8f7d\u5165\u4e0d\u540c Loader \u8fdb\u884c\u5904\u7406\uff09"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Webpack \u672c\u8eab\u53ea\u80fd\u5904\u7406\u539f\u751f\u7684 JavaScript \u6a21\u5757\uff0c\u4f46\u662f loader \u8f6c\u6362\u5668\u53ef\u4ee5\u5c06\u5404\u79cd\u7c7b\u578b\u7684\u8d44\u6e90\u8f6c\u6362\u6210 JavaScript \u6a21\u5757\u3002\u8fd9\u6837\uff0c\u4efb\u4f55\u8d44\u6e90\u90fd\u53ef\u4ee5\u6210\u4e3a Webpack \u53ef\u4ee5\u5904\u7406\u7684\u6a21\u5757\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u7531\u4e8eloader\u7684\u5b58\u5728, \u53ef\u540c\u901a\u8fc7require\u65b9\u5f0f\u52a0\u8f7d\u5404\u79cd\u6253\u5305\u6210\u6a21\u5757\u7684\u8d44\u6e90:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'require("./style.css");\nrequire("./style.less");\nrequire("./template.jade");\nrequire("./image.png");\n')))))),(0,l.kt)("h2",{id:"\u4e3a\u4ec0\u4e48\u9700\u8981-webpack"},"\u4e3a\u4ec0\u4e48\u9700\u8981 webpack"),(0,l.kt)("p",null,"\u9996\u5148\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u524d\u7aef\u6a21\u5757\u600e\u4e48\u52a0\u8f7d\u5462(\u8d44\u6e90\u600e\u4e48\u4ece\u670d\u52a1\u5668\u4f20\u9001\u5230\u6d4f\u89c8\u5668\u5462)"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f\u524d\u7aef\u4e2d\u7684\u6a21\u5757 ? \u4e0d\u4ec5\u5305\u62ecjs\u6a21\u5757\u6587\u4ef6, \u6837\u5f0f\u3001\u56fe\u7247\u3001\u5b57\u4f53\u3001HTML \u6a21\u677f\u7b49\u7b49\u4f17\u591a\u7684\u8d44\u6e90\u3002\u8fd9\u4e9b\u8d44\u6e90\u8fd8\u4f1a\u4ee5\u5404\u79cd\u65b9\u8a00\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u6bd4\u5982 coffeescript\u3001 less\u3001 sass\u3001\u4f17\u591a\u7684\u6a21\u677f\u5e93\u3001\u591a\u8bed\u8a00\u7cfb\u7edf\uff08i18n\uff09\u7b49\u7b49\u90fd\u662f\u6a21\u5757\uff0c \u90a3\u4e48\u5982\u4f55\u52a0\u8f7d\u8fd9\u4e9b\u6a21\u5757?"),(0,l.kt)("p",null,"\ud83d\udc0e\u4e00\u79cd\u662f\u6bcf\u4e2a\u6a21\u5757\u6587\u4ef6\u90fd\u5355\u72ec\u8bf7\u6c42\uff0c"),(0,l.kt)("p",null,"\ud83d\udc0e\u53e6\u4e00\u79cd\u662f\u628a\u6240\u6709\u6a21\u5757\u6253\u5305\u6210\u4e00\u4e2a\u6587\u4ef6\u7136\u540e\u53ea\u8bf7\u6c42\u4e00\u6b21\u3002\u663e\u800c\u6613\u89c1\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\u6bcf\u4e2a\u6a21\u5757\u90fd\u53d1\u8d77\u5355\u72ec\u7684\u8bf7\u6c42\u9020\u6210\u4e86\u8bf7\u6c42\u6b21\u6570\u8fc7\u591a\uff0c\u5bfc\u81f4\u5e94\u7528\u542f\u52a8\u901f\u5ea6\u6162\uff1b\u4e00\u6b21\u8bf7\u6c42\u52a0\u8f7d\u6240\u6709\u6a21\u5757\u5bfc\u81f4\u6d41\u91cf\u6d6a\u8d39\u3001\u521d\u59cb\u5316\u8fc7\u7a0b\u6162\u3002\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u4e0d\u662f\u597d\u7684\u89e3\u51b3\u65b9\u6848"),"\uff0c\u5b83\u4eec\u8fc7\u4e8e\u7b80\u5355\u7c97\u66b4\u3002"),(0,l.kt)("p",null,"\u5b9e\u9645\u7684\u52a0\u8f7d\u65b9\u5f0f\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"\u5206\u5757\u4f20\u8f93\uff0c\u6309\u9700\u8fdb\u884c\u61d2\u52a0\u8f7d"),"\uff0c\u5728\u5b9e\u9645\u7528\u5230\u67d0\u4e9b\u6a21\u5757\u7684\u65f6\u5019\u518d\u589e\u91cf\u66f4\u65b0\uff0c\u624d\u662f\u8f83\u4e3a\u5408\u7406\u7684\u6a21\u5757\u52a0\u8f7d\u65b9\u6848\u3002\u8981\u5b9e\u73b0\u6a21\u5757\u7684\u6309\u9700\u52a0\u8f7d\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u5bf9\u6574\u4e2a\u4ee3\u7801\u5e93\u4e2d\u7684\u6a21\u5757\u8fdb\u884c\u9759\u6001\u5206\u6790\u3001\u7f16\u8bd1\u6253\u5305\u7684\u8fc7\u7a0b\u3002webpack\u7531\u6b64\u5f15\u5165."),(0,l.kt)("h2",{id:"webpack\u5b89\u88c5"},"webpack\u5b89\u88c5"),(0,l.kt)("p",null,"\u901a\u5e38\u6211\u4eec\u4f1a\u5c06 Webpack \u5b89\u88c5\u5230\u9879\u76ee\u7684\u4f9d\u8d56\u4e2d\u800c\u4e0d\u662f\u5168\u5c40\u5b89\u88c5\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u9879\u76ee\u672c\u5730\u7248\u672c\u7684 Webpack\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5168\u5c40\u5b89\u88c5\u6709\u4e00\u4e2a\u7248\u672c\u7ba1\u7406\u95ee\u9898\uff0c \u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u4e2d\uff0c\u6709\u7684\u7528webpack 1.0\uff0c\u6709\u7684\u7528webpack2.0 \uff0c\u800c\u5168\u5c40webpack \u5374\u53ea\u6709\u4e00\u4e2a\u547d\u4ee4\uff0c\u90a3\u5c31\u4e0d\u597d\u529e\u4e86")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"npm init                    # \u751f\u6210package.json\nnpm install webpack webpack-cli -D      # \u5b89\u88c5\nnpm info webpack            # \u67e5\u770b\u5b89\u88c5\u60c5\u51b5\n# Webpack \u5f00\u53d1\u5de5\u5177: webpack-dev-server \u53ef\u4ee5\u542f\u52a8\u5f00\u53d1\u7528 server\uff0c\u65b9\u4fbf\u6211\u4eec\u6d4b\u8bd5\nnpm install webpack-dev-server --save-dev\n")),(0,l.kt)("p",null,"\u6253\u5f00package.json \u6587\u4ef6\uff0c\u627e\u5230scripts \u5b57\u6bb5: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'"scripts": {\n    "dev": "webpack-dev-server --mode development",\n    "build": "webpack --mode production"// \u8f93\u51fa\u538b\u7f29\u8fc7\u7684\u4ee3\u7801\n},\n// webapck4\u5f00\u59cb, \u53ef\u4ee5\u76f4\u63a5\u914d\u7f6e "build": "webpack", \u9ed8\u8ba4\u8f93\u5165\u4e3a ./src/index.js \u9ed8\u8ba4\u8f93\u51fa\u4e3a./dist/main.js\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"npm run build"),"or ",(0,l.kt)("inlineCode",{parentName:"p"},"npm run dev")," "),(0,l.kt)("p",null,"\u8fd9\u65f6\u5019\u6ca1\u6709 webpack.config.js(\u4e3a\u7a7a\u6587\u4ef6), ",(0,l.kt)("inlineCode",{parentName:"p"},"webpack"),"\u547d\u4ee4\u9ed8\u8ba4\u8bfb\u53d6",(0,l.kt)("inlineCode",{parentName:"p"},"src/index.js"),"\u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},"dist/main.js")),(0,l.kt)("h2",{id:"webpackconfigjs"},"webpack.config.js"),(0,l.kt)("p",null,"\u5206\u73af\u5883\u914d\u7f6e: ",(0,l.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000019711348"},"https://segmentfault.com/a/1190000019711348")),(0,l.kt)("p",null,"webpack\u4e5f\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u65b9\u5f0f\u6765\u5b8c\u6210\u6253\u5305\u5de5\u4f5c\uff0c\u5c31\u662f\u4f7f\u7528webpack\u7684\u914d\u7f6e\u6587\u4ef6 webpack.config.js"),(0,l.kt)("p",null,"Webpack \u5728\u6267\u884c\u7684\u65f6\u5019\uff0c\u9664\u4e86\u5728\u547d\u4ee4\u884c\u4f20\u5165\u53c2\u6570\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u6267\u884c (\u901a\u8fc7 --config \u9009\u9879\u6765\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6, \u9ed8\u8ba4\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"./webpack.config.js"),")\uff0c\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e00\u4e2a node.js \u6a21\u5757\uff0c\u5bfc\u51fa\u4e00\u4e2a json \u683c\u5f0f\u7684\u914d\u7f6e\u4fe1\u606f\u5bf9\u8c61"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5904\u7406\u8def\u5f84\nconst path = require('path');\n// - \u521b\u5efahtml\u5165\u53e3\u6587\u4ef6\uff0c\u6bd4\u5982\u5355\u9875\u9762\u53ef\u4ee5\u751f\u6210\u4e00\u4e2ahtml\u6587\u4ef6\u5165\u53e3\uff0c\u914d\u7f6eN\u4e2ahtml-webpack-plugin\u53ef\u4ee5\u751f\u6210N\u4e2a\u9875\u9762\u5165\u53e3\n// - \u4e3a\u5f15\u5165\u7684\u9759\u6001\u8d44\u6e90\u6dfb\u52a0 hash. \u6bcf\u6b21 compile \u540e, \u4e3a html \u9875\u9762\u5f15\u5165\u7684\u5916\u90e8\u8d44\u6e90\u5982script\u3001link\u52a8\u6001\u6dfb\u52a0 hash\uff0c\u9632\u6b62\u5f15\u7528\u7f13\u5b58\u7684\u5916\u90e8\u6587\u4ef6\u95ee\u9898\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n// \u6bcf\u6b21 buid \u524d\u5148\u6e05\u9664\u4e00\u4e0b dist \u76ee\u5f55 , \u9632\u6b62 \u8fd9\u4e2a\u76ee\u5f55\u79ef\u7d2f\u7684\u7f16\u8bd1\u6587\u4ef6\u8fc7\u591a\nconst CleanWebpackPlugin = require('clean-webpack-plugin');\n// \u4f7f\u7528webpack \u5185\u5efa\u7684\u63d2\u4ef6\n// \u5982: \u5b9e\u73b0 HMR\u529f\u80fd(hmr: \u65e0\u5237\u65b0\u66f4\u65b0\u9875\u9762), \u5982\u679c\n// \u4f7f\u7528\u7684\u662fwebpack-dev-middleware instead of webpack-dev-server, \n// \u5219\u65e0\u6cd5\u4f7f\u7528\u5185\u5efa\u63d2\u4ef6\u5b9e\u73b0 hmr, \u9700\u8981 webpack-hot-middleware\u63d2\u4ef6\nconst webpack = require('webpack');\n\nmodule.exports = {\n    // entry \u5165\u53e3\u6587\u4ef6\uff1awebpack \u6253\u5305\u7684\u65f6\u5019\u7684\u4ece\u54ea\u4e2a\u6587\u4ef6\u5f00\u59cb\u3002 \u76f8\u5f53\u4e8ewebpack \u547d\u4ee4\u4e2d src/index.js \n    // \u5355\u9875\u9762\n    // entry: './src/index.js', // \u7b49\u540c\u4e8e  main: './path/to/my/entry/file.js'\n\n    // \u591a\u9875\u9762\n    // entry: {\n    //     pageOne: './src/pageOne/index.js',\n    //     pageTwo: './src/pageTwo/index.js',\n    //     pageThree: './src/pageThree/index.js'\n    // },\n    entry: {\n        // app \u5728 output \u4e2d\u4f1a\u88ab\u5f15\u7528, \u901a\u8fc7 `[name]`, \n        app: './src/index.js'\n    },\n\n    output: {\n        // \u4e0d\u4f7f\u7528 entry \u4e2d\u7684 key\n        // filename: 'main.js',\n\n        // [name]\u8868\u793aentry\u4e2d\u7684key, app.bundle.js\n        filename: '[name].bundle.js',\n        // \u53ef\u7701\u7565, \u9ed8\u8ba4\u8f93\u51fa\u5230 'dist' \u6587\u4ef6\u5939\n        path: path.resolve(__dirname, 'dist'), // \u7b49\u4ef7 `${__dirname}/dist`\n        publicPath: '/' // \u8868\u793a express\u5c06\u4f1a\u542f\u52a8\u5728 http://localhost:3000, \u5728 server.js\u4e2d\u6307\u5b9a\n    },\n\n    // \u4e09\u4e2a\u9009\u9879: none, development or production(default). \n    // \u6216\u8005\u5728 npm scripts \u4e2d 'webpack --mode=production'\n    // mode: 'production', \n\n    module: {\n        rules: [{\n            // \u914d\u7f6e css loader\n            // Webpack \u672c\u8eab\u53ea\u80fd\u5904\u7406 JavaScript \u6a21\u5757\uff0c\u5982\u679c\u8981\u5904\u7406\u5176\u4ed6\u7c7b\u578b\u7684\n            // \u6587\u4ef6\uff0c\u5c31\u9700\u8981\u4f7f\u7528 loader \u8fdb\u884c\u8f6c\u6362\n            // \u66f4\u591a loader: https://webpack.js.org/guides/hot-module-replacement/#other-code-and-frameworks\n            test: /\\.css$/,\n            use: [\n                // \u4e00\u822c\u6765\u8bf4\u9700\u8981\u5f15\u5165css-loader\u548cstyle-loader\uff0c\u5176\u4e2dcss-loader\u7528\n                // \u4e8e\u89e3\u6790\uff0c\u800cstyle-loader\u5219\u5c06\u89e3\u6790\u540e\u7684\u6837\u5f0f\u5d4c\u5165js\u4ee3\u7801\u3002\n                // \u987a\u5e8f\u4e0d\u53ef\u53d8: \u4ece\u5de6\u5230\u53f3 \u8d8a\u6765\u8d8a\u5177\u4f53\n                'style-loader', 'css-loader'\n            ]\n        }]\n    },\n\n    // \u63d2\u4ef6\u7528\u4e8e\u62d3\u5c55 webpack \u529f\u80fd\n    // \u662f\u4e00\u4e2a\u6570\u7ec4, \u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a \u63d2\u4ef6\u5bf9\u8c61\n    // \u81ea\u5b9a\u4e49\u53c2\u6570\u901a\u8fc7\u63d2\u4ef6\u7684\u6784\u9020\u51fd\u6570\u4f20\u5165\n    plugins: [\n        // \u9ed8\u8ba4 \u6e05\u9664\u8fd9\u4e2a\u76ee\u5f55: output.path\n        new CleanWebpackPlugin(),\n\n        new HtmlWebpackPlugin({\n            title: 'Hello World app',// \u6307\u5b9aindex.html\u7684title\n\n            // template: './src/index.html', // \u6307\u5b9a\u4e00\u4e2aindex.html\u6a21\u677f, \u4f1a\u539f\u6837\u590d\u5236\u5230dist\n\n            // filename: 'index.html',\n\n            minify: { // \u538b\u7f29HTML\u6587\u4ef6\n                removeComments: true, // \u79fb\u9664HTML\u4e2d\u7684\u6ce8\u91ca\n                collapseWhitespace: true, // \u5220\u9664\u7a7a\u767d\u7b26\u4e0e\u6362\u884c\u7b26\n                minifyCSS: true// \u538b\u7f29\u5185\u8054css\n              },\n        }),\n\n        // \u65b9\u4fbf\u7684\u67e5\u770bmodule\u7684\u4f9d\u8d56\u5173\u7cfb, HMR\u7528; \n        // development \u4f1a\u5c06 process.env.NODE_ENV \u7684\u503c\u8bbe\u4e3a development \u3002\u542f\u7528 NamedChunksPlugin \u548c NamedModulesPlugin\u3002\n        new webpack.NamedModulesPlugin(),\n        // \u5f00\u542fhmr\u652f\u6301\n        new webpack.HotModuleReplacementPlugin() \n    ],\n    // mode: \"development\", // \u8bbe\u5b9a\u4e3a\u5f00\u53d1\u6a21\u5f0f(\u4ee3\u7801\u4e0d\u4f1a\u538b\u7f29), \u8fd8\u6709 production\u6a21\u5f0f(\u538b\u7f29\u4ee3\u7801), \u547d\u4ee4\u884c\u6307\u5b9a: --mode xxx\n    devtool: 'inline-source-map',// \u8ffd\u6eaf\u9519\u8bef\u6e90\u6587\u4ef6, \u4ec5\u9700\u8981\u8fd9\u4e00\u884c\u914d\u7f6e\n    devServer: {\n        contentBase: './dist',// \u547d\u4ee4\u884c\u6307\u5b9a --content-base dist\n        port: 18080, // \u9ed8\u8ba4: localhost:8080\n        hot: true, // Enabling HMR, \u5bf9\u5e94\u7684\u547d\u4ee4\u884c\u53c2\u6570 webpack-dev-server --hot\n        inline: true // \u5982\u679c hot(hmr)\u65e0\u6548, \u5219inline(\u9875\u9762\u6574\u4e2a\u5237\u65b0)\n    }\n};\n\n\n")),(0,l.kt)("h2",{id:"loader"},"Loader"),(0,l.kt)("p",null,"Webpack \u672c\u8eab\u53ea\u80fd\u5904\u7406 JavaScript \u6a21\u5757\uff0c\u5982\u679c\u8981\u5904\u7406\u5176\u4ed6\u7c7b\u578b\u7684\u6587\u4ef6\uff0c\u5c31\u9700\u8981\u4f7f\u7528 loader \u8fdb\u884c\u8f6c\u6362"),(0,l.kt)("p",null,"Loader \u53ef\u4ee5\u5728 require() \u5f15\u7528\u6a21\u5757\u7684\u65f6\u5019\u6dfb\u52a0\uff0c\u4e5f\u53ef\u4ee5\u5728 webpack \u5168\u5c40\u914d\u7f6e\u4e2d\u8fdb\u884c\u7ed1\u5b9a\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u4f7f\u7528\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// main.js, commonjs\u5199\u6cd5\nrequire("!style-loader!css-loader!./index.css");//\u4e5f\u53ef\u4ee5\u5c06 index.js \u4e2d\u7684 require("!style!css!./style.css") \u4fee\u6539\u4e3a require("./style.css") \uff0c\u7136\u540e\u6267\u884c\uff1awebpack entry.js bundle.js --module-bind "css=style-loader!css-loader"\n\n// \u5f53\u7136\u7b80\u5316\u4e5f\u53ef\u901a\u8fc7webpack.config.js\u914d\u7f6e\n\n')),(0,l.kt)("p",null,"\u5177\u4f53\u5f15\u5165 less \u7684\u65b9\u6cd5\uff0c \u53c2\u89c1\uff1a",(0,l.kt)("a",{parentName:"p",href:"http://www.css88.com/doc/webpack2/loaders/less-loader/"},"http://www.css88.com/doc/webpack2/loaders/less-loader/")),(0,l.kt)("h2",{id:"\u547d\u4ee4\u884c"},"\u547d\u4ee4\u884c"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"webpack\uff1a\u5f00\u53d1\u6a21\u5f0f"),(0,l.kt)("li",{parentName:"ul"},"webpack -p\uff1aproduction \u6a21\u5f0f"),(0,l.kt)("li",{parentName:"ul"},"webpack --watch\uff1a\u4f1a\u76d1\u542c\u7a0b\u5f0f\u7801\u7684\u4fee\u6539\uff0c\u5f53\u50a8\u5b58\u65f6\u6709\u5f02\u52a8\u65f6\u4f1a\u66f4\u65b0\u6863\u6848"),(0,l.kt)("li",{parentName:"ul"},"webpack -d\uff1a\u52a0\u5165 source maps \u6863\u6848"),(0,l.kt)("li",{parentName:"ul"},"webpack --progress --colors\uff1a\u52a0\u4e0a\u5904\u7406\u8fdb\u5ea6\u4e0e\u989c\u8272")),(0,l.kt)("p",null,"\u7b80\u5316: \u4f7f\u7528 package.json \u4e2d\u7684 scripts \u8bbe\u5b9a, ",(0,l.kt)("inlineCode",{parentName:"p"},"npm run dev")),(0,l.kt)("h2",{id:"\u63d2\u4ef6"},"\u63d2\u4ef6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"extract-text-webpack-plugin\u8be5\u63d2\u4ef6\u7684\u4e3b\u8981\u662f\u4e3a\u4e86\u62bd\u79bbcss\u6837\u5f0f,\u9632\u6b62\u5c06\u6837\u5f0f\u6253\u5305\u5728js\u4e2d\u5f15\u8d77\u9875\u9762\u6837\u5f0f\u52a0\u8f7d\u9519\u4e71\u7684\u73b0\u8c61")))}k.isMDXComponent=!0}}]);