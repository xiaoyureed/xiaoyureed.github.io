{
    "version": "https://jsonfeed.org/version/1",
    "title": "xiaoyureed",
    "home_page_url": "https://xiaoyureed.github.io/",
    "description": "Xiaoyureed 的网络 Wiki Blog",
    "items": [
        {
            "id": "https://xiaoyureed.github.io/cryptocurrency-auto-trading",
            "content_html": "<p>Cryptocurrency auto trading bot</p><p><a href=\"https://academy.binance.com/zh/articles/what-is-triangular-arbitrage-and-how-to-use-it\" target=\"_blank\" rel=\"noopener noreferrer\">https://academy.binance.com/zh/articles/what-is-triangular-arbitrage-and-how-to-use-it</a>\n<a href=\"https://academy.binance.com/zh/articles/what-is-bittorrent-bttc\" target=\"_blank\" rel=\"noopener noreferrer\">https://academy.binance.com/zh/articles/what-is-bittorrent-bttc</a>\n<a href=\"https://academy.binance.com/zh/articles/what-are-decentralized-applications-dapps\" target=\"_blank\" rel=\"noopener noreferrer\">https://academy.binance.com/zh/articles/what-are-decentralized-applications-dapps</a></p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"选型\">选型<a href=\"#选型\" class=\"hash-link\" aria-label=\"选型的直接链接\" title=\"选型的直接链接\">​</a></h2><p>spring boot + nextjs</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"设计\">设计<a href=\"#设计\" class=\"hash-link\" aria-label=\"设计的直接链接\" title=\"设计的直接链接\">​</a></h2><ul><li>自动转账</li></ul>",
            "url": "https://xiaoyureed.github.io/cryptocurrency-auto-trading",
            "title": "加密货币自动交易机器人",
            "summary": "Cryptocurrency auto trading bot",
            "date_modified": "2023-09-20T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "cryptocurrency"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2023/04/20/docusaurus-github-pages-blog",
            "content_html": "<p>This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.</p><p>Official website: <a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">https://docusaurus.io/</a></p><p>Docusaurus 是 Facebook 出品的一个文档生成工具, 基于 react, 其他更多静态站点生成器查看 <a href=\"https://jamstack.org/generators/\" target=\"_blank\" rel=\"noopener noreferrer\">https://jamstack.org/generators/</a></p><h1>本地初始化</h1><p>首先 <code>npx create-docusaurus@latest my-website classic --typescript</code>, 会创建一个本地的初始化仓库.</p><p>修改 配置文件中的 projectName, organizationName, baseUrl ...</p><h1>创建 github 远程仓库</h1><p>Create a github repository called <code>&lt;username&gt;.github.io</code></p><p><code>git remote add origin xxx</code></p><p><code>git push -u origin main</code></p><h1>添加 github actions</h1><p>Create ci.yml within the path <code>.github/workflows</code></p><div class=\"language-yml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-yml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Build and Deploy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">on</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># Allows you to run this workflow manually from the Actions tab</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">push</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">branches</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> main</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">permissions</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">contents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> read</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">pages</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> write</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">id-token</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> write</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># Allow one concurrent deployment</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">concurrency</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">group</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"pages\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">cancel-in-progress</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">env</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># Hosted GitHub runners have 7 GB of memory available, let's use 6 GB</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">NODE_OPTIONS</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">max</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">old</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">space</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">size=6144</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">#concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> ubuntu</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">latest</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">steps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Checkout 🛎️</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">uses</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> actions/checkout@v3</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Set up nodejs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">uses</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> actions/setup</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">node@v3</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">with</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">node-version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> 18.x</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">cache</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> yarn</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Install dependencies </span><span class=\"token important\">&amp;&amp;</span><span class=\"token plain\"> build</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">run</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">|</span><span class=\"token scalar string\" style=\"color:rgb(163, 21, 21)\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token scalar string\" style=\"color:rgb(163, 21, 21)\">          yarn install --frozen-lockfile --non-interactive</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token scalar string\" style=\"color:rgb(163, 21, 21)\">          yarn build</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Deploy to github pages 🚀</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">uses</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> JamesIves/github</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">pages</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">deploy</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">action@v4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">with</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">folder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> build </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># The folder the action should deploy.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">token</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> $</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">secrets.access_token</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">clean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">branch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> gh</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">pages</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://xiaoyureed.github.io/2023/04/20/docusaurus-github-pages-blog",
            "title": "Publish Blogs by Using Docusaurus and Github Pages",
            "summary": "This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.",
            "date_modified": "2023-04-20T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "docusaurus",
                "github pages"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/coding-gracefully-with-gradle-java17-jpa",
            "content_html": "<p>This Article I'm gonna demo How to develop a web based scaffold by using Gradle, Java17 and Jpa</p><ul><li><a href=\"#establish-the-project-structure\">establish the project structure</a></li><li><a href=\"#try-the-basic-smoke-test\">try the basic smoke test</a></li><li><a href=\"#git-hooks-support\">git hooks support</a></li><li><a href=\"#how-to-reduce-the-duration-of-test-execution\">how to reduce the duration of test execution</a></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"establish-the-project-structure\">establish the project structure<a href=\"#establish-the-project-structure\" class=\"hash-link\" aria-label=\"establish the project structure的直接链接\" title=\"establish the project structure的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">java -version</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># openjdk17</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gradle -v</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># v7.4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir graceful-coding</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">cd ...</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># let's try to build an app having the similar functionality to zhihu to conduct the demo</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir question-service</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">cd ...</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">touch settings.gradle.kts</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">touch build.gradle.kts</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>settings.gradle.kts includes the following content:</p><div class=\"language-kotlin codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-kotlin codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">rootProject.name = \"question-service\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">pluginManagement {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    repositories {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        mavenLocal()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        maven(\"https://mirrors.cloud.tencent.com/nexus/repository/maven-public/\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        mavenCentral()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        gradlePluginPortal()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>build.gradle.kts :</p><div class=\"language-kotlin codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-kotlin codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">import org.springframework.boot.gradle.plugin.SpringBootPlugin</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">plugins {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    java</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    id(\"org.springframework.boot\") version \"3.0.6\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">java {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    toolchain {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        languageVersion.set(JavaLanguageVersion.of(17))</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">repositories {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    mavenLocal()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    maven(\"https://mirrors.cloud.tencent.com/nexus/repository/maven-public/\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    mavenCentral()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">dependencies {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    implementation(platform(SpringBootPlugin.BOM_COORDINATES))</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    implementation(\"org.springframework.boot:spring-boot-starter-web\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    implementation(\"org.springframework.boot:spring-boot-starter\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    implementation(\"org.springframework.boot:spring-boot-starter-actuator\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">//</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">//    testImplementation(platform(\"org.junit:junit-bom:5.9.3\"))</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">//    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">//    testImplementation(\"org.junit.jupiter:junit-jupiter-api\")</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">tasks {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    test {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        useJUnitPlatform()</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>generate gradle wrapper</p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gradle wrapper</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">./gradlew build</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"try-the-basic-smoke-test\">try the basic smoke test<a href=\"#try-the-basic-smoke-test\" class=\"hash-link\" aria-label=\"try the basic smoke test的直接链接\" title=\"try the basic smoke test的直接链接\">​</a></h2><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">package</span><span class=\"token plain\"> </span><span class=\"token namespace\">io</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">github</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">xiaoyureed</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">zhihualternative</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">questionservice</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">org</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">junit</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">jupiter</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">api</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import class-name\" style=\"color:rgb(38, 127, 153)\">Test</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">org</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">springframework</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">beans</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">factory</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">annotation</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import class-name\" style=\"color:rgb(38, 127, 153)\">Autowired</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">org</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">springframework</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">boot</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">test</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">autoconfigure</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">web</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">servlet</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import class-name\" style=\"color:rgb(38, 127, 153)\">AutoConfigureMockMvc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">org</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">springframework</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">boot</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">test</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">context</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import class-name\" style=\"color:rgb(38, 127, 153)\">SpringBootTest</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">org</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">springframework</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">test</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">web</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">servlet</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import class-name\" style=\"color:rgb(38, 127, 153)\">MockMvc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token import static namespace\">org</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">springframework</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">test</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">web</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">servlet</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">request</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static class-name\" style=\"color:rgb(38, 127, 153)\">MockMvcRequestBuilders</span><span class=\"token import static punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token import static namespace\">org</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">springframework</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">test</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">web</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">servlet</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">result</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static class-name\" style=\"color:rgb(38, 127, 153)\">MockMvcResultMatchers</span><span class=\"token import static punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static\">jsonPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token import static namespace\">org</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">springframework</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">test</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">web</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">servlet</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static namespace\">result</span><span class=\"token import static namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static class-name\" style=\"color:rgb(38, 127, 153)\">MockMvcResultMatchers</span><span class=\"token import static punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import static\">status</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * smoke test: to verify if this app is running well</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@SpringBootTest</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@AutoConfigureMockMvc</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SmokeTest</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Autowired</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MockMvc</span><span class=\"token plain\"> mockMvc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Test</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">should_return_ok_when_request_endpoint_of_health</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throws</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        mockMvc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">perform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/actuator/health\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">andExpect</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">status</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isOk</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">andExpect</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">jsonPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"$.status\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"UP\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"git-hooks-support\">git hooks support<a href=\"#git-hooks-support\" class=\"hash-link\" aria-label=\"git hooks support的直接链接\" title=\"git hooks support的直接链接\">​</a></h2><p>create <code>githooks/pre-commit</code></p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#!/usr/bin/env sh</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># -q: quiet, -k: indexed, -u</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">git stash -qku</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># exec test</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">./gradlew clean check</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RESULT=$?</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">git stash pop -q</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">exit $RESULT</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>set the hook up : <code>git config core.hooksPath &lt;githooks dir&gt;</code></p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"how-to-reduce-the-duration-of-test-execution\">how to reduce the duration of test execution<a href=\"#how-to-reduce-the-duration-of-test-execution\" class=\"hash-link\" aria-label=\"how to reduce the duration of test execution的直接链接\" title=\"how to reduce the duration of test execution的直接链接\">​</a></h2><p>If you feel like a shorter duration for test execution, try the following strategy</p><ol><li>测试代码中是否存在 block 线程的操作？这类操作会严重拖慢测试运行效率。</li><li>对不同层的代码设计不同的测试策略，让每一层的测试尽可能的轻量（持久化层只注入于 Data JPA 相关的上下文；业务层测试可以 mock 持久化层的 bean，Web 层的测试可以 mock 业务层）。</li><li>启用 gradle 并发运行任务。</li></ol><p>如果还是觉得本地执行测试速度无法接受, 试着把单元测试执行后移到 CI 上，只允许通过测试的代码可以被集成（但这样会延长失败反馈周期）。</p>",
            "url": "https://xiaoyureed.github.io/coding-gracefully-with-gradle-java17-jpa",
            "title": "Coding Gracefully with Gradle, Java17 and Spring Boot Jpa",
            "summary": "This Article I'm gonna demo How to develop a web based scaffold by using Gradle, Java17 and Jpa",
            "date_modified": "2023-03-22T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "gradle",
                "java",
                "jpa"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/publish-maven-jar-github",
            "content_html": "<p>there are three ways available to publish your packages</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"github-package-registry\">github package registry<a href=\"#github-package-registry\" class=\"hash-link\" aria-label=\"github package registry的直接链接\" title=\"github package registry的直接链接\">​</a></h2><p>Github provide 500M free space for every account</p><p>First of all, publish your package: Add the following config to your package pom which to be published to github</p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">distributionManagement</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">name</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">GitHub OWNER Apache Maven Packages</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">name</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">https://maven.pkg.github.com/{account}/maven-repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">distributionManagement</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>then <code>mvn deploy</code>, check <a href=\"https://github.com/%7Baccount%7D/maven-repository/packages/\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/{account}/maven-repository/packages/</a> to find your package</p><p>So now, we can try to use the packge</p><p>add the token (applied from github) and repo address to our pom file</p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">activeProfiles</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">activeProfile</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">activeProfile</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">activeProfiles</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">profiles</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">profile</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositories</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">central</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">https://repo1.maven.org/maven2</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">https://maven.pkg.github.com/{account}/maven-repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">snapshots</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">enabled</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">true</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">enabled</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">snapshots</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositories</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">profile</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">profiles</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">servers</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">username</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">{xxx}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">username</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">password</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">TOKEN</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">password</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">servers</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"github-repository\">github repository<a href=\"#github-repository\" class=\"hash-link\" aria-label=\"github repository的直接链接\" title=\"github repository的直接链接\">​</a></h2><p>Apply a token from github and give it <code>user.email</code> permission</p><p>add the following config to maven config file:</p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">servers</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">username</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">{xxx}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">username</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">password</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">TOKEN</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">password</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">servers</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>then add this configs to pom file of the package to be publish to github</p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">properties</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">github.global.server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">github.global.server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">properties</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--1.作用：将jar deploy(发布)到本地储存库位置(altDeploymentRepository)--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">maven-deploy-plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">altDeploymentRepository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">internal.repo::default::file://${project.build.directory}/mvn-repo</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">altDeploymentRepository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--2.作用：将本地存储库位置的jar文件发布到github上--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">com.github.github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">site-maven-plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">0.12</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">message</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">Maven artifacts for ${project.version}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">message</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">noJekyll</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">true</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">noJekyll</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--本地jar相关文件地址，与上方配置储存库位置(altDeploymentRepository)保持一致--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">outputDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${project.build.directory}/mvn-repo</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">outputDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--配置上传到github哪个分支，此处配置格式必须以refs/heads/+分支名称--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">branch</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">refs/heads/main</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">branch</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">merge</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">true</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">merge</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">includes</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">include</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">**/*</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">include</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">includes</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--对应github上创建的仓库名称 name--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositoryName</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">maven-repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositoryName</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--github 仓库所有者即登录用户名--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositoryOwner</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">xxx</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositoryOwner</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">site</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">deploy</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>now just need <code>mvn clean deploy</code></p><p>and we can use the package in this way:</p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            xxxxx</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositories</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">github</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- 格式是 https://raw.githubusercontent.com/[github 用户名]/[github 仓库名]/[分支名]/repository --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">https://raw.githubusercontent.com/trumandu/maven-repository/main/repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">url</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">snapshots</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">enabled</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">true</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">enabled</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">updatePolicy</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">always</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">updatePolicy</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">snapshots</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repository</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">repositories</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"maven-central-repo\">maven central repo<a href=\"#maven-central-repo\" class=\"hash-link\" aria-label=\"maven central repo的直接链接\" title=\"maven central repo的直接链接\">​</a></h2><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"the-normal-way\">the normal way<a href=\"#the-normal-way\" class=\"hash-link\" aria-label=\"the normal way的直接链接\" title=\"the normal way的直接链接\">​</a></h3><p><a href=\"https://blog.csdn.net/icansoicrazy/article/details/126391095\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/icansoicrazy/article/details/126391095</a>\n<a href=\"https://www.cnblogs.com/strongmore/p/17435714.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.cnblogs.com/strongmore/p/17435714.html</a></p><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"we-can-use-github-actions-to-automate-this-publish-process\">We can use github actions to automate this publish process<a href=\"#we-can-use-github-actions-to-automate-this-publish-process\" class=\"hash-link\" aria-label=\"We can use github actions to automate this publish process的直接链接\" title=\"We can use github actions to automate this publish process的直接链接\">​</a></h3><p><a href=\"https://juejin.cn/post/7102428103196016671\" target=\"_blank\" rel=\"noopener noreferrer\">https://juejin.cn/post/7102428103196016671</a></p>",
            "url": "https://xiaoyureed.github.io/publish-maven-jar-github",
            "title": "How to Publish Your Maven Package with Github",
            "summary": "there are three ways available to publish your packages",
            "date_modified": "2023-03-22T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "maven",
                "github",
                "jar"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/redmi-router-crack",
            "content_html": "<p>This article details how I cracked redmi ax6000 router, including some details steps.</p><ul><li><a href=\"#enable-telnet\">enable Telnet</a></li><li><a href=\"#enable-ssh\">enable ssh</a></li><li><a href=\"#vps-%E6%90%AD%E5%BB%BA-v2ray\">vps 搭建 v2ray</a></li><li><a href=\"#install-shellclash\">install shellclash</a></li><li><a href=\"#adg-home\">adg home</a></li><li><a href=\"#references\">references</a></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"enable-telnet\">enable Telnet<a href=\"#enable-telnet\" class=\"hash-link\" aria-label=\"enable Telnet的直接链接\" title=\"enable Telnet的直接链接\">​</a></h2><p>check <a href=\"http://192.168.31.1\" target=\"_blank\" rel=\"noopener noreferrer\">http://192.168.31.1</a>, login to the ui</p><p>copy the token from the url </p><p>the following url should be further edited, replacing {token} by the string getting frorm the previous step</p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># enable debug mode, the page showed {code: 0}, which indicates that everything is ok</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">http://192.168.31.1/cgi-bin/luci/;stok={token}/api/misystem/set_sys_time?timezone=%20%27%20%3B%20zz%3D%24%28dd%20if%3D%2Fdev%2Fzero%20bs%3D1%20count%3D2%202%3E%2Fdev%2Fnull%29%20%3B%20printf%20%27%A5%5A%25c%25c%27%20%24zz%20%24zz%20%7C%20mtd%20write%20-%20crash%20%3B%20</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># reboot the router (NB: after reboot the token changed accordingly)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">http://192.168.31.1/cgi-bin/luci/;stok={token}/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># enable telnet permanently, the page showed {code: 0} prove that we success</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">http://192.168.31.1/cgi-bin/luci/;stok={token}/api/misystem/set_sys_time?timezone=%20%27%20%3B%20bdata%20set%20telnet_en%3D1%20%3B%20bdata%20set%20ssh_en%3D1%20%3B%20bdata%20set%20uart_en%3D1%20%3B%20bdata%20commit%20%3B%20</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># reboot another once</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">http://192.168.31.1/cgi-bin/luci/;stok={token}/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># check if telnet is enabled (no username/passwd needed)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">telnet 192.168.31.1 23</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"enable-ssh\">enable ssh<a href=\"#enable-ssh\" class=\"hash-link\" aria-label=\"enable ssh的直接链接\" title=\"enable ssh的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># enter and login the telnet</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">echo -e 'admin\\nadmin' | passwd root  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nvram set ssh_en=1  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nvram set telnet_en=1  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nvram set uart_en=1  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nvram set boot_wait=on  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nvram commit  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sed -i 's/channel=.*/channel=\"debug\"/g' /etc/init.d/dropbear  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">/etc/init.d/dropbear restart  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir /data/auto_ssh  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">cd /data/auto_ssh  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">curl -O https://fastly.jsdelivr.net/gh/lemoeo/AX6S@main/auto_ssh.sh  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">chmod +x auto_ssh.sh  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set firewall.auto_ssh=include  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set firewall.auto_ssh.type='script'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set firewall.auto_ssh.path='/data/auto_ssh/auto_ssh.sh'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set firewall.auto_ssh.enabled='1'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci commit firewall  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set system.@system[0].timezone='CST-8'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set system.@system[0].webtimezone='CST-8'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci set system.@system[0].timezoneindex='2.84'  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">uci commit  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mtd erase crash  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">reboot  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># check if ssh enabled (root / admin)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ssh root@192.168.31.1 </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># if error occurred</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># Unable to negotiate with 192.168.31.1 port 22: no matching host key type fou</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedKeyTypes=+ssh-rsa root@192.168.31.1</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"vps-搭建-v2ray\">vps 搭建 v2ray<a href=\"#vps-搭建-v2ray\" class=\"hash-link\" aria-label=\"vps 搭建 v2ray的直接链接\" title=\"vps 搭建 v2ray的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">bash &lt;(wget -qO- -o- https://git.io/v2ray.sh)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 默认自动创建一个 VMess-TCP 配置</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 若无法正常使用, 尝试</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">v2ray add ss</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bbr 优化</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">v2ray bbr</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 进入管理面板, 退出:直接回车</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">v2ray</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># ip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">v2ray ip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># vps ip 发生变化, 可以通过</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">v2ray # 进入菜单, 选择 3-查看配置, 查看新的 vmess 链接</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 然后在 shellclash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">clash # 选择 6-导入配置文件 ...</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"install-shellclash\">install shellclash<a href=\"#install-shellclash\" class=\"hash-link\" aria-label=\"install shellclash的直接链接\" title=\"install shellclash的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo -i #切换到root用户，如果需要密码，请输入密码</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">bash #如已处于bash环境可跳过</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 一键安装</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#GitHub源(可能需要代理)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">export url='https://raw.githubusercontent.com/juewuy/ShellClash/master' &amp;&amp; sh -c \"$(curl -kfsSl $url/install.sh)\" &amp;&amp; source /etc/profile &amp;&gt; /dev/null</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># or</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">export url='https://fastly.jsdelivr.net/gh/juewuy/ShellClash@master' &amp;&amp; sh -c \"$(curl -kfsSl $url/install.sh)\" &amp;&amp; source /etc/profile &amp;&gt; /dev/null</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 显示安装成功</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">clash # 进入clash 安装配置向导</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># ui dashboard 安装不了, 跳过dashboard, 直接安装 clash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># clash 启动后, 在更新彩灯中安装 ui 即可</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># http://clash.razord.top/#/proxies</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># http://192.168.31.1:9999/ui/#/proxies</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 本地安装</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">cd /tmp</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">curl -O -# -s https://fastly.jsdelivr.net/gh/juewuy/ShellClash@master/bin/ShellClash.tar.gz</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /tmp/SC_tmp &amp;&amp; tar -zxf '/tmp/ShellClash.tar.gz' -C /tmp/SC_tmp/ &amp;&amp; source /tmp/SC_tmp/init.sh </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># or</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /tmp/SC_tmp &amp;&amp; tar -zxf '/tmp/ShellClash.tar.gz' -C /tmp/SC_tmp/ &amp;&amp; bash /tmp/SC_tmp/init.sh &amp;&amp; source /etc/profile &gt;/dev/null</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 本地 ui 安装</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">curl -O -# -s https://raw.github.com/xiaoyureed/rain-cloud/main/clashdb.tar.gz</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># scp -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedKeyTypes=+ssh-rsa dashboard/clashdb.tar.gz root@192.168.31.1:/data/clash/ui</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">tar -zxf</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"adg-home\">adg home<a href=\"#adg-home\" class=\"hash-link\" aria-label=\"adg home的直接链接\" title=\"adg home的直接链接\">​</a></h2><p>AdGuard Home  <a href=\"https://sspai.com/post/63088#\" target=\"_blank\" rel=\"noopener noreferrer\">https://sspai.com/post/63088#</a>!</p><p><a href=\"https://www.right.com.cn/forum/thread-8256739-1-1.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.right.com.cn/forum/thread-8256739-1-1.html</a></p><p><a href=\"https://umi.im/redmi-ax6000-adguard-home-openclash/\" target=\"_blank\" rel=\"noopener noreferrer\">https://umi.im/redmi-ax6000-adguard-home-openclash/</a></p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"references\">references<a href=\"#references\" class=\"hash-link\" aria-label=\"references的直接链接\" title=\"references的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/miaoermua/unlock-redmi-ax6000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://iii80.com/?action=show&amp;id=1080 , https://qust.me/post/ax6000-shellclash/</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://qust.me/post/ax6000-openwrt/#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E4%BB%8E%E8%BF%87%E6%B8%A1%E5%9B%BA%E4%BB%B6%E5%88%B7%E5%85%A5-openwrt 刷 openwrt</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://zhuanlan.zhihu.com/p/103121214 插件</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/kenzok8/openwrt-packages 插件</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/juewuy/ShellClash install scripts</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://qust.me/post/ax6000-shellclash/#%E5%AE%89%E8%A3%85-shellclash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/kjfx/AX6000/releases/tag/redmi_ax6000_ssh</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/loyess/Shell ss shell安装脚本</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/teddysun/shadowsocks_install</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/teddysun/shadowsocks_install</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/openRunner/clash-freenode clash free node</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/WilliamStar007/ClashX-V2Ray-TopFreeProxy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/learnhard-cn/free_proxy_ss</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://github.com/233boy/v2ray one click scripts</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">https://www.youtube.com/watch?v=KH318DzR7lA</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://xiaoyureed.github.io/redmi-router-crack",
            "title": "redmi ax6000 crack",
            "summary": "This article details how I cracked redmi ax6000 router, including some details steps.",
            "date_modified": "2023-03-22T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "crack"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/react-vue-docker",
            "content_html": "<p>In this article I'm gonna show you how to build a docker env when develop a frontend app</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"vue\">vue<a href=\"#vue\" class=\"hash-link\" aria-label=\"vue的直接链接\" title=\"vue的直接链接\">​</a></h2><p><code>vue create vue-docker</code> to generate the basic structure</p><p>create dockerfile:</p><div class=\"language-dockerfile codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-dockerfile codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#设置构建的基础镜像</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FROM node</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#创建一个名为vue-docker的文件夹</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RUN  mkdir -p  /vue-docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#进入到这个目录中（当我们打开镜像终端的时候会自动进入这个目录中去）</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">WORKDIR /vue-docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#拷贝当前目录下所有东西到vue-docker目录中</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY . .</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#设置npm下载依赖来源为淘宝源</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RUN npm config set registry https://registry.npm.taobao.org</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#安装项目依赖</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RUN npm i</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#在启动镜像时执行启动项目的命令</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">CMD npm run serve</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#暴露端口用于外部访问</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">EXPOSE 8080</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>if you want to get it work with nginx: create docker-compose.yml</p><div class=\"language-yml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-yml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"3\"</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 指定版本(不同的版本存在语法差异，这边使用最新的版本)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">nginx</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 用户自定义的服务名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> nginx </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 使用的nginx最新的镜像</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 使用本地的 nginx 配置 default.conf</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> /default.conf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/etc/nginx/conf.d/default.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 声明暴露的端口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"80:80\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">vue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">build</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 构建相关的配置 也可以直接使用image:xxx去构建</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">context</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> .</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">dockerfile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> vue </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 使用自定义的 dockerfile 文件名</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">working_dir</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> /vue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">docker </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 进入工作的目录中</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">command</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> npm run serve </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 在启动镜像时执行启动项目的命令</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 指定映射的路径（可指定多个）</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./x'x'x</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/xxx</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> /src</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/vue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">docker/src  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 映射本地源码目录</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 暴露端口用于外部访问（可指定多个）</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> 8080</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8080</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> 8081</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8081</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>then you need create the nginx configuration: default.conf</p><div class=\"language-conf codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-conf codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    listen       80;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    server_name  localhost;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    location / {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">       proxy_pass http://vue:8080; # 这里的vue就是docker-compose中自定义的services名</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    error_page   500 502 503 504  /50x.html;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    location = /50x.html {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        root   /usr/share/nginx/html;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>vue.config.js 中添加 disableHostCheck，不去检测域名:</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token property-access\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token literal-property property\">devServer</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token literal-property property\">disableHostCheck</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p><code>docker-compose -d up</code> To start the env.</p><p><code>docker build -t vue-docker .</code> to build the vue app image</p><p>If you don't want to use nginx, you also can start the container directly:</p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run -d -p 8080:8080 -v /src:/vue-docker/src vue-docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 进入命令行</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run -it vue-docker /bin/bash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>now we can try <code>http://localhost:8080</code></p>",
            "url": "https://xiaoyureed.github.io/react-vue-docker",
            "title": "Establish the Docker Develop Environment for frontend",
            "summary": "In this article I'm gonna show you how to build a docker env when develop a frontend app",
            "date_modified": "2023-03-11T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "docker",
                "react",
                "vue"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/spring-boot-with-docker",
            "content_html": "<p>This article I will talking about How to package spring boot app into a docker image , and how to optimize the size of the image.</p><ul><li><a href=\"#a-basic-example\">a basic example</a></li><li><a href=\"#get-a-better-image-layer\">get a better image layer</a></li><li><a href=\"#modularize-the-project\">modularize the project</a></li><li><a href=\"#multi-stage-build\">multi-stage build</a></li><li><a href=\"#try-to-make-the-native-image\">try to make the native image</a></li><li><a href=\"#reference-materials\">reference materials</a></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"a-basic-example\">a basic example<a href=\"#a-basic-example\" class=\"hash-link\" aria-label=\"a basic example的直接链接\" title=\"a basic example的直接链接\">​</a></h2><p>First of all, let's take a look at the simplest dockerfile </p><div class=\"language-dockerfile codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-dockerfile codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 最好是选择jre和slim后缀的基础镜像，它同时对linux和JDK做裁剪，能最小化镜像的体积而不影响java程序的运行性能</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># for java8 we can try openjdk:8-jre-alpine</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FROM openjdk:11-jre-slim</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">WORKDIR /app</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ARG JAR_FILE=./target/*.jar</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY ${JAR_FILE} app.jar</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ENTRYPOINT [ \"java\", \"-jar\", \"/app/app.jar\" ]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>But there are several weaknesses:</p><ul><li>the container will be started by this user by default: root, there are potential safety risk</li><li>the jar file is too fat, which means the image layer is not been handling well, each time we change the code, the image build time may be too long</li><li>the basic image is too huge (try to use the jre instead of the jdk)</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"get-a-better-image-layer\">get a better image layer<a href=\"#get-a-better-image-layer\" class=\"hash-link\" aria-label=\"get a better image layer的直接链接\" title=\"get a better image layer的直接链接\">​</a></h2><p><a href=\"https://github.com/wagoodman/dive\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/wagoodman/dive</a></p><div class=\"language-dockerfile codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-dockerfile codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FROM eclipse-temurin:17-jre-jammy as builder</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ARG JAR_FILE=target/*.jar</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">WORKDIR application</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY ${JAR_FILE} application.jar</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RUN java -Djarmode=layertools -jar application.jar extract</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">################</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FROM eclipse-temurin:17-jre-jammy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MAINTAINER xiaoyureed &lt;rainx000@qq.com&gt;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">WORKDIR /application</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY --from=builder application/dependencies/ ./</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY --from=builder application/spring-boot-loader/ ./</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY --from=builder application/snapshot-dependencies/ ./</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">COPY --from=builder application/application/ ./</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ENV JVM_OPTS=\"-Xmx256m -Xms256m\" \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    HALO_WORK_DIR=\"/root/.halo2\" \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    SPRING_CONFIG_LOCATION=\"optional:classpath:/;optional:file:/root/.halo2/\" \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    TZ=Asia/Shanghai</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RUN ln -sf /usr/share/zoneinfo/$TZ /etc/localtime \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    &amp;&amp; echo $TZ &gt; /etc/timezone </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">EXPOSE 8080</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ENTRYPOINT [\"sh\", \"-c\", \"java ${JVM_OPTS} -Djava.security.egd=file:/dev/./urandom org.springframework.boot.loader.JarLauncher ${0} ${@}\"]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"modularize-the-project\">modularize the project<a href=\"#modularize-the-project\" class=\"hash-link\" aria-label=\"modularize the project的直接链接\" title=\"modularize the project的直接链接\">​</a></h2><p><a href=\"https://sergiomartinrubio.com/articles/build-a-docker-jre-image-with-java-17-and-spring/\" target=\"_blank\" rel=\"noopener noreferrer\">https://sergiomartinrubio.com/articles/build-a-docker-jre-image-with-java-17-and-spring/</a></p><p>Making your project modularized is a great way to reduce the final docker images size</p><blockquote><p>Another way to conduct this action (modularization) is by using <a href=\"https://openjdk.org/projects/jigsaw/quick-start#linker\" target=\"_blank\" rel=\"noopener noreferrer\">JLink</a></p></blockquote><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"multi-stage-build\">multi-stage build<a href=\"#multi-stage-build\" class=\"hash-link\" aria-label=\"multi-stage build的直接链接\" title=\"multi-stage build的直接链接\">​</a></h2><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"try-to-make-the-native-image\">try to make the native image<a href=\"#try-to-make-the-native-image\" class=\"hash-link\" aria-label=\"try to make the native image的直接链接\" title=\"try to make the native image的直接链接\">​</a></h2><p>The image size can reduce greatly by using native image, and the other aspects such as the time taken to start, the memory occupied.... Generally speaking, there are so many benefits.</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"reference-materials\">reference materials<a href=\"#reference-materials\" class=\"hash-link\" aria-label=\"reference materials的直接链接\" title=\"reference materials的直接链接\">​</a></h2><p><a href=\"https://github.com/halo-dev/halo\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/halo-dev/halo</a>  can be taken as a best practice</p><p><a href=\"https://snyk.io/blog/best-practices-to-build-java-containers-with-docker/\" target=\"_blank\" rel=\"noopener noreferrer\">https://snyk.io/blog/best-practices-to-build-java-containers-with-docker/</a>\n<a href=\"https://blog.monosoul.dev/2022/04/25/reduce-java-docker-image-size/\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.monosoul.dev/2022/04/25/reduce-java-docker-image-size/</a></p><p><a href=\"https://mritd.com/2022/11/08/java-containerization-guide/\" target=\"_blank\" rel=\"noopener noreferrer\">https://mritd.com/2022/11/08/java-containerization-guide/</a> tips for java docker image</p><p><a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17\" target=\"_blank\" rel=\"noopener noreferrer\">https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17</a> the jdk17 base image.</p><p><a href=\"https://zhuanlan.zhihu.com/p/245645260\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/245645260</a> tips, which base image we should choose</p><p><a href=\"https://github.com/GoogleContainerTools/jib\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/GoogleContainerTools/jib</a> maven plugin produced by google to generate docker image.</p>",
            "url": "https://xiaoyureed.github.io/spring-boot-with-docker",
            "title": "Best Practice for Spring Boot Working with Docker",
            "summary": "This article I will talking about How to package spring boot app into a docker image , and how to optimize the size of the image.",
            "date_modified": "2023-01-02T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "spring",
                "docker"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2023/01/01/food-machine-learning",
            "content_html": "<p><a href=\"https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/\" target=\"_blank\" rel=\"noopener noreferrer\">https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/</a></p><p>Google 搜索 \"food machine learning\"</p><p>食品溯源</p>",
            "url": "https://xiaoyureed.github.io/2023/01/01/food-machine-learning",
            "title": "搜集机器学习用于食品行业的案例",
            "summary": "https://spd.group/machine-learning/machine-learning-and-ai-in-food-industry/",
            "date_modified": "2023-01-01T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "food",
                "machine learning"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2022/12/12/writing-tech-doc",
            "content_html": "<p><a href=\"https://www.jianshu.com/p/13503e2e7195\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.jianshu.com/p/13503e2e7195</a></p><p><a href=\"https://xie.infoq.cn/article/dda03f839ec34b8b202f4f49e\" target=\"_blank\" rel=\"noopener noreferrer\">https://xie.infoq.cn/article/dda03f839ec34b8b202f4f49e</a></p><p><a href=\"https://blog.csdn.net/kid_2412/article/details/106062531\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/kid_2412/article/details/106062531</a></p><p><a href=\"https://zhuanlan.zhihu.com/p/83661877\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/83661877</a></p>",
            "url": "https://xiaoyureed.github.io/2022/12/12/writing-tech-doc",
            "title": "怎样写好一篇可实施的技术方案",
            "summary": "https://www.jianshu.com/p/13503e2e7195",
            "date_modified": "2022-12-12T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "writing"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2022/11/10/bt-torrent-download",
            "content_html": "<p><a href=\"https://www.triadprogram.com/bt-download-tool/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.triadprogram.com/bt-download-tool/</a> bt 原理</p><p><a href=\"https://www.triadprogram.com/aria2-mac/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.triadprogram.com/aria2-mac/</a></p>",
            "url": "https://xiaoyureed.github.io/2022/11/10/bt-torrent-download",
            "title": "BT torrent 协议以及尝试写一个下载工具",
            "summary": "https://www.triadprogram.com/bt-download-tool/ bt 原理",
            "date_modified": "2022-11-10T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "BT",
                "torrent",
                "download"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/spring-boot-react-package-together",
            "content_html": "<p>This article I will try to package a react app into Spring boot, so that they can share the same port, and make sure that the react static content can be served inside the spring boot app.</p><p>Here I'm gonna take a next.js app for example.</p><ul><li><a href=\"#create-the-basic-structure\">create the basic structure</a></li><li><a href=\"#perform-the-integration-process-manually\">perform the integration process manually</a></li><li><a href=\"#integrate-with-maven-plugins\">integrate with maven plugins</a></li><li><a href=\"#how-to-develop-and-debug\">How to develop and debug</a></li><li><a href=\"#reference-materials\">reference materials</a></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"create-the-basic-structure\">create the basic structure<a href=\"#create-the-basic-structure\" class=\"hash-link\" aria-label=\"create the basic structure的直接链接\" title=\"create the basic structure的直接链接\">​</a></h2><p>First of all, we have to create a spring boot app and a react app, As regards of spring boot app, please refer to <a href=\"https://start.spring.io.\" target=\"_blank\" rel=\"noopener noreferrer\">https://start.spring.io.</a> Then configurations about the static content route need set up:</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Configuration</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">WebConfig</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">implements</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">WebMvcConfigurer</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * To serve the nextjs static resources directly</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">addResourceHandlers</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResourceHandlerRegistry</span><span class=\"token plain\"> registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">addResourceHandler</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/**\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">addResourceLocations</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"classpath:/static/\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 为静态页面的路由自动补全 .html 然后重定向 (nextjs在打包进 springboot 后, 作为springboot 里的静态资源, 整个应用只认识 xxx.html. 当然如果前后分离开发时, nextjs 的服务器是认识 xxx的)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 开发阶段可以没有, 但是打包时要加上</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">addInterceptors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">InterceptorRegistry</span><span class=\"token plain\"> registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">addInterceptor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HandlerInterceptor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">boolean</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">preHandle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpServletRequest</span><span class=\"token plain\"> request</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpServletResponse</span><span class=\"token plain\"> response</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token plain\"> handler</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throws</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">boolean</span><span class=\"token plain\"> isApiHandle </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> handler </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">instanceof</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HandlerMethod</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> servletPath </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> request</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getServletPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">isApiHandle </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">contentEquals</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">servletPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">FilenameUtils</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getExtension</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">servletPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isEmpty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    request</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getRequestDispatcher</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">servletPath </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".html\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">forward</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">request</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> response</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>For next.js app, check the steps below: (Execute the following command in the root path of the java project)</p><blockquote><p>Usually I name the next.js app with \"frontend\"</p></blockquote><div class=\"language-shell codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">npx create-next-app@latest --ts</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># or</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">yarn</span><span class=\"token plain\"> create next-app --ts</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># or</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">pnpm</span><span class=\"token plain\"> create next-app --typescript</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>change the next.config.js</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/** @type {import('next').NextConfig} */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> nextConfig </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//https://stackoverflow.com/questions/65058598/nextjs-cors-issue</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">rewrites</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword control-flow\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token literal-property property\">fallback</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token literal-property property\">source</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'/api/:path*'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token literal-property property\">destination</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'http://localhost:8080/api/:path*'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token literal-property property\">reactStrictMode</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token literal-property property\">images</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token literal-property property\">unoptimized</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token literal-property property\">swcMinify</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token property-access\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> nextConfig</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>change the package.json (Just insert the following line into \"scripts\" section)</p><div class=\"language-json codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-json codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token property\">\"export\"</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"next build &amp;&amp; next export\"</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"perform-the-integration-process-manually\">perform the integration process manually<a href=\"#perform-the-integration-process-manually\" class=\"hash-link\" aria-label=\"perform the integration process manually的直接链接\" title=\"perform the integration process manually的直接链接\">​</a></h2><div class=\"language-javascript codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token maybe-class-name\">Step</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">Edit</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">package</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token property-access\">json</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> add </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"export\"</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"next export\"</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> the scripts property</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token maybe-class-name\">This</span><span class=\"token plain\"> measure is just form normal react app</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword control-flow\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> come up </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">with</span><span class=\"token plain\"> next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token property-access\">js</span><span class=\"token plain\"> app</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> please refer to above</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token maybe-class-name\">Step</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">2</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">The</span><span class=\"token plain\"> above step will build a folder named </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"out\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"> </span><span class=\"token property-access maybe-class-name\">Copy</span><span class=\"token plain\"> the contents </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">of</span><span class=\"token plain\"> out folder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"> </span><span class=\"token property-access maybe-class-name\">Paste</span><span class=\"token plain\"> it </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> the src </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> main </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> resources </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> folder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token property-access maybe-class-name\">Step</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">Now</span><span class=\"token plain\"> build the spring boot jar</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">/</span><span class=\"token plain\">war</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> then run it</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"> </span><span class=\"token property-access maybe-class-name\">It</span><span class=\"token plain\"> will serve the contents inside the </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> folder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"integrate-with-maven-plugins\">integrate with maven plugins<a href=\"#integrate-with-maven-plugins\" class=\"hash-link\" aria-label=\"integrate with maven plugins的直接链接\" title=\"integrate with maven plugins的直接链接\">​</a></h2><p>By using plugin <code>frontend-maven-plugin</code> and <code>maven-resources-plugin</code></p><div class=\"language-xml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- just for using npm --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">com.github.eirslett</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">frontend-maven-plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">1.11.3</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- check if nodejs/npm installed --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install node and npm</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install-node-and-npm</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- optional, the default value is like this --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- clear node_modules and package-lock.json --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm run clean</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">run clean</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- install dependencies --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm install</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install --registry=https://registry.npm.taobao.org</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm run build and export</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">npm</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">run export</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">workingDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${project.baseDir}/frontend</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">workingDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">installDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${project.build.directory}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">installDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">nodeVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">v18.14.0</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">nodeVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- optional, just for projects in china main land --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- &lt;downloadRoot&gt;http://npm.taobao.org/mirrors/node/&lt;/downloadRoot&gt; --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- just for using yarn --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">com.github.eirslett</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">frontend-maven-plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">1.11.3</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- check if nodejs/npm installed --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install-frontend-tools</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install-node-and-yarn</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- optional, the default value is like this --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- install dependencies --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">yarn-install</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">yarn</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">install --registry=https://registry.npm.taobao.org</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!--                            &lt;arguments&gt;install&lt;/arguments&gt;--&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">yarn-build-and-export</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">yarn</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">export</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">arguments</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">workingDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${frontend.dir}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">workingDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">installDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${project.build.directory}</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">installDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">nodeVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">v18.14.0</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">nodeVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">yarnVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">v1.22.19</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">yarnVersion</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- optional, just for projects in China main land --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- &lt;downloadRoot&gt;http://npm.taobao.org/mirrors/node/&lt;/downloadRoot&gt; --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">maven-resources-plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">3.2.0</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">copy-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">id</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">generate-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">phase</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">copy-resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goal</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">goals</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">outputDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${basedir}/target/classes/static</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">outputDirectory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- or --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">&lt;!-- &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt; --&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">resource</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">directory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">${basedir}/frontend/out</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">directory</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">filtering</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">false</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">filtering</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">resource</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">resources</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">configuration</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">execution</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">executions</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">plugin</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Then we can issue command <code>mvn spring-boot:run</code> and visit http://localhost:8080 to check the effect</p><p>Using <code>mvn package -D maven.test.skip=true</code> to package jar file.</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"how-to-develop-and-debug\">How to develop and debug<a href=\"#how-to-develop-and-debug\" class=\"hash-link\" aria-label=\"How to develop and debug的直接链接\" title=\"How to develop and debug的直接链接\">​</a></h2><p>So far, we can only package the final jar file with the above setup, but how to develop and debug with enjoying the benefits of hot reload?</p><p>We should follow the traditional way of separating the backend and frontend to conduct the development.</p><p>For example, now we have a backend service:</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RestController</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RequestMapping</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/api/students\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StudentController</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StudentRepository</span><span class=\"token plain\"> studentRepository</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StudentController</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StudentRepository</span><span class=\"token plain\"> studentRepository</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">studentRepository </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> studentRepository</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@PostMapping</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/\"</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">BaseResponse</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">List</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Student</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">findAll</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throws</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">ok</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BaseResponse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">ok</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">studentRepository</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">findAll</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>and a nextjs page:</p><div class=\"language-ts codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-ts codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">useEffect</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> useState</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"react\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">interface</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Student</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    id</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">string</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    name</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">string</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    age</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">number</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    gender</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">number</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    createdAt</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> Date</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    updatedAt</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> Date</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:rgb(0, 0, 255)\">Students</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">let</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">students</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> setStudents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token generic-function function\" style=\"color:rgb(0, 0, 255)\">useState</span><span class=\"token generic-function generic class-name operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token generic-function generic class-name\" style=\"color:rgb(38, 127, 153)\">Student</span><span class=\"token generic-function generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token generic-function generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token generic-function generic class-name\" style=\"color:rgb(38, 127, 153)\"> </span><span class=\"token generic-function generic class-name operator\" style=\"color:rgb(0, 0, 0)\">|</span><span class=\"token generic-function generic class-name\" style=\"color:rgb(38, 127, 153)\"> </span><span class=\"token generic-function generic class-name keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token generic-function generic class-name operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">let</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">loading</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> setLoading</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">useState</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">useEffect</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setLoading</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fetch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'/api/students'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            method</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'POST'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">then</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">resp </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> resp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">json</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">then</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">resp </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setStudents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> resp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setLoading</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\">main</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\">ul</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">loading </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\">div</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\">loading</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">/</span><span class=\"token plain\">div</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> students</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">map</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">student</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> i</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\">li key</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">i</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(163, 21, 21)\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">id</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">name</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">age</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">gender </span><span class=\"token template-string interpolation operator\" style=\"color:rgb(0, 0, 0)\">===</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation string\" style=\"color:rgb(163, 21, 21)\">'男'</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation string\" style=\"color:rgb(163, 21, 21)\">'女'</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">createdAt</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token template-string interpolation\">student</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token template-string interpolation\">updatedAt</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(163, 21, 21)\">`</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">/</span><span class=\"token plain\">li</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">/</span><span class=\"token plain\">ul</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">/</span><span class=\"token plain\">main</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">export</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token plain\"> Students</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Then we can start the backend with the debug/start button offered by ide or by using the main method directly, the backend service will start on port 8080, for the frontend app, enter <code>frontend</code> folder, issue <code>yarn dev</code> to start the frontend app on port 3000, now we can visit localhost:3000 to check the page</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"reference-materials\">reference materials<a href=\"#reference-materials\" class=\"hash-link\" aria-label=\"reference materials的直接链接\" title=\"reference materials的直接链接\">​</a></h2><p><a href=\"https://github.com/xiaoyureed/next-boot\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/xiaoyureed/next-boot</a></p><p><a href=\"https://github.com/tisonkun/springboot-nextjs-demo\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/tisonkun/springboot-nextjs-demo</a></p><p><a href=\"https://www.tisonkun.org/2022/10/22/springboot-nextjs/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.tisonkun.org/2022/10/22/springboot-nextjs/</a></p><p><a href=\"https://github.com/nnishad/reactive-springboot-with-reactjs-app\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/nnishad/reactive-springboot-with-reactjs-app</a> package with gradle</p>",
            "url": "https://xiaoyureed.github.io/spring-boot-react-package-together",
            "title": "Package Spring Boot & React App Together",
            "summary": "This article I will try to package a react app into Spring boot, so that they can share the same port, and make sure that the react static content can be served inside the spring boot app.",
            "date_modified": "2022-07-03T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "spring",
                "react"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2022/06/11/web-dev-history",
            "content_html": "<p><a href=\"https://www.jianshu.com/p/bec6736dcc3d\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.jianshu.com/p/bec6736dcc3d</a></p><p><a href=\"https://blog.csdn.net/JavaEETeacher/article/details/6478450\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/JavaEETeacher/article/details/6478450</a></p><p><a href=\"https://www.bilibili.com/video/BV1qc411W78Q\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1qc411W78Q</a> 架构的演进</p><p>In this blog I am going to talk about the development history of Java Web </p><h1>前后端分离</h1><p><a href=\"https://github.com/calidion/calidion.github.io/issues/17\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/calidion/calidion.github.io/issues/17</a>\n<a href=\"https://blog.csdn.net/shaobingj126/article/details/49420145\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/shaobingj126/article/details/49420145</a>\n<a href=\"https://www.zhihu.com/question/267014376\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/267014376</a>\n<a href=\"https://www.jianshu.com/p/2a14bb3c7505\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.jianshu.com/p/2a14bb3c7505</a></p><ul><li><p>设计</p><p>  后端: 数据库, 中间件, 缓存</p><p>  前端:</p><p>  交互: 通过 http 接口, 定义好数据格式 (json)</p></li><li><p>开发 and 测试</p><p>  前后端同时独立开发</p><p>  前端可以暂时从 mock server 拿设计阶段规划好的数据使用.</p></li><li><p>部署</p><p>  前后端独立部署, 两者的版本要一一对应.</p><p>  Jenkins 持续发布</p></li></ul><h1>DDD</h1><p>domain driven design 领域驱动开发</p><p>领域驱动架构（DDD）建模中的模型到底是什么？ - dz902的回答 - 知乎\n<a href=\"https://www.zhihu.com/question/25089273/answer/233316164\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/25089273/answer/233316164</a></p><p><a href=\"https://www.cnblogs.com/ealenxie/p/9559781.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.cnblogs.com/ealenxie/p/9559781.html</a> - 微服务 + DDD</p>",
            "url": "https://xiaoyureed.github.io/2022/06/11/web-dev-history",
            "title": "Web 开发模式的进化",
            "summary": "https://www.jianshu.com/p/bec6736dcc3d",
            "date_modified": "2022-06-11T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "history",
                "web"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/establish-infrastructure-from-scratch",
            "content_html": "<p><a href=\"https://github.com/qiangmzsx/Software-Engineering-at-Google\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/qiangmzsx/Software-Engineering-at-Google</a> 谷歌的软件工程可参考</p><ul><li><a href=\"#%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86\">代码管理</a><ul><li><a href=\"#%E4%BB%A3%E7%A0%81%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83\">代码版本管理规范</a></li><li><a href=\"#cicd-%E9%85%8D%E7%BD%AE\">cicd 配置</a></li></ul></li><li><a href=\"#%E9%9C%80%E6%B1%82bug%E7%AE%A1%E7%90%86\">需求/bug管理</a></li><li><a href=\"#%E8%AE%BE%E8%AE%A1\">设计</a></li><li><a href=\"#%E5%9F%BA%E7%A1%80%E6%8A%80%E6%9C%AF%E6%A1%86%E6%9E%B6\">基础技术框架</a></li><li><a href=\"#%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B%E4%B8%AD%E9%97%B4%E4%BB%B6\">基础能力中间件</a></li><li><a href=\"#%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B%E5%8C%85%E8%A3%85-sdk\">基础能力包装 sdk</a></li><li><a href=\"#%E5%AE%9A%E4%B9%89%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83\">定义编码规范</a><ul><li><a href=\"#%E5%89%8D%E7%AB%AF%E8%A7%84%E8%8C%83\">前端规范</a><ul><li><a href=\"#css%E8%AF%AD%E6%B3%95%E8%A7%84%E8%8C%83\">css语法规范</a></li></ul></li></ul></li><li><a href=\"#%E8%BF%90%E7%BB%B4\">运维</a></li><li><a href=\"#%E7%A0%94%E5%8F%91%E6%B5%81%E7%A8%8B\">研发流程</a><ul><li><a href=\"#%E5%85%B3%E9%94%AE%E8%8A%82%E7%82%B9\">关键节点</a></li><li><a href=\"#%E5%85%B3%E9%94%AE%E6%96%87%E6%A1%A3\">关键文档</a></li><li><a href=\"#%E8%A7%92%E8%89%B2%E5%92%8C%E5%88%86%E5%B7%A5\">角色和分工</a></li><li><a href=\"#%E9%83%A8%E9%97%A8%E5%88%86%E5%B7%A5\">部门分工</a></li><li><a href=\"#%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%87%86%E5%88%99\">基本工作准则</a></li></ul></li><li><a href=\"#%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83\">管理规范</a></li><li><a href=\"#%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88\">经验之谈</a></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"代码管理\">代码管理<a href=\"#代码管理\" class=\"hash-link\" aria-label=\"代码管理的直接链接\" title=\"代码管理的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gitlab - manage the code, and do things about cicd</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    将开发者账号集中管理, 使用时申请, 赋予权限, 离职注销</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"代码版本管理规范\">代码版本管理规范<a href=\"#代码版本管理规范\" class=\"hash-link\" aria-label=\"代码版本管理规范的直接链接\" title=\"代码版本管理规范的直接链接\">​</a></h3><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"cicd-配置\">cicd 配置<a href=\"#cicd-配置\" class=\"hash-link\" aria-label=\"cicd 配置的直接链接\" title=\"cicd 配置的直接链接\">​</a></h3><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"需求bug管理\">需求/bug管理<a href=\"#需求bug管理\" class=\"hash-link\" aria-label=\"需求/bug管理的直接链接\" title=\"需求/bug管理的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">禅道 - 国产</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">jira</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"设计\">设计<a href=\"#设计\" class=\"hash-link\" aria-label=\"设计的直接链接\" title=\"设计的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">蓝湖 - 国产</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    可以使用svn 管理权限</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">figma</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"基础技术框架\">基础技术框架<a href=\"#基础技术框架\" class=\"hash-link\" aria-label=\"基础技术框架的直接链接\" title=\"基础技术框架的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">如果工作定性为外包公司，那就搭建脚手架、代码生成平台、测试发布和运维平台、定制常用的类库和吸纳开源类库，做到快速开发和代码复用。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">如果是某个公司的技术部门，不以技术为主要盈利人数较少，那我觉得不要分布式和微服务，建议全部上云减少运维成本，用 nignx 做软负载均衡即可。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">如果是技术型初创公司，建议是用手底下最常用的技术先快速实现业务，然后做的大一些时在用也就 java 体系、GO 体系来重写业务框架。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">├── kyland-spring-boot-starter-parent              -- starter父模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-base            -- 基础模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-core            -- 核心模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-ds              -- 数据源模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-file            -- 文件存储模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-log             -- 日志模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-low-code        -- 低代码模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-message-queue   -- 消息队列模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-redis           -- redis模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-security        -- 安全模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-swagger         -- 接口文档模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-system          -- 系统内置功能模块</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    ├── kyland-spring-boot-starter-web             -- web启动器</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">前端部分:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">搭建脚手架工具</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yarn create kyland-app</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qiankun 微应用框架</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"基础能力中间件\">基础能力中间件<a href=\"#基础能力中间件\" class=\"hash-link\" aria-label=\"基础能力中间件的直接链接\" title=\"基础能力中间件的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">nacos</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">kkfileview 文件预览</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MINIO 文件存储</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">RabbitMQ/ kafka 消息队列</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"基础能力包装-sdk\">基础能力包装 sdk<a href=\"#基础能力包装-sdk\" class=\"hash-link\" aria-label=\"基础能力包装 sdk的直接链接\" title=\"基础能力包装 sdk的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">任务调度</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">Socket</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"定义编码规范\">定义编码规范<a href=\"#定义编码规范\" class=\"hash-link\" aria-label=\"定义编码规范的直接链接\" title=\"定义编码规范的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">安装 alibaba 风格插件, Basically we obey the Alibaba java coding style, </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">or</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">安装 checkstyle 插件, 通过checkstyle配置风格校验</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">标识符命名规范</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">注释规范</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">代码风格规范</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">接口及文档规范</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">数据库规范</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"前端规范\">前端规范<a href=\"#前端规范\" class=\"hash-link\" aria-label=\"前端规范的直接链接\" title=\"前端规范的直接链接\">​</a></h3><h4 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"css语法规范\">css语法规范<a href=\"#css语法规范\" class=\"hash-link\" aria-label=\"css语法规范的直接链接\" title=\"css语法规范的直接链接\">​</a></h4><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">声明顺序要约定一致, 相关的属性声明应当归为一组</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">由于定位（positioning）可以从正常的文档流中移除元素，并且还能覆盖盒模型（box model）相关的样式，因此排在首位。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">盒模型排在第二位，因为它决定了组件的尺寸和位置。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">其他属性只是影响组件的 内部 或者是不影响前两组属性，因此排在后面。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">.mod-example {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  /* 定位 */</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  position: absolute;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  top: 0;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  right: 0;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  bottom: 0;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  left: 0;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  z-index: 100;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  /* 盒模型 */</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  display: block;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  float: right;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  width: 100px;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  height: 100px;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  /* 排版 */</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  font: normal 13px \"Helvetica Neue\", sans-serif;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  line-height: 1.5;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  color: #333;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  text-align: center;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  /* 视觉效果 */</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  background-color: #f5f5f5;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  border: 1px solid #e5e5e5;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  border-radius: 3px;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  /* 其他 */</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  opacity: 1;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">避免使用 !important ，能不用坚决不用。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">禁止使用层级过深的选择器，最多3 ～ 5级</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"运维\">运维<a href=\"#运维\" class=\"hash-link\" aria-label=\"运维的直接链接\" title=\"运维的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">k3s 安装kubernetes</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">kuboard 管理面板</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"研发流程\">研发流程<a href=\"#研发流程\" class=\"hash-link\" aria-label=\"研发流程的直接链接\" title=\"研发流程的直接链接\">​</a></h2><p>常规研发流程:</p><p>&lt;<img loading=\"lazy\" src=\"/assets/images/dev-normal-process-69e3d061380123fd05d6672f71205c01.png\" width=\"1040\" height=\"1884\" class=\"img_ev3q\">&gt;</p><blockquote><p>紧急研发流程适用于紧急需求、生产环境重大故障或者其他紧急情况，该流程主要是为了针对紧急情况做出快速反应，因减少了审环节，同时也增大了项目的风险</p></blockquote><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"关键节点\">关键节点<a href=\"#关键节点\" class=\"hash-link\" aria-label=\"关键节点的直接链接\" title=\"关键节点的直接链接\">​</a></h3><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">需求评审：由产品经理主持，UI设计、研发、测试以及其他相关人员参与，采用逐个需求串讲和现场答疑的方式进行。评审通过后，由设计、研发、测试评估相应的工时，并根据需求优先级和迭代总工作量决定是否纳入迭代内，评审不通过，则由产品经理重新对需求进行分析。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">代码评审：当研发人员完成相应功能的编码工作提交合并代码请求之后，技术负责人对接提交的代码进行评审，评审不通过，则退回相应的研发人员修改，评审通过，则合并到相应的分支。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">测试用例评审：需求评审结束后，待测试团队完成迭代内所有需求的测试用例的编写，由测试负责人主持，相应模块的测试人员主讲，产品经理和项目经理参与，对其测试用例进行评审，评审不通过的测试用例，则由相应测试人进行修改，评审通过，则将其纳入测试计划中。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"关键文档\">关键文档<a href=\"#关键文档\" class=\"hash-link\" aria-label=\"关键文档的直接链接\" title=\"关键文档的直接链接\">​</a></h3><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">PRD文档/原型：就是将天马行空的概念具象化为实际的业务逻辑、UI页面、菜单按钮、字段定义、数据结果，最终辅导开发人员将系统研发出来。通常包含产品背景及定位、功能需求、逻辑架构、原型设计等信息。PRD文档是产品项目由“概念化”进入“图纸化”的最主要的文档，编写主要有几个目的：</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">概念具象化：产品人员搜集了各方的需求进行去伪存真的处理之后，需要对单个的需求点整合 –&gt; 抽象 –&gt; 具象，输出为黑字白纸的落地文档；并且的文档的编写过程中，可以从全局的角度和细节中去验证逻辑是否正确；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">协助项目开发：从项目立项开始、到项目评审、项目开发、项目验收，PRD文档贯穿了整个产品的诞生过程，重要性可想而知；产品定版证据：产品文档编写完毕之后就要进行封版处理，不能在开发过程中频繁变动需求，否则交付会无限延期；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">记录产品演进蓝图：若研发过程中需求有变动会首先排查文档的定版内容，对变动需求单独进行处理；若为版本迭代，也可以根据以前的版本记录进行追踪查源；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">预防人员变动：若公司的人员流动性比较强，文档保存不当，会导致产品的持续性研发迭代变得异常困难。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">产品计划：根据项目的重要交付节点将整个产品周期划分为多个里程碑计划，明确每个里程碑计划交付物（包括但不限于系统、文档等项目相关事项）以及交付时间，产品经理根据每个里程碑计划按时输出PRD文档/原型，并及时跟研发、测试、设计等相关团队评审并纳入相应的迭代计划内。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">迭代计划： 根据项目的具体情况将整个开发过程划分为多个迭代周期，每个迭代周期时间的长短取决于当前项目的进度和实际执行情况。而迭代开发计划则发生在每一迭代之前，在确定迭代的开始和结束时间之后，根据需求的优先级、工作量以及人力资源，将已评审通过的需求纳入相应的迭代内，项目经理（研发）将需求拆解按功能模块拆分成具体的开发任务，并分配到指定的研发人员。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">测试计划：根据迭代开发计划、测试任务的工作量以及人力资源情况，将已评审通过的测试用例，纳入到迭代测试计划中，并评估测定范围、工时、测试资源、测试进展和风险预警。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">测试报告：每个迭代集成测试通过后，根据实际测试情况编写测试报告，并描述软件的测试过程、 测试环境、测试范围、测试结果的文档以及分析总结系统存在的风险以及测试结论。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"角色和分工\">角色和分工<a href=\"#角色和分工\" class=\"hash-link\" aria-label=\"角色和分工的直接链接\" title=\"角色和分工的直接链接\">​</a></h3><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">产品经理：在需求前期负责需求调研、收集、分析和评审、需求说明文档（RRD）的编写和产品原型的设计。需求评审通过后，编写需求说明文档（RRD），然后跟研发、测试等相关人员做需求澄清。在需求后期负责产品需求的跟踪、验收和其他相关的工作。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">项目经理（研发）：参与需求澄清以及负责迭代开发计划的制定，以及需求的功能模块拆分和开发任务的拆解，协调产品、研发和测试，确保项目研发进度的正常推进，并负责测试、仿真和正式各环境的项目上线工作。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">技术负责人：负责项目前端/后端框架的选型和搭建、技术难点的攻关，参与需求评审以及负责核心业务功能的设计，负责前端/后端代码的评审工作以及确保交付项目前端/后端的代码质量。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">UI设计师：负责项目整体UE/UI/VI设计风格，并根据已评审的需求完成相应的UE/UI/VI设计，并在研发过程中确保前端开发的界面是严格参照设计来实现的。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">研发工程师：负责前后端需求的编码工作以及对自己编码的部分完成单元测试，并及时完成相关bug修复工作，对于评审不合格的代码及时按要求修改。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">测试工程师：负责系统的测试用例的编写，依据经过评审通过后的测试用例完成集成测试、回归测试和冒烟测试各个阶段的相关工作，并及时反馈给相应的研发人员和实时跟踪bug的修复情况，在集成测试通过后，提供相应的测试质量报告，在冒烟测试通过后想相关人员同步上线结果。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"部门分工\">部门分工<a href=\"#部门分工\" class=\"hash-link\" aria-label=\"部门分工的直接链接\" title=\"部门分工的直接链接\">​</a></h3><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">产品部：负责需求调研、收集、分析和确认，以及需求的进度跟踪和验收工作，是研发需求的唯一输入方。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">研发部：负责产品需求的具体实现，并确保项目的高质量高效率高水平交付。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">测试部：负责项目交付的质量保证，确保交付物的可用性和可靠性，是系统缺陷的唯一输入方</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"基本工作准则\">基本工作准则<a href=\"#基本工作准则\" class=\"hash-link\" aria-label=\"基本工作准则的直接链接\" title=\"基本工作准则的直接链接\">​</a></h3><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">1、每项需求和任务都需要确定负责人和评估完成所需的工时</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">2、关键工作完成以后，需要进行评审，且评审通过后才可以进行下一项工作，比如PRD文档和原型需要需求评审通过后才可以进入迭代开发，提交合并的代码必须代码评审通过后才可以合并到开发分支，测试用例完成评审后才开始测试计划的编写。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">3、不能按计划完成的工作，在每日例会中需及时沟通，并给出原因，有风险及时暴露出来。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">4、所有需求修改和变更必须经过相应的产品经理和项目经理评审后提交给研发，所有缺陷或者bug必须经过测试人员和项目经理确认后提交给研发。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">5、迭代结束之前完成上线工作，如果因其他因素导致不能在迭代结束前完成上线，需给出情况说明。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"管理规范\">管理规范<a href=\"#管理规范\" class=\"hash-link\" aria-label=\"管理规范的直接链接\" title=\"管理规范的直接链接\">​</a></h2><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"经验之谈\">经验之谈<a href=\"#经验之谈\" class=\"hash-link\" aria-label=\"经验之谈的直接链接\" title=\"经验之谈的直接链接\">​</a></h2><p>具体情况具体分析，不看公司规模和业务来就是耍流氓。\n首先要看公司目的是什么？</p><p>至于使用分布式体系，以 java 为例，我觉得一般公司可以考虑下面的步骤：\n(1)所有服务采用统一的技术体系，推荐 Springboot\n(2)搭建统一的脚手架，可以参考开源的一些，包括不限于分布式框架选型(Dubbo、SpringCloud)，分布式缓存选型(Redis)、日志处理和格式(采集建议 ELK)、消息中间件选型(Kafak、RokatMq)、分布式定时任务选型(ElasticJob)、统一的工具类库(cooms、guvua、fastjson 等)、Mybatis、代码生成器、Mybatis-plus、分页插件、统一异常定义和处理、统一的请求拦截器等。\n(3)编码规范定义，可以参考阿里规范，但要考虑实用性，不可能每个人都强制遵守，那些是重要的，必须遵守，那些是可以适度放宽的。Maven、git 命名、打包、发布规范。\n(4)建立自动化发布运维的框架比如 jenkins、ELK、钉钉邮件预警、网关(zuul 普罗米修斯)流量监控报警，以及 WIKI 和类似禅道之类的 BUG 管理平台\n(5)这些算是通用的底子，然后要根据现有的业务进行拆分，比如微服务的话可以对业务拆分，比如用户平台、权限平台、商品平台、交易平台、风控平台等。微服务之上可以考虑增加业务聚合服务，直接对应部分前端。所有对外服务都应通过网关统一对外暴露，在网关层面考虑用普罗米修斯之类的对调用做监控。对于用户平台需要考虑统一的登录注册，可以考虑在网关层增加对调用的管理。交易平台可能跟风控相关，通过日志采集发往相关的处理系统再回写到相关表中，风控提供相关接口。比如商品可能需要检索系统，那可以考虑在基础之上增加 ElasticSearch 对商品信息进行检索。比如活动平台可以考虑增加规则引擎，高度自定义规则，将规则配置移交给运营人员，减少重复开发。根据公司业务拆分成不同的小平台和业务，再根据其特点选择技术。\n(6)原则上有开源的系统，就学习并使用开源产品，这样减少开发时间，但随着业务发展开源产品不能满足时，可以根据自身特点开发自己的产品，比如业界的工作流可能不能满足公司的需求，公司可以自己开发一套基于 XX 上的改进版本。就类似与 Dubbo-&gt;Dubbox，甚至开源出来回馈社区</p><p>最后技术只是为业务服务的，任何公司都是依靠业务发展的，追求优秀的技术是正确，但要一定要考虑公司自身的情况和寻找合适的时间&gt;_&lt;</p>",
            "url": "https://xiaoyureed.github.io/establish-infrastructure-from-scratch",
            "title": "How to establish the infrastructure from scratch in a startup",
            "summary": "https://github.com/qiangmzsx/Software-Engineering-at-Google 谷歌的软件工程可参考",
            "date_modified": "2022-06-07T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "infrastructure"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2022/05/04/mobile-technology",
            "content_html": "<p><a href=\"https://github.com/didi/DoraemonKit\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/didi/DoraemonKit</a> 移动端 app 测试工具包</p><h1>移动端选型</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"原生-native\">原生 native<a href=\"#原生-native\" class=\"hash-link\" aria-label=\"原生 native的直接链接\" title=\"原生 native的直接链接\">​</a></h2><p>如android、ios、wp</p><p>优点: 体验最好, 功能最强</p><p>缺点:</p><ul><li><p>开发成本高, 无法跨平台</p></li><li><p>上线时间不稳定，需要审核，特别是苹果审核机制，审核时间长短不一，对内容还有控制</p></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"react-native\">react native<a href=\"#react-native\" class=\"hash-link\" aria-label=\"react native的直接链接\" title=\"react native的直接链接\">​</a></h2><p>使用react-native可以维护多种平台（Web，Android和IOS）, 原理是将 js 转为 平台对应的组件</p><p>react-native的优点：不用webview,摆脱了webview的交互和性能问题；有较强的扩展性，java端提供了基础控件，js可以自由组合使用也可以自定义组合控件；</p><p>react-native的缺点：组件不全，第三方组件也不全，遇到某些特殊功能，需要花大力气写；性能方面也无法媲美原生，还是有一些损耗，特别是交换大数据时；IOS版本略好，androi发展较慢；ios和android代码并非通用，有可能需要维护两套代码或者在代码中做一些判断；开发人员还是需要会原生开发，不然自定义组件无法编码；</p><p>目前得到经验是IOS版本比较稳定，android版本还不太成熟</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"flutter\">flutter<a href=\"#flutter\" class=\"hash-link\" aria-label=\"flutter的直接链接\" title=\"flutter的直接链接\">​</a></h2><p>开发一套代码同时运行在iOS和Android平台, 原理是通过绘图引擎直接将 dart 绘制为图形, 省去了 rn 的转换步骤</p><p>生态不完善, 需要自己造轮子</p><p><a href=\"https://www.zhihu.com/question/359468918\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/359468918</a> 为什么要创造 dart 不直接用 java?</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"h5-hybird-混合开发\">h5 hybird 混合开发<a href=\"#h5-hybird-混合开发\" class=\"hash-link\" aria-label=\"h5 hybird 混合开发的直接链接\" title=\"h5 hybird 混合开发的直接链接\">​</a></h2><p>即混合开发,由Native通过JSBridge等方法提供统一的API,然后用Html5+JS来写实际的逻辑,调用API</p><p>框架: Ionic</p><p>优点: </p><ul><li><p>调试适配简单, 直接在网页上调试和修改，几乎不用考虑用户机型和适配的问题</p></li><li><p>版本升级优势，网页的升级与用户无关，用户无需下载更新安装, 更新版本无需审核</p></li><li><p>部分性能要求的页面可用原生实现这应该是Hybrid模式的最多一个好处了,因为这种模式是原生混合web,所以我们完全可以将交互强,性能要求高的页面用原生写,然后一些其它页面用JS写,嵌入webview中,达到最佳体验</p></li></ul><p>缺点: (主要是性能问题)</p><ul><li><p>H5加载大图片的时候性能会下降</p></li><li><p>大量用户访问同一个H5应用时性能会下降</p></li><li><p>不适用于交互性较强的app这种模式的主要应用是:一些新闻阅读类,信息展示类的app;但是不适用于一些交互较强或者性能要求较高的app(比如动画较多就不适合)</p></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"web-app\">web app<a href=\"#web-app\" class=\"hash-link\" aria-label=\"web app的直接链接\" title=\"web app的直接链接\">​</a></h2><p>即移动端的网站,将页面部署在服务器上,然后用户使用各大浏览器访问,不是独立APP, 泛指 SPA(Single Page Application)模式开发出的网站</p><p>pros (advantage/superiority):</p><ul><li>开发成本低,可以跨平台,调试方便</li></ul><p>cons (disadvantage/weakness):</p><ul><li>性能低,用户体验差, 功能受限,大量功能无法实现</li><li>依赖于网络,页面访问速度慢,耗费流量</li><li>临时性入口,用户留存率低这既是它的优点,也是缺点,优点是无需安装,确定是用完后有时候很难再找到,或者说很难专门为某个web app留存一个入口</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"jetpack\">jetpack<a href=\"#jetpack\" class=\"hash-link\" aria-label=\"jetpack的直接链接\" title=\"jetpack的直接链接\">​</a></h2>",
            "url": "https://xiaoyureed.github.io/2022/05/04/mobile-technology",
            "title": "移动端技术选型",
            "summary": "https://github.com/didi/DoraemonKit 移动端 app 测试工具包",
            "date_modified": "2022-05-04T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "mobile"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2021/09/20/face-recognition-detection-ocr",
            "content_html": "<p>本文收集了目前人脸识别领域的开源方案, 基于这些开源方案, 实现了一个基础 demo, 代码库: <a href=\"https://github.com/xiaoyureed/face_recognize_rest_api\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/xiaoyureed/face_recognize_rest_api</a></p><h1>人脸识别</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"概念\">概念<a href=\"#概念\" class=\"hash-link\" aria-label=\"概念的直接链接\" title=\"概念的直接链接\">​</a></h2><p>流程: face detection -&gt; face alignment -&gt; face verification -&gt; face identification</p><ul><li><p>人脸检测/跟踪 /定位 face detection</p><p>在图像/视频中找到各个人脸所在的位置和大小, 框出来；对于跟踪而言，还需要确定帧间不同人脸间的对应关系</p><p>在OpenCV中有直接能拿出来用的Harr分类器</p></li><li><p>人脸特征点定位 </p><p>确定脸部特征点（眼睛、嘴巴中心点、眼睛、嘴巴轮廓特征点、器官轮廓特征点等）的位置。人脸特征点定位的基本思路，主要是将人脸局部器官的纹理特征和器官特征点之间的位置约束进行结合来进行处理</p></li><li><p>人脸校准（face alignment）</p><p>检测出人脸特征点后, 进行姿态的校正，使其人脸尽可能的”正”, 可以提高人脸识别的精度</p></li><li><p>人脸确认（face verification）</p><p>pair matching: 比对输入的人脸和 已有的人脸是否匹配</p></li><li><p>人脸鉴别（face identification/recognition）</p><p>对进行人脸检测、人脸校正后的图像（人脸）进行分类(face grouping)</p></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"活体检测\">活体检测<a href=\"#活体检测\" class=\"hash-link\" aria-label=\"活体检测的直接链接\" title=\"活体检测的直接链接\">​</a></h2><p>一般有 眨眼检测, 嘴巴张/闭检测</p><ul><li><p>眨眼检测方法</p><p>抓取摄像头传来的连续帧, 人脸特征点定位,某个时刻为睁眼, 下一帧为闭眼, 接着为睁眼, 视为一次眨眼</p><p>或者可以考虑将这个问题当做图像分类问题，类别为：睁眼和闭眼。先通过人脸检测模型，比如dlib、face_recognition，从人脸照片中裁剪出眼部图片，再对眼部图片进行分类。</p></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"开源方案\">开源方案<a href=\"#开源方案\" class=\"hash-link\" aria-label=\"开源方案的直接链接\" title=\"开源方案的直接链接\">​</a></h2><ul><li><a href=\"https://github.com/ageitgey/face_recognition\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/ageitgey/face_recognition</a>  基于 dlib<ul><li>dlib,opencv (<a href=\"https://zhuanlan.zhihu.com/p/79784400\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/79784400</a>) dlib 19.7.0 和face_recognition 1.2.1 ; <a href=\"https://zhuanlan.zhihu.com/p/45827914\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/45827914</a></li></ul></li><li><a href=\"https://github.com/deepinsight/insightface\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/deepinsight/insightface</a> MXNet and PyTorch</li><li><a href=\"https://github.com/davidsandberg/facenet\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/davidsandberg/facenet</a> Tensorflow</li><li><a href=\"https://github.com/cmusatyalab/openface\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/cmusatyalab/openface</a> Torch</li><li><a href=\"https://github.com/justadudewhohacks\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/justadudewhohacks</a> js 库</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"如何存储\">如何存储<a href=\"#如何存储\" class=\"hash-link\" aria-label=\"如何存储的直接链接\" title=\"如何存储的直接链接\">​</a></h2><p><a href=\"https://shentuzhigang.blog.csdn.net/article/details/103793031\" target=\"_blank\" rel=\"noopener noreferrer\">https://shentuzhigang.blog.csdn.net/article/details/103793031</a>\n<a href=\"https://blog.csdn.net/xia4215/article/details/113888148\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/xia4215/article/details/113888148</a></p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"ref\">ref<a href=\"#ref\" class=\"hash-link\" aria-label=\"ref的直接链接\" title=\"ref的直接链接\">​</a></h2><p><a href=\"https://www.cnblogs.com/GarfieldEr007/p/5372345.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.cnblogs.com/GarfieldEr007/p/5372345.html</a>\n<a href=\"https://blog.csdn.net/u014696921/article/details/74779798\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/u014696921/article/details/74779798</a>\n<a href=\"https://www.face-rec.org/general-info/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.face-rec.org/general-info/</a>\n<a href=\"https://www.zhihu.com/question/64860792/answer/233782977\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/64860792/answer/233782977</a></p><p>基础库\n<a href=\"https://github.com/opencv/opencv\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/opencv/opencv</a>\n<a href=\"https://github.com/opencv/opencv_contrib\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/opencv/opencv_contrib</a>\n<a href=\"http://dlib.net/\" target=\"_blank\" rel=\"noopener noreferrer\">http://dlib.net/</a></p><p><a href=\"https://ai.arcsoft.com.cn/course/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://ai.arcsoft.com.cn/course/index.html</a> 公开课</p><p><a href=\"https://github.com/ChanChiChoi/awesome-Face_Recognition#face-application\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/ChanChiChoi/awesome-Face_Recognition#face-application</a> 论文集</p><p><a href=\"https://github.com/weslynn/AlphaTree-graphic-deep-neural-network\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/weslynn/AlphaTree-graphic-deep-neural-network</a> 材料</p><p><a href=\"https://viusuangio.github.io/2018/10/08/face_datasets_table/\" target=\"_blank\" rel=\"noopener noreferrer\">https://viusuangio.github.io/2018/10/08/face_datasets_table/</a> 公开数据集</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"代码实现\">代码实现<a href=\"#代码实现\" class=\"hash-link\" aria-label=\"代码实现的直接链接\" title=\"代码实现的直接链接\">​</a></h2><p><a href=\"https://blog.csdn.net/libo1004/article/details/110874855\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/libo1004/article/details/110874855</a> base64 图片 api</p><p><a href=\"https://blog.csdn.net/weixin_43796192/article/details/90111437\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/weixin_43796192/article/details/90111437</a> 图片传输 协议选择\n<a href=\"https://blog.csdn.net/ymaini/article/details/80645917\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/ymaini/article/details/80645917</a>\n<a href=\"https://blog.csdn.net/sinat_29552923/article/details/70833455\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/sinat_29552923/article/details/70833455</a></p>",
            "url": "https://xiaoyureed.github.io/2021/09/20/face-recognition-detection-ocr",
            "title": "人脸识别开源方案调查",
            "summary": "本文收集了目前人脸识别领域的开源方案, 基于这些开源方案, 实现了一个基础 demo, 代码库//github.com/xiaoyureed/facerecognizerest_api",
            "date_modified": "2021-09-20T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "face recognition"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2019/09/27/web-framework-design",
            "content_html": "<p><a href=\"https://my.oschina.net/huangyong/blog/158380\" target=\"_blank\" rel=\"noopener noreferrer\">https://my.oschina.net/huangyong/blog/158380</a></p><ul><li><a href=\"#action\">Action</a></li><li><a href=\"#action%E5%88%86%E5%8F%91%E6%9C%BA%E5%88%B6\">Action分发机制</a></li><li><a href=\"#entity%E5%AE%9E%E4%BD%93\">entity实体</a></li><li><a href=\"#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B\">技术选型</a></li><li><a href=\"#java%E7%83%AD%E6%8F%92%E6%8B%94\">Java热插拔</a></li></ul><h1>Action</h1><p>类比 controller</p><h1>Action分发机制</h1><p>依靠唯一的 Servlet : DispatcherServlet</p><ol><li><p>从 ServletRequest 中得到 request url, 遍历路由库找到对应的 Action (包括 Action 类与 Action 方法)</p></li><li><p>解析 url 中的占位符, 得到 Action 方法参数</p></li><li><p>反射创建 Action, 执行对应方法, 得到返回值 (进一步转为 json/xml, 根据注解判断)</p></li></ol><h1>entity实体</h1><ul><li><p>定义一个顶级 Bean 类 实现 序列化接口, 提供 hashcode, equals, tostring, toJson, toXml 方法, 使用了 Apache Commons 的  lang 包来实现; (无论是否 entity 类, 都可继承这个类复用); </p></li><li><p>执行 SQL 语句，将 ResultSet 映射为 Map(尤其是执行多表连接的时候，查询出来的列来自于不同的表，而且数量很大的情况下，就没有必要再写一个 Entity 去映射了，直接拿到一个 Map，最后将其转为 JSON 给前端)</p></li></ul><h1>技术选型</h1><p>JUint：用于单元测试。\nApache Commons：用于提供最基础的支持，例如：Lang、Collections、BeanUtils、DBCP、DbUtils 等。\nLog4J：用于记录日志。\nJackson：用于处理 JSON 数据。\nCGLib：用于动态代理。</p><h1>Java热插拔</h1><p>TODO</p>",
            "url": "https://xiaoyureed.github.io/2019/09/27/web-framework-design",
            "title": "web 开发框架设计构思",
            "summary": "https://my.oschina.net/huangyong/blog/158380",
            "date_modified": "2019-09-27T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "java",
                "web design"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2021/11/04/make-database-db",
            "content_html": "<p><a href=\"https://www.bilibili.com/video/BV1ct411k7jn?p=3\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1ct411k7jn?p=3</a>\n<a href=\"https://github.com/aosabook/500lines/tree/master/data-store\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/aosabook/500lines/tree/master/data-store</a></p><p><a href=\"https://www.bilibili.com/video/BV17a411C7Kv/?spm_id_from=333.788.recommend_more_video.0\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV17a411C7Kv/?spm_id_from=333.788.recommend_more_video.0</a> 分布式数据库</p><p><a href=\"https://www.bilibili.com/video/BV1Zv411G7ty/?spm_id_from=333.788.recommend_more_video.3%E5%8E%9F%E7%90%86\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1Zv411G7ty/?spm_id_from=333.788.recommend_more_video.3原理</a></p><p><a href=\"https://www.bilibili.com/video/BV1ct411k7jn?p=3\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1ct411k7jn?p=3</a></p><p><a href=\"https://www.bilibili.com/video/BV1aZ4y1w7Uz#reply4366921730\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1aZ4y1w7Uz#reply4366921730</a></p><p><a href=\"https://www.bilibili.com/video/BV16N411X7y8/?spm_id_from=333.788.recommend_more_video.2\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV16N411X7y8/?spm_id_from=333.788.recommend_more_video.2</a></p><p><a href=\"https://www.bilibili.com/video/BV1jS4y1N7QU/?spm_id_from=333.788\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.bilibili.com/video/BV1jS4y1N7QU/?spm_id_from=333.788</a></p><p><a href=\"https://zhuanlan.zhihu.com/p/351897096\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/351897096</a>\n<a href=\"http://www.zhihu.com/question/35382593/answer/102269843\" target=\"_blank\" rel=\"noopener noreferrer\">www.zhihu.com/question/35382593/answer/102269843</a>\n<a href=\"http://www.zhihu.com/question/30803867/answer/1987624954\" target=\"_blank\" rel=\"noopener noreferrer\">www.zhihu.com/question/30803867/answer/1987624954</a>\n<a href=\"http://www.zhihu.com/question/26802517/answer/1234617717\" target=\"_blank\" rel=\"noopener noreferrer\">www.zhihu.com/question/26802517/answer/1234617717</a>\n<a href=\"https://zhuanlan.zhihu.com/p/43411082\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/43411082</a>\n<a href=\"https://www.zhihu.com/question/27677011/answer/240670571\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/27677011/answer/240670571</a>\n<a href=\"https://www.zhihu.com/question/36571460/answer/68880015\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/36571460/answer/68880015</a>\n<a href=\"https://www.zhihu.com/question/35382593/answer/102269843\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.zhihu.com/question/35382593/answer/102269843</a>\n<a href=\"https://zhuanlan.zhihu.com/p/29401694\" target=\"_blank\" rel=\"noopener noreferrer\">https://zhuanlan.zhihu.com/p/29401694</a></p><p><a href=\"https://cstack.github.io/db_tutorial/\" target=\"_blank\" rel=\"noopener noreferrer\">https://cstack.github.io/db_tutorial/</a> 教程 (<a href=\"https://github.com/cstack/db_tutorial\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/cstack/db_tutorial</a>)\n《数据密集型应用系统设计》</p>",
            "url": "https://xiaoyureed.github.io/2021/11/04/make-database-db",
            "title": "数据库实现资料梳理",
            "summary": "https://www.bilibili.com/video/BV1ct411k7jn?p=3",
            "date_modified": "2019-04-06T00:00:00.000Z",
            "tags": [
                "database"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2018/05/25/redis-login-limitation",
            "content_html": "<p>比如希望达到的要求是这样: 在 1min 内登陆异常次数达到5次, 锁定该用户 1h</p><p>那么登陆请求的参数中, 会有一个参数唯一标识一个 user, 比如 邮箱/手机号/userName</p><p>用这个参数作为key存入redis, 对应的value为登陆错误的次数, string 类型, 并设置过期时间为 1min. 当获取到的 value == \"4\" , 说明当前请求为第 5 次登陆异常, 锁定.</p><p>所谓的锁定, 就是将对应的value设置为某个标识符, 比如\"lock\", 并设置过期时间为 1h</p><h1>核心代码</h1><p>定义一个注解, 用来标识需要登陆次数校验的方法</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">package</span><span class=\"token plain\"> </span><span class=\"token namespace\">io</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">github</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">xiaoyureed</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">redispractice</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">anno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> </span><span class=\"token import namespace\">java</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">lang</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import namespace\">annotation</span><span class=\"token import namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token import operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Documented</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Target</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ElementType</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">METHOD</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Retention</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RetentionPolicy</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">RUNTIME</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@interface</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RedisLimit</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 标识参数名, 必须是请求参数中的一个</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">identifier</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 在多长时间内监控, 如希望在 60s 内尝试</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 次数限制为5次, 那么 watch=60; unit: s</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">watch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 锁定时长, unit: s</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 错误的尝试次数</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">times</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>编写切面, 在目标方法前后进行校验, 处理...</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">package</span><span class=\"token plain\"> </span><span class=\"token namespace\">io</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">github</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">xiaoyureed</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">redispractice</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">aop</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Component</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Aspect</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Ensure that current advice is outer compared with ControllerAOP</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// so we can handling login limitation Exception in this aop advice.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//@Order(9)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Slf4j</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RedisLimitAOP</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Autowired</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringRedisTemplate</span><span class=\"token plain\"> stringRedisTemplate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Around</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"@annotation(io.github.xiaoyureed.redispractice.anno.RedisLimit)\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleLimit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ProceedingJoinPoint</span><span class=\"token plain\"> joinPoint</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MethodSignature</span><span class=\"token plain\">  methodSignature </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MethodSignature</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> joinPoint</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getSignature</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Method</span><span class=\"token plain\">     method          </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> methodSignature</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getMethod</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RedisLimit</span><span class=\"token plain\"> redisLimitAnno  </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> method</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getAnnotation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RedisLimit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 貌似可以直接在方法参数中注入 todo</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> identifier </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> redisLimitAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">identifier</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\">   watch      </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> redisLimitAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">watch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\">    times      </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> redisLimitAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">times</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\">   lock       </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> redisLimitAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// final ServletRequestAttributes att             = (ServletRequestAttributes) RequestContextHolder.currentRequestAttributes();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// final HttpServletRequest       request         = att.getRequest();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// final String                   identifierValue = request.getParameter(identifier);</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> identifierValue </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token plain\"> arg           </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> joinPoint</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getArgs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Field</span><span class=\"token plain\">  declaredField </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> arg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getClass</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getDeclaredField</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifier</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            declaredField</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setAccessible</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            identifierValue </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> declaredField</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">arg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">NoSuchFieldException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"&gt;&gt;&gt; invalid identifier [{}], cannot find this field in request params\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> identifier</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">IllegalAccessException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringUtils</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isBlank</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"&gt;&gt;&gt; the value of RedisLimit.identifier cannot be blank, invalid identifier: {}\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> identifier</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// check User locked</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ValueOperations</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> ssOps </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> stringRedisTemplate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">opsForValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\">                          flag  </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">flag </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"lock\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">contentEquals</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">flag</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BaseResp</span><span class=\"token plain\"> result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BaseResp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setErrMsg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"user locked\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"1\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpStatus</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">OK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> joinPoint</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">proceed</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Throwable</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleLoginException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> watch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> times</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleLoginException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Throwable</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\"> watch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\"> times</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">long</span><span class=\"token plain\"> lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BaseResp</span><span class=\"token plain\"> result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BaseResp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"1\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">instanceof</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LoginException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">info</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"&gt;&gt;&gt; handle login exception...\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ValueOperations</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> ssOps </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> stringRedisTemplate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">opsForValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Boolean</span><span class=\"token plain\">                               exist </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> stringRedisTemplate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasKey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// key doesn't exist, so it is the first login failure</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">exist </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">||</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">exist</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">set</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"1\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> watch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TimeUnit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">SECONDS</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setErrMsg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getMessage</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpStatus</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">OK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> count </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// has been reached the limitation</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">parseInt</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">count</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> times</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">info</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"&gt;&gt;&gt; [{}] has been reached the limitation and will be locked for {}s\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">set</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"lock\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> lock</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TimeUnit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">SECONDS</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setErrMsg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"user locked\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpStatus</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">OK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">increment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setErrMsg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getMessage</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"; you have try \"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> ssOps</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifierValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"times.\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"&gt;&gt;&gt; RedisLimitAOP cannot handle {}\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getClass</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpStatus</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">OK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>这样使用:</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">package</span><span class=\"token plain\"> </span><span class=\"token namespace\">io</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">github</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">xiaoyureed</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">redispractice</span><span class=\"token namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token namespace\">web</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RestController</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SessionResources</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Autowired</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SessionService</span><span class=\"token plain\"> sessionService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 1 min 之内尝试超过5次, 锁定 user 1h</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RedisLimit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">identifier </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"name\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> watch </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">30</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> times </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">5</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> lock </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">10</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RequestMapping</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/session\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> method </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RequestMethod</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">POST</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">LoginResp</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">login</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Validated</span><span class=\"token plain\"> </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@RequestBody</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LoginReq</span><span class=\"token plain\"> req</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ResponseEntity</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">sessionService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">login</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">req</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HttpStatus</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">OK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h1>references</h1><p><a href=\"https://github.com/xiaoyureed/redis-login-limitation\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/xiaoyureed/redis-login-limitation</a></p>",
            "url": "https://xiaoyureed.github.io/2018/05/25/redis-login-limitation",
            "title": "利用 Redis 做登录次数限制",
            "summary": "比如希望达到的要求是这样: 在 1min 内登陆异常次数达到5次, 锁定该用户 1h",
            "date_modified": "2018-05-25T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "redis"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2017/02/01/create-my-own-ioc",
            "content_html": "<p>定义容器接口规范, 有注册, 获取等几个方法</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * container 接口(添加/移除/获取)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> *</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @version 0.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @author xy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @date 2018年6月5日 下午5:00:34</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">interface</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Container</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 初始化</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @param clazzSet </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">register</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 貌似暂时用不到</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//    void remove();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 根据 class 获取 bean</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @param clazz</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @return</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getByType</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @param name</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @return</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getByName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>提供一个默认实现</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * default container</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> *</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @version 0.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @author xy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @date 2018年6月5日 下午11:20:02</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">implements</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Container</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Logger</span><span class=\"token plain\"> log </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LoggerFactory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getLogger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * store beans</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * key -- value</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * beanSimpleName -- bean</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> beanMap </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ConcurrentHashMap</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * store dependencies, key: 注入关系, value: bean's name(beansMap的key)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * key--value</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * beanSimpleName.fieldName--beanSimpleName</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> relationMap </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ConcurrentHashMap</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/////////////// 单例 start //////////////////////////</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainerHolder</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token plain\"> instance </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">me</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainerHolder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">instance</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//////////////////end//////////////////////</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@SuppressWarnings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"unchecked\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getByType</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token plain\"> beanAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getAnnotation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">beanAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringUtil</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isValid</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">beanAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// use specified beanName</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> specifiedName </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> beanAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">debug</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"class [{}]指定了有效beanName[{}]\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> specifiedName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">specifiedName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// use beanSimpleName</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> simpleName </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getSimpleName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">debug</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"class [{}]没指定有效的beanName, 使用默认值(simple bean name)\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">simpleName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@SuppressWarnings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"unchecked\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getByName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">T</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">register</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Set</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazzSet </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">scanPackage</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\">  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">init</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">clazzSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">inject</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 注入</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">inject</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Iterator</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Entry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> ite </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> relationMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">entrySet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">iterator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">while</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">ite</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasNext</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Entry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> next </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ite</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> key </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getKey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> split </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> key</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">split</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"\\\\.\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PropertyUtils</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setProperty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">split</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> split</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">IllegalAccessException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">InvocationTargetException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">NoSuchMethodException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 创建bean实例, 创建注入关系</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * (也就是填充两个map)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @param clazzSet</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">init</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Set</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazzSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Iterator</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> ite </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazzSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">iterator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">while</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">ite</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasNext</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazz </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ite</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token plain\"> bean </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                bean </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ReflectUtil</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">createInstance</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"创建bean[{}]出现问题\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> specName </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getAnnotation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringUtil</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isValid</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">specName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">put</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">specName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 没有指定beanname, 使用bean 的 qualifiedName 注册</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">beanMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">put</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 初始化 relationMap</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Field</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> fields </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getDeclaredFields</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Field</span><span class=\"token plain\"> f</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> fields</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Inject</span><span class=\"token plain\"> injectAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getAnnotation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Inject</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">injectAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 指定了注入的name</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringUtil</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isValid</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">injectAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//                        this.relationMap.put(clazz.getName().concat(\".\").concat(f.getName()), injectAnno.value());</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">relationMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">put</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">specName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">concat</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">concat</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> injectAnno</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 没有指定injection name</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//                        this.relationMap.put(clazz.getName() + \".\" + f.getName(), f.getName());</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">relationMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">put</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">specName </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".\"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * 扫描所有class</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @param packageName</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     * @return</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">     */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Set</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">scanPackage</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Set</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LinkedHashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ClassLoader</span><span class=\"token plain\"> classLoader </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Thread</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">currentThread</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getContextClassLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// classpath 下所有的资源文件</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Enumeration</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics\">URL</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> urls </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            urls </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> classLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getResources</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">replace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">IOException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">while</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">urls</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasMoreElements</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">URL</span><span class=\"token plain\"> url </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> urls</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">nextElement</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> protocol </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getProtocol</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 文本中的 class</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"file\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">equals</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">protocol</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token plain\"> packageFile </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">URLDecoder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">decode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"UTF-8\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">packageFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">exists</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                            </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">||</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">packageFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isDirectory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"package: [{}]无效\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> files </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> packageFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">listFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">files</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> classLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">UnsupportedEncodingException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// jar 中的 class</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"jar\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">equals</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">protocol</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarURLConnection</span><span class=\"token plain\"> jarConn</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    jarConn </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarURLConnection</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">openConnection</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarFile</span><span class=\"token plain\"> jarFile </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> jarConn</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getJarFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Enumeration</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">JarEntry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> jarEntry </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> jarFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">entries</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// TODO</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//                    handleJarFile();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">IOException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// TODO Auto-generated catch block</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">printStackTrace</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"获取package下资源的protocal出错.\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">     </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> files</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Set</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ClassLoader</span><span class=\"token plain\"> classLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token plain\"> f</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> files</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// it's a folder, 递归</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">isDirectory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">handleFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">listFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> classLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> packageName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 是文件</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Class</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> clazz </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> classLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">loadClass</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">packageName </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".\"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">substring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">lastIndexOf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 被 @Bean 注解才扫描</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token plain\"> beanAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getAnnotation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">beanAnno </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/*// specified name</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                        if (StringUtil.isValid(beanAnno.value()) {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                        }</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                        // 默认, 使用 bean 的 SimpleName </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                        else {</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                            </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">                        }*/</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">add</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">clazz</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ClassNotFoundException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"扫描文件[{}]发生错误\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//                    e.printStackTrace();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>当然, 还需要最少两个注解. 首先是@bean, 标识纳入container</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * put into the Ioc container</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> *</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @version 0.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @author xy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @date 2018年6月5日 下午7:48:17</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Documented</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Retention</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RetentionPolicy</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">RUNTIME</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Target</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ElementType</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">TYPE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@interface</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Bean</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>然后是@inject, 依赖注入时候用:</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * inject resources into </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> *</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @version 0.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @author xy</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> * @date 2018年6月5日 下午7:53:21</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"> */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Documented</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Retention</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RetentionPolicy</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">RUNTIME</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Target</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ElementType</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">FIELD</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@interface</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Inject</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h1>测试</h1><p>先定义bean</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"son\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Son</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Bean</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"mama\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Data</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 需要引入lombok</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Mama</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Inject</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"son\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Son</span><span class=\"token plain\"> son</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// lombok 提供 getter</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>使用:</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainerTest</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@Test</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">testDefaultContainer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token plain\"> container </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DefaultContainer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">me</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        container</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">register</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"com.xiaoyu.ioc.bean\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Object</span><span class=\"token plain\"> oMama </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> container</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getByName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"mama\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">System</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">out</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">println</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">oMama</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://xiaoyureed.github.io/2017/02/01/create-my-own-ioc",
            "title": "造个小轮子 My IOC",
            "summary": "定义容器接口规范, 有注册, 获取等几个方法",
            "date_modified": "2017-02-01T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "ioc"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2016/04/09/toss-about-raspberrypi",
            "content_html": "<p>几个月前我买了一个树莓派, 新鲜劲儿去了就一直在吃灰, 最近闲下来 想把它打造成一个小服务器, 跑一跑一些乱七八糟的代码, 那么, 说干就干.</p><p>网络：电信1000M宽带\n软路由：J4125四口工控主机\n软路由系统：Unraid丨OpenWrt 丨iKuai\n交换机：网件8口千兆交换机 GS308\n硬路由：小米AX3600丨华硕RT-AC86U 丨 NewWfi-3\n台式机：黑果+Windows10 双系统组装机 丨M1 Mac mini\n笔记本： MacBook Pro 2015丨 MacBook Pro 2019丨 Mac Mini M1\n平板：Ipad Air\n软件：Final Cut Pro丨 剪映专业版丨 PR\n键盘：FILCO 108 红轴 丨AkkO 3098 蓝轴 丨 Keychron K2丨 珂芝 K75\n相机：SONY a6300 丨佳能 G7X mark III\n手机：iPhone 13 Pro 丨iPhone 13 Mini\n相机镜头：索尼16-50mm狗头丨适马30mm F1.4\n话筒：猛犸无线麦克风\n移动硬盘：东芝 4T丨奥睿科M.2移动硬盘盒+256硬盘丨 雷电 3 扩展坞 + SN550\nU盘：闪迪64G<em>3\nNAS：DS218 Play 4T</em>2</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"安装-ubuntu-server\">安装 Ubuntu server<a href=\"#安装-ubuntu-server\" class=\"hash-link\" aria-label=\"安装 Ubuntu server的直接链接\" title=\"安装 Ubuntu server的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">version: 2</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ethernets:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  eth0:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    dhcp4: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    optional: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#wifis:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#  wlan0:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#    dhcp4: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#    optional: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#    access-points:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#      myhomewifi:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#        password: \"S3kr1t\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#      myworkwifi:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#        password: \"correct battery horse staple\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#      workssid:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#        auth:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#          key-management: eap</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#          method: peap</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#          identity: \"me@example.com\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#          password: \"passw0rd\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#          ca-certificate: /etc/my_ca.pem</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">wifis:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  wlan0:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    dhcp4: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    optional: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    access-points:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      CMCC-2EE8-5G:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        password: \"ezVL7XjF\"</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"配置-raspberry-pi\">配置 raspberry pi<a href=\"#配置-raspberry-pi\" class=\"hash-link\" aria-label=\"配置 raspberry pi的直接链接\" title=\"配置 raspberry pi的直接链接\">​</a></h2><p>我之前刚买回来树莓派就配置好了, 为了保持文章的完整性, 还是记录一下配置过程</p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># raspberry 默认 user 是 pi/raspberry</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 如果是 Ubuntu 系统, 则是 ubuntu/ubuntu (登入后需要修改密码)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 联网</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 先插有线, 安装 iw, ifconfig, iwconfig 这些工具</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo iwconfig # wlan0 无线网卡是否存在</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ifconfig wlan0 up # 启动</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ip link set wlan0 up # 启动</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">iw dev wlan0 scan | grep SSID # 扫描可用 ssid</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">####</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vim /etc/network/interfaces</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">auto lo //表示使用localhost</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">iface eth0 inet dhcp //表示如果有网卡ech0, 则用dhcp获得IP地址 (这个网卡是本机的网卡，而不是WIFI网卡)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">auto wlan0 //表示如果有wlan设备，使用wlan0设备名</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">allow-hotplug wlan0 //表示wlan设备可以热插拨</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">iface wlan0 inet dhcp //表示如果有WLAN网卡wlan0 (就是WIFI网卡), 则用dhcp获得IP地址</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">wpa-ssid “你的wifi名称”//表示连接SSID名</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">wpa-psk “你的wifi密码”//表示连接WIFI网络时，使用wpa-psk认证方式，认证密码</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#####</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 静态ip https://www.jianshu.com/p/ac9d784f112b</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vi /etc/dhcpcd.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">###### 内容如下:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">interface eth0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static ip_address=192.168.0.10/24 # 静态ip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static routers=192.168.1.1 # 网关</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static domain_name_servers=192.168.0.1 # dns</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">interface wlan0 # 无线网卡</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static ip_address=192.168.0.200/24</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static routers=192.168.1.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">static domain_name_servers=192.168.0.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">######</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#重启</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo reboot</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 配置国内源</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 如果是 raspberry os, 则:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 分为软件更新源, 系统更新源</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak # 先备份总是没错的</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak # 备份</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vim /etc/apt/sources.list</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># modify the content like this:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 然后是修改系统更新源</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vim /etc/apt/sources.list.d/raspi.list</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 修改成这样:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">deb http://mirrors.ustc.edu.cn/archive.raspberrypi.org/debian/ stretch main ui</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 如果是 Ubuntu os 则:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">http://mirrors.ustc.edu.cn/ubuntu-ports</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 更新软件包</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt update </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt full-upgrade</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 配置静态 ip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vim  </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 切换 root</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo passwd root # 然后设置 root 密码</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"安装-docker\">安装 docker<a href=\"#安装-docker\" class=\"hash-link\" aria-label=\"安装 docker的直接链接\" title=\"安装 docker的直接链接\">​</a></h2><p><a href=\"https://shumeipai.nxez.com/2019/05/20/how-to-install-docker-on-your-raspberry-pi.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://shumeipai.nxez.com/2019/05/20/how-to-install-docker-on-your-raspberry-pi.html</a></p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt update </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt full-upgrade</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install apt-transport-https \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                       ca-certificates \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                       software-properties-common</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 方法一:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo curl -sSL https://get.docker.com | sh</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 方法二:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 更新软件库索引</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt update</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 先安装 https 依赖包</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt install -y apt-transport-https \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                       ca-certificates \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                       software-properties-common</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 添加 Docker 的 GPG key</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">curl -fsSL https://yum.dockerproject.org/gpg | sudo apt-key add -</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 验证一下:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">apt-key fingerprint 58118E89F3A912897C070ADBF76221572C52609D</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt update</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt install -y docker-engine   </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># (一次性)使用国内镜像源</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run hello-world --registry-mirror=https://docker.mirrors.ustc.edu.cn</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 推荐方法:</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">vim /etc/docker/daemn.json</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">{ </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">\"registry-mirrors\": [\"https://docker.mirrors.ustc.edu.cn\"] </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 允许 非 root 使用</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo usermod -aG docker pi</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">################################################################</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 安装 docker-compose</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">apt-get update</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">apt-get install -y python python-pip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">apt-get install libffi-dev</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">pip3 install docker-compose # 必须使用 Python3 安装</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker-compose -v</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"运行环境\">运行环境<a href=\"#运行环境\" class=\"hash-link\" aria-label=\"运行环境的直接链接\" title=\"运行环境的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker pull hypriot/rpi-mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run --name mysql -d -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 --restart=always hypriot/rpi-mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 新启动一个容器作为 client 去连接 MySQL server</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run --rm -it --link mysql:ms hypriot/rpi-mysql mysql -hms -uroot -p</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># jdk8</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get purge openjdk-8-jre-headless</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install openjdk-8-jre-headless</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install openjdk-8-jre</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"配置动态域名服务-ddns\">配置动态域名服务 ddns<a href=\"#配置动态域名服务-ddns\" class=\"hash-link\" aria-label=\"配置动态域名服务 ddns的直接链接\" title=\"配置动态域名服务 ddns的直接链接\">​</a></h2><p>公网vps 是必须的</p><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"通过-ssh隧道\">通过 ssh隧道<a href=\"#通过-ssh隧道\" class=\"hash-link\" aria-label=\"通过 ssh隧道的直接链接\" title=\"通过 ssh隧道的直接链接\">​</a></h3><p>ssh 隧道远程端口转发(ssh remote forwarding) : 本地执行 <code>ssh -NTf -R 8080:127.0.0.1:8080 username@12.34.56.78</code>, 将远程 server的 8080 映射到 本地的 8080; 再如: <code>ssh -NTf -R 8080:github.com:80 username@12.34.56.78</code> 就能通过 12.34.56.78:8080 去访问 github.com:80 了。</p><div class=\"language-javascript codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">N</span><span class=\"token plain\">参数：表示只连接远程主机，不打开远程shell；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">T</span><span class=\"token plain\">参数：表示不为这个连接分配</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">TTY</span><span class=\"token plain\">；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">f参数：表示连接成功后，转入后台运行；</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">R</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> 远程转发 </span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>但是 SSH 隧道是不稳定的，在网络恶劣的情况下可能随时断开, AutoSSH 能让 SSH 隧道一直保持执行，他会启动一个 SSH 进程，并监控该进程的健康状况；当 SSH 进程崩溃或停止通信时，AutoSSH 将重启动 SSH 进程: <code>autossh -N -R 8080:127.0.0.1:8080 username@12.34.56.78</code></p><p>需要去外网服务器上修改 /etc/ssh/sshd_config 文件如下: (重启<code>service sshd restart</code>)</p><div class=\"language-javascript codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token maybe-class-name\">GatewayPorts</span><span class=\"token plain\"> yes</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>意思是，SSH 隧道监听的服务的 IP 是对外开放的 0.0.0.0，而不是只对本机的 127.0.0.1。</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"连接上-wifi-但无法上网\">连接上 WiFi 但无法上网<a href=\"#连接上-wifi-但无法上网\" class=\"hash-link\" aria-label=\"连接上 WiFi 但无法上网的直接链接\" title=\"连接上 WiFi 但无法上网的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 添加 nameserver 8.8.8.8</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo vim /etc/resolv.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># relead</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo resolvconf -u </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># restart network</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo /etc/init.d/networking restart</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>尝试后貌似无效</p><p>下面有效: (<a href=\"https://www.geek-share.com/detail/2755498900.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.geek-share.com/detail/2755498900.html</a>)</p><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo nano /etc/dhcpcd.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置 WiFi</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"安装-node\">安装 node<a href=\"#安装-node\" class=\"hash-link\" aria-label=\"安装 node的直接链接\" title=\"安装 node的直接链接\">​</a></h2><p><a href=\"https://blog.csdn.net/sunxdd/article/details/105894882\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/sunxdd/article/details/105894882</a></p>",
            "url": "https://xiaoyureed.github.io/2016/04/09/toss-about-raspberrypi",
            "title": "Raspberry Pi as a Dev Server树莓派折腾记录",
            "summary": "几个月前我买了一个树莓派, 新鲜劲儿去了就一直在吃灰, 最近闲下来 想把它打造成一个小服务器, 跑一跑一些乱七八糟的代码, 那么, 说干就干.",
            "date_modified": "2016-04-09T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "raspberrypi"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2015/10/04/class-conflict-check",
            "content_html": "<p>用于检测jar包依赖冲突，多个版本同时存在\njava.lang.NoSuchMethodException, java.lang.ClassNotFoundException</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"代码\">代码<a href=\"#代码\" class=\"hash-link\" aria-label=\"代码的直接链接\" title=\"代码的直接链接\">​</a></h2><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ClassConflictCheck</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// key：class name</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// value: jar name （由于版本问题,一个class可能存在于多个jar中，所以是 set）</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> classMap </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HashMap</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">check</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> classPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throws</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token plain\"> dir </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">classPath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> jarFiles </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> dir</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">listFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">File</span><span class=\"token plain\"> jarFile </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> jarFiles</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 遍历每个 jar</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">endsWith</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".jar\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarFile</span><span class=\"token plain\"> jar </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarFile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Enumeration</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">JarEntry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> enumeration </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> jar</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">entries</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">while</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">enumeration</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasMoreElements</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 遍历每个 class</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">JarEntry</span><span class=\"token plain\"> jarEntry </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> enumeration</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">nextElement</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarEntry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">endsWith</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\".class\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">storeClassAndJarRel</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarEntry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> jar</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">    * put className-jarName into map</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">    */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">storeClassAndJarRel</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> className</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> jarName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 获取 jar set</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> jarSet </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> classMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">className</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarSet </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            jarSet </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        jarSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">add</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">substring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarName</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">lastIndexOf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"/\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        classMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">put</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">className</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> jarSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">main</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> args</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throws</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//args = new String[] { \"/Users/yuekuo/soft/taobao-tomcat-7.0.54.1/deploy/cloud-mobile-cloudapi-gateway/WEB-INF/lib\" };</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> arg </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">:</span><span class=\"token plain\"> args</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">check</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">arg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">boolean</span><span class=\"token plain\"> isConflict </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Iterator</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics class-name punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Entry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> iterator </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> classMap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">entrySet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">iterator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> iterator</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">hasNext</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Entry</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> entry </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> iterator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">next</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">HashSet</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> jarSet </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> entry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getValue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">size</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 若某个 class 对应 的 jar 有多个， 则冲突</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">isConflict</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    isConflict </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">List</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> jarList </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Arrays</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">asList</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">jarSet</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">toArray</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 打印冲突的class</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">System</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">out</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">println</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"Class conflict!!! the class :\"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> entry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getKey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\" has been duplicate inclusioned in the jars : \"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> jarList</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">isConflict</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 没有冲突</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">System</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">out</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">println</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"no class conflict\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"怎么使用\">怎么使用<a href=\"#怎么使用\" class=\"hash-link\" aria-label=\"怎么使用的直接链接\" title=\"怎么使用的直接链接\">​</a></h2><div class=\"language-sh codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">javac ClassConflictCheck.java</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">java ClassConflictCheck xxx/WEB-INF/lib</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"原理\">原理<a href=\"#原理\" class=\"hash-link\" aria-label=\"原理的直接链接\" title=\"原理的直接链接\">​</a></h2><p>遍历扫描指定目录下 所有.jar 结尾的文件, 通过普通的 File 类构造 jdk 提的 JarFile 对象, 遍历内部出内部的 JarEntry, 可以获取到 classname 和 对应的 jarName , 如果一个 classname 找到了多个 Jarname, 那么 就是重复的, 可以标识出来</p>",
            "url": "https://xiaoyureed.github.io/2015/10/04/class-conflict-check",
            "title": "类冲突检测🌈",
            "summary": "用于检测jar包依赖冲突，多个版本同时存在",
            "date_modified": "2015-10-04T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "java"
            ]
        },
        {
            "id": "https://xiaoyureed.github.io/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking",
            "content_html": "<div align=\"center\">来自: [编程随想](https://program-think.blogspot.com/2009/01/defect-of-java-beginner-0-overview.html); Java 程序猿的毛病</div><h1>对算法和数据结构不熟悉</h1><p>★什么时候该用数组型容器、什么时候该用链表型容器？<font color=\"green\"> &gt; 前者适用于查询较多的场景增删特别慢因为涉及到数组创建复制, 后者适合增删多的场景</font>\n★什么是散列函数？HashMap 的实现原理是什么？<font color=\"green\"> &gt; 散列函数 see <a href=\"https://www.zhihu.com/question/26762707\" target=\"_blank\" rel=\"noopener noreferrer\">link</a>, hashmap通过哈希表实现, 博客内搜索 \"java core Note\" </font>\n★什么是递归？如果你以前从来没写过递归函数，尝试着写一个（比如用递归函数进行目录树遍历）。<font color=\"green\"> &gt; 简单理解就是函数调用自身, 需要有结束条件, 不然就死循环了 </font>\n★什么是算法复杂度？\n★你是否理解空间换时间的思想？\n★写一个针对整数数组的冒泡排序函数，看看你要修改几次才能跑通。\n★写一个针对整数数组的二分查找函数，看看你要修改几次才能跑通。</p><h1>离开开发框架活不了</h1><p>对 Spring、Hibernate 等框架了如指掌；但如果给他一个简单需求，让他写一个脱离 Web 框架的独立 Application，他就不知所措了</p><p>★基于接口的继承和基于实现的继承各有什么优缺点？\n★继承（包括 extend 和 implement）有什么【缺点】？\n★多态（polymorphism）有什么【缺点】？\n★为什么 Java 可以多继承 interface，而不可以多继承 class？<font color=\"green\"> &gt; 多继承class中有相同方法时应该选用哪个版本呢? 另外, java8开始已经允许接口里面有 default method了, 发现继承多个默认方法实现并且没有override时报错, 避免了集成多个class选择哪个版本的问题 </font>\n★假如让你写一个小游戏（比如人机对战的五子棋），你会如何设计类结构？\n★类结构设计时，如何考虑可扩展性？</p><h1>编程习惯</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"随意地命名\">随意地命名<a href=\"#随意地命名\" class=\"hash-link\" aria-label=\"随意地命名的直接链接\" title=\"随意地命名的直接链接\">​</a></h2><p>反面: 使用单字母命名变量；使用一些没太大意义的变量名（例如 s1、s2、s3）；对同一个业务概念使用不同的术语/缩写（容易让读代码的人神经分裂）；使用拼音命名（如果你团队中有港台人士或者老外，就惨了）</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"习惯于代码的-copy--paste\">习惯于代码的 copy &amp; paste<a href=\"#习惯于代码的-copy--paste\" class=\"hash-link\" aria-label=\"习惯于代码的 copy &amp; paste的直接链接\" title=\"习惯于代码的 copy &amp; paste的直接链接\">​</a></h2><p>反面：如果发现要写的某个函数和前几天写的某个函数差不多，就把原来的那个函数贴过来，然后稍微改几下，心中还暗喜：“又快速搞定了一个功能”....... 这种做法是代码臭味（借用《重构 - 改善既有代码的设计》的提法）的主要来源，导致代码可维护性大大下降。当你将来需要增加功能或修改 bug 的时候，要同时改动多个地方，而那时你估计已经想不起来这砣代码有几个克隆了</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"magic-number-满天飞\">Magic Number 满天飞<a href=\"#magic-number-满天飞\" class=\"hash-link\" aria-label=\"Magic Number 满天飞的直接链接\" title=\"Magic Number 满天飞的直接链接\">​</a></h2><p>假设有个业务逻辑中需要进行10秒的超时等待，你会怎么写这个sleep语句？我估计大部分人不外乎下面三种写法:\n1、直接写上 sleep(10<em>1000); 了事 ----最差, 缺乏可读性, 代码臭味\n2、定义一个常量 TIMEOUT_XXX = 10</em>1000; 然后 sleep(TIMEOUT_XXX); ---- 比1稍好, 但是，将来一旦发生需求变更，要求在【运行时】调整超时间隔（甚至要求让用户来配制超时间隔），则写法2的缺点立马暴露无遗\n3、<code>在配制文件中加入一个超时项，然后程序读取配制文件获得超时值，然后调用 sleep</code>。------  正确方式.</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"代码耦合度太大\">代码耦合度太大<a href=\"#代码耦合度太大\" class=\"hash-link\" aria-label=\"代码耦合度太大的直接链接\" title=\"代码耦合度太大的直接链接\">​</a></h2><p>合理使用  MVC或者设计模式 (代码耦合分别由哪些情况引起？什么是正交的设计？)</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"不注意资源回收\">不注意资源回收<a href=\"#不注意资源回收\" class=\"hash-link\" aria-label=\"不注意资源回收的直接链接\" title=\"不注意资源回收的直接链接\">​</a></h2><p>Java 在语言层面提供了内存的垃圾回收机制，程序员只管申请内存，不需要再关心释放的问题. 此很多新手养成了坏习惯，对于其它资源（比如数据库连接）也只申请不释放（有些人甚至天真地以为 JVM 会帮你搞定资源回收）. 这个坏习惯会导致资源的泄露，而资源泄露往往比内存泄露更要命。如果你写的程序是长时间运行的（比如运行在 Web Server 上），时间长了会由于资源耗尽而导致整个进程出问题</p><h1>异常处理使用不当</h1><p><a href=\"http://codebuild.blogspot.com/2012/01/15-best-practices-about-exception.html\" target=\"_blank\" rel=\"noopener noreferrer\">异常的处理原则</a>, 此外还有一个关于异常处理的经验 <a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-exception-misdirection/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">link1</a>, <a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-exception/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">link2</a></p><ul><li><p>异常的名字必须清晰而且有具体的意思，表示异常发生的问题，例如 FileNotFoundException 就很清晰直观</p></li><li><p>定义你自己的异常类层次，例如 UserException 和 SystemException 分别代表用户级别的异常信息和系统级别的异常信息，而其他的异常在这两个基类上进行扩展</p></li><li><p>受检异常和非受检异常: 前者用在<!-- -->[错误需要进一步处理和恢复, 如SQLException, 需要进一步关闭connection, transaction回滚]<!-- -->, 后者用在 <!-- -->[程序不能继续执行, 也没必要进一步对异常处理, 如服务器连接不上、参数不正确]</p></li><li><p>避免抛出异常对代码层次污染(设计隔离原则)</p><ul><li>例如dao层某个方法抛出sqlexception, 此时就不要继续向上抛了, 应该在catch之后处理成runtimeException抛出</li></ul></li></ul><ul><li><p>空的 catch 语句块</p><ul><li>即使有ex.printStacktrace()也算空的catch块, 因为该方法只是打印堆栈信息, 而且异常并没有使得程序终端执行, 导致更多的异常。</li><li>可以catch后抛出非受检异常, finally里面处理其他后续操作如关闭资源等等</li></ul></li></ul><ul><li><p>没有使用 finally 可能会产生资源泄露</p></li><li><p>不要使用函数返回值进行错误处理</p><ul><li><p>放着 Java 的异常机制不用，而用函数返回值来表示成功/失败, 简直是“捧着金碗要饭”</p><ol><li>返回值一般用整数值或布尔值表示，传递的信息过于简陋；</li><li>一旦调用者忽略了错误返回码，就会导致和“空 catch 语句块”类似的问题；</li><li>对同一个函数的多处调用，都需要对返回值进行重复判断，导致代码冗余</li></ol></li></ul></li><li><p>循环块中不要有try...catch</p><ul><li>异常处理占用系统资源</li><li>同样, 这样的例子也要避免: 类 A 中执行了一段循环，循环中调用了 B 类的方法，B 类中被调用的方法却又包含 try-catch 这样的语句块</li></ul></li></ul><ul><li><p>可以自定义一个runtimeException, 构造函数接受各类受检Exception, 并将有效的异常信息复制到自身属性, 这样可以在使用时统一捕捉Exception, 可以省不少力气(多时候没有必要每个不同类型的 Exception 写一段 catch 语句，对于开发来说，任何一种异常都足够说明了程序的具体问题。)</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">* 自定义 RuntimeException</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">* 添加错误代码属性</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">*/</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">extends</span><span class=\"token plain\"> </span><span class=\"token class-name namespace\" style=\"color:rgb(38, 127, 153)\">java</span><span class=\"token class-name namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token class-name namespace\" style=\"color:rgb(38, 127, 153)\">lang</span><span class=\"token class-name namespace punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//默认错误代码 </span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token plain\"> GENERIC </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1000000</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//错误代码</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> msg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Throwable</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> message</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Throwable</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//利用通用错误代码</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">GENERIC</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> message</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> message</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Throwable</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 那么当 Exception 的类型已经是 RuntimeException 时，我们又做了一次封装。将 RuntimeException 又重新封装了一次，进而丢失了原有的 RuntimeException 携带的有效信息。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 添加相关的检查，确认参数 Throwable 不是 RuntimeException 的实例。如果是，将拷贝相应的属性到新建的实例上</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">cause </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">instanceof</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">msg </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">errorCode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">super</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">message</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> cause</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Integer</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getErrorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>后面使用的时候就可以这样了</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//可能抛出 RuntimeException、IOExeption 或者其它；</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//注意这里和误区六的区别，这里是一段代码抛出多种异常。以上是多段代码，各自抛出不同的异常</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Exception</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//一如既往的将 Exception 转换成 RuntimeException，但是这里的 e 其实是 RuntimeException 的实例，已经在前段代码中封装过</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throw</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**/</span><span class=\"token plain\">code</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/**/</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></li><li><p>避免打印多层次的重复的异常</p><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">A</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Logger</span><span class=\"token plain\"> logger </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LoggerFactory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getLogger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">A</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">process</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//实例化 B 类，可以换成其它注入等方式</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">B</span><span class=\"token plain\"> b </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">B</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    b</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">process</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 解决办法是: 这里的部分应该拿出try...catch块</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//other code might cause exception</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">XXXException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//如果 B 类 process 方法抛出异常，异常会在 B 类中被打印，在这里也会被打印，从而会打印 2 次</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 如果层次再复杂一点，不去考虑打印日志消耗的系统性能，仅仅在异常日志中去定位异常具体的问题已经够头疼的了。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 其实打印日志只需要在代码的最外层捕捉打印就可以了，异常打印也可以写成 AOP，织入到框架的最外层</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    logger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throw</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/* 错误代码 */</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/*异常信息*/</span><span class=\"token plain\">msg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">B</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Logger</span><span class=\"token plain\"> logger </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LoggerFactory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getLogger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">B</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">process</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">try</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//可能抛出异常的代码</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">catch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">XXXException</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            logger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">error</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">throw</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RuntimeException</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/* 错误代码 */</span><span class=\"token plain\"> errorCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/*异常信息*/</span><span class=\"token plain\">msg</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> e</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></li></ul><h1>关于基本类型和引用类型</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"这两种类型在内存存储上有什么区别\">这两种类型在内存存储上有什么区别？<a href=\"#这两种类型在内存存储上有什么区别\" class=\"hash-link\" aria-label=\"这两种类型在内存存储上有什么区别？的直接链接\" title=\"这两种类型在内存存储上有什么区别？的直接链接\">​</a></h2><div class=\"language-java codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringBuffer</span><span class=\"token plain\"> str </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StringBuffer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\"> n </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">123</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 该 StringBuffer 【对象】的内容是存储在堆（Heap）上的，需要申请堆内存。而变量 str 只不过是针对该 StringBuffer 对象的一个引用（或者叫地址）。变量 str 的【值】（也就是 StringBuffer 对象的地址）是存储在【栈】上的。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 变量 n 的【值】也是存储在栈（Stack）上的，但是这个语句不需要再从堆中申请内存了。</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"这两种类型在性能上有什么区别\">这两种类型在性能上有什么区别？<a href=\"#这两种类型在性能上有什么区别\" class=\"hash-link\" aria-label=\"这两种类型在性能上有什么区别？的直接链接\" title=\"这两种类型在性能上有什么区别？的直接链接\">​</a></h2><p>Stack: 只能被本线程访问; 内存申请简单; 内存有限\nHeap: 能够被进程中的所有线程访问; 内存申请复杂(由于多线程共享, 需要加锁); 内存充足</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"这两种类型对于-gc-有什么区别\">这两种类型对于 GC 有什么区别<a href=\"#这两种类型对于-gc-有什么区别\" class=\"hash-link\" aria-label=\"这两种类型对于 GC 有什么区别的直接链接\" title=\"这两种类型对于 GC 有什么区别的直接链接\">​</a></h2><h1>关于垃圾回收（Garbage Collection）</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"jvm-的内存空间\">JVM 的内存空间<a href=\"#jvm-的内存空间\" class=\"hash-link\" aria-label=\"JVM 的内存空间的直接链接\" title=\"JVM 的内存空间的直接链接\">​</a></h2><p>◇栈内存（Stack）：每个线程私有的。\n◇堆内存（Heap）：所有线程公用的。\n◇方法区（Method Area）：有点像以前常说的“进程代码段”，这里面存放了每个加载类的反射信息、类函数的代码、编译时常量等信息。\n◇原生方法栈（Native Method Stack）：主要用于 JNI 中的原生代码，平时很少涉及。</p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"垃圾回收机制简介\">垃圾回收机制简介<a href=\"#垃圾回收机制简介\" class=\"hash-link\" aria-label=\"垃圾回收机制简介的直接链接\" title=\"垃圾回收机制简介的直接链接\">​</a></h2><p>垃圾回收机制取决于不同jvm, 这里以官方jvm介绍</p><ul><li>何时回收?<ul><li>当 JVM 发现堆内存比较紧张、不太够用时，它就会着手进行垃圾回收工作。JVM 进行 GC 的时间点是无法准确预知的。因为 GC 启动的时刻会受到各种运行环境因素的影响，随机性太大</li><li>通过 JVM 的命令行参数“-XX:+PrintGC”把相关回收信息打印出来</li></ul></li><li>谁负责回收?<ul><li>JVM 会有一个或多个专门的垃圾回收线程，由它们负责清理回收垃圾内存。</li></ul></li><li>如何发现垃圾对象？<ul><li>垃圾回收线程会从“根集（Root Set）”开始进行对象引用的遍历。所谓的“根集”，就是正在运行的线程中，可以访问的【引用变量】的集合（比如所有线程当前函数的参数和局部变量、当前类的成员变量等等）。垃圾回收线程先找出被根集直接引用的所有对象（不妨叫集合1），然后再找出被集合1直接引用的所有对象（不妨叫集合2），然后再找出被集合2直接引用的所有对象......如此循环往复，直到把能遍历到的对象都遍历完。如果能够遍历到, 则有效, 没有遍历到则回收</li><li>把垃圾内存重新变为可用内存、进行内存的整理以消除内存碎片、等等。这个过程会涉及到若干算法</li></ul></li><li>分代<ul><li>早期的jvm没有分代技术, 所有被 GC 管理的对象都存放在同一个堆里面,每次进行GC都要遍历所有对象，开销很大,从 JDK 1.2 之后，JVM 开始使用分代的垃圾回收（Generational Garbage Collection）</li><li>“年老代”（Tenured）和“年轻代”（Nursery）、“持久代”（Permanent，对应于 JVM 规范的“方法区”）</li><li>【大部分】对象在刚创建时，都位于“年轻代”。如果某对象经历了几轮 GC 还活着（大龄对象），就把它移到“年老代”。另外，如果某个对象在创建时比较大，可能就直接被丢到年老代。经过这种策略，使得年轻代总是保存那些短命的小对象。在空间尺寸上，“年轻代”相对较小，而“年老代”相对较大。</li><li>因为有了分代技术，JVM 的 GC 也相应分为两种——主要收集（Major Collection）和次要收集（Minor Collection）。“主要收集”同时清理年老代和年轻代，因此开销很大，不常进行；“次要收集”仅仅清理年轻代，开销很小，经常进行。</li></ul></li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"gc对性能会有啥影响\">GC对性能会有啥影响<a href=\"#gc对性能会有啥影响\" class=\"hash-link\" aria-label=\"GC对性能会有啥影响的直接链接\" title=\"GC对性能会有啥影响的直接链接\">​</a></h2><ul><li>造成当前运行线程的停顿</li><li>遍历对象引用的开销</li><li>清理和回收垃圾的开销(部分开销可能包括复制内存块、更新对象引用等等。)</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"几种收集器\">几种收集器<a href=\"#几种收集器\" class=\"hash-link\" aria-label=\"几种收集器的直接链接\" title=\"几种收集器的直接链接\">​</a></h2><p>衡量 GC 性能的两个重要指标：吞吐量（Throughput）和停顿时间（Pause Time）。吞吐量这个词不是很直观，解释一下：就是 JVM【不用于】GC 的时间占总时间的比率。“吞吐量”是越大越好，“停顿时间”是越小越好。</p><ul><li>串行收集器（Serial Collector）</li><li>并行收集器（Parallel Throughput Collector）</li><li>并发收集器（Concurrent Low Pause Collector）</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"如何降低gc的影响\">如何降低GC的影响？<a href=\"#如何降低gc的影响\" class=\"hash-link\" aria-label=\"如何降低GC的影响？的直接链接\" title=\"如何降低GC的影响？的直接链接\">​</a></h2><ul><li>尽量减少堆内存的使用</li><li>设置合适的堆内存大小<ul><li>JVM 的堆内存是有讲究的，不能太大也不能太小。如果堆内存太小，JVM 老是感觉内存不够用，可能会导致频繁进行垃圾回收，影响了性能；如果堆内存太大，以至于操作系统的大部分物理内存都被 JVM 自个儿霸占了，那可能会影响其它应用程序甚至操作系统本身的性能。另外，年轻代的大小（或者说“年轻代”与“年老代”的比值）对于 GC 的性能也有明显影响。如果年轻代太小，可能导致次要收集很频繁；如果年轻代太大，导致次要收集的停顿很明显。</li></ul></li><li>吞吐量和停顿的取舍<ul><li>(1)看重吞吐量，对停顿时间无所谓；(2)侧重于停顿时间。</li><li>对于某些在后台的、单纯运算密集型的应用，属于第一种。比如某些科学计算的应用。这时候建议使用并行收集器。</li><li>对于涉及用户 UI 交互的、实时性要求比较高、程序需要快速响应的，属于第二种。比如某些桌面游戏、某些电信交换系统。这时候建议使用并发收集器。</li></ul></li></ul><h1>关于范型（Generic Programming）</h1><p>GP 是在编译时实现的还是在运行时实现的？为什么要这么实现？\nGP 的类型擦除机制是咋回事？有啥优点/缺点？\n使用范型容器（相对于传统容器）在性能上有啥影响？为什么？</p><h1>关于多线程</h1><p>synchronized 关键字是怎么起作用滴？</p><p>synchronized 的颗粒度（或者说作用域）如何？是针对某个类还是针对某个类对象实例？</p><p>synchronized 对性能有没有影响？为什么？</p><p>volatile 关键字又是派啥用滴？啥时候需要用这个关键字捏？</p>",
            "url": "https://xiaoyureed.github.io/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking",
            "title": "标注编程随想的文章",
            "summary": "来自: 编程随想; Java 程序猿的毛病",
            "date_modified": "2015-05-02T00:00:00.000Z",
            "author": {
                "name": "Xiao Yu",
                "url": "https://github.com/xiaoyureed"
            },
            "tags": [
                "java"
            ]
        }
    ]
}