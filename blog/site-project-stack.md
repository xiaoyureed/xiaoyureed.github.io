---
title: Start Your Side Project with the Minimum Cost
date: 2023-2-13
tags: [sideproject, techstack]
authors: me
keywords: [sideproject, techstack]
draft: true
---


## 代码维护

若有开源版和捐赠版, 你是同时两个版本分开维护，还是合并为一个项目的?

> 分开维护的，基于捐赠版开发，再通过 git 补丁或 jetbrains 家的代码比对来合并，还挺麻烦的，目前没找到更好的办法，只能尽量让代码结构保持一致。

## 源代码混淆加密

xjar

> 不能分发 jar 包了，java 很容易反编译，我是使用了 xjar 来加密 jar 包，并禁止 arthas 等程序以调试模式接入。然后给用户设置授权码，用户部署后，去后台填写授权码，访问核心功能时根据授权码去授权服务器验证授权（这个请求要注意加密，不能明文传输，防止被抓包），成功后缓存一个记录，缓存期间就不去读取验证服务器了，知道缓存过期再重复上述动作。


## 授权方案

```
在线授权
    用户部署到自己的服务器还要连接楼主的服务器走一遍授权 (比如 figma, 网页上登录账号后，浏览器端唤起 native 程序，就完成了 native 程序的授权。)

    弊端：就是我服务器挂了，会影响所有用户的使用。所以我购买了高防御服务器并提供了验证服务器的高可用。
    优点：就是对用户简单，因为有离线授权文件的话，还需要单独放置到程序中。而且对开发者来说授权可控，避免离线授权文件被传播。

离线授权
```

## 收款方案