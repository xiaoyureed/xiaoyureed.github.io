<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Xiaoyureed's ç½‘ç»œ Wiki  Blog</title>
        <link>https://xiaoyureed.github.io/blog</link>
        <description>Xiaoyureed's ç½‘ç»œ Wiki  Blog</description>
        <lastBuildDate>Thu, 20 Apr 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-Hans</language>
        <item>
            <title><![CDATA[ä½¿ç”¨ docusaurus å’Œ github pages å‘å¸ƒåšå®¢]]></title>
            <link>https://xiaoyureed.github.io/blog/2023/04/20/docusaurus-github-pages-blog</link>
            <guid>https://xiaoyureed.github.io/blog/2023/04/20/docusaurus-github-pages-blog</guid>
            <pubDate>Thu, 20 Apr 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.]]></description>
            <content:encoded><![CDATA[<p>This article is dedicated to introduce how to establish a blog website by using docusaurus and github pages, and how to auto publish articles by github actions.</p><p>Docusaurus æ˜¯ Facebook å‡ºå“çš„ä¸€ä¸ªæ–‡æ¡£ç”Ÿæˆå·¥å…·, åŸºäº react, ç®€å•å¥½ç”¨, åŠŸèƒ½ä¸°å¯Œ, è¿™é‡Œè®°å½•ä¸€ä¸‹æ­å»ºæœ¬ç«™ç‚¹çš„è¿‡ç¨‹.</p><h1>æœ¬åœ°åˆå§‹åŒ–</h1><p>é¦–å…ˆ <code>npx create-docusaurus@latest my-website classic --typescript</code>, ä¼šåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„åˆå§‹åŒ–ä»“åº“.</p><p>ä¿®æ”¹ é…ç½®æ–‡ä»¶ä¸­çš„ projectName, organizationName, baseUrl ...</p><h1>åˆ›å»º github è¿œç¨‹ä»“åº“</h1><p>Create a github repository called <code>&lt;username&gt;.github.io</code></p><p><code>git remote add origin xxx</code></p><p><code>git push -u origin main</code></p><h1>æ·»åŠ  github actions</h1><p>Create ci.yml within the path <code>.github/workflows</code></p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build and Deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Allows you to run this workflow manually from the Actions tab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">workflow_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">contents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">pages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">id-token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Allow one concurrent deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">concurrency</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pages"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">cancel-in-progress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Hosted GitHub runners have 7 GB of memory available, let's use 6 GB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">NODE_OPTIONS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">max</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">old</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">space</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">size=6144</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build-and-deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Checkout ğŸ›ï¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Set up nodejs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 18.x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install dependencies </span><span class="token important">&amp;&amp;</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          yarn install --frozen-lockfile --non-interactive</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          yarn build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to github pages ğŸš€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> JamesIves/github</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pages</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">action@v4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">folder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> build </span><span class="token comment" style="color:#999988;font-style:italic"># The folder the action should deploy.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">secrets.access_token</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">clean</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">branch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>docusaurus</category>
            <category>github pages</category>
        </item>
        <item>
            <title><![CDATA[ç±»å†²çªæ£€æµ‹ğŸŒˆ]]></title>
            <link>https://xiaoyureed.github.io/blog/2015/10/04/class-conflict-check</link>
            <guid>https://xiaoyureed.github.io/blog/2015/10/04/class-conflict-check</guid>
            <pubDate>Sun, 04 Oct 2015 00:00:00 GMT</pubDate>
            <description><![CDATA[ç”¨äºæ£€æµ‹jaråŒ…ä¾èµ–å†²çªï¼Œå¤šä¸ªç‰ˆæœ¬åŒæ—¶å­˜åœ¨]]></description>
            <content:encoded><![CDATA[<p>ç”¨äºæ£€æµ‹jaråŒ…ä¾èµ–å†²çªï¼Œå¤šä¸ªç‰ˆæœ¬åŒæ—¶å­˜åœ¨
java.lang.NoSuchMethodException, java.lang.ClassNotFoundException</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç ">ä»£ç <a href="#ä»£ç " class="hash-link" aria-label="ä»£ç çš„ç›´æ¥é“¾æ¥" title="ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClassConflictCheck {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // keyï¼šclass name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // value: jar name ï¼ˆç”±äºç‰ˆæœ¬é—®é¢˜,ä¸€ä¸ªclasså¯èƒ½å­˜åœ¨äºå¤šä¸ªjarä¸­ï¼Œæ‰€ä»¥æ˜¯ setï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static Map&lt;String, HashSet&lt;String&gt;&gt; classMap = new HashMap&lt;String, HashSet&lt;String&gt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void check(String classPath) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        File dir = new File(classPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        File[] jarFiles = dir.listFiles();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (File jarFile : jarFiles) {// éå†æ¯ä¸ª jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (jarFile.getName().endsWith(".jar")) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                JarFile jar = new JarFile(jarFile);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Enumeration&lt;JarEntry&gt; enumeration = jar.entries();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (enumeration.hasMoreElements()) {// éå†æ¯ä¸ª class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    JarEntry jarEntry = enumeration.nextElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (jarEntry.getName().endsWith(".class")) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        storeClassAndJarRel(jarEntry.getName(), jar.getName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * put className-jarName into map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static void storeClassAndJarRel(String className, String jarName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // è·å– jar set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HashSet&lt;String&gt; jarSet = classMap.get(className);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jarSet == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            jarSet = new HashSet&lt;String&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jarSet.add(jarName.substring(jarName.lastIndexOf("/") + 1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        classMap.put(className, jarSet);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //args = new String[] { "/Users/yuekuo/soft/taobao-tomcat-7.0.54.1/deploy/cloud-mobile-cloudapi-gateway/WEB-INF/lib" };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (String arg : args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            check(arg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean isConflict = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Iterator&lt;Map.Entry&lt;String, HashSet&lt;String&gt;&gt;&gt; iterator = classMap.entrySet().iterator(); iterator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .hasNext();) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Map.Entry&lt;String, HashSet&lt;String&gt;&gt; entry = iterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HashSet&lt;String&gt; jarSet = entry.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (jarSet.size() &gt; 1) {// è‹¥æŸä¸ª class å¯¹åº” çš„ jar æœ‰å¤šä¸ªï¼Œ åˆ™å†²çª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (!isConflict) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    isConflict = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                List&lt;String&gt; jarList = Arrays.asList(jarSet.toArray(new String[] {}));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // æ‰“å°å†²çªçš„class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println("Class conflict!!! the class :" + entry.getKey()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        + " has been duplicate inclusioned in the jars : " + jarList);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!isConflict) {// æ²¡æœ‰å†²çª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println("no class conflict");</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€ä¹ˆä½¿ç”¨">æ€ä¹ˆä½¿ç”¨<a href="#æ€ä¹ˆä½¿ç”¨" class="hash-link" aria-label="æ€ä¹ˆä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="æ€ä¹ˆä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">javac ClassConflictCheck.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java ClassConflictCheck xxx/WEB-INF/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="åŸç†">åŸç†<a href="#åŸç†" class="hash-link" aria-label="åŸç†çš„ç›´æ¥é“¾æ¥" title="åŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>éå†æ‰«ææŒ‡å®šç›®å½•ä¸‹ æ‰€æœ‰.jar ç»“å°¾çš„æ–‡ä»¶, é€šè¿‡æ™®é€šçš„ File ç±»æ„é€  jdk æçš„ JarFile å¯¹è±¡, éå†å†…éƒ¨å‡ºå†…éƒ¨çš„ JarEntry, å¯ä»¥è·å–åˆ° classname å’Œ å¯¹åº”çš„ jarName , å¦‚æœä¸€ä¸ª classname æ‰¾åˆ°äº†å¤šä¸ª Jarname, é‚£ä¹ˆ å°±æ˜¯é‡å¤çš„, å¯ä»¥æ ‡è¯†å‡ºæ¥</p>]]></content:encoded>
            <category>java</category>
        </item>
        <item>
            <title><![CDATA[æ ‡æ³¨ç¼–ç¨‹éšæƒ³çš„æ–‡ç« ]]></title>
            <link>https://xiaoyureed.github.io/blog/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking</link>
            <guid>https://xiaoyureed.github.io/blog/2015/05/02/defect-about-java-programmer-from-programming-thinking/defect-about-java-programmer-from-programming-thinking</guid>
            <pubDate>Sat, 02 May 2015 00:00:00 GMT</pubDate>
            <description><![CDATA[æ¥è‡ª: ç¼–ç¨‹éšæƒ³; Java ç¨‹åºçŒ¿çš„æ¯›ç—…]]></description>
            <content:encoded><![CDATA[<div align="center">æ¥è‡ª: [ç¼–ç¨‹éšæƒ³](https://program-think.blogspot.com/2009/01/defect-of-java-beginner-0-overview.html); Java ç¨‹åºçŒ¿çš„æ¯›ç—…</div><h1>å¯¹ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸ç†Ÿæ‚‰</h1><p>â˜…ä»€ä¹ˆæ—¶å€™è¯¥ç”¨æ•°ç»„å‹å®¹å™¨ã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨é“¾è¡¨å‹å®¹å™¨ï¼Ÿ<font color="green"> &gt; å‰è€…é€‚ç”¨äºæŸ¥è¯¢è¾ƒå¤šçš„åœºæ™¯å¢åˆ ç‰¹åˆ«æ…¢å› ä¸ºæ¶‰åŠåˆ°æ•°ç»„åˆ›å»ºå¤åˆ¶, åè€…é€‚åˆå¢åˆ å¤šçš„åœºæ™¯</font>
â˜…ä»€ä¹ˆæ˜¯æ•£åˆ—å‡½æ•°ï¼ŸHashMap çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ<font color="green"> &gt; æ•£åˆ—å‡½æ•° see <a href="https://www.zhihu.com/question/26762707" target="_blank" rel="noopener noreferrer">link</a>, hashmapé€šè¿‡å“ˆå¸Œè¡¨å®ç°, åšå®¢å†…æœç´¢ "java core Note" </font>
â˜…ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿå¦‚æœä½ ä»¥å‰ä»æ¥æ²¡å†™è¿‡é€’å½’å‡½æ•°ï¼Œå°è¯•ç€å†™ä¸€ä¸ªï¼ˆæ¯”å¦‚ç”¨é€’å½’å‡½æ•°è¿›è¡Œç›®å½•æ ‘éå†ï¼‰ã€‚<font color="green"> &gt; ç®€å•ç†è§£å°±æ˜¯å‡½æ•°è°ƒç”¨è‡ªèº«, éœ€è¦æœ‰ç»“æŸæ¡ä»¶, ä¸ç„¶å°±æ­»å¾ªç¯äº† </font>
â˜…ä»€ä¹ˆæ˜¯ç®—æ³•å¤æ‚åº¦ï¼Ÿ
â˜…ä½ æ˜¯å¦ç†è§£ç©ºé—´æ¢æ—¶é—´çš„æ€æƒ³ï¼Ÿ
â˜…å†™ä¸€ä¸ªé’ˆå¯¹æ•´æ•°æ•°ç»„çš„å†’æ³¡æ’åºå‡½æ•°ï¼Œçœ‹çœ‹ä½ è¦ä¿®æ”¹å‡ æ¬¡æ‰èƒ½è·‘é€šã€‚
â˜…å†™ä¸€ä¸ªé’ˆå¯¹æ•´æ•°æ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾å‡½æ•°ï¼Œçœ‹çœ‹ä½ è¦ä¿®æ”¹å‡ æ¬¡æ‰èƒ½è·‘é€šã€‚</p><h1>ç¦»å¼€å¼€å‘æ¡†æ¶æ´»ä¸äº†</h1><p>å¯¹ Springã€Hibernate ç­‰æ¡†æ¶äº†å¦‚æŒ‡æŒï¼›ä½†å¦‚æœç»™ä»–ä¸€ä¸ªç®€å•éœ€æ±‚ï¼Œè®©ä»–å†™ä¸€ä¸ªè„±ç¦» Web æ¡†æ¶çš„ç‹¬ç«‹ Applicationï¼Œä»–å°±ä¸çŸ¥æ‰€æªäº†</p><p>â˜…åŸºäºæ¥å£çš„ç»§æ‰¿å’ŒåŸºäºå®ç°çš„ç»§æ‰¿å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ
â˜…ç»§æ‰¿ï¼ˆåŒ…æ‹¬ extend å’Œ implementï¼‰æœ‰ä»€ä¹ˆã€ç¼ºç‚¹ã€‘ï¼Ÿ
â˜…å¤šæ€ï¼ˆpolymorphismï¼‰æœ‰ä»€ä¹ˆã€ç¼ºç‚¹ã€‘ï¼Ÿ
â˜…ä¸ºä»€ä¹ˆ Java å¯ä»¥å¤šç»§æ‰¿ interfaceï¼Œè€Œä¸å¯ä»¥å¤šç»§æ‰¿ classï¼Ÿ<font color="green"> &gt; å¤šç»§æ‰¿classä¸­æœ‰ç›¸åŒæ–¹æ³•æ—¶åº”è¯¥é€‰ç”¨å“ªä¸ªç‰ˆæœ¬å‘¢? å¦å¤–, java8å¼€å§‹å·²ç»å…è®¸æ¥å£é‡Œé¢æœ‰ default methodäº†, å‘ç°ç»§æ‰¿å¤šä¸ªé»˜è®¤æ–¹æ³•å®ç°å¹¶ä¸”æ²¡æœ‰overrideæ—¶æŠ¥é”™, é¿å…äº†é›†æˆå¤šä¸ªclassé€‰æ‹©å“ªä¸ªç‰ˆæœ¬çš„é—®é¢˜ </font>
â˜…å‡å¦‚è®©ä½ å†™ä¸€ä¸ªå°æ¸¸æˆï¼ˆæ¯”å¦‚äººæœºå¯¹æˆ˜çš„äº”å­æ£‹ï¼‰ï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡ç±»ç»“æ„ï¼Ÿ
â˜…ç±»ç»“æ„è®¾è®¡æ—¶ï¼Œå¦‚ä½•è€ƒè™‘å¯æ‰©å±•æ€§ï¼Ÿ</p><h1>ç¼–ç¨‹ä¹ æƒ¯</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="éšæ„åœ°å‘½å">éšæ„åœ°å‘½å<a href="#éšæ„åœ°å‘½å" class="hash-link" aria-label="éšæ„åœ°å‘½åçš„ç›´æ¥é“¾æ¥" title="éšæ„åœ°å‘½åçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åé¢: ä½¿ç”¨å•å­—æ¯å‘½åå˜é‡ï¼›ä½¿ç”¨ä¸€äº›æ²¡å¤ªå¤§æ„ä¹‰çš„å˜é‡åï¼ˆä¾‹å¦‚ s1ã€s2ã€s3ï¼‰ï¼›å¯¹åŒä¸€ä¸ªä¸šåŠ¡æ¦‚å¿µä½¿ç”¨ä¸åŒçš„æœ¯è¯­/ç¼©å†™ï¼ˆå®¹æ˜“è®©è¯»ä»£ç çš„äººç¥ç»åˆ†è£‚ï¼‰ï¼›ä½¿ç”¨æ‹¼éŸ³å‘½åï¼ˆå¦‚æœä½ å›¢é˜Ÿä¸­æœ‰æ¸¯å°äººå£«æˆ–è€…è€å¤–ï¼Œå°±æƒ¨äº†ï¼‰</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¹ æƒ¯äºä»£ç çš„-copy--paste">ä¹ æƒ¯äºä»£ç çš„ copy &amp; paste<a href="#ä¹ æƒ¯äºä»£ç çš„-copy--paste" class="hash-link" aria-label="ä¹ æƒ¯äºä»£ç çš„ copy &amp; pasteçš„ç›´æ¥é“¾æ¥" title="ä¹ æƒ¯äºä»£ç çš„ copy &amp; pasteçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åé¢ï¼šå¦‚æœå‘ç°è¦å†™çš„æŸä¸ªå‡½æ•°å’Œå‰å‡ å¤©å†™çš„æŸä¸ªå‡½æ•°å·®ä¸å¤šï¼Œå°±æŠŠåŸæ¥çš„é‚£ä¸ªå‡½æ•°è´´è¿‡æ¥ï¼Œç„¶åç¨å¾®æ”¹å‡ ä¸‹ï¼Œå¿ƒä¸­è¿˜æš—å–œï¼šâ€œåˆå¿«é€Ÿæå®šäº†ä¸€ä¸ªåŠŸèƒ½â€....... è¿™ç§åšæ³•æ˜¯ä»£ç è‡­å‘³ï¼ˆå€Ÿç”¨ã€Šé‡æ„ - æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹çš„ææ³•ï¼‰çš„ä¸»è¦æ¥æºï¼Œå¯¼è‡´ä»£ç å¯ç»´æŠ¤æ€§å¤§å¤§ä¸‹é™ã€‚å½“ä½ å°†æ¥éœ€è¦å¢åŠ åŠŸèƒ½æˆ–ä¿®æ”¹ bug çš„æ—¶å€™ï¼Œè¦åŒæ—¶æ”¹åŠ¨å¤šä¸ªåœ°æ–¹ï¼Œè€Œé‚£æ—¶ä½ ä¼°è®¡å·²ç»æƒ³ä¸èµ·æ¥è¿™ç £ä»£ç æœ‰å‡ ä¸ªå…‹éš†äº†</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="magic-number-æ»¡å¤©é£">Magic Number æ»¡å¤©é£<a href="#magic-number-æ»¡å¤©é£" class="hash-link" aria-label="Magic Number æ»¡å¤©é£çš„ç›´æ¥é“¾æ¥" title="Magic Number æ»¡å¤©é£çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å‡è®¾æœ‰ä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦è¿›è¡Œ10ç§’çš„è¶…æ—¶ç­‰å¾…ï¼Œä½ ä¼šæ€ä¹ˆå†™è¿™ä¸ªsleepè¯­å¥ï¼Ÿæˆ‘ä¼°è®¡å¤§éƒ¨åˆ†äººä¸å¤–ä¹ä¸‹é¢ä¸‰ç§å†™æ³•:
1ã€ç›´æ¥å†™ä¸Š sleep(10<em>1000); äº†äº‹ ----æœ€å·®, ç¼ºä¹å¯è¯»æ€§, ä»£ç è‡­å‘³
2ã€å®šä¹‰ä¸€ä¸ªå¸¸é‡ TIMEOUT_XXX = 10</em>1000; ç„¶å sleep(TIMEOUT_XXX); ---- æ¯”1ç¨å¥½, ä½†æ˜¯ï¼Œå°†æ¥ä¸€æ—¦å‘ç”Ÿéœ€æ±‚å˜æ›´ï¼Œè¦æ±‚åœ¨ã€è¿è¡Œæ—¶ã€‘è°ƒæ•´è¶…æ—¶é—´éš”ï¼ˆç”šè‡³è¦æ±‚è®©ç”¨æˆ·æ¥é…åˆ¶è¶…æ—¶é—´éš”ï¼‰ï¼Œåˆ™å†™æ³•2çš„ç¼ºç‚¹ç«‹é©¬æš´éœ²æ— é—
3ã€<code>åœ¨é…åˆ¶æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªè¶…æ—¶é¡¹ï¼Œç„¶åç¨‹åºè¯»å–é…åˆ¶æ–‡ä»¶è·å¾—è¶…æ—¶å€¼ï¼Œç„¶åè°ƒç”¨ sleep</code>ã€‚------  æ­£ç¡®æ–¹å¼.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç è€¦åˆåº¦å¤ªå¤§">ä»£ç è€¦åˆåº¦å¤ªå¤§<a href="#ä»£ç è€¦åˆåº¦å¤ªå¤§" class="hash-link" aria-label="ä»£ç è€¦åˆåº¦å¤ªå¤§çš„ç›´æ¥é“¾æ¥" title="ä»£ç è€¦åˆåº¦å¤ªå¤§çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åˆç†ä½¿ç”¨  MVCæˆ–è€…è®¾è®¡æ¨¡å¼ (ä»£ç è€¦åˆåˆ†åˆ«ç”±å“ªäº›æƒ…å†µå¼•èµ·ï¼Ÿä»€ä¹ˆæ˜¯æ­£äº¤çš„è®¾è®¡ï¼Ÿ)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸æ³¨æ„èµ„æºå›æ”¶">ä¸æ³¨æ„èµ„æºå›æ”¶<a href="#ä¸æ³¨æ„èµ„æºå›æ”¶" class="hash-link" aria-label="ä¸æ³¨æ„èµ„æºå›æ”¶çš„ç›´æ¥é“¾æ¥" title="ä¸æ³¨æ„èµ„æºå›æ”¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Java åœ¨è¯­è¨€å±‚é¢æä¾›äº†å†…å­˜çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œç¨‹åºå‘˜åªç®¡ç”³è¯·å†…å­˜ï¼Œä¸éœ€è¦å†å…³å¿ƒé‡Šæ”¾çš„é—®é¢˜. æ­¤å¾ˆå¤šæ–°æ‰‹å…»æˆäº†åä¹ æƒ¯ï¼Œå¯¹äºå…¶å®ƒèµ„æºï¼ˆæ¯”å¦‚æ•°æ®åº“è¿æ¥ï¼‰ä¹Ÿåªç”³è¯·ä¸é‡Šæ”¾ï¼ˆæœ‰äº›äººç”šè‡³å¤©çœŸåœ°ä»¥ä¸º JVM ä¼šå¸®ä½ æå®šèµ„æºå›æ”¶ï¼‰. è¿™ä¸ªåä¹ æƒ¯ä¼šå¯¼è‡´èµ„æºçš„æ³„éœ²ï¼Œè€Œèµ„æºæ³„éœ²å¾€å¾€æ¯”å†…å­˜æ³„éœ²æ›´è¦å‘½ã€‚å¦‚æœä½ å†™çš„ç¨‹åºæ˜¯é•¿æ—¶é—´è¿è¡Œçš„ï¼ˆæ¯”å¦‚è¿è¡Œåœ¨ Web Server ä¸Šï¼‰ï¼Œæ—¶é—´é•¿äº†ä¼šç”±äºèµ„æºè€—å°½è€Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹å‡ºé—®é¢˜</p><h1>å¼‚å¸¸å¤„ç†ä½¿ç”¨ä¸å½“</h1><p><a href="http://codebuild.blogspot.com/2012/01/15-best-practices-about-exception.html" target="_blank" rel="noopener noreferrer">å¼‚å¸¸çš„å¤„ç†åŸåˆ™</a>, æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªå…³äºå¼‚å¸¸å¤„ç†çš„ç»éªŒ <a href="https://www.ibm.com/developerworks/cn/java/j-lo-exception-misdirection/index.html" target="_blank" rel="noopener noreferrer">link1</a>, <a href="https://www.ibm.com/developerworks/cn/java/j-lo-exception/index.html" target="_blank" rel="noopener noreferrer">link2</a></p><ul><li><p>å¼‚å¸¸çš„åå­—å¿…é¡»æ¸…æ™°è€Œä¸”æœ‰å…·ä½“çš„æ„æ€ï¼Œè¡¨ç¤ºå¼‚å¸¸å‘ç”Ÿçš„é—®é¢˜ï¼Œä¾‹å¦‚ FileNotFoundException å°±å¾ˆæ¸…æ™°ç›´è§‚</p></li><li><p>å®šä¹‰ä½ è‡ªå·±çš„å¼‚å¸¸ç±»å±‚æ¬¡ï¼Œä¾‹å¦‚ UserException å’Œ SystemException åˆ†åˆ«ä»£è¡¨ç”¨æˆ·çº§åˆ«çš„å¼‚å¸¸ä¿¡æ¯å’Œç³»ç»Ÿçº§åˆ«çš„å¼‚å¸¸ä¿¡æ¯ï¼Œè€Œå…¶ä»–çš„å¼‚å¸¸åœ¨è¿™ä¸¤ä¸ªåŸºç±»ä¸Šè¿›è¡Œæ‰©å±•</p></li><li><p>å—æ£€å¼‚å¸¸å’Œéå—æ£€å¼‚å¸¸: å‰è€…ç”¨åœ¨<!-- -->[é”™è¯¯éœ€è¦è¿›ä¸€æ­¥å¤„ç†å’Œæ¢å¤, å¦‚SQLException, éœ€è¦è¿›ä¸€æ­¥å…³é—­connection, transactionå›æ»š]<!-- -->, åè€…ç”¨åœ¨ <!-- -->[ç¨‹åºä¸èƒ½ç»§ç»­æ‰§è¡Œ, ä¹Ÿæ²¡å¿…è¦è¿›ä¸€æ­¥å¯¹å¼‚å¸¸å¤„ç†, å¦‚æœåŠ¡å™¨è¿æ¥ä¸ä¸Šã€å‚æ•°ä¸æ­£ç¡®]</p></li><li><p>é¿å…æŠ›å‡ºå¼‚å¸¸å¯¹ä»£ç å±‚æ¬¡æ±¡æŸ“(è®¾è®¡éš”ç¦»åŸåˆ™)</p><ul><li>ä¾‹å¦‚daoå±‚æŸä¸ªæ–¹æ³•æŠ›å‡ºsqlexception, æ­¤æ—¶å°±ä¸è¦ç»§ç»­å‘ä¸ŠæŠ›äº†, åº”è¯¥åœ¨catchä¹‹åå¤„ç†æˆruntimeExceptionæŠ›å‡º</li></ul></li></ul><ul><li><p>ç©ºçš„ catch è¯­å¥å—</p><ul><li>å³ä½¿æœ‰ex.printStacktrace()ä¹Ÿç®—ç©ºçš„catchå—, å› ä¸ºè¯¥æ–¹æ³•åªæ˜¯æ‰“å°å †æ ˆä¿¡æ¯, è€Œä¸”å¼‚å¸¸å¹¶æ²¡æœ‰ä½¿å¾—ç¨‹åºç»ˆç«¯æ‰§è¡Œ, å¯¼è‡´æ›´å¤šçš„å¼‚å¸¸ã€‚</li><li>å¯ä»¥catchåæŠ›å‡ºéå—æ£€å¼‚å¸¸, finallyé‡Œé¢å¤„ç†å…¶ä»–åç»­æ“ä½œå¦‚å…³é—­èµ„æºç­‰ç­‰</li></ul></li></ul><ul><li><p>æ²¡æœ‰ä½¿ç”¨ finally å¯èƒ½ä¼šäº§ç”Ÿèµ„æºæ³„éœ²</p></li><li><p>ä¸è¦ä½¿ç”¨å‡½æ•°è¿”å›å€¼è¿›è¡Œé”™è¯¯å¤„ç†</p><ul><li><p>æ”¾ç€ Java çš„å¼‚å¸¸æœºåˆ¶ä¸ç”¨ï¼Œè€Œç”¨å‡½æ•°è¿”å›å€¼æ¥è¡¨ç¤ºæˆåŠŸ/å¤±è´¥, ç®€ç›´æ˜¯â€œæ§ç€é‡‘ç¢—è¦é¥­â€</p><ol><li>è¿”å›å€¼ä¸€èˆ¬ç”¨æ•´æ•°å€¼æˆ–å¸ƒå°”å€¼è¡¨ç¤ºï¼Œä¼ é€’çš„ä¿¡æ¯è¿‡äºç®€é™‹ï¼›</li><li>ä¸€æ—¦è°ƒç”¨è€…å¿½ç•¥äº†é”™è¯¯è¿”å›ç ï¼Œå°±ä¼šå¯¼è‡´å’Œâ€œç©º catch è¯­å¥å—â€ç±»ä¼¼çš„é—®é¢˜ï¼›</li><li>å¯¹åŒä¸€ä¸ªå‡½æ•°çš„å¤šå¤„è°ƒç”¨ï¼Œéƒ½éœ€è¦å¯¹è¿”å›å€¼è¿›è¡Œé‡å¤åˆ¤æ–­ï¼Œå¯¼è‡´ä»£ç å†—ä½™</li></ol></li></ul></li><li><p>å¾ªç¯å—ä¸­ä¸è¦æœ‰try...catch</p><ul><li>å¼‚å¸¸å¤„ç†å ç”¨ç³»ç»Ÿèµ„æº</li><li>åŒæ ·, è¿™æ ·çš„ä¾‹å­ä¹Ÿè¦é¿å…: ç±» A ä¸­æ‰§è¡Œäº†ä¸€æ®µå¾ªç¯ï¼Œå¾ªç¯ä¸­è°ƒç”¨äº† B ç±»çš„æ–¹æ³•ï¼ŒB ç±»ä¸­è¢«è°ƒç”¨çš„æ–¹æ³•å´åˆåŒ…å« try-catch è¿™æ ·çš„è¯­å¥å—</li></ul></li></ul><ul><li><p>å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªruntimeException, æ„é€ å‡½æ•°æ¥å—å„ç±»å—æ£€Exception, å¹¶å°†æœ‰æ•ˆçš„å¼‚å¸¸ä¿¡æ¯å¤åˆ¶åˆ°è‡ªèº«å±æ€§, è¿™æ ·å¯ä»¥åœ¨ä½¿ç”¨æ—¶ç»Ÿä¸€æ•æ‰Exception, å¯ä»¥çœä¸å°‘åŠ›æ°”(å¤šæ—¶å€™æ²¡æœ‰å¿…è¦æ¯ä¸ªä¸åŒç±»å‹çš„ Exception å†™ä¸€æ®µ catch è¯­å¥ï¼Œå¯¹äºå¼€å‘æ¥è¯´ï¼Œä»»ä½•ä¸€ç§å¼‚å¸¸éƒ½è¶³å¤Ÿè¯´æ˜äº†ç¨‹åºçš„å…·ä½“é—®é¢˜ã€‚)</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* è‡ªå®šä¹‰ RuntimeException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* æ·»åŠ é”™è¯¯ä»£ç å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RuntimeException extends java.lang.RuntimeException { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //é»˜è®¤é”™è¯¯ä»£ç  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static final Integer GENERIC = 1000000; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //é”™è¯¯ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer errorCode; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String msg;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public RuntimeException(Integer errorCode, Throwable cause) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this(errorCode, null, cause);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public RuntimeException(String message, Throwable cause) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //åˆ©ç”¨é€šç”¨é”™è¯¯ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this(GENERIC, message, cause);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public RuntimeException(Integer errorCode, String message, Throwable cause) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // é‚£ä¹ˆå½“ Exception çš„ç±»å‹å·²ç»æ˜¯ RuntimeException æ—¶ï¼Œæˆ‘ä»¬åˆåšäº†ä¸€æ¬¡å°è£…ã€‚å°† RuntimeException åˆé‡æ–°å°è£…äº†ä¸€æ¬¡ï¼Œè¿›è€Œä¸¢å¤±äº†åŸæœ‰çš„ RuntimeException æºå¸¦çš„æœ‰æ•ˆä¿¡æ¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ·»åŠ ç›¸å…³çš„æ£€æŸ¥ï¼Œç¡®è®¤å‚æ•° Throwable ä¸æ˜¯ RuntimeException çš„å®ä¾‹ã€‚å¦‚æœæ˜¯ï¼Œå°†æ‹·è´ç›¸åº”çš„å±æ€§åˆ°æ–°å»ºçš„å®ä¾‹ä¸Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (cause instanceof RuntimeException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.msg = ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.errorCode = errorCode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            super(message, cause);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Integer getErrorCode() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return errorCode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åé¢ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥è¿™æ ·äº†</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å¯èƒ½æŠ›å‡º RuntimeExceptionã€IOExeption æˆ–è€…å…¶å®ƒï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ³¨æ„è¿™é‡Œå’Œè¯¯åŒºå…­çš„åŒºåˆ«ï¼Œè¿™é‡Œæ˜¯ä¸€æ®µä»£ç æŠ›å‡ºå¤šç§å¼‚å¸¸ã€‚ä»¥ä¸Šæ˜¯å¤šæ®µä»£ç ï¼Œå„è‡ªæŠ›å‡ºä¸åŒçš„å¼‚å¸¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}catch(Exception e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ä¸€å¦‚æ—¢å¾€çš„å°† Exception è½¬æ¢æˆ RuntimeExceptionï¼Œä½†æ˜¯è¿™é‡Œçš„ e å…¶å®æ˜¯ RuntimeException çš„å®ä¾‹ï¼Œå·²ç»åœ¨å‰æ®µä»£ç ä¸­å°è£…è¿‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new RuntimeException(/**/code, /**/, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>é¿å…æ‰“å°å¤šå±‚æ¬¡çš„é‡å¤çš„å¼‚å¸¸</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class A {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private static Logger logger = LoggerFactory.getLogger(A.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void process(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //å®ä¾‹åŒ– B ç±»ï¼Œå¯ä»¥æ¢æˆå…¶å®ƒæ³¨å…¥ç­‰æ–¹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B b = new B();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b.process(); // è§£å†³åŠæ³•æ˜¯: è¿™é‡Œçš„éƒ¨åˆ†åº”è¯¥æ‹¿å‡ºtry...catchå—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //other code might cause exception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch(XXXException e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //å¦‚æœ B ç±» process æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸ä¼šåœ¨ B ç±»ä¸­è¢«æ‰“å°ï¼Œåœ¨è¿™é‡Œä¹Ÿä¼šè¢«æ‰“å°ï¼Œä»è€Œä¼šæ‰“å° 2 æ¬¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å¦‚æœå±‚æ¬¡å†å¤æ‚ä¸€ç‚¹ï¼Œä¸å»è€ƒè™‘æ‰“å°æ—¥å¿—æ¶ˆè€—çš„ç³»ç»Ÿæ€§èƒ½ï¼Œä»…ä»…åœ¨å¼‚å¸¸æ—¥å¿—ä¸­å»å®šä½å¼‚å¸¸å…·ä½“çš„é—®é¢˜å·²ç»å¤Ÿå¤´ç–¼çš„äº†ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å…¶å®æ‰“å°æ—¥å¿—åªéœ€è¦åœ¨ä»£ç çš„æœ€å¤–å±‚æ•æ‰æ‰“å°å°±å¯ä»¥äº†ï¼Œå¼‚å¸¸æ‰“å°ä¹Ÿå¯ä»¥å†™æˆ AOPï¼Œç»‡å…¥åˆ°æ¡†æ¶çš„æœ€å¤–å±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    logger.error(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new RuntimeException(/* é”™è¯¯ä»£ç  */ errorCode, /*å¼‚å¸¸ä¿¡æ¯*/msg, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class B{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private static Logger logger = LoggerFactory.getLogger(B.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void process(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch(XXXException e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new RuntimeException(/* é”™è¯¯ä»£ç  */ errorCode, /*å¼‚å¸¸ä¿¡æ¯*/msg, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h1>å…³äºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a href="#è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="è¿™ä¸¤ç§ç±»å‹åœ¨å†…å­˜å­˜å‚¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StringBuffer str = new StringBuffer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int n = 123;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// è¯¥ StringBuffer ã€å¯¹è±¡ã€‘çš„å†…å®¹æ˜¯å­˜å‚¨åœ¨å †ï¼ˆHeapï¼‰ä¸Šçš„ï¼Œéœ€è¦ç”³è¯·å †å†…å­˜ã€‚è€Œå˜é‡ str åªä¸è¿‡æ˜¯é’ˆå¯¹è¯¥ StringBuffer å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼ˆæˆ–è€…å«åœ°å€ï¼‰ã€‚å˜é‡ str çš„ã€å€¼ã€‘ï¼ˆä¹Ÿå°±æ˜¯ StringBuffer å¯¹è±¡çš„åœ°å€ï¼‰æ˜¯å­˜å‚¨åœ¨ã€æ ˆã€‘ä¸Šçš„ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å˜é‡ n çš„ã€å€¼ã€‘ä¹Ÿæ˜¯å­˜å‚¨åœ¨æ ˆï¼ˆStackï¼‰ä¸Šçš„ï¼Œä½†æ˜¯è¿™ä¸ªè¯­å¥ä¸éœ€è¦å†ä»å †ä¸­ç”³è¯·å†…å­˜äº†ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a href="#è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="è¿™ä¸¤ç§ç±»å‹åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Stack: åªèƒ½è¢«æœ¬çº¿ç¨‹è®¿é—®; å†…å­˜ç”³è¯·ç®€å•; å†…å­˜æœ‰é™
Heap: èƒ½å¤Ÿè¢«è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹è®¿é—®; å†…å­˜ç”³è¯·å¤æ‚(ç”±äºå¤šçº¿ç¨‹å…±äº«, éœ€è¦åŠ é”); å†…å­˜å……è¶³</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¿™ä¸¤ç§ç±»å‹å¯¹äº-gc-æœ‰ä»€ä¹ˆåŒºåˆ«">è¿™ä¸¤ç§ç±»å‹å¯¹äº GC æœ‰ä»€ä¹ˆåŒºåˆ«<a href="#è¿™ä¸¤ç§ç±»å‹å¯¹äº-gc-æœ‰ä»€ä¹ˆåŒºåˆ«" class="hash-link" aria-label="è¿™ä¸¤ç§ç±»å‹å¯¹äº GC æœ‰ä»€ä¹ˆåŒºåˆ«çš„ç›´æ¥é“¾æ¥" title="è¿™ä¸¤ç§ç±»å‹å¯¹äº GC æœ‰ä»€ä¹ˆåŒºåˆ«çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h1>å…³äºåƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼‰</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jvm-çš„å†…å­˜ç©ºé—´">JVM çš„å†…å­˜ç©ºé—´<a href="#jvm-çš„å†…å­˜ç©ºé—´" class="hash-link" aria-label="JVM çš„å†…å­˜ç©ºé—´çš„ç›´æ¥é“¾æ¥" title="JVM çš„å†…å­˜ç©ºé—´çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>â—‡æ ˆå†…å­˜ï¼ˆStackï¼‰ï¼šæ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„ã€‚
â—‡å †å†…å­˜ï¼ˆHeapï¼‰ï¼šæ‰€æœ‰çº¿ç¨‹å…¬ç”¨çš„ã€‚
â—‡æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼šæœ‰ç‚¹åƒä»¥å‰å¸¸è¯´çš„â€œè¿›ç¨‹ä»£ç æ®µâ€ï¼Œè¿™é‡Œé¢å­˜æ”¾äº†æ¯ä¸ªåŠ è½½ç±»çš„åå°„ä¿¡æ¯ã€ç±»å‡½æ•°çš„ä»£ç ã€ç¼–è¯‘æ—¶å¸¸é‡ç­‰ä¿¡æ¯ã€‚
â—‡åŸç”Ÿæ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ï¼šä¸»è¦ç”¨äº JNI ä¸­çš„åŸç”Ÿä»£ç ï¼Œå¹³æ—¶å¾ˆå°‘æ¶‰åŠã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹">åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹<a href="#åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹" class="hash-link" aria-label="åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹çš„ç›´æ¥é“¾æ¥" title="åƒåœ¾å›æ”¶æœºåˆ¶ç®€ä»‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åƒåœ¾å›æ”¶æœºåˆ¶å–å†³äºä¸åŒjvm, è¿™é‡Œä»¥å®˜æ–¹jvmä»‹ç»</p><ul><li>ä½•æ—¶å›æ”¶?<ul><li>å½“ JVM å‘ç°å †å†…å­˜æ¯”è¾ƒç´§å¼ ã€ä¸å¤ªå¤Ÿç”¨æ—¶ï¼Œå®ƒå°±ä¼šç€æ‰‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œã€‚JVM è¿›è¡Œ GC çš„æ—¶é—´ç‚¹æ˜¯æ— æ³•å‡†ç¡®é¢„çŸ¥çš„ã€‚å› ä¸º GC å¯åŠ¨çš„æ—¶åˆ»ä¼šå—åˆ°å„ç§è¿è¡Œç¯å¢ƒå› ç´ çš„å½±å“ï¼Œéšæœºæ€§å¤ªå¤§</li><li>é€šè¿‡ JVM çš„å‘½ä»¤è¡Œå‚æ•°â€œ-XX:+PrintGCâ€æŠŠç›¸å…³å›æ”¶ä¿¡æ¯æ‰“å°å‡ºæ¥</li></ul></li><li>è°è´Ÿè´£å›æ”¶?<ul><li>JVM ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸“é—¨çš„åƒåœ¾å›æ”¶çº¿ç¨‹ï¼Œç”±å®ƒä»¬è´Ÿè´£æ¸…ç†å›æ”¶åƒåœ¾å†…å­˜ã€‚</li></ul></li><li>å¦‚ä½•å‘ç°åƒåœ¾å¯¹è±¡ï¼Ÿ<ul><li>åƒåœ¾å›æ”¶çº¿ç¨‹ä¼šä»â€œæ ¹é›†ï¼ˆRoot Setï¼‰â€å¼€å§‹è¿›è¡Œå¯¹è±¡å¼•ç”¨çš„éå†ã€‚æ‰€è°“çš„â€œæ ¹é›†â€ï¼Œå°±æ˜¯æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ä¸­ï¼Œå¯ä»¥è®¿é—®çš„ã€å¼•ç”¨å˜é‡ã€‘çš„é›†åˆï¼ˆæ¯”å¦‚æ‰€æœ‰çº¿ç¨‹å½“å‰å‡½æ•°çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€å½“å‰ç±»çš„æˆå‘˜å˜é‡ç­‰ç­‰ï¼‰ã€‚åƒåœ¾å›æ”¶çº¿ç¨‹å…ˆæ‰¾å‡ºè¢«æ ¹é›†ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ï¼ˆä¸å¦¨å«é›†åˆ1ï¼‰ï¼Œç„¶åå†æ‰¾å‡ºè¢«é›†åˆ1ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ï¼ˆä¸å¦¨å«é›†åˆ2ï¼‰ï¼Œç„¶åå†æ‰¾å‡ºè¢«é›†åˆ2ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡......å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œç›´åˆ°æŠŠèƒ½éå†åˆ°çš„å¯¹è±¡éƒ½éå†å®Œã€‚å¦‚æœèƒ½å¤Ÿéå†åˆ°, åˆ™æœ‰æ•ˆ, æ²¡æœ‰éå†åˆ°åˆ™å›æ”¶</li><li>æŠŠåƒåœ¾å†…å­˜é‡æ–°å˜ä¸ºå¯ç”¨å†…å­˜ã€è¿›è¡Œå†…å­˜çš„æ•´ç†ä»¥æ¶ˆé™¤å†…å­˜ç¢ç‰‡ã€ç­‰ç­‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šæ¶‰åŠåˆ°è‹¥å¹²ç®—æ³•</li></ul></li><li>åˆ†ä»£<ul><li>æ—©æœŸçš„jvmæ²¡æœ‰åˆ†ä»£æŠ€æœ¯, æ‰€æœ‰è¢« GC ç®¡ç†çš„å¯¹è±¡éƒ½å­˜æ”¾åœ¨åŒä¸€ä¸ªå †é‡Œé¢,æ¯æ¬¡è¿›è¡ŒGCéƒ½è¦éå†æ‰€æœ‰å¯¹è±¡ï¼Œå¼€é”€å¾ˆå¤§,ä» JDK 1.2 ä¹‹åï¼ŒJVM å¼€å§‹ä½¿ç”¨åˆ†ä»£çš„åƒåœ¾å›æ”¶ï¼ˆGenerational Garbage Collectionï¼‰</li><li>â€œå¹´è€ä»£â€ï¼ˆTenuredï¼‰å’Œâ€œå¹´è½»ä»£â€ï¼ˆNurseryï¼‰ã€â€œæŒä¹…ä»£â€ï¼ˆPermanentï¼Œå¯¹åº”äº JVM è§„èŒƒçš„â€œæ–¹æ³•åŒºâ€ï¼‰</li><li>ã€å¤§éƒ¨åˆ†ã€‘å¯¹è±¡åœ¨åˆšåˆ›å»ºæ—¶ï¼Œéƒ½ä½äºâ€œå¹´è½»ä»£â€ã€‚å¦‚æœæŸå¯¹è±¡ç»å†äº†å‡ è½® GC è¿˜æ´»ç€ï¼ˆå¤§é¾„å¯¹è±¡ï¼‰ï¼Œå°±æŠŠå®ƒç§»åˆ°â€œå¹´è€ä»£â€ã€‚å¦å¤–ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡åœ¨åˆ›å»ºæ—¶æ¯”è¾ƒå¤§ï¼Œå¯èƒ½å°±ç›´æ¥è¢«ä¸¢åˆ°å¹´è€ä»£ã€‚ç»è¿‡è¿™ç§ç­–ç•¥ï¼Œä½¿å¾—å¹´è½»ä»£æ€»æ˜¯ä¿å­˜é‚£äº›çŸ­å‘½çš„å°å¯¹è±¡ã€‚åœ¨ç©ºé—´å°ºå¯¸ä¸Šï¼Œâ€œå¹´è½»ä»£â€ç›¸å¯¹è¾ƒå°ï¼Œè€Œâ€œå¹´è€ä»£â€ç›¸å¯¹è¾ƒå¤§ã€‚</li><li>å› ä¸ºæœ‰äº†åˆ†ä»£æŠ€æœ¯ï¼ŒJVM çš„ GC ä¹Ÿç›¸åº”åˆ†ä¸ºä¸¤ç§â€”â€”ä¸»è¦æ”¶é›†ï¼ˆMajor Collectionï¼‰å’Œæ¬¡è¦æ”¶é›†ï¼ˆMinor Collectionï¼‰ã€‚â€œä¸»è¦æ”¶é›†â€åŒæ—¶æ¸…ç†å¹´è€ä»£å’Œå¹´è½»ä»£ï¼Œå› æ­¤å¼€é”€å¾ˆå¤§ï¼Œä¸å¸¸è¿›è¡Œï¼›â€œæ¬¡è¦æ”¶é›†â€ä»…ä»…æ¸…ç†å¹´è½»ä»£ï¼Œå¼€é”€å¾ˆå°ï¼Œç»å¸¸è¿›è¡Œã€‚</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gcå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“">GCå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“<a href="#gcå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“" class="hash-link" aria-label="GCå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“çš„ç›´æ¥é“¾æ¥" title="GCå¯¹æ€§èƒ½ä¼šæœ‰å•¥å½±å“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>é€ æˆå½“å‰è¿è¡Œçº¿ç¨‹çš„åœé¡¿</li><li>éå†å¯¹è±¡å¼•ç”¨çš„å¼€é”€</li><li>æ¸…ç†å’Œå›æ”¶åƒåœ¾çš„å¼€é”€(éƒ¨åˆ†å¼€é”€å¯èƒ½åŒ…æ‹¬å¤åˆ¶å†…å­˜å—ã€æ›´æ–°å¯¹è±¡å¼•ç”¨ç­‰ç­‰ã€‚)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‡ ç§æ”¶é›†å™¨">å‡ ç§æ”¶é›†å™¨<a href="#å‡ ç§æ”¶é›†å™¨" class="hash-link" aria-label="å‡ ç§æ”¶é›†å™¨çš„ç›´æ¥é“¾æ¥" title="å‡ ç§æ”¶é›†å™¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è¡¡é‡ GC æ€§èƒ½çš„ä¸¤ä¸ªé‡è¦æŒ‡æ ‡ï¼šååé‡ï¼ˆThroughputï¼‰å’Œåœé¡¿æ—¶é—´ï¼ˆPause Timeï¼‰ã€‚ååé‡è¿™ä¸ªè¯ä¸æ˜¯å¾ˆç›´è§‚ï¼Œè§£é‡Šä¸€ä¸‹ï¼šå°±æ˜¯ JVMã€ä¸ç”¨äºã€‘GC çš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”ç‡ã€‚â€œååé‡â€æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œâ€œåœé¡¿æ—¶é—´â€æ˜¯è¶Šå°è¶Šå¥½ã€‚</p><ul><li>ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerial Collectorï¼‰</li><li>å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParallel Throughput Collectorï¼‰</li><li>å¹¶å‘æ”¶é›†å™¨ï¼ˆConcurrent Low Pause Collectorï¼‰</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•é™ä½gcçš„å½±å“">å¦‚ä½•é™ä½GCçš„å½±å“ï¼Ÿ<a href="#å¦‚ä½•é™ä½gcçš„å½±å“" class="hash-link" aria-label="å¦‚ä½•é™ä½GCçš„å½±å“ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•é™ä½GCçš„å½±å“ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>å°½é‡å‡å°‘å †å†…å­˜çš„ä½¿ç”¨</li><li>è®¾ç½®åˆé€‚çš„å †å†…å­˜å¤§å°<ul><li>JVM çš„å †å†…å­˜æ˜¯æœ‰è®²ç©¶çš„ï¼Œä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°ã€‚å¦‚æœå †å†…å­˜å¤ªå°ï¼ŒJVM è€æ˜¯æ„Ÿè§‰å†…å­˜ä¸å¤Ÿç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¢‘ç¹è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå½±å“äº†æ€§èƒ½ï¼›å¦‚æœå †å†…å­˜å¤ªå¤§ï¼Œä»¥è‡³äºæ“ä½œç³»ç»Ÿçš„å¤§éƒ¨åˆ†ç‰©ç†å†…å­˜éƒ½è¢« JVM è‡ªä¸ªå„¿éœ¸å äº†ï¼Œé‚£å¯èƒ½ä¼šå½±å“å…¶å®ƒåº”ç”¨ç¨‹åºç”šè‡³æ“ä½œç³»ç»Ÿæœ¬èº«çš„æ€§èƒ½ã€‚å¦å¤–ï¼Œå¹´è½»ä»£çš„å¤§å°ï¼ˆæˆ–è€…è¯´â€œå¹´è½»ä»£â€ä¸â€œå¹´è€ä»£â€çš„æ¯”å€¼ï¼‰å¯¹äº GC çš„æ€§èƒ½ä¹Ÿæœ‰æ˜æ˜¾å½±å“ã€‚å¦‚æœå¹´è½»ä»£å¤ªå°ï¼Œå¯èƒ½å¯¼è‡´æ¬¡è¦æ”¶é›†å¾ˆé¢‘ç¹ï¼›å¦‚æœå¹´è½»ä»£å¤ªå¤§ï¼Œå¯¼è‡´æ¬¡è¦æ”¶é›†çš„åœé¡¿å¾ˆæ˜æ˜¾ã€‚</li></ul></li><li>ååé‡å’Œåœé¡¿çš„å–èˆ<ul><li>(1)çœ‹é‡ååé‡ï¼Œå¯¹åœé¡¿æ—¶é—´æ— æ‰€è°“ï¼›(2)ä¾§é‡äºåœé¡¿æ—¶é—´ã€‚</li><li>å¯¹äºæŸäº›åœ¨åå°çš„ã€å•çº¯è¿ç®—å¯†é›†å‹çš„åº”ç”¨ï¼Œå±äºç¬¬ä¸€ç§ã€‚æ¯”å¦‚æŸäº›ç§‘å­¦è®¡ç®—çš„åº”ç”¨ã€‚è¿™æ—¶å€™å»ºè®®ä½¿ç”¨å¹¶è¡Œæ”¶é›†å™¨ã€‚</li><li>å¯¹äºæ¶‰åŠç”¨æˆ· UI äº¤äº’çš„ã€å®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜ã€ç¨‹åºéœ€è¦å¿«é€Ÿå“åº”çš„ï¼Œå±äºç¬¬äºŒç§ã€‚æ¯”å¦‚æŸäº›æ¡Œé¢æ¸¸æˆã€æŸäº›ç”µä¿¡äº¤æ¢ç³»ç»Ÿã€‚è¿™æ—¶å€™å»ºè®®ä½¿ç”¨å¹¶å‘æ”¶é›†å™¨ã€‚</li></ul></li></ul><h1>å…³äºèŒƒå‹ï¼ˆGeneric Programmingï¼‰</h1><p>GP æ˜¯åœ¨ç¼–è¯‘æ—¶å®ç°çš„è¿˜æ˜¯åœ¨è¿è¡Œæ—¶å®ç°çš„ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå®ç°ï¼Ÿ
GP çš„ç±»å‹æ“¦é™¤æœºåˆ¶æ˜¯å’‹å›äº‹ï¼Ÿæœ‰å•¥ä¼˜ç‚¹/ç¼ºç‚¹ï¼Ÿ
ä½¿ç”¨èŒƒå‹å®¹å™¨ï¼ˆç›¸å¯¹äºä¼ ç»Ÿå®¹å™¨ï¼‰åœ¨æ€§èƒ½ä¸Šæœ‰å•¥å½±å“ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><h1>å…³äºå¤šçº¿ç¨‹</h1><p>synchronized å…³é”®å­—æ˜¯æ€ä¹ˆèµ·ä½œç”¨æ»´ï¼Ÿ</p><p>synchronized çš„é¢—ç²’åº¦ï¼ˆæˆ–è€…è¯´ä½œç”¨åŸŸï¼‰å¦‚ä½•ï¼Ÿæ˜¯é’ˆå¯¹æŸä¸ªç±»è¿˜æ˜¯é’ˆå¯¹æŸä¸ªç±»å¯¹è±¡å®ä¾‹ï¼Ÿ</p><p>synchronized å¯¹æ€§èƒ½æœ‰æ²¡æœ‰å½±å“ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><p>volatile å…³é”®å­—åˆæ˜¯æ´¾å•¥ç”¨æ»´ï¼Ÿå•¥æ—¶å€™éœ€è¦ç”¨è¿™ä¸ªå…³é”®å­—æï¼Ÿ</p>]]></content:encoded>
            <category>java</category>
        </item>
    </channel>
</rss>