<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-shell-bash-note">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">shell-bash脚本收集 - Xiaoyureed 的网络 Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" name="twitter:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" property="og:url" content="https://xiaoyureed.github.io/docs/shell-bash-note"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="keywords" content="xiaoyureed"><meta data-rh="true" name="keywords" content="blog, java, spring, microservice, python, rust, typescript, react, web"><meta data-rh="true" name="keywords" content=" 半路转行的编程爱好者, 写过 Python, Rust, 现在主攻 Java 分布式系统"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="shell-bash脚本收集 - Xiaoyureed 的网络 Wiki"><meta data-rh="true" name="description" content="https://www.bilibili.com/video/BV14L4y157Bv?p=19&amp;vd_source=c2f975abf353677cb814e38e073b6a75"><meta data-rh="true" property="og:description" content="https://www.bilibili.com/video/BV14L4y157Bv?p=19&amp;vd_source=c2f975abf353677cb814e38e073b6a75"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xiaoyureed.github.io/docs/shell-bash-note"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/en/docs/shell-bash-note" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/shell-bash-note" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/shell-bash-note" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5SAMPKXTP9-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Xiaoyureed 的网络 Wiki" href="/opensearch.xml">


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f6da56a47f5085d1e0fedae39b8de00a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="xiaoyureed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="xiaoyureed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="xiaoyureed JSON Feed">

<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)">
<meta name="description" content="Xiaoyureed 的个人博客"><link rel="stylesheet" href="/assets/css/styles.d08d09a2.css">
<link rel="preload" href="/assets/js/runtime~main.1d3c4806.js" as="script">
<link rel="preload" href="/assets/js/main.d12f9d85.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="/docs/rust-note" target="_blank">Rust 指北, 欢迎查看...</a></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">菜单</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/archive">博客</a></li><li><a class="dropdown__link" href="/docs/intro">教程</a></li><li><a class="dropdown__link" href="/resource">导航</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"><b></b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FreeMarker-note">FreeMarker Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SpringBoot-note">Spring Boot 备忘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/agile-development-user-story-scrum">敏捷开发 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/android">Android 开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/autohotkey">Autohotkey 脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/blockchain">blockchain区块链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/c-sharp-and-dot-net">C# &amp; .NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chatgpt">Chatgpt Usage Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cloud-native-platform">云服务平台</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cpp">CPP and C 备忘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cross-gfw">Cross The GFW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-note">Computer Science Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/css-pre-processor">几种CSS预处理器比较选型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data-structure-and-algorithm">Data Structure and Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/design-pattern-note">Design Pattern 笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-resources">开发者资源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/devops">DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distributed-system">Distributed System 分布式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docker-note-virtual-dev-env">Docker Note &amp; Other Virtual Develop Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/effective-java-reading-note">Effective Java 阅读笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/elk-elastic-log">Distributed log collection分布式日志收集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/english-note">英语学习🔥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/extjs-note">Extjs 笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/flutter">flutter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/games-development-introduce">游戏开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git-note">Git 备忘 🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/github-starts">Github 星标⭐️</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/golang-note">Golang 笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gps-gis-tracing">基于地理位置开发技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gradle">Gradle note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/greasy-monkey">油猴插件&amp;编写脚本🐒</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/groovy-note">groovy note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/health">Health 关爱程序员健康🏥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/how-to-test-java-app">How to Test Java App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/html-note">HTML 备忘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/idea-note">InteliJ idea tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/interview-system-design">系统设计 System design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iot">Iot 物联网</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-code-clean">Java Clean Code Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-concurrent">Java Concurrent🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-memory-model-jmm-jvm">JMM and GC🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-note">Java Core 笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jquery-note">JQuery notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/js-tutorial">JavaScript tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kotlin">kotlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kubernetes-k8s">kubernetes-k8s ☁️</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux-note">鸟哥的 Linux 私房菜阅读笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mac">Mac 开发环境</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/machine-learning-ml">machine-learning-ml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/maven-note">Maven Notes🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/message-queue">Message Queue🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/money">Investment Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mongodb-note">MongoDB Notes🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/monitor-system-grafana-prometheus-influxdb-hbase">monitor-system-grafana-prometheus监控🖥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mvc-mvvm">MVC to MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mybatis-note">MyBatis Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/netty-note">netty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nlp-natural-language-processing">nlp-natural-language-processing👄</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodejs-yarn-npm">Nodejs, Yarn, Npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/oracle">Oracle 备忘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-audio-video">Audio and Video development Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-big-data-introduce">大数据开发 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-cache">Cache 缓存🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-computational-ad">计算广告 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-crawler-spider">网络爬虫 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-db-design-note">关系型数据库表设计🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-desktop-develop">桌面应用开发 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-http-restful">HTTP protocol Intro &amp; RESTful</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-reactive-programming">响应式编程 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rpc">RPC Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rule-engine-note">规则引擎 Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/php-note">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/play-framework">Play框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/postgres-note">Postgres note🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/process-workflow-bpm-engine">工作流引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/protect-your-app-authentication-oauth2-jwt-https">Protect Your App 安全保护认证鉴权🔑</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/python-note">Python🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quant-money">量化交易</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react-note">React🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/real-time-communication-protocol">实时通信 Real-time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/redis-note">Redis🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/regex">Regular Expression 正则🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rust-note">Rust 笔记🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-mesh">service mesh 服务网格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/servlet">Servlet Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/shell-bash-note">shell-bash脚本收集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/spring-note">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springcloud-note">Spring Cloud 笔记🌈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springmvc-note">Spring MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/task-schedule-note">Task Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tcp-ip-note">TCP IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tomcat-jetty-nginx">Tomcat Jetty Nginx 等 web 容器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">Vertx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-creator">拍摄</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webassembly">webassembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webpack-esbuild-vite-rollup">前端打包构建工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/windows-sub-system-on-linux">WSL 使用</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">shell-bash脚本收集</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>shell-bash脚本收集</h1></header><p><a href="https://www.bilibili.com/video/BV14L4y157Bv?p=19&amp;vd_source=c2f975abf353677cb814e38e073b6a75" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV14L4y157Bv?p=19&amp;vd_source=c2f975abf353677cb814e38e073b6a75</a></p><p><a href="https://github.com/wangdoc/bash-tutorial" target="_blank" rel="noopener noreferrer">https://github.com/wangdoc/bash-tutorial</a>
<a href="https://github.com/jaywcjlove/shell-tutorial" target="_blank" rel="noopener noreferrer">https://github.com/jaywcjlove/shell-tutorial</a></p><ul><li><a href="#1-shell-script">1. shell script</a><ul><li><a href="#11-%E7%89%87%E6%AE%B5%E6%94%B6%E9%9B%86">1.1. 片段收集</a><ul><li><a href="#111-springboot-%E7%A8%8B%E5%BA%8F%E9%83%A8%E7%BD%B2">1.1.1. springboot 程序部署</a></li><li><a href="#112-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8">1.1.2. 判断文件是否存在</a></li><li><a href="#113-%E8%B0%83%E7%94%A8-python">1.1.3. 调用 Python</a></li><li><a href="#114-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85">1.1.4. 判断是否安装</a></li><li><a href="#115-%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84">1.1.5. 当前路径</a></li><li><a href="#116-%E5%88%A4%E6%96%AD%E6%9C%8D%E5%8A%A1%E6%98%AF%E5%90%A6%E5%AD%98%E6%B4%BB">1.1.6. 判断服务是否存活</a></li><li><a href="#117-%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F">1.1.7. 判断当前系统</a></li><li><a href="#118-mvnw-wrapper">1.1.8. mvnw wrapper</a></li></ul></li><li><a href="#12-%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F">1.2. 执行方式</a><ul><li><a href="#121-%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8C%87%E5%AE%9A%E8%A7%A3%E9%87%8A%E5%99%A8%E6%89%A7%E8%A1%8C">1.2.1. 在命令行指定解释器执行</a></li><li><a href="#122-%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E6%8C%87%E5%AE%9A%E8%A7%A3%E9%87%8A%E5%99%A8">1.2.2. 在脚本中指定解释器</a></li><li><a href="#123-%E5%9C%A8%E5%BD%93%E5%89%8D-shell-%E4%B8%AD%E6%89%A7%E8%A1%8C">1.2.3. 在当前 shell 中执行</a></li></ul></li><li><a href="#13-%E5%90%84%E7%A7%8D%E6%8B%AC%E5%8F%B7-%E7%AE%80%E5%86%99">1.3. 各种括号 简写</a></li><li><a href="#14-%E7%89%B9%E6%AE%8A%E7%9A%84%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F">1.4. 特殊的参数变量</a></li><li><a href="#15-%E7%89%B9%E6%AE%8A%E7%9A%84%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F">1.5. 特殊的状态变量</a></li><li><a href="#16-%E8%AF%AD%E6%B3%95">1.6. 语法</a><ul><li><a href="#161-%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC-%E7%A9%BA%E6%A0%BC%E8%AF%AD%E6%B3%95%E7%9A%84%E5%9D%91">1.6.1. 变量赋值 空格语法的坑</a></li><li><a href="#162-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">1.6.2. 数据类型</a><ul><li><a href="#1621-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E6%89%93%E5%8D%B0">1.6.2.1. 字符串 打印</a></li><li><a href="#1622-%E6%95%B0%E7%BB%84">1.6.2.2. 数组</a></li></ul></li><li><a href="#163-%E8%AF%BB%E5%8F%96%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5">1.6.3. 读取标准输入</a></li><li><a href="#164-%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97">1.6.4. 数值运算</a></li><li><a href="#165-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD">1.6.5. 条件判断</a></li><li><a href="#166-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD-case-%E8%AF%AD%E6%B3%95">1.6.6. 条件判断-case 语法</a></li><li><a href="#167-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD-%E5%A4%9A%E8%B7%AF%E5%88%86%E6%94%AF%E8%AF%AD%E6%B3%95">1.6.7. 条件判断-多路分支语法</a></li><li><a href="#168-%E9%BB%98%E8%AE%A4%E5%80%BC">1.6.8. 默认值</a></li><li><a href="#169-%E5%87%BD%E6%95%B0">1.6.9. 函数</a></li></ul></li><li><a href="#17-debug">1.7. debug</a></li><li><a href="#18-%E5%AD%A6%E4%B9%A0%E5%87%A0%E4%B8%AAdemo">1.8. 学习几个demo</a></li></ul></li><li><a href="#2-%E6%AD%A3%E5%88%99%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F%E5%8C%96">2. 正则\&amp;文本格式化</a><ul><li><a href="#21-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E8%AF%AD%E8%A8%80%E7%B3%BB%E7%BB%9F%E6%9C%89%E5%85%B3%E7%B3%BB">2.1. 正则表达式和语言系统有关系</a></li><li><a href="#22-%E6%AD%A3%E5%88%99%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7">2.2. 正则中的特殊符号</a></li><li><a href="#23-grep%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95">2.3. grep进阶用法</a></li><li><a href="#24-%E5%BB%B6%E4%BC%B8%E6%AD%A3%E5%88%99%E8%A1%A8%E7%A4%BA%E6%B3%95">2.4. 延伸正则表示法</a></li><li><a href="#25-sed">2.5. sed</a></li><li><a href="#26-awk%E8%A1%8C%E5%86%85%E6%A0%BC%E5%BC%8F%E5%8C%96">2.6. awk行内格式化</a></li><li><a href="#27-printf%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%89%93%E5%8D%B0">2.7. printf格式化打印</a></li><li><a href="#28-%E6%96%87%E4%BB%B6%E5%AF%B9%E6%AF%94%E5%B7%A5%E5%85%B7">2.8. 文件对比工具</a></li></ul></li><li><a href="#3-bash">3. bash</a><ul><li><a href="#31-%E5%BF%AB%E6%8D%B7%E9%94%AE">3.1. 快捷键</a></li><li><a href="#32-%E5%87%A0%E7%A7%8D-bash-%E7%8E%AF%E5%A2%83-startup-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AF%B9%E6%AF%94">3.2. 几种 bash 环境 startup 配置文件对比</a></li><li><a href="#33-%E5%92%8C-python-%E4%BA%A4%E4%BA%92">3.3. 和 Python 交互</a></li><li><a href="#34-%E7%A4%BA%E4%BE%8B">3.4. 示例</a></li><li><a href="#35-%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84shell">3.5. 所有可用的shell</a></li><li><a href="#36-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">3.6. 环境变量</a></li><li><a href="#37-%E9%94%AE%E7%9B%98%E8%AF%BB%E5%8F%96read">3.7. 键盘读取read</a></li><li><a href="#38-declaretypeset%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B">3.8. declare,typeset声明变量类型</a></li><li><a href="#39-%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%A0%E9%99%A4%E5%8F%96%E4%BB%A3">3.9. 变量的删除取代</a></li><li><a href="#310-%E5%8F%98%E9%87%8F%E7%9A%84%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2">3.10. 变量的测试和内容替换</a></li><li><a href="#311-%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D%E5%92%8C%E8%AE%BE%E5%AE%9A">3.11. 命令别名和设定</a></li><li><a href="#312-%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2">3.12. 命令历史</a></li><li><a href="#313-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%AF%BB%E9%A1%BA%E5%BA%8F">3.13. 指令搜寻顺序</a></li><li><a href="#314-bash%E7%99%BB%E5%BD%95%E6%AC%A2%E8%BF%8E%E4%BF%A1%E6%81%AF">3.14. bash登录欢迎信息</a></li><li><a href="#315-bash%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">3.15. bash的环境配置文件</a></li><li><a href="#316-%E7%BB%88%E7%AB%AF%E6%9C%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E8%AE%BE%E5%AE%9Asttyset">3.16. 终端机的环境设定stty,set</a></li><li><a href="#317-%E9%80%9A%E9%85%8D%E7%AC%A6%E5%92%8C%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7">3.17. 通配符和特殊符号</a></li><li><a href="#318-%E6%95%B0%E6%8D%AE%E6%B5%81%E9%87%8D%E5%AF%BC%E5%90%91">3.18. 数据流重导向</a></li><li><a href="#319-%E5%92%8C">3.19. \&amp;\&amp;和||</a></li><li><a href="#320-%E7%AE%A1%E7%BA%BF%E5%91%BD%E4%BB%A4">3.20. 管线命令</a></li><li><a href="#321-%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4">3.21. 截取命令</a></li><li><a href="#322-%E6%8E%92%E5%BA%8Fsortwcuniq">3.22. 排序sort,wc,uniq</a></li><li><a href="#323-%E5%AD%97%E7%AC%A6%E8%BD%AC%E6%8D%A2%E5%91%BD%E4%BB%A4">3.23. 字符转换命令</a></li><li><a href="#324-%E5%AD%97%E7%AC%A6%E4%B8%B2">3.24. 字符串</a></li></ul></li></ul><h1>1. shell script</h1><p><a href="https://zhuanlan.zhihu.com/p/264346586" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/264346586</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11-片段收集">1.1. 片段收集<a href="#11-片段收集" class="hash-link" aria-label="1.1. 片段收集的直接链接" title="1.1. 片段收集的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="111-springboot-程序部署">1.1.1. springboot 程序部署<a href="#111-springboot-程序部署" class="hash-link" aria-label="1.1.1. springboot 程序部署的直接链接" title="1.1.1. springboot 程序部署的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">APP_NAME=$1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">usage() {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;Usage: sh run.sh xxx.jar [start|stop|restart|status]&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">is_exist(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  pid=`ps -aux|grep $APP_NAME |grep java |grep -v grep|awk &#x27;{print $2}&#x27;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -z &quot;${pid}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   return 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    return 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">start(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  is_exist</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ $? -eq 0 ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${APP_NAME} is already running. pid=${pid}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    nohup java -jar ${APP_NAME} &gt;logs.log 2&gt;&amp;1 &amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sleep 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    status</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">stop(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  is_exist</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ $? -eq &quot;0&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    kill -9 $pid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${APP_NAME} is not running&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">status(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  is_exist</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ $? -eq &quot;0&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${APP_NAME} is running. Pid is ${pid}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${APP_NAME} is NOT running.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">restart(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  stop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  sleep 5</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case &quot;$2&quot; in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;start&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;stop&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    stop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;status&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    status</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;restart&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    restart</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  *)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    usage</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="112-判断文件是否存在">1.1.2. 判断文件是否存在<a href="#112-判断文件是否存在" class="hash-link" aria-label="1.1.2. 判断文件是否存在的直接链接" title="1.1.2. 判断文件是否存在的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#shell 判断文件夹存在</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -d &quot;${your_dir_name}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 判断文件夹不存在</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ ! -d &quot;${your_dir_name}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#shell 判断文件存在</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -f &quot;${your_file_path}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${your_file_path} exists.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># shell 判断文件不存在</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ ! -f &quot;${your_file_path}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;${your_file_path} not exists.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="113-调用-python">1.1.3. 调用 Python<a href="#113-调用-python" class="hash-link" aria-label="1.1.3. 调用 Python的直接链接" title="1.1.3. 调用 Python的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># &gt;&gt;&gt; shell call Python</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#有时候某些操作用shell实现比较麻烦，这时可以考虑用python实现。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#再利用shell调用python的实现</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#以下代码保存在 utils.py</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">from datetime import datetime, timedelta</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">def get_yesterday():</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    yesterday_date = datetime.now() - timedelta(days=1)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    yesterday_date_str = yesterday_date.strftime(&quot;%Y-%m-%d&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    return yesterday_date_str</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#以下代码保存在 run.sh中</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#shell调用python函数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">yesterday_date=`python -c &quot;import utils; print(utils.get_yesterday())&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${yesterday_date}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="114-判断是否安装">1.1.4. 判断是否安装<a href="#114-判断是否安装" class="hash-link" aria-label="1.1.4. 判断是否安装的直接链接" title="1.1.4. 判断是否安装的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">if [ -x &quot;$(command -v git)&quot; ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;SUCCESS: Git is installed&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;ERROR: Git does not seem to be installed.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;Please download Git using your package manager or over https://git-scm.com/!&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="115-当前路径">1.1.5. 当前路径<a href="#115-当前路径" class="hash-link" aria-label="1.1.5. 当前路径的直接链接" title="1.1.5. 当前路径的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 在命令行状态下单纯执行 $ cd `dirname $0` 是毫无意义的。因为他返回当前路径的&quot;.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 这个命令写在脚本文件里才有作用，他返回这个脚本文件放置的目录，并可以根据这个目录来定位所要运行程序的相对位置</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $(cd `dirname $0`;pwd) # 直接使用 pwd 会报错: 无法找到命令</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="116-判断服务是否存活">1.1.6. 判断服务是否存活<a href="#116-判断服务是否存活" class="hash-link" aria-label="1.1.6. 判断服务是否存活的直接链接" title="1.1.6. 判断服务是否存活的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># detect runing service</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;I will detect runing services.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">testing=$(netstat -tuln | grep &quot;:80&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${testing}&quot; != &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;WWW is runing.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">testing=$(netstat -tuln | grep &quot;:22&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${testing}&quot; != &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;SSH is runing.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">testing=$(netstat -tuln | grep &quot;:21&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${testing}&quot; != &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;FTP is runing.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">testing=$(netstat -tuln | grep &quot;:25&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${testing}&quot; != &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;MAIL is runing&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="117-判断当前系统">1.1.7. 判断当前系统<a href="#117-判断当前系统" class="hash-link" aria-label="1.1.7. 判断当前系统的直接链接" title="1.1.7. 判断当前系统的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># OS specific support.  $var _must_ be set to either true or false.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cygwin=false;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">darwin=false;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mingw=false</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case &quot;`uname`&quot; in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  CYGWIN*) cygwin=true ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  MINGW*) mingw=true;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Darwin*) darwin=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # See https://developer.apple.com/library/mac/qa/qa1170/_index.html</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -z &quot;$JAVA_HOME&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      if [ -x &quot;/usr/libexec/java_home&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        export JAVA_HOME=&quot;`/usr/libexec/java_home`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        export JAVA_HOME=&quot;/Library/Java/Home&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="118-mvnw-wrapper">1.1.8. mvnw wrapper<a href="#118-mvnw-wrapper" class="hash-link" aria-label="1.1.8. mvnw wrapper的直接链接" title="1.1.8. mvnw wrapper的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ----------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Licensed to the Apache Software Foundation (ASF) under one</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># or more contributor license agreements.  See the NOTICE file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># distributed with this work for additional information</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># regarding copyright ownership.  The ASF licenses this file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># to you under the Apache License, Version 2.0 (the</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &quot;License&quot;); you may not use this file except in compliance</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># with the License.  You may obtain a copy of the License at</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    https://www.apache.org/licenses/LICENSE-2.0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Unless required by applicable law or agreed to in writing,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># software distributed under the License is distributed on an</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># KIND, either express or implied.  See the License for the</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># specific language governing permissions and limitations</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># under the License.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ----------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ----------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Maven Start Up Batch script</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Required ENV vars:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   JAVA_HOME - location of a JDK home dir</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Optional ENV vars</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -----------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   M2_HOME - location of maven2&#x27;s installed home dir</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   MAVEN_OPTS - parameters passed to the Java VM when running Maven</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#     e.g. to debug Maven itself, use</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#       set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   MAVEN_SKIP_RC - flag to disable loading of mavenrc files</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># ----------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$MAVEN_SKIP_RC&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -f /etc/mavenrc ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    . /etc/mavenrc</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -f &quot;$HOME/.mavenrc&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    . &quot;$HOME/.mavenrc&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># OS specific support.  $var _must_ be set to either true or false.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cygwin=false;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">darwin=false;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mingw=false</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case &quot;`uname`&quot; in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  CYGWIN*) cygwin=true ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  MINGW*) mingw=true;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  Darwin*) darwin=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # See https://developer.apple.com/library/mac/qa/qa1170/_index.html</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -z &quot;$JAVA_HOME&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      if [ -x &quot;/usr/libexec/java_home&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        export JAVA_HOME=&quot;`/usr/libexec/java_home`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        export JAVA_HOME=&quot;/Library/Java/Home&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$JAVA_HOME&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -r /etc/gentoo-release ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    JAVA_HOME=`java-config --jre-home`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$M2_HOME&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  ## resolve links - $0 may be a link to maven&#x27;s home</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  PRG=&quot;$0&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  # need this for relative symlinks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  while [ -h &quot;$PRG&quot; ] ; do</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ls=`ls -ld &quot;$PRG&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    link=`expr &quot;$ls&quot; : &#x27;.*-&gt; \(.*\)$&#x27;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if expr &quot;$link&quot; : &#x27;/.*&#x27; &gt; /dev/null; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      PRG=&quot;$link&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      PRG=&quot;`dirname &quot;$PRG&quot;`/$link&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  saveddir=`pwd`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  M2_HOME=`dirname &quot;$PRG&quot;`/..</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  # make it fully qualified</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  M2_HOME=`cd &quot;$M2_HOME&quot; &amp;&amp; pwd`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  cd &quot;$saveddir&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  # echo Using m2 at $M2_HOME</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># For Cygwin, ensure paths are in UNIX format before anything is touched</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if $cygwin ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$M2_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    M2_HOME=`cygpath --unix &quot;$M2_HOME&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># For Mingw, ensure paths are in UNIX format before anything is touched</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if $mingw ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$M2_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    M2_HOME=&quot;`(cd &quot;$M2_HOME&quot;; pwd)`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    JAVA_HOME=&quot;`(cd &quot;$JAVA_HOME&quot;; pwd)`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$JAVA_HOME&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  javaExecutable=&quot;`which javac`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -n &quot;$javaExecutable&quot; ] &amp;&amp; ! [ &quot;`expr \&quot;$javaExecutable\&quot; : &#x27;\([^ ]*\)&#x27;`&quot; = &quot;no&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # readlink(1) is not available as standard on Solaris 10.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    readLink=`which readlink`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ ! `expr &quot;$readLink&quot; : &#x27;\([^ ]*\)&#x27;` = &quot;no&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      if $darwin ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        javaHome=&quot;`dirname \&quot;$javaExecutable\&quot;`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        javaExecutable=&quot;`cd \&quot;$javaHome\&quot; &amp;&amp; pwd -P`/javac&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        javaExecutable=&quot;`readlink -f \&quot;$javaExecutable\&quot;`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      javaHome=&quot;`dirname \&quot;$javaExecutable\&quot;`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      javaHome=`expr &quot;$javaHome&quot; : &#x27;\(.*\)/bin&#x27;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      JAVA_HOME=&quot;$javaHome&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      export JAVA_HOME</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$JAVACMD&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -n &quot;$JAVA_HOME&quot;  ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      # IBM&#x27;s JDK on AIX uses strange locations for the executables</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    JAVACMD=&quot;`which java`&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ ! -x &quot;$JAVACMD&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;Error: JAVA_HOME is not defined correctly.&quot; &gt;&amp;2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;  We cannot execute $JAVACMD&quot; &gt;&amp;2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  exit 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$JAVA_HOME&quot; ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;Warning: JAVA_HOME environment variable is not set.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># traverses directory structure from process work directory to filesystem root</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># first directory with .mvn subdirectory is considered project base directory</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">find_maven_basedir() {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -z &quot;$1&quot; ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;Path not specified to find_maven_basedir&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    return 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  basedir=&quot;$1&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  wdir=&quot;$1&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  while [ &quot;$wdir&quot; != &#x27;/&#x27; ] ; do</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -d &quot;$wdir&quot;/.mvn ] ; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      basedir=$wdir</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      break</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # workaround for JBEAP-8937 (on Solaris 10/Sparc)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -d &quot;${wdir}&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      wdir=`cd &quot;$wdir/..&quot;; pwd`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # end of workaround</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;${basedir}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># concatenates all lines of a file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">concat_lines() {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  if [ -f &quot;$1&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;$(tr -s &#x27;\n&#x27; &#x27; &#x27; &lt; &quot;$1&quot;)&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">BASE_DIR=`find_maven_basedir &quot;$(pwd)&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -z &quot;$BASE_DIR&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  exit 1;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Extension to allow automatically downloading the maven-wrapper.jar from Maven-central</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># This allows using the maven wrapper in projects that prohibit checking in binary data.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ -r &quot;$BASE_DIR/.mvn/wrapper/maven-wrapper.jar&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      echo &quot;Found .mvn/wrapper/maven-wrapper.jar&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      echo &quot;Couldn&#x27;t find .mvn/wrapper/maven-wrapper.jar, downloading it ...&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ -n &quot;$MVNW_REPOURL&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      jarUrl=&quot;$MVNW_REPOURL/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      jarUrl=&quot;https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    while IFS=&quot;=&quot; read key value; do</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      case &quot;$key&quot; in (wrapperUrl) jarUrl=&quot;$value&quot;; break ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    done &lt; &quot;$BASE_DIR/.mvn/wrapper/maven-wrapper.properties&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      echo &quot;Downloading from: $jarUrl&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    wrapperJarPath=&quot;$BASE_DIR/.mvn/wrapper/maven-wrapper.jar&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if $cygwin; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      wrapperJarPath=`cygpath --path --windows &quot;$wrapperJarPath&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if command -v wget &gt; /dev/null; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          echo &quot;Found wget ... using wget&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ -z &quot;$MVNW_USERNAME&quot; ] || [ -z &quot;$MVNW_PASSWORD&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            wget &quot;$jarUrl&quot; -O &quot;$wrapperJarPath&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            wget --http-user=$MVNW_USERNAME --http-password=$MVNW_PASSWORD &quot;$jarUrl&quot; -O &quot;$wrapperJarPath&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    elif command -v curl &gt; /dev/null; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          echo &quot;Found curl ... using curl&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ -z &quot;$MVNW_USERNAME&quot; ] || [ -z &quot;$MVNW_PASSWORD&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            curl -o &quot;$wrapperJarPath&quot; &quot;$jarUrl&quot; -f</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            curl --user $MVNW_USERNAME:$MVNW_PASSWORD -o &quot;$wrapperJarPath&quot; &quot;$jarUrl&quot; -f</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          echo &quot;Falling back to using Java to download&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        javaClass=&quot;$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        # For Cygwin, switch paths to Windows format before running javac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if $cygwin; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          javaClass=`cygpath --path --windows &quot;$javaClass&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ -e &quot;$javaClass&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            if [ ! -e &quot;$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  echo &quot; - Compiling MavenWrapperDownloader.java ...&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                # Compiling the Java class</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                (&quot;$JAVA_HOME/bin/javac&quot; &quot;$javaClass&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            if [ -e &quot;$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                # Running the downloader</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  echo &quot; - Running MavenWrapperDownloader.java ...&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                (&quot;$JAVA_HOME/bin/java&quot; -cp .mvn/wrapper MavenWrapperDownloader &quot;$MAVEN_PROJECTBASEDIR&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># End of extension</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export MAVEN_PROJECTBASEDIR=${MAVEN_BASEDIR:-&quot;$BASE_DIR&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;$MVNW_VERBOSE&quot; = true ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo $MAVEN_PROJECTBASEDIR</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MAVEN_OPTS=&quot;$(concat_lines &quot;$MAVEN_PROJECTBASEDIR/.mvn/jvm.config&quot;) $MAVEN_OPTS&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># For Cygwin, switch paths to Windows format before running java</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if $cygwin; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$M2_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    M2_HOME=`cygpath --path --windows &quot;$M2_HOME&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    JAVA_HOME=`cygpath --path --windows &quot;$JAVA_HOME&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    CLASSPATH=`cygpath --path --windows &quot;$CLASSPATH&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  [ -n &quot;$MAVEN_PROJECTBASEDIR&quot; ] &amp;&amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    MAVEN_PROJECTBASEDIR=`cygpath --path --windows &quot;$MAVEN_PROJECTBASEDIR&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># Provide a &quot;standardized&quot; way to retrieve the CLI args that will</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># work with both Windows and non-Windows executions.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MAVEN_CMD_LINE_ARGS=&quot;$MAVEN_CONFIG $@&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export MAVEN_CMD_LINE_ARGS</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">exec &quot;$JAVACMD&quot; \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  $MAVEN_OPTS \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  -classpath &quot;$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar&quot; \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;-Dmaven.home=${M2_HOME}&quot; &quot;-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}&quot; \</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  ${WRAPPER_LAUNCHER} $MAVEN_CONFIG &quot;$@&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-执行方式">1.2. 执行方式<a href="#12-执行方式" class="hash-link" aria-label="1.2. 执行方式的直接链接" title="1.2. 执行方式的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="121-在命令行指定解释器执行">1.2.1. 在命令行指定解释器执行<a href="#121-在命令行指定解释器执行" class="hash-link" aria-label="1.2.1. 在命令行指定解释器执行的直接链接" title="1.2.1. 在命令行指定解释器执行的直接链接">​</a></h3><p>同时在 sub shell 中执行, 脚本 内容不影响当前 shell</p><ul><li>bash xxx.sh</li><li>sh xxx.sh sh 是 到 bash 的链接</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="122-在脚本中指定解释器">1.2.2. 在脚本中指定解释器<a href="#122-在脚本中指定解释器" class="hash-link" aria-label="1.2.2. 在脚本中指定解释器的直接链接" title="1.2.2. 在脚本中指定解释器的直接链接">​</a></h3><p>在 sub shell 中执行</p><ul><li>./xxx.sh - 需要 #!/usr/bin/bash</li><li>/root/xxx/yy/zzz.sh - need #!/usr/bin/bash</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="123-在当前-shell-中执行">1.2.3. 在当前 shell 中执行<a href="#123-在当前-shell-中执行" class="hash-link" aria-label="1.2.3. 在当前 shell 中执行的直接链接" title="1.2.3. 在当前 shell 中执行的直接链接">​</a></h3><p>常用来刷新配置文件</p><ul><li>. xxx.sh</li><li>source xxx.sh</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13-各种括号-简写">1.3. 各种括号 简写<a href="#13-各种括号-简写" class="hash-link" aria-label="1.3. 各种括号 简写的直接链接" title="1.3. 各种括号 简写的直接链接">​</a></h2><p><a href="https://mp.weixin.qq.com/s/B2fALisq_D8bazpD1hb0Fg" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/B2fALisq_D8bazpD1hb0Fg</a>
TODO</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="14-特殊的参数变量">1.4. 特殊的参数变量<a href="#14-特殊的参数变量" class="hash-link" aria-label="1.4. 特殊的参数变量的直接链接" title="1.4. 特殊的参数变量的直接链接">​</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">$0  # 获取脚本路径</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # 在命令行状态下单纯执行 这个命令是没有意义的, 因为他返回当前路径 &quot;.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # 只有在脚本中执行才有意义, 返回脚本路径</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cd `dirname $0` </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$1 $2 $3 ... #表示参数 第一个 第二个, 第三个</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$# # 传入参数总个数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$* # 获取脚本所有参数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # 等同 $@</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&quot;$*&quot; # 接收所有参数为 单个字符串 , 就像 &quot;$1 $2 $3 ...&quot;, 把参数作为一个字符串整体(单字符串)返回</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$@ # 等同 $*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&quot;$@&quot; # 接收所有参数为 多个独立字符串, 推荐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for N in &quot;$@&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo $N</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="15-特殊的状态变量">1.5. 特殊的状态变量<a href="#15-特殊的状态变量" class="hash-link" aria-label="1.5. 特殊的状态变量的直接链接" title="1.5. 特殊的状态变量的直接链接">​</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 前一个命令的返回值, 执行成功为 0, </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 如 echo &quot;&quot; &amp;&gt;/dev/null &amp;&amp; echo $? 将打印 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$? </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">host=baidu.com</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ping -c 1 $host &amp;&gt;/dev/null</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ $? -eq 0 ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;$host is up&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;$host is down&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 写脚本时有用</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 特殊变量$?记录上一次命令的返回值</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[ $? -ne 0 ] &amp;&amp; { ... }</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$$ #记录当前shell本身的 PID</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    #可以使用$$变量扩展出当前进程的 PID 作为临时文件名，PID 在计算机中都是唯一的，所以绝不会重复</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># $! Shell上次执行的进程的 pid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$_ #上次命令传递的最后一个参数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16-语法">1.6. 语法<a href="#16-语法" class="hash-link" aria-label="1.6. 语法的直接链接" title="1.6. 语法的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="161-变量赋值-空格语法的坑">1.6.1. 变量赋值 空格语法的坑<a href="#161-变量赋值-空格语法的坑" class="hash-link" aria-label="1.6.1. 变量赋值 空格语法的坑的直接链接" title="1.6.1. 变量赋值 空格语法的坑的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># 普通变量: 不能在父子 shell 间传递</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 全局变量/环境变量 : 可以在父子 shell 传递 , 通过 export 导出的变量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 局部变量/方法变量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># shell 默认定义的所有变量类型都是 字符串</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">var=2 #正确</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">var = 2 #错误</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#bash: var: command not found</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 条件语句中[],中括号内外、运算符两边一定要加空格</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">var=2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ var = 2 ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;对了&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;错误&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># expr命令 expr后面、运算符两边一定要加空格</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 1 + 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 运算操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$((2+4)) # 代码可读差</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 2 + 4 # 两边一定要加空格</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$[2=4] #可读好, 对空格也没严格要求</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">let a=2+4 # 赋值</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">let a++ # 自增</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 反引号内的命令会被执行</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">name=`echo &quot;hello&quot;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $name # hello</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="162-数据类型">1.6.2. 数据类型<a href="#162-数据类型" class="hash-link" aria-label="1.6.2. 数据类型的直接链接" title="1.6.2. 数据类型的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1621-字符串-打印">1.6.2.1. 字符串 打印<a href="#1621-字符串-打印" class="hash-link" aria-label="1.6.2.1. 字符串 打印的直接链接" title="1.6.2.1. 字符串 打印的直接链接">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PATH=${PATH}:/bin:/sbin:~/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -e 激活转义字符</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;hello world&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 单引号 会原样输出</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 双引号 会变量替换 -&gt; 推荐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 字符串拓展</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> echo {one,two,three}file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">onefile twofile threefile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo {one,two,three}{1,2,3}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">one1 one2 one3 two1 two2 two3 three1 three2 three3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cp /very/long/path/file{,.bak}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 给 file 复制一个叫做 file.bak 的副本</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rm file{1,3,5}.txt</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 删除 file1.txt file3.txt file5.txt</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mv *.{c,cpp} src/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 将所有 .c 和 .cpp 为后缀的文件移入 src 文件夹</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 特殊命令!$会替换成上一次命令最后的路径</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 没有加可执行权限</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ /usr/bin/script.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zsh: permission denied: /usr/bin/script.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ chmod +x !$</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">chmod +x /usr/bin/script.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 特殊命令!*会替换成上一次命令输入的所有文件路径</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 创建了三个脚本文件</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ file script1.sh script2.sh script3.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 特殊命令!!，可以自动替换成上一次使用的命令</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ apt install net-tools</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">E: Could not open lock file - open (13: Permission denied)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ sudo !!</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sudo apt install net-tools</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 给它们全部加上可执行权限</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ chmod +x !*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">chmod +x script1.sh script2.sh script3.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 可以在环境变量CDPATH中加入你常用的工作目录，当cd命令在当前目录中找不到你指定的文件/目录时，会自动到CDPATH中的目录中寻找</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 这样就免了经常写完整的路径名称，节约不少时间</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ export CDPATH=&#x27;~:/var/log&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># cd 命令将会在 ~ 目录和 /var/log 目录扩展搜索</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ pwd</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">/home/labuladong/musics</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ cd mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cd /var/log/mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ pwd</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">/var/log/mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ cd my_pictures</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cd /home/labuladong/my_pictures</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 搜索历史命令</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 过滤出所有包含 config 字段的历史命令</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ history | grep &#x27;config&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">找到后, 只要使用!+ 你想重用的命令编号即可运行该命令。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># yes命令自动输入字符y进行确认</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ yes | your_cmd</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1622-数组">1.6.2.2. 数组<a href="#1622-数组" class="hash-link" aria-label="1.6.2.2. 数组的直接链接" title="1.6.2.2. 数组的直接链接">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">myarray=()  #定义一个空数组</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray=(1 2 3 4 5)   #全部元素为数字</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray=(one two three four five)  #全部元素为字符串</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray=(1 two 3 three 4 five)  #元素由数值和字符串构成</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray=(1 two 3 “a phrase” 5 now)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 赋值</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray[0]=1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">myarray[2]=test</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 获取</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr_element2=${arr_name[2]}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 长度</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr_len=${#arr_name[*]}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ${#arr_name[@]}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 元素长度</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr_elem_len=${#arr_name[index]} </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 打印</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${arr[@]} # 将元素作为一个整体打印</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for ele in ${arr[*]} # 迭代每个元素打印</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do echo $ele</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 数组分片访问</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr_name=(1 2 3 test go now)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${arr_name[@]:1:2}，将输出2 3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">删除数组某个元素：unset arr_name[index]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">删除整个数组：unset arr_number</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 合并</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr=()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr+=(1)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${arr[@]}# 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">arr+=(2 tes 3 xx)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ... # 1 2 tex 3 xx</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ip_array=(&quot;192.168.1.1&quot; &quot;192.168.1.2&quot; &quot;192.168.1.3&quot;) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for ip in ${ip_array[*]} </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ $ip = &quot;192.168.1.1&quot; ]; then </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        port=&quot;7777&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        port=&quot;22&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ssh -t -p $port $user@$ip &quot;remote_cmd&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="163-读取标准输入">1.6.3. 读取标准输入<a href="#163-读取标准输入" class="hash-link" aria-label="1.6.3. 读取标准输入的直接链接" title="1.6.3. 读取标准输入的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &quot;read&quot; usage</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input first name: &quot; firstname</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input last name: &quot; lastname</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e ${firstname} ${lastname}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#############################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># create 3 files, which named by user&#x27;s input and date command;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;I will create 3 files.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input file name please: &quot; file_name</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file_name=${file_name:-&quot;filename&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">date1=$(date --date=&quot;2 days ago&quot; +%Y%m%d) # 前两天</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">date2=$(date --date=&quot;1 days ago&quot; +%Y%m%d) # one day ago</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">date3=$(date +%Y%m%d) # today</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file1=${file_name}${date1}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file2=${file_name}${date2}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file3=${file_name}${date3}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># touch</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">touch ${file1}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">touch ${file2}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">touch ${file3}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="164-数值运算">1.6.4. 数值运算<a href="#164-数值运算" class="hash-link" aria-label="1.6.4. 数值运算的直接链接" title="1.6.4. 数值运算的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># desc: + - * / % 数值运算 $((xxx*xxx))</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># declare -i total=${first_num}*${sec_num}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &lt;==&gt; total=$((a*b))</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PATH=${PATH}:/bin:/sbin:~/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;input 2 numbers and I will cross them.\n&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;first number: &quot; first_num</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;second number: &quot; sec_num</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">total=$((${first_num}*${sec_num}))</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;result: ${total}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="165-条件判断">1.6.5. 条件判断<a href="#165-条件判断" class="hash-link" aria-label="1.6.5. 条件判断的直接链接" title="1.6.5. 条件判断的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 判断</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># test xx==xx &lt;==&gt; [ &quot;xx&quot; == &quot;xx&quot; ] (tips: [] 内部的变量都用双引号抱起来以防止变量中有空格; 每个部分都要隔开)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -e (exist) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -f (file)  是否是文件(file exist)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -d (directory) ; 是否是文件夹</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -rwx (readable? writeable? exectable?) ;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -eq (equal) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -ne (not equal) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># test -z &quot;xxx&quot; (zero) 判断string是否为空 0/null;  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># test -n &quot;xxx&quot; (not zero, 可省略) 不为0; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># test &quot;xxx&quot;==&quot;yyy&quot; (&quot;=&quot;也可)是否相等;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#  test &quot;xxx&quot;!=&quot;yyy&quot; 是否不等;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># -a (and)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#  -o (or)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#  ! (not)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PATH=${PATH}:/bin:/sbin:~/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;I&#x27;ll test wether the file name you input exist. &quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input a file name: &quot; file_name</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -z ${file_name} &amp;&amp; echo -e &quot;you must input a valid file name&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test ! -e ${file_name} &amp;&amp; echo &quot;the file ${file_name} does not exist&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -f ${file_name} &amp;&amp; type=&quot;regular file&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -d ${file_name} &amp;&amp; type=&quot;directory&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -r ${file_name} &amp;&amp; perm=&quot;readable&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -w ${file_name} &amp;&amp; perm=&quot;${perm} writable&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">test -x ${file_name} &amp;&amp; perm=&quot;${perm} excutable&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;it&#x27;s a ${type}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;and the permissions are: ${perm}&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># desc: make choice 判断的另一种写法</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input Y/N: &quot; yn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[ &quot;${yn}&quot;==&quot;Y&quot; -o &quot;${yn}&quot;==&quot;y&quot; ] &amp;&amp; echo -e &quot;ok, continue.&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[ &quot;${yn}&quot;==&quot;N&quot; -o &quot;${yn}&quot;==&quot;n&quot; ] &amp;&amp; echo -e &quot;oh, break.&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo -e &quot;I don&#x27;t know what you mean.&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#######################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &quot;if then&quot; usage</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># [ &quot;${param}&quot; == &quot;xxx&quot; -o &quot;${param}&quot; == &quot;yyy&quot; ] &lt;==&gt; [ &quot;${p}&quot; == &quot;xxx&quot; ] || [ &quot;${p}&quot; == &quot;yyy&quot; ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;input y/n: &quot; p</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${p}&quot; == &quot;y&quot; ] || [ &quot;${p}&quot; == &quot;Y&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;ok, continue.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">elif [ &quot;${p}&quot; == &quot;n&quot; ] || [ &quot;${p}&quot; == &quot;N&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;oh, interrupt&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;I don&#x27;t know what you mean.&quot; &amp;&amp; exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="166-条件判断-case-语法">1.6.6. 条件判断-case 语法<a href="#166-条件判断-case-语法" class="hash-link" aria-label="1.6.6. 条件判断-case 语法的直接链接" title="1.6.6. 条件判断-case 语法的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># case xx in 用法</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case ${1} in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        &quot;hello&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                echo &quot;hello, h a y&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        &quot;&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                echo &quot;must input parameter, eg&gt; ${0} someword&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        *)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                echo &quot;usage: ${0} hello&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="167-条件判断-多路分支语法">1.6.7. 条件判断-多路分支语法<a href="#167-条件判断-多路分支语法" class="hash-link" aria-label="1.6.7. 条件判断-多路分支语法的直接链接" title="1.6.7. 条件判断-多路分支语法的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">action=&quot;a&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;${action}&quot; = &quot;a&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    #操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">elif [ &quot;${action}&quot; = &quot;b&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    #操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">elif [ &quot;${action}&quot; = &quot;c&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    #操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    #操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="168-默认值">1.6.8. 默认值<a href="#168-默认值" class="hash-link" aria-label="1.6.8. 默认值的直接链接" title="1.6.8. 默认值的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">file_name=$1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file_name=${file_name:-&quot;no_name.sh&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="169-函数">1.6.9. 函数<a href="#169-函数" class="hash-link" aria-label="1.6.9. 函数的直接链接" title="1.6.9. 函数的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 定义 函数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">function printit(){ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;Your choice is $1&quot;   # 这个 $1 是 函数后面跟着的参数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">} </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case $1 in # 这里的 $1 是脚本后面的参数</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;one&quot;) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    printit 1  # 请注意， printit 指令后面还有接参数！ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;two&quot;) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    printit 2 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;three&quot;) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    printit 3 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  *) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    echo &quot;Usage $0 {one|two|three}&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ;; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">###############################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 循环 while do done, until do done 条件满足则种植循环, for var in value1 value2 value3... do done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &quot;cut&quot;, function, for var in ... do done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PATH=${PATH}:/bin:/sbin:~/bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">names=$(cut -d &quot;:&quot; -f1 /etc/passwd)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for name in ${names}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id ${name}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        finger ${name}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">########################################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">network=&quot;192.168.1&quot;              # 先定丿一个网域的前面部分！ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for sitenu in $(seq 1 100)       # seq 为 sequence(连续) 的缩写 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # 底下的程序在 ping 的回传值是正确的还是失败的！ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ping -c 1 -w 1 ${network}.${sitenu} &amp;&gt; /dev/null &amp;&amp; result=0 || result=1 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # 开始显示结果是正确的 (UP) 还是错误的没有连通 (DOWN) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if [ &quot;$result&quot; == 0 ]; then </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;Server ${network}.${sitenu} is UP.&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    else </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;Server ${network}.${sitenu} is DOWN.&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fi </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">###################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 循环加判断</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 1. 先看看这个目录是否存在啊？ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">read -p &quot;Please input a directory: &quot; dir </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ &quot;$dir&quot; == &quot;&quot; -o ! -d &quot;$dir&quot; ]; then </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;The $dir is NOT exist in your system.&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  exit 1 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 2. 开始测试档案啰～ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">filelist=$(ls $dir)        # 列出所有在该目录下的文件名 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for filename in $filelist </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  perm=&quot;&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  test -r &quot;$dir/$filename&quot; &amp;&amp; perm=&quot;$perm readable&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  test -w &quot;$dir/$filename&quot; &amp;&amp; perm=&quot;$perm writable&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  test -x &quot;$dir/$filename&quot; &amp;&amp; perm=&quot;$perm executable&quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  echo &quot;The file $dir/$filename&#x27;s permission is $perm &quot; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##########################################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># for ((xx; xx; xx)) do done</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for (( i=1; i&lt;=$nu; i=i+1 )) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">do </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  s=$(($s+$i)) </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">done </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo &quot;The result of &#x27;1+2+3+...+$nu&#x27; is ==&gt; $s&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="17-debug">1.7. debug<a href="#17-debug" class="hash-link" aria-label="1.7. debug的直接链接" title="1.7. debug的直接链接">​</a></h2><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">sh</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">-nvx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> scripts.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-n  ：不要执行 script，仅查询语法的问题； </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-v  ：再执行 sccript 前，先将 scripts 的内容输出屏幕上； </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">-x  ：输出一行脚本, 执行这一行，debug 常用</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">sh</span><span class="token plain"> -x xx.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="18-学习几个demo">1.8. 学习几个demo<a href="#18-学习几个demo" class="hash-link" aria-label="1.8. 学习几个demo的直接链接" title="1.8. 学习几个demo的直接链接">​</a></h2><p>这是一个 Java 程序的启动脚本</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">## java env</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export JAVA_HOME=/usr/local/jdk1.7.0_55</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export JRE_HOME=$JAVA_HOME/jre</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">## exec shell name</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">EXEC_SHELL_NAME=sys-service\.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">## service name</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SERVICE_NAME=zhousw-sys-service</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SERVICE_DIR=/usr/local/workspace/sys-service</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">JAR_NAME=$SERVICE_NAME\.jar</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">PID=$SERVICE_NAME\.pid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cd $SERVICE_DIR</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">case &quot;$1&quot; in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    start)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        nohup $JRE_HOME/bin/java -Xms256m -Xmx512m -jar $JAR_NAME &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo $! &gt; $SERVICE_DIR/$PID</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;#### start $SERVICE_NAME&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    stop)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        kill `cat $SERVICE_DIR/$PID`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        rm -rf $SERVICE_DIR/$PID</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;#### stop $SERVICE_NAME&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        sleep 5</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        TEMP_PID=`ps -ef | grep -w &quot;$SERVICE_NAME&quot; | grep -v &quot;grep&quot; | awk &#x27;{print $2}&#x27;`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        if [ &quot;$TEMP_PID&quot; == &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            echo &quot;#### $SERVICE_NAME process not exists or stop success&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            echo &quot;#### $SERVICE_NAME process pid is:$TEMP_PID&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            kill -9 $TEMP_PID</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    restart)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        $0 stop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        sleep 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        $0 start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        echo &quot;#### restart $SERVICE_NAME&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    *)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ## restart</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        $0 stop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sleep 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        $0 start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        ;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">esac</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">exit 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>2. 正则&amp;文本格式化</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="21-正则表达式和语言系统有关系">2.1. 正则表达式和语言系统有关系<a href="#21-正则表达式和语言系统有关系" class="hash-link" aria-label="2.1. 正则表达式和语言系统有关系的直接链接" title="2.1. 正则表达式和语言系统有关系的直接链接">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22-正则中的特殊符号">2.2. 正则中的特殊符号<a href="#22-正则中的特殊符号" class="hash-link" aria-label="2.2. 正则中的特殊符号的直接链接" title="2.2. 正则中的特殊符号的直接链接">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="23-grep进阶用法">2.3. grep进阶用法<a href="#23-grep进阶用法" class="hash-link" aria-label="2.3. grep进阶用法的直接链接" title="2.3. grep进阶用法的直接链接">​</a></h2><p><a href="#%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4">grep基础用法</a></p><p>正则表示法中的特殊符号</p><ul><li><code>grep -n &#x27;key&#x27; &lt;file&gt;</code> 搜寻key</li><li><code>grep -vn &#x27;key&#x27; &lt;file&gt;</code> 反向选择</li><li><code>dmesg | grep &#x27;eth&#x27;</code>找到核心信息的eth那行</li><li><code> dmesg | grep -n --color=auto &#x27;eth&#x27;</code> 关键词显色, 显示行号</li><li><code>dmesg | grep -n -A3 -B2 --color=auto &#x27;eth&#x27;</code> 前2行和后3行一起显示</li><li><code>grep -n &#x27;t[ea]st&#x27; &lt;file&gt;</code>搜寻即可字符(test 或 tast)</li><li><code>grep -n &#x27;[^g]oo&#x27; regular_express.txt</code> 不为指定字符</li><li><code>grep -n &#x27;[^a-z]oo&#x27; regular_express.txt </code> 不为某个字符范围</li><li><code> grep -n &#x27;[0-9]&#x27; regular_express.txt</code> 取得有数字的行</li><li><code>grep -n &#x27;^the&#x27; regular_express.txt</code>以指定字符开头</li><li><code>grep -n &#x27;^[a-z]&#x27; regular_express.txt</code> 开头为小写字符</li><li><code>grep -n &#x27;\.$&#x27; regular_express.txt</code> 以指定字符结束</li><li><code>grep -n &#x27;o\{2\}&#x27; regular_express.txt</code> 指定字符出现次数</li></ul><p>如果希望设定grep自动关键词显色, 可修改<code>~/.bashrc</code> , 加上一行:<code>alias grep=&#x27;grep --color=auto&#x27;</code>, 然后<code>source ~/.bashrc</code>生效</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="24-延伸正则表示法">2.4. 延伸正则表示法<a href="#24-延伸正则表示法" class="hash-link" aria-label="2.4. 延伸正则表示法的直接链接" title="2.4. 延伸正则表示法的直接链接">​</a></h2><p>egrep</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="25-sed">2.5. sed<a href="#25-sed" class="hash-link" aria-label="2.5. sed的直接链接" title="2.5. sed的直接链接">​</a></h2><p>还可以将数据进行取代、删除、新增、抓取特定行</p><ul><li><code>nl /etc/passwd | sed [-e] &#x27;2,5d&#x27;</code> 带行号列出, 并删除2-5行(sed后的动作需要引号)</li><li><code>nl /etc/passwd | sed &#x27;2a drink tea&#x27;</code> 第2行后添加文字</li><li><code>nl /etc/passwd | sed &#x27;2i drink tea&#x27;</code>行前添加文字</li><li>sed增加多行, 需要<!-- -->+<!-- -->enter跳脱</li><li><code>nl /etc/passwd | sed &#x27;2,5c No 2-5 number&#x27; </code> 取代2-5行</li><li><code>nl /etc/passwd | sed -n &#x27;5,7p&#x27;</code> 抓取5-7行, 同<code>head -n 7 | tail -n 2</code></li></ul><p>sed的行内格式化: <code>sed &#x27;s/要被取代的字符串/新字符串/g&#x27;</code></p><ul><li><code>ifconfig eth0 | grep &#x27;inet addr&#x27; | sed &#x27;s/^.*addr://g&#x27; | sed &#x27;s/Bcast.*$//g&#x27;</code>获取ip（替换功能）</li><li><code>sed -i &#x27;s/匹配串/替换成的内容/g&#x27; /xxx </code>替换，直接修改原始档案</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="26-awk行内格式化">2.6. awk行内格式化<a href="#26-awk行内格式化" class="hash-link" aria-label="2.6. awk行内格式化的直接链接" title="2.6. awk行内格式化的直接链接">​</a></h2><p>格式: <code>awk &#x27;条件类型1{动作 1} 条件类型 2{动作 2} ...&#x27; filename</code>; 默认的行内分隔符为空格或者tab; 变量可以直接用, 无需加$符号</p><ul><li><code>last -n 5 | awk &#x27;{print $1 &quot;\t&quot; $3}&#x27; </code> 没有条件,只有动作; $1代表第一栏, $2表示第二栏...; $0表示一整栏</li></ul><p>awk的内建变量:</p><ul><li><code>last -n 5| awk &#x27;{print $1 &quot;\t lines: &quot; NR &quot;\t columes: &quot; NF}&#x27; </code>和printf联用, printf的内容用双引号</li><li><code> awk &#x27;BEGIN{FS=&quot;:&quot;} $3 &lt; 10 {print $1 &quot;\t &quot; $3}</code> 不用默认的分隔符号</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="27-printf格式化打印">2.7. printf格式化打印<a href="#27-printf格式化打印" class="hash-link" aria-label="2.7. printf格式化打印的直接链接" title="2.7. printf格式化打印的直接链接">​</a></h2><ul><li><code>printf &#x27;%s\t %s\t %s\t \r\n&#x27; $(cat /xxx) </code>格式化打印</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="28-文件对比工具">2.8. 文件对比工具<a href="#28-文件对比工具" class="hash-link" aria-label="2.8. 文件对比工具的直接链接" title="2.8. 文件对比工具的直接链接">​</a></h2><p>diff: 以行为对比单位</p><p>cmp: 字节为单位对比</p><p>patch: 对比升级</p><ul><li><code> diff -Naur passwd.old passwd.new &gt; passwd.patch</code> 制作差异补丁文件</li><li><code>patch -p0 &lt; passwd.patch</code> 更新</li><li><code> patch -R -p0 &lt; passwd.patch</code> 还原</li></ul><p><code>-p0</code>的解释见<a href="#%E5%8E%9F%E5%A7%8B%E7%A0%81&amp;tarball">原始码&amp;tarball</a></p><h1>3. bash</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="31-快捷键">3.1. 快捷键<a href="#31-快捷键" class="hash-link" aria-label="3.1. 快捷键的直接链接" title="3.1. 快捷键的直接链接">​</a></h2><p>Ctrl+u 清除当前命令行，命令输入了一半，不想继续，用delete太慢，Ctrl+c太笨，Ctrl+u 刚合适
Ctrl+k 清除光标后内容
Ctrl+w 清除光标前的一个单词
Ctrl+a 光标移至行首，很常用
Ctrl+e 光标移至行尾，很常用
Ctrl+l 清屏，等同于clear
Ctrl+z 当前命令行执行程序挂起，想退出命令，又不想终止程序，可以使用这个命令</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="32-几种-bash-环境-startup-配置文件对比">3.2. 几种 bash 环境 startup 配置文件对比<a href="#32-几种-bash-环境-startup-配置文件对比" class="hash-link" aria-label="3.2. 几种 bash 环境 startup 配置文件对比的直接链接" title="3.2. 几种 bash 环境 startup 配置文件对比的直接链接">​</a></h2><ul><li><p>交互式 shell: 在终端上执行，shell等待你的输入，并且立即执行你提交的命令, 如 登录、执行一些命令.</p></li><li><p>非交互shell: 以shell script(非交互)方式执行, 当它读到文件的结尾EOF，shell也就终止了. </p><p>  “$-”变量的值（代表着当前shell的选项标志）, 查看字符串中是否包含“i”选项（表示interactive shell）来区分交互式与非交互式shell</p></li><li><p>登录shell:需要用户名、密码登录后才能进入的shell（或者在脚本中通过”–login”选项生成的shell）, 称为一个会话</p></li><li><p>非登录 shell: 不需要输入用户名和密码即可打开的Shell，例如：直接命令“bash”就是打开一个新的非登录shell, 通过 terminal 打开的 shell</p></li></ul><p>对于bash, 登录shell（包括交互式登录shell和使用“–login”选项的非交互shell），它会首先读取和执行 <code>/etc/profile</code>全局配置文件, 接着执行<code> /etc/profile.d/</code>目录下的脚本文件，然后依次查找 <code>~/.bash_profile、~/.bash_login 和 ~/.profile</code>这三个配置文件, 然后 ~/.bashrc, 登出, 执行 <code>~/.bash_logout</code>; su - root 就是切到 root 的登录 shell</p><p>在非登录shell里，只读取<code> ~/.bashrc （和 /etc/bash.bashrc、/etc/bashrc ）</code>文件，不同的发行版里面可能有所不同, 如果装了 zsh, 则先读取 .zshrc, 一般会在 .zshrc 中 <code>source .bash_profile</code>; su root 就是 切到 root  nologin shell</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="33-和-python-交互">3.3. 和 Python 交互<a href="#33-和-python-交互" class="hash-link" aria-label="3.3. 和 Python 交互的直接链接" title="3.3. 和 Python 交互的直接链接">​</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ping -c 1 baidu.com &amp;&gt;/dev/null &amp;&amp; echo &quot;network ok&quot; || echo &quot;network error&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># eof 只是标识符, 可以随意定义</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># &lt;&lt;- 为必须,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">/usr/bin/python3 &lt;&lt;-eof</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">print(&quot;hello py&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">eof</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo &quot;hello bash&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="34-示例">3.4. 示例<a href="#34-示例" class="hash-link" aria-label="3.4. 示例的直接链接" title="3.4. 示例的直接链接">​</a></h2><p><a href="https://github.com/jaywcjlove/shell-tutorial" target="_blank" rel="noopener noreferrer">https://github.com/jaywcjlove/shell-tutorial</a>
<a href="https://github.com/wangdoc/shell-tutorial/blob/master/docs/basics/variable.md" target="_blank" rel="noopener noreferrer">https://github.com/wangdoc/shell-tutorial/blob/master/docs/basics/variable.md</a></p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo  &quot;helloworld!&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 运行</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">./demo.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># #################shell 变量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># - 环境变量,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 区分大小写</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># - shell变量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># PATH 决定了shell将到哪些目录中寻找命令或程序 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># HOME 当前用户主目录 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># HISTSIZE　历史记录数 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># LOGNAME 当前用户的登录名 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># HOSTNAME　指主机的名称 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># SHELL 当前用户Shell类型</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># LANGUGE 　语言相关的环境变量，多语言可以修改此环境变量</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># MAIL　当前用户的邮件存放目录 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># PS1　基本提示符，对于root用户是#，对于普通用户是$</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $HOME</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${HOME} </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">###############自定义变量 字符串#################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#自定义变量hello</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 变量声明默认都是string类型</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 等号两边无空格, 若值中有空格, 用引号(单双均可)括起来</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   [&quot;&quot;]中的 [$] 可以保有原本特性, 如 var=&quot;lang is $LANG&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#   [&#x27;&#x27;]中的 [$] 仅仅是一般字符</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#* 设定变量后需要`export &lt;变量名&gt;` 导出以在其他程序中使用</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#* 系统变量一般为大写, 自定义变量为小写方便判断</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#* `unset &lt;变量名&gt;` 取消变量设定</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hello=&quot;hello world&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># or</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">hello=&#x27;hello world&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $hello</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo  &quot;helloworld!&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo &#x27;hello - ${PATH}&#x27; # hello - ${PATH}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#获取字符串长度</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">name=&quot;SnailClimb&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 第一种方式</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${#name} #输出 10</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 第二种方式</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr length &quot;$name&quot;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 计算表达式</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 使用 expr 命令时，表达式中的运算符左右必须包含空格，如果不包含空格，将会输出表达式本身:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 5 + 6       // 输出 11</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 5+6    // 错误, 直接输出 5+6</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 对于某些运算符，还需要我们使用符号\进行转义</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 5 * 6       // 输出错误</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">expr 5 \* 6      // 输出30</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">################## string 截取###################3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 截取子串</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#从字符串第 1 个字符开始往后截取 10 个字符</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 从 0 开始, 左闭右开 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">str=&quot;SnailClimb is a great man&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${str:0:10} #输出:SnailClimb</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 查找子串</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 查找字符 i 或 o 的位置(哪个字母先出现就计算哪个)：</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">string=&quot;runoob is a great site&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo `expr index &quot;$string&quot; io`  # 输出 4, index 从 1 开始</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 根据表达式截取</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    #:      表示左→右开始匹配，匹配最短的, 然后删除, 返回剩余的串</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    ##： 表示左→右开始匹配，匹配最长的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    %：   表示右→左开始匹配，匹配最短的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#    %%：表示右→左开始匹配，匹配最长的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#author:xiaoyu</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">var=&quot;http://www.runoob.com/linux/linux-shell-variable.html&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s1=${var%%t*}#h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s2=${var%t*}#http://www.runoob.com/linux/linux-shell-variable.h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s3=${var%%.*}#http://www</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s4=${var#*/}#/www.runoob.com/linux/linux-shell-variable.html</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s5=${var##*/}#linux-shell-variable.html</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">####################shell数组############################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">array=(1 2 3 4 5);</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 获取数组长度</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">length=${#array[@]}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 或者</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">length2=${#array[*]}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#输出数组长度</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $length #输出：5</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo $length2 #输出：5</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 输出数组第三个元素</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo ${array[2]} #输出：3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">unset array[1]# 删除下表为1的元素也就是删除第二个元素</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for i in ${array[@]};do echo $i ;done # 遍历数组，输出： 1 3 4 5 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">unset arr_number; # 删除数组中的所有元素</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">for i in ${array[@]};do echo $i ;done # 遍历数组，数组元素为空，没有任何输出内容</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">############### 引入其他指令 #####################</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 引入其他指令, 借助反单引号 &quot; \` &quot;, 如 </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">system=\`uname\`----\`uname -r\`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">echo system # 显示Linux-----3.10.0-693.2.2.el7.x86_64 ; </span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 另外还有一种方法: </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">system=$(uname)----$(uname -r)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="35-所有可用的shell">3.5. 所有可用的shell<a href="#35-所有可用的shell" class="hash-link" aria-label="3.5. 所有可用的shell的直接链接" title="3.5. 所有可用的shell的直接链接">​</a></h2><p>bash是linux可以使用的shell之一(zsh, dash...), 查看系统可以使用的全部shell可以<code>vim /etc/shells</code>, 见下图:</p><p>某个用户登录可以使用的shell, 记录在 /etc/passwd</p><p>bash优点:</p><ul><li><p>历史命令记录, 在 ${user.home}/.bash_history, 如root的在 ~/.bash_history</p></li><li><p>命令/档案补全</p></li><li><p>alias, 如 <code>alias lm=&#x27;ls -al&#x27; </code></p></li><li><p>(job control, foreground, background. 后台运行</p></li><li><p>shell script</p></li><li><p>支持通配符 <code>*</code></p></li></ul><p><code>type &lt;cmd&gt;</code> 列出指令使用情况 可以当作<a href="#%E6%90%9C%E5%AF%BB%E6%96%87%E4%BB%B6%E5%92%8C%E6%8C%87%E4%BB%A4">which</a>用</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="36-环境变量">3.6. 环境变量<a href="#36-环境变量" class="hash-link" aria-label="3.6. 环境变量的直接链接" title="3.6. 环境变量的直接链接">​</a></h2><ul><li><p><code>env</code> 查看所有环境变量(也可以用<code>export</code>)</p><ul><li><code> declare -i number=$RANDOM*10/32768</code> 定义随机数number, 范围是0---9</li></ul></li><li><p><code>set</code> 查看环境变量和自定义变量(也可以用<code>declare</code>)</p></li></ul><ul><li>设定命令提示符PS1 <code>echo $PS1</code></li></ul><ul><li><p><code>echo $$</code> 本shell 的 线程代号(PID)</p></li><li><p><code>echo $?</code> 上个命令的返回值(一般上个指令正常结束返回0, 异常则返回错误代码)</p></li><li><p><code>export &lt;自定义变量名&gt;</code> 自定义变量转为环境变量</p><ul><li>环境变量能被子程序识别(子程序继承了环境变量), 自定义变量无法被子程序识别(无法继承)</li></ul></li><li><p><code>locale -a</code>查看所有支持的语系</p></li><li><p><code>locale</code> 查看本机的语系设定</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="37-键盘读取read">3.7. 键盘读取read<a href="#37-键盘读取read" class="hash-link" aria-label="3.7. 键盘读取read的直接链接" title="3.7. 键盘读取read的直接链接">​</a></h2><ul><li><code>read &lt;自定义变量名&gt;</code> 读取键盘输入, 存入指定变量</li><li><code>read -p &quot;Please keyin your name: &quot; -t 30 named</code> 带提示信息, 限制等待时间30s</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="38-declaretypeset声明变量类型">3.8. declare,typeset声明变量类型<a href="#38-declaretypeset声明变量类型" class="hash-link" aria-label="3.8. declare,typeset声明变量类型的直接链接" title="3.8. declare,typeset声明变量类型的直接链接">​</a></h2><ul><li><code>declare -i sum=100+300+50</code>, 此时sum为450</li><li><code>declare -x &lt;变量名&gt;</code> 转为环境变量 ,同 <code>export xxxx</code></li><li><code> declare +x &lt;环境变量名&gt;</code> 移除环境变量</li><li><code>declare -r &lt;变量名&gt;</code> 声明为只读</li><li><code>declare -p sum</code> 单独列出变量类型</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="39-变量的删除取代">3.9. 变量的删除取代<a href="#39-变量的删除取代" class="hash-link" aria-label="3.9. 变量的删除取代的直接链接" title="3.9. 变量的删除取代的直接链接">​</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">#:      表示左→右开始匹配，匹配最短的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">##： 表示左→右开始匹配，匹配最长的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%：   表示右→左开始匹配，匹配最短的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">%%：表示右→左开始匹配，匹配最长的, 然后删除</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">匹配方向有别，但是匹配表达式还是顺序的</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">取代看后面的图</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">var=&quot;http://www.runoob.com/linux/linux-shell-variable.html&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s1=${var%%t*}#h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s2=${var%t*}#http://www.runoob.com/linux/linux-shell-variable.h</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s3=${var%%.*}#http://www</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s4=${var#*/}#/www.runoob.com/linux/linux-shell-variable.html</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">s5=${var##*/}#linux-shell-variable.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="310-变量的测试和内容替换">3.10. 变量的测试和内容替换<a href="#310-变量的测试和内容替换" class="hash-link" aria-label="3.10. 变量的测试和内容替换的直接链接" title="3.10. 变量的测试和内容替换的直接链接">​</a></h2><p>判断变量是否存在</p><ul><li>xxx=${xxx-yyy} 如果xxx未设定，则设为yyy</li><li>xxx=${xxx:-root} 如果未设定or为空串，设为yyy</li></ul><p>更多见:</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="311-命令别名和设定">3.11. 命令别名和设定<a href="#311-命令别名和设定" class="hash-link" aria-label="3.11. 命令别名和设定的直接链接" title="3.11. 命令别名和设定的直接链接">​</a></h2><ul><li>设定别名<code>alias lm=&#x27;ls -al | more&#x27; </code></li><li>查看所有<code>alias</code></li><li>取消设定<code>unalias lm</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="312-命令历史">3.12. 命令历史<a href="#312-命令历史" class="hash-link" aria-label="3.12. 命令历史的直接链接" title="3.12. 命令历史的直接链接">​</a></h2><ul><li><code>history</code> 列出所有的命令历史</li><li><code>history 3</code> 最近3个命令</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="313-指令搜寻顺序">3.13. 指令搜寻顺序<a href="#313-指令搜寻顺序" class="hash-link" aria-label="3.13. 指令搜寻顺序的直接链接" title="3.13. 指令搜寻顺序的直接链接">​</a></h2><ol><li>以相对/绝对路径执行命令，例如『 /bin/ls 』和『 ./ls 』； </li><li>由 alias 找到命令执行； </li><li>由 bash 内建的 (builtin) 命令来执行； </li><li>透过 $PATH 这个发量的顺序搜寻到第一个命令执行。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="314-bash登录欢迎信息">3.14. bash登录欢迎信息<a href="#314-bash登录欢迎信息" class="hash-link" aria-label="3.14. bash登录欢迎信息的直接链接" title="3.14. bash登录欢迎信息的直接链接">​</a></h2><ul><li><code> cat /etc/issue</code>查看进站信息</li></ul><ul><li><p><code>cat /etc/issue.net</code> 查看使用telnet登录的欢迎信息</p></li><li><p><code>cat /etc/motd</code> 大家登录都会看到的提示信息</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="315-bash的环境配置文件">3.15. bash的环境配置文件<a href="#315-bash的环境配置文件" class="hash-link" aria-label="3.15. bash的环境配置文件的直接链接" title="3.15. bash的环境配置文件的直接链接">​</a></h2><p> login shell(输入帐号密码) 和 non-login shell(无需输入帐号密码就能登录)两种登录shell类型登录时读取的配置文件不同</p><p> login shell只读取两个配置文件: </p><ol><li><p>/etc/profile(系统的整体设定, 不要修改)</p><ul><li>每个使用者登录都会读取, 设定这些变量</li></ul></li></ol><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> 此外</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> 还会读取外部的配置文件</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">inputrc 设定一些热键</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">profile</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">d</span><span class="token comment" style="color:rgb(0, 128, 0)">/*.sh (多个), 规定了bash接口的颜色, 语系一些命令别名; 如果需要为所有的user设定命令别名则修改</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    * /etc/sysconfig/i18n 这个档案是由 /etc/profile.d/lang.sh 调用！这也是我们决定 bash 使用什么预习,LANG的设定</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li><p>~/.bash_profile 或 ~/.bash_login 或 ~/.profile---------都是个人配置文件, 在1和1的下属配置文件都调用的才调用它</p><ul><li><p>3个文件之后有一个被读取, 以上是读取顺序, 一旦前者被读取, 后者就不会读取了</p></li><li><p>以~/.bash_profile为例, 实际会读取~/.bashrc, 可以将自定义配置写入该文件, 通过<code>source ~/.bashrc</code> 读入配置; 或者<code>. ~/.bashrc</code></p></li></ul></li></ol><p>login shell只读取~/.bashrc</p><p>此外, 还有其他的配置文件会影响bash</p><p>/etc/man.config </p><p>~/.bash_history </p><p>~/.bash_logout</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="316-终端机的环境设定sttyset">3.16. 终端机的环境设定stty,set<a href="#316-终端机的环境设定sttyset" class="hash-link" aria-label="3.16. 终端机的环境设定stty,set的直接链接" title="3.16. 终端机的环境设定stty,set的直接链接">​</a></h2><p><code>stty -a</code>列出所有按键和按键内容</p><p>比如设定<code> stty erase ^h</code> 使用ctrl+h进行删除</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="317-通配符和特殊符号">3.17. 通配符和特殊符号<a href="#317-通配符和特殊符号" class="hash-link" aria-label="3.17. 通配符和特殊符号的直接链接" title="3.17. 通配符和特殊符号的直接链接">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="318-数据流重导向">3.18. 数据流重导向<a href="#318-数据流重导向" class="hash-link" aria-label="3.18. 数据流重导向的直接链接" title="3.18. 数据流重导向的直接链接">​</a></h2><ul><li><code> ll / &gt; &lt;file&gt;</code> 将数据输出到指定文件(数据会被覆盖)</li><li><code> ll / &gt;&gt; &lt;file&gt;</code> 数据会被累加</li><li>查看/home下是否有.bashrc档案存在<code>find /home -name .bashrc</code>, 有出错信息会直接输出到屏幕, 现在将正常结果和错误信息输出到不同文件<code>find /home -name .bashrc &gt; list_right 2&gt; list_error</code></li><li><code>find /home -name .bashrc 2&gt; /dev/null</code> 将错误输出扔掉( /dev/null 可以吃掉任何导向这个装置的信息)</li><li><code> find /home -name .bashrc &gt; list 2&gt;&amp;1</code> 正确输出和错误输出写入同一个文件</li><li><code>cat &gt; &lt;file&gt;</code> 将键盘输入存入指定文件(ctrl+d结束输入)</li><li><code>cat &gt; catfile &lt; ~/.bashrc</code> 新建立的catfile就是后者的复制</li><li><code>cat &gt; catfile &lt;&lt; &quot;eof&quot;</code> 输入&quot;eof&quot;就结束输入(&lt;&lt;表示后面接的是结束字符)</li><li>多重重导向 tee </li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">last | tee last.list | cut -d &quot; &quot; -f1 </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"> 同时输出一份数据到两处地方</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)"> ls -l /home | tee ~/homefile | more</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain">同上</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)"> ls -l / | tee -a ~/homefile | more </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"> 累加输出</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="319-和">3.19. &amp;&amp;和||<a href="#319-和" class="hash-link" aria-label="3.19. &amp;&amp;和||的直接链接" title="3.19. &amp;&amp;和||的直接链接">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="320-管线命令">3.20. 管线命令<a href="#320-管线命令" class="hash-link" aria-label="3.20. 管线命令的直接链接" title="3.20. 管线命令的直接链接">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="321-截取命令">3.21. 截取命令<a href="#321-截取命令" class="hash-link" aria-label="3.21. 截取命令的直接链接" title="3.21. 截取命令的直接链接">​</a></h2><p>cut: 主要用于将每一行里的数据分解, 去除想要的分段</p><ul><li><code>echo $PATH | cut -d &#x27;:&#x27; -f 5</code>获取 PATH 内容，找出第五个路径</li><li><code>echo $PATH | cut -d &#x27;:&#x27; -f 3,5</code> 找到第三个和第五个路径</li><li><code>export | cut -c 12-</code> 每一行从第12个字符开始取</li></ul><p>grep: 从多行中去除需要的行, 见<a href="#grep%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95">grep进阶用法</a></p><ul><li><code>last | grep &#x27;root&#x27;</code> 含有root的行</li><li><code> grep -v &#x27;root&#x27;</code> 没有root的行</li><li><code>grep --color=auto &#x27;&lt;key&gt;&#x27; &lt;file&gt;</code> 在指定文件中寻找</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="322-排序sortwcuniq">3.22. 排序sort,wc,uniq<a href="#322-排序sortwcuniq" class="hash-link" aria-label="3.22. 排序sort,wc,uniq的直接链接" title="3.22. 排序sort,wc,uniq的直接链接">​</a></h2><p>sort: sort将文件/文本的每一行作为一个单位，相互比较，比较原则是从首字符向后，依次按ASCII码值进行比较，最后将他们按升序输出</p><p>对于<code>-k</code>: 格式：-k  fstart.cstart, fend.cend，都是数字，从1开始，若有多重排序，后面再接 -k ...eg:<a href="http://wangchujiang.com/linux-command/c/sort.html" target="_blank" rel="noopener noreferrer">http://wangchujiang.com/linux-command/c/sort.html</a></p><ul><li><code>cat /etc/passwd | sort</code> 默认排序</li><li><code>cat /etc/passwd | sort -t &#x27;:&#x27; -k 3</code> 冒号分开,用第三栏排序</li><li><code>cat /etc/passwd | sort -t &#x27;:&#x27; -k 3 -n </code> 以数字进行排序(默认为文字排序)</li></ul><p>uniq: 将重复的数据只显示一行(必须在使用sort之后使用)</p><p>wc: 显示总字符, 总行数</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="323-字符转换命令">3.23. 字符转换命令<a href="#323-字符转换命令" class="hash-link" aria-label="3.23. 字符转换命令的直接链接" title="3.23. 字符转换命令的直接链接">​</a></h2><p>tr: 删除 文字替换</p><ul><li><code>last | tr &#x27;[a-z]&#x27; &#x27;[A-Z]&#x27;</code> 所有的小写变为大写</li><li><code>cat /etc/passwd |tr -d &quot;:&quot;</code> 将passwd中所有的<!-- -->[:]<!-- -->删除</li><li><code>cp /xxx /root/xxx &amp;&amp; unix2dos /root/xxx </code>将/xxx复制到/root下并转成dos断行</li><li><code>cat /xxx | tr -d &#x27;\r&#x27; &gt; /root/xxx</code>删除/xxx中的换行符号</li></ul><p>col: tab以空格显示</p><ul><li><code>cat -A /xxx</code>显示出所有按键符号</li><li><code>cat /etc/man.config | col -x | cat -A | more</code> 显示tab为空格</li></ul><p>expand: 替换tab为空格</p><p>split: 档案分割</p><p>xargs: 主要用于将前面的输出流格式化成输入参数</p><p>join, paste</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="324-字符串">3.24. 字符串<a href="#324-字符串" class="hash-link" aria-label="3.24. 字符串的直接链接" title="3.24. 字符串的直接链接">​</a></h2><p>删库悲剧:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># https://mp.weixin.qq.com/s/arUO8dhdUa-L1evglIQiog</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cur_path = `pwd`</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">new_cur_path = `${cur_path}/bbb` # 问题: `` 包围的代码会先执行, 但是 这里 反引号中的内容不是有效的命令, 返回空</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rm -rf ${new_cur_path}/* 2&gt;&gt;/dev/null # 最终变成 rm -rf /*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 改正: 将 `` 去掉, 或者再加上 &quot;&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"># 最好的办法是:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#如果目录不为空，才执行删除操作</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">if [ ${work_path} != &quot;&quot; ];then</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    rm -fr ${work_path}/*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/shell">shell</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/bash">bash</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/servlet"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Servlet Note</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/spring-note"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Spring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-片段收集" class="table-of-contents__link toc-highlight">1.1. 片段收集</a><ul><li><a href="#111-springboot-程序部署" class="table-of-contents__link toc-highlight">1.1.1. springboot 程序部署</a></li><li><a href="#112-判断文件是否存在" class="table-of-contents__link toc-highlight">1.1.2. 判断文件是否存在</a></li><li><a href="#113-调用-python" class="table-of-contents__link toc-highlight">1.1.3. 调用 Python</a></li><li><a href="#114-判断是否安装" class="table-of-contents__link toc-highlight">1.1.4. 判断是否安装</a></li><li><a href="#115-当前路径" class="table-of-contents__link toc-highlight">1.1.5. 当前路径</a></li><li><a href="#116-判断服务是否存活" class="table-of-contents__link toc-highlight">1.1.6. 判断服务是否存活</a></li><li><a href="#117-判断当前系统" class="table-of-contents__link toc-highlight">1.1.7. 判断当前系统</a></li><li><a href="#118-mvnw-wrapper" class="table-of-contents__link toc-highlight">1.1.8. mvnw wrapper</a></li></ul></li><li><a href="#12-执行方式" class="table-of-contents__link toc-highlight">1.2. 执行方式</a><ul><li><a href="#121-在命令行指定解释器执行" class="table-of-contents__link toc-highlight">1.2.1. 在命令行指定解释器执行</a></li><li><a href="#122-在脚本中指定解释器" class="table-of-contents__link toc-highlight">1.2.2. 在脚本中指定解释器</a></li><li><a href="#123-在当前-shell-中执行" class="table-of-contents__link toc-highlight">1.2.3. 在当前 shell 中执行</a></li></ul></li><li><a href="#13-各种括号-简写" class="table-of-contents__link toc-highlight">1.3. 各种括号 简写</a></li><li><a href="#14-特殊的参数变量" class="table-of-contents__link toc-highlight">1.4. 特殊的参数变量</a></li><li><a href="#15-特殊的状态变量" class="table-of-contents__link toc-highlight">1.5. 特殊的状态变量</a></li><li><a href="#16-语法" class="table-of-contents__link toc-highlight">1.6. 语法</a><ul><li><a href="#161-变量赋值-空格语法的坑" class="table-of-contents__link toc-highlight">1.6.1. 变量赋值 空格语法的坑</a></li><li><a href="#162-数据类型" class="table-of-contents__link toc-highlight">1.6.2. 数据类型</a><ul><li><a href="#1621-字符串-打印" class="table-of-contents__link toc-highlight">1.6.2.1. 字符串 打印</a></li><li><a href="#1622-数组" class="table-of-contents__link toc-highlight">1.6.2.2. 数组</a></li></ul></li><li><a href="#163-读取标准输入" class="table-of-contents__link toc-highlight">1.6.3. 读取标准输入</a></li><li><a href="#164-数值运算" class="table-of-contents__link toc-highlight">1.6.4. 数值运算</a></li><li><a href="#165-条件判断" class="table-of-contents__link toc-highlight">1.6.5. 条件判断</a></li><li><a href="#166-条件判断-case-语法" class="table-of-contents__link toc-highlight">1.6.6. 条件判断-case 语法</a></li><li><a href="#167-条件判断-多路分支语法" class="table-of-contents__link toc-highlight">1.6.7. 条件判断-多路分支语法</a></li><li><a href="#168-默认值" class="table-of-contents__link toc-highlight">1.6.8. 默认值</a></li><li><a href="#169-函数" class="table-of-contents__link toc-highlight">1.6.9. 函数</a></li></ul></li><li><a href="#17-debug" class="table-of-contents__link toc-highlight">1.7. debug</a></li><li><a href="#18-学习几个demo" class="table-of-contents__link toc-highlight">1.8. 学习几个demo</a></li><li><a href="#21-正则表达式和语言系统有关系" class="table-of-contents__link toc-highlight">2.1. 正则表达式和语言系统有关系</a></li><li><a href="#22-正则中的特殊符号" class="table-of-contents__link toc-highlight">2.2. 正则中的特殊符号</a></li><li><a href="#23-grep进阶用法" class="table-of-contents__link toc-highlight">2.3. grep进阶用法</a></li><li><a href="#24-延伸正则表示法" class="table-of-contents__link toc-highlight">2.4. 延伸正则表示法</a></li><li><a href="#25-sed" class="table-of-contents__link toc-highlight">2.5. sed</a></li><li><a href="#26-awk行内格式化" class="table-of-contents__link toc-highlight">2.6. awk行内格式化</a></li><li><a href="#27-printf格式化打印" class="table-of-contents__link toc-highlight">2.7. printf格式化打印</a></li><li><a href="#28-文件对比工具" class="table-of-contents__link toc-highlight">2.8. 文件对比工具</a></li><li><a href="#31-快捷键" class="table-of-contents__link toc-highlight">3.1. 快捷键</a></li><li><a href="#32-几种-bash-环境-startup-配置文件对比" class="table-of-contents__link toc-highlight">3.2. 几种 bash 环境 startup 配置文件对比</a></li><li><a href="#33-和-python-交互" class="table-of-contents__link toc-highlight">3.3. 和 Python 交互</a></li><li><a href="#34-示例" class="table-of-contents__link toc-highlight">3.4. 示例</a></li><li><a href="#35-所有可用的shell" class="table-of-contents__link toc-highlight">3.5. 所有可用的shell</a></li><li><a href="#36-环境变量" class="table-of-contents__link toc-highlight">3.6. 环境变量</a></li><li><a href="#37-键盘读取read" class="table-of-contents__link toc-highlight">3.7. 键盘读取read</a></li><li><a href="#38-declaretypeset声明变量类型" class="table-of-contents__link toc-highlight">3.8. declare,typeset声明变量类型</a></li><li><a href="#39-变量的删除取代" class="table-of-contents__link toc-highlight">3.9. 变量的删除取代</a></li><li><a href="#310-变量的测试和内容替换" class="table-of-contents__link toc-highlight">3.10. 变量的测试和内容替换</a></li><li><a href="#311-命令别名和设定" class="table-of-contents__link toc-highlight">3.11. 命令别名和设定</a></li><li><a href="#312-命令历史" class="table-of-contents__link toc-highlight">3.12. 命令历史</a></li><li><a href="#313-指令搜寻顺序" class="table-of-contents__link toc-highlight">3.13. 指令搜寻顺序</a></li><li><a href="#314-bash登录欢迎信息" class="table-of-contents__link toc-highlight">3.14. bash登录欢迎信息</a></li><li><a href="#315-bash的环境配置文件" class="table-of-contents__link toc-highlight">3.15. bash的环境配置文件</a></li><li><a href="#316-终端机的环境设定sttyset" class="table-of-contents__link toc-highlight">3.16. 终端机的环境设定stty,set</a></li><li><a href="#317-通配符和特殊符号" class="table-of-contents__link toc-highlight">3.17. 通配符和特殊符号</a></li><li><a href="#318-数据流重导向" class="table-of-contents__link toc-highlight">3.18. 数据流重导向</a></li><li><a href="#319-和" class="table-of-contents__link toc-highlight">3.19. &amp;&amp;和||</a></li><li><a href="#320-管线命令" class="table-of-contents__link toc-highlight">3.20. 管线命令</a></li><li><a href="#321-截取命令" class="table-of-contents__link toc-highlight">3.21. 截取命令</a></li><li><a href="#322-排序sortwcuniq" class="table-of-contents__link toc-highlight">3.22. 排序sort,wc,uniq</a></li><li><a href="#323-字符转换命令" class="table-of-contents__link toc-highlight">3.23. 字符转换命令</a></li><li><a href="#324-字符串" class="table-of-contents__link toc-highlight">3.24. 字符串</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">历史</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tags">标签</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">归档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/xiaoyureed" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/xiaoyuhfq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/3fPgwd3naN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">友链</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/resource">导航</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Xiaoyureed, Inc. Built with ❤️ by xiaoyu.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1d3c4806.js"></script>
<script src="/assets/js/main.d12f9d85.js"></script>
</body>
</html>