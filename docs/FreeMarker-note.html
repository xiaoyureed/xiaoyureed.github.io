<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-FreeMarker-note">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">FreeMarker Note | Xiaoyureed&#x27;s ç½‘ç»œ Wiki </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xiaoyureed.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xiaoyureed.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xiaoyureed.github.io/docs/FreeMarker-note"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FreeMarker Note | Xiaoyureed&#x27;s ç½‘ç»œ Wiki "><meta data-rh="true" name="description" content="references//freemarker.apache.org/docs/dguiquickstarttemplate.html"><meta data-rh="true" property="og:description" content="references//freemarker.apache.org/docs/dguiquickstarttemplate.html"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xiaoyureed.github.io/docs/FreeMarker-note"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/en/docs/FreeMarker-note" hreflang="en"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/FreeMarker-note" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/FreeMarker-note" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Xiaoyureed&#39;s ç½‘ç»œ Wiki  RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Xiaoyureed&#39;s ç½‘ç»œ Wiki  Atom Feed"><link rel="stylesheet" href="/assets/css/styles.c6a654bf.css">
<link rel="preload" href="/assets/js/runtime~main.6d396791.js" as="script">
<link rel="preload" href="/assets/js/main.f6c8ad5f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="xiaoyureed Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="xiaoyureed Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Xiaoyureed</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/xiaoyureed" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/FreeMarker-note">FreeMarker Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SpringBoot-note">Spring Boot å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/agile-development-user-story-scrum">æ•æ·å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/android">Android å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/autohotkey">Autohotkey è„šæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/blockchain">blockchainåŒºå—é“¾</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/c-sharp-and-dot-net">C# &amp; .NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chatgpt">Chatgpt Usage Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cloud-native-platform">äº‘æœåŠ¡å¹³å°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cpp">CPP and C å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cross-gfw">Cross The GFW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-note">Computer Science Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/css-pre-processor">å‡ ç§CSSé¢„å¤„ç†å™¨æ¯”è¾ƒé€‰å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data-structure-and-algorithm">Data Structure and Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/design-pattern-note">Design Pattern ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-resources">å¼€å‘è€…èµ„æº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/devops">DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distributed-system">Distributed System åˆ†å¸ƒå¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docker-note-virtual-dev-env">Docker Note &amp; Other Virtual Develop Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/effective-java-reading-note">Effective Java é˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/elk-elastic-log">Distributed log collectionåˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/english-note">è‹±è¯­å­¦ä¹ ğŸ”¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/extjs-note">Extjs ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/flutter">flutter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/games-development-introduce">æ¸¸æˆå¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git-note">Git å¤‡å¿˜ ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/github-starts">Github æ˜Ÿæ ‡â­ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/golang-note">Golang ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gps-gis-tracing">åŸºäºåœ°ç†ä½ç½®å¼€å‘æŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gradle">gradle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/greasy-monkey">æ²¹çŒ´æ’ä»¶&amp;ç¼–å†™è„šæœ¬ğŸ’</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/groovy-note">groovy note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/health">Health å…³çˆ±ç¨‹åºå‘˜å¥åº·ğŸ¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/how-to-test-java-app">How to Test Java App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/html-note">HTML å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/idea-note">InteliJ idea tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/interview-system-design">ç»å…¸çš„ç³»ç»Ÿè®¾è®¡æ€è·¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iot">Iot ç‰©è”ç½‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-code-clean">Java Clean Code Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-concurrent">Java ConcurrentğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-memory-model-jmm-jvm">JMM and GCğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-note">Java Core ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jquery-note">JQuery notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/js-tutorial">JavaScript tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kotlin">kotlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kubernetes-k8s">kubernetes-k8s â˜ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux-note">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœé˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mac">Mac å¼€å‘ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/machine-learning-ml">machine-learning-ml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/maven-note">Maven NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/message-queue">Message QueueğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/money">Investment Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mongodb-note">MongoDB NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/monitor-system-grafana-prometheus-influxdb-hbase">monitor-system-grafana-prometheusç›‘æ§ğŸ–¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mvc-mvvm">MVC to MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mybatis-note">MyBatis Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/netty-note">netty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nlp-natural-language-processing">nlp-natural-language-processingğŸ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodejs-yarn-npm">Nodejs, Yarn, Npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/oracle">Oracle å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-audio-video">Audio and Video development Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-big-data-introduce">å¤§æ•°æ®å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-cache">Cache ç¼“å­˜ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-computational-ad">è®¡ç®—å¹¿å‘Š Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-crawler-spider">ç½‘ç»œçˆ¬è™« Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-db-design-note">å…³ç³»å‹æ•°æ®åº“è¡¨è®¾è®¡ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-desktop-develop">æ¡Œé¢åº”ç”¨å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-http">HTTP protocol Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-reactive-programming">å“åº”å¼ç¼–ç¨‹ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rest-api">RESTful api åŠ å…¶ä»–webServiceæŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rpc">RPC Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rule-engine-note">è§„åˆ™å¼•æ“ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/php-note">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/play-framework">Playæ¡†æ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/postgres-note">Postgres noteğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/process-workflow-bpm-engine">å·¥ä½œæµå¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/protect-your-app-authentication-oauth2-jwt-https">Protect Your App å®‰å…¨ä¿æŠ¤è®¤è¯é‰´æƒğŸ”‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/python-note">PythonğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quant-money">é‡åŒ–äº¤æ˜“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react-note">ReactğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/real-time-communication-protocol">å®æ—¶é€šä¿¡ Real-time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/redis-note">RedisğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/regex">Regular Expression æ­£åˆ™ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rust-note">Rust ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/saas-paas-iaas-as-a-service">SaaS Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-mesh">service mesh æœåŠ¡ç½‘æ ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/servlet">Servlet Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/shell-bash-note">shell-bashè„šæœ¬æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/spring-note">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springcloud-note">Spring Cloud ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springmvc-note">Spring MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/task-schedule-note">Task Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tcp-ip-note">TCP IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tomcat-jetty-nginx">Tomcat Jetty Nginx ç­‰ web å®¹å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">Vertx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-creator">æ‹æ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webassembly">webassembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webpack-esbuild-vite-rollup">å‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/windows-sub-system-on-linux">WSL ä½¿ç”¨</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FreeMarker Note</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>FreeMarker Note</h1></header><div align="center">references: https://freemarker.apache.org/docs/dgui_quickstart_template.html</div><ul><li><a href="#1-%E5%92%8Cjsp-velocity-thymeleaf%E5%AF%B9%E6%AF%94">1. å’Œjsp-velocity-thymeleafå¯¹æ¯”</a></li><li><a href="#2-%E5%92%8C-springboot-%E9%9B%86%E6%88%90">2. å’Œ springboot é›†æˆ</a></li><li><a href="#3-quick-start">3. quick start</a></li><li><a href="#4-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">4. åŸºæœ¬è¯­æ³•</a><ul><li><a href="#41-%E6%94%AF%E6%8C%81%E7%9A%84%E7%B1%BB%E5%9E%8B">4.1. æ”¯æŒçš„ç±»å‹</a></li><li><a href="#42-if-%E6%9D%A1%E4%BB%B6%E6%8C%87%E4%BB%A4">4.2. if æ¡ä»¶æŒ‡ä»¤</a></li><li><a href="#43-list-%E9%81%8D%E5%8E%86%E6%8C%87%E4%BB%A4">4.3. list éå†æŒ‡ä»¤</a></li><li><a href="#44-include-%E5%92%8C-import">4.4. include å’Œ import</a></li><li><a href="#45-%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">4.5. å®šä¹‰å˜é‡</a></li><li><a href="#46-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4">4.6. å‘½åç©ºé—´</a></li><li><a href="#47-%E8%81%94%E5%90%88%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4">4.7. è”åˆä½¿ç”¨æŒ‡ä»¤</a></li><li><a href="#48-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0">4.8. å†…å»ºå‡½æ•°</a></li><li><a href="#49-%E6%96%B9%E6%B3%95%E5%92%8C%E5%87%BD%E6%95%B0">4.9. æ–¹æ³•å’Œå‡½æ•°</a></li><li><a href="#410-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4%E6%8E%A8%E8%8D%90%E4%BC%98%E5%85%88%E4%BD%BF%E7%94%A8">4.10. ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤æ¨èä¼˜å…ˆä½¿ç”¨</a><ul><li><a href="#4101-macro-nested-%E5%AE%8F%E6%8C%87%E4%BB%A4-%E5%B5%8C%E5%A5%97%E6%8C%87%E4%BB%A4">4.10.1. macro nested å®æŒ‡ä»¤ åµŒå¥—æŒ‡ä»¤</a></li><li><a href="#4102-%E5%AE%8F%E6%8C%87%E4%BB%A4%E4%B8%AD%E7%9A%84%E5%BE%AA%E7%8E%AF%E5%8F%98%E9%87%8F">4.10.2. å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡</a></li></ul></li><li><a href="#411-%E8%A1%A8%E8%BE%BE%E5%BC%8F">4.11. è¡¨è¾¾å¼</a></li></ul></li><li><a href="#5-%E5%A4%84%E7%90%86%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E5%8F%98%E9%87%8F">5. å¤„ç†ä¸å­˜åœ¨çš„å˜é‡</a></li><li><a href="#6-%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF">6. å¸¸è§é”™è¯¯</a><ul><li><a href="#61-%E6%8C%87%E4%BB%A4%E4%BD%93%E5%86%85%E9%83%A8%E5%8F%98%E9%87%8F%E6%97%A0%E9%9C%80">6.1. æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€${}</a></li><li><a href="#62-%E6%95%B0%E5%AD%97%E5%8D%83%E5%88%86%E4%BD%8D%E6%A0%BC%E5%BC%8F%E5%8C%96">6.2. æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–</a></li></ul></li><li><a href="#7-%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91">7. ç¨‹åºå¼€å‘</a><ul><li><a href="#71-freemaker%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8C%85%E8%A3%85">7.1. freemakerå¯¹è±¡çš„åŒ…è£…</a></li><li><a href="#72-configuration-%E9%85%8D%E7%BD%AE">7.2. Configuration é…ç½®</a><ul><li><a href="#721-%E5%85%B1%E4%BA%AB%E5%8F%98%E9%87%8F">7.2.1. å…±äº«å˜é‡</a></li><li><a href="#722-%E4%B8%89%E5%B1%82%E9%85%8D%E7%BD%AE">7.2.2. ä¸‰å±‚é…ç½®</a><ul><li><a href="#7221-configuration%E5%B1%82">7.2.2.1. Configurationå±‚</a></li><li><a href="#7222-template">7.2.2.2. Template</a></li><li><a href="#7223-environment">7.2.2.3. Environment</a></li></ul></li><li><a href="#723-%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8A%A0%E8%BD%BD">7.2.3. æ¨¡æ¿çš„åŠ è½½</a></li><li><a href="#724-%E9%94%99%E8%AF%AF%E6%8E%A7%E5%88%B6">7.2.4. é”™è¯¯æ§åˆ¶</a></li></ul></li><li><a href="#73-%E9%80%9A%E8%BF%87java%E5%BC%80%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95">7.3. é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•</a></li><li><a href="#74-%E9%80%9A%E8%BF%87java%E5%BC%80%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4">7.4. é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤</a></li></ul></li></ul><h1>å’Œjsp-velocity-thymeleafå¯¹æ¯”</h1><p><a href="https://blog.csdn.net/richard_vi/article/details/78849539" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/richard_vi/article/details/78849539</a></p><p>velocity è¯­æ³•ç®€å•ï¼Œ freemarker åŠŸèƒ½æ›´å¼ºå¤§</p><ul><li>FreeMarkerå¯ä»¥å¯¹ä»»æ„æ•°é‡çš„ç±»å‹æ‰§è¡Œè¿ç®—å’Œæ¯”è¾ƒï¼ŒåŒ…æ‹¬ä»»æ„ç²¾åº¦ç±»å‹ï¼Œè€Œä¸ä»…ä»…æ˜¯æ•´æ•°ã€‚ </li><li>FreeMarkerå¯ä»¥æ¯”è¾ƒå’Œæ˜¾ç¤ºï¼ˆæ ¼å¼åŒ–ï¼‰æ—¥æœŸ/æ—¶é—´å€¼</li><li>FreeMarkerå¯ä»¥åŸºäºå„ç§å„æ ·çš„å†…ç½®å’Œè‡ªå®šä¹‰æ•°å­—æˆ–è€…æ—¥æœŸæ ¼å¼ï¼Œæ¥æ ¼å¼åŒ–æ•°å­—åŒºåŸŸæˆ–è€…æ—¥æœŸåœ°åŒºæ—¶åŒºç­‰</li><li>1.5åŠä»¥ä¸Šç‰ˆæœ¬çš„spring bootå·²ç»ä¸æ”¯æŒvelocityã€‚</li></ul><h1>å’Œ springboot é›†æˆ</h1><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>quick start</h1><p>å®Œæˆä¸€ä¸ªç®€å•çš„demo, éœ€è¦å‡†å¤‡2éƒ¨åˆ†å·¥ä½œè¦åš</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">æ•°æ®æ¨¡å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (root)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        +- user = &quot;Big Joe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        +- latestProduct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            +- url = &quot;products/greenmouse.html&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            +- name = &quot;green mouse&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            +- animals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   +- (1st)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- name = &quot;mouse&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- size = &quot;small&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- price = 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   +- (2nd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- name = &quot;elephant&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- size = &quot;large&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |   +- price = 5000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |   +- (3rd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       +- name = &quot;python&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       +- size = &quot;medium&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |       +- price = 4999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            +- misc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                +- fruits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    +- (1st) = &quot;orange&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    +- (2nd) = &quot;banana&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    æ¨¡å‹æ•°æ®é€šå¸¸æ¥è‡ªäºjavaå¯¹è±¡, æ ‘ç»“æ„ä¸­çš„ç›®å½•ç±»æ¯”äºåµŒå¥—å¯¹è±¡, ç§°ä¸º`hashes`, å¶å­èŠ‚ç‚¹ç§°ä¸º`scalars`, è®¿é—®è¯­æ³•: latestProduct.url; å¦å¤–ä¸€ç§å¾ˆé‡è¦çš„å˜é‡æ˜¯ `sequences `, å®ƒä»¬åƒå“ˆå¸Œè¡¨é‚£æ ·å­˜å‚¨å­å˜é‡ï¼Œä½†æ˜¯å­å˜é‡æ²¡æœ‰åå­—ï¼Œå®ƒä»¬åªæ˜¯åˆ—è¡¨ä¸­çš„é¡¹, è¯­æ³•: latestProduct.animals[0].name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   æ¨¡ç‰ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Welcome!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Welcome ${user}!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Our latest product:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${latestProduct.url}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${latestProduct.name}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>åŸºæœ¬è¯­æ³•</h1><ul><li><p><code>${...}</code> ï¼š FreeMarkerå°†ä¼šè¾“å‡ºçœŸå®çš„å€¼æ¥æ›¿æ¢å¤§æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œè¿™æ ·çš„è¡¨è¾¾å¼è¢«ç§°ä¸º interpolation(æ’å€¼)</p></li><li><p><code>FTL æ ‡ç­¾</code> : (FreeMarkeræ¨¡æ¿çš„è¯­è¨€æ ‡ç­¾)ï¼š FTLæ ‡ç­¾å’ŒHTMLæ ‡ç­¾æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯FreeMarkerçš„æŒ‡ä»¤ï¼Œæ˜¯ä¸ä¼šåœ¨è¾“å‡ºä¸­æ‰“å°çš„ã€‚ è¿™äº›æ ‡ç­¾çš„åå­—ä»¥ <code># </code>å¼€å¤´ã€‚(ç”¨æˆ·è‡ªå®šä¹‰çš„FTLæ ‡ç­¾åˆ™éœ€è¦ä½¿ç”¨ @ æ¥ä»£æ›¿ #)</p></li><li><p><code>æ³¨é‡Š</code>ï¼š æ³¨é‡Šå’ŒHTMLçš„æ³¨é‡Šä¹Ÿå¾ˆç›¸ä¼¼ï¼Œ ä½†æ˜¯å®ƒä»¬ä½¿ç”¨ <code>&lt;#-- and --&gt; </code>æ¥æ ‡è¯†ã€‚ ä¸åƒHTMLæ³¨é‡Šé‚£æ ·ï¼ŒFTLæ³¨é‡Šä¸ä¼šå‡ºç°åœ¨è¾“å‡ºä¸­(ä¸å‡ºç°åœ¨è®¿é—®è€…çš„é¡µé¢ä¸­)ï¼Œ å› ä¸º FreeMarkerä¼šè·³è¿‡å®ƒä»¬ã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒçš„ç±»å‹">æ”¯æŒçš„ç±»å‹<a href="#æ”¯æŒçš„ç±»å‹" class="hash-link" aria-label="æ”¯æŒçš„ç±»å‹çš„ç›´æ¥é“¾æ¥" title="æ”¯æŒçš„ç±»å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ ‡é‡(scalars)<ul><li>å­—ç¬¦ä¸²</li><li>æ•°å­—</li><li>å¸ƒå°”å€¼ true/false</li><li>æ—¥æœŸ/æ—¶é—´</li></ul></li><li>å®¹å™¨<ul><li>å“ˆå¸Œè¡¨: æ¯ä¸ªå­å˜é‡éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªå”¯ä¸€çš„åç§°æ¥æŸ¥æ‰¾ã€‚ è¿™ä¸ªåç§°æ˜¯ä¸å—é™åˆ¶çš„å­—ç¬¦ä¸²ã€‚å“ˆå¸Œè¡¨ å¹¶ä¸ç¡®å®šå…¶ä¸­å­å˜é‡çš„é¡ºåº</li><li>åºåˆ—: æ¯ä¸ªå­å˜é‡é€šè¿‡ä¸€ä¸ªæ•´æ•°æ¥æ ‡è¯†,è€Œä¸”å­å˜é‡æ˜¯æœ‰é¡ºåºçš„, å­å˜é‡çš„ç±»å‹ä¹Ÿå¹¶ä¸éœ€è¦å®Œå…¨ä¸€è‡´</li><li>é›†åˆ: é›†åˆæ˜¯æœ‰é™åˆ¶çš„åºåˆ—ã€‚ä¸èƒ½è·å–é›†åˆçš„å¤§å°ï¼Œ ä¹Ÿä¸èƒ½é€šè¿‡ç´¢å¼•å–å‡ºé›†åˆä¸­çš„å­å˜é‡ï¼Œä½†æ˜¯å®ƒä»¬ä»ç„¶å¯ä»¥é€šè¿‡ list æŒ‡ä»¤æ¥éå†ã€‚</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="if-æ¡ä»¶æŒ‡ä»¤">if æ¡ä»¶æŒ‡ä»¤<a href="#if-æ¡ä»¶æŒ‡ä»¤" class="hash-link" aria-label="if æ¡ä»¶æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥" title="if æ¡ä»¶æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Welcome ${user}&lt;#if user == &quot;Big Joe&quot;&gt;, our beloved leader</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è‹¥user == &quot;Big Joe&quot;, åˆ™æ˜¾ç¤º&quot;, our beloved leader&quot;</p><p>ç±»ä¼¼çš„, <code>ä¸ç­‰äº</code>çš„å†™æ³•</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals.python.price</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">!</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c"> 0</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Pythons are not free today!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¤šé‡åˆ¤æ–­</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals.python.price</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&lt;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals.elephant.price</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Pythons are cheaper than elephants today.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#elseif</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals.elephant.price</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&lt;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals.python.price</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Elephants are cheaper than pythons today.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#else</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Elephants and pythons cost the same today.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="list-éå†æŒ‡ä»¤">list éå†æŒ‡ä»¤<a href="#list-éå†æŒ‡ä»¤" class="hash-link" aria-label="list éå†æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥" title="list éå†æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">We have these animals:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">table</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">border</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${animal.name}</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${animal.price} Euros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">[&quot;foo&quot;,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;bar&quot;,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;baz&quot;]</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ${x}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¸¦åˆ†éš”ç¬¦çš„è¾“å‡º</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Fruits: </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">misc.fruits</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">fruit</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${fruit}</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#sep</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">, </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™: &lt;#sep&gt;, &lt;/#sep&gt;</p><p>è¿™æ ·æœ€åä¸€é¡¹åé¢å°±ä¸ä¼šæœ‰åˆ†éš”ç¬¦äº†</p><p>è¿›ä¸€æ­¥ä¿®æ”¹: å¤„ç†ç©ºå€¼</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Fruits: </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">misc.fruits</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">fruit</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${fruit}</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#sep</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">, </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#else</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">None</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™æ ·å½“æ²¡æœ‰å€¼çš„æ—¶å€™, ä¼šæ˜¾ç¤º&quot;None&quot;;</p><p>å¦ä¸€ç§ç®€å†™è¯­æ³•: <code>Fruits: ${fruits?join(&quot;, &quot;, &quot;None&quot;)}</code></p><p>list å’Œitemsåˆç”¨, å¤„ç†ç©ºå€¼:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--itemsæŒ‡ä»¤,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">åªæœ‰itemsé‡Œçš„å…ƒç´ æ‰ä¼šå¾ªç¯--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">nullTest</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#items</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">fruit</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${fruit}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#items</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ä¸Šé¢æ²¡æœ‰ç©ºè¡Œ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">#--æ¯”è¾ƒ:</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">æ²¡æœ‰ä½¿ç”¨itemsçš„æƒ…å†µ--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">nullTest</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">fruit</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${fruit}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">æœ‰ç©ºè¡Œ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="include-å’Œ-import">include å’Œ import<a href="#include-å’Œ-import" class="hash-link" aria-label="include å’Œ importçš„ç›´æ¥é“¾æ¥" title="include å’Œ importçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Test page</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Blah blah...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;#include &quot;/copyright_footer.html&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>includeåªæœ‰å¼€å§‹æ ‡ç­¾, æ²¡æœ‰ç»“æŸæ ‡ç­¾, å› ä¸ºæ²¡æœ‰æ ‡ç­¾åµŒå¥—å†…å®¹, ç»“æŸæ ‡ç­¾å¯ä»¥çœç•¥</p><p>å®é™…é‡ç”¨ä»£ç æœ‰æ›´å¥½çš„æ–¹å¼: è‡ªå®šä¹‰æŒ‡ä»¤(å®å‘½ä»¤), ä¸‹æ–‡è®¨è®º</p><p>å†çœ‹import, importä¹Ÿæ˜¯ç”¨äºå˜é‡ç”Ÿå‘½å¯¼å…¥å£°æ˜</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®šä¹‰å˜é‡">å®šä¹‰å˜é‡<a href="#å®šä¹‰å˜é‡" class="hash-link" aria-label="å®šä¹‰å˜é‡çš„ç›´æ¥é“¾æ¥" title="å®šä¹‰å˜é‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>ç®€å•å˜é‡ï¼š å®ƒèƒ½ä»æ¨¡æ¿ä¸­çš„ä»»ä½•ä½ç½®æ¥è®¿é—®ï¼Œæˆ–è€…ä»ä½¿ç”¨ include æŒ‡ä»¤å¼•å…¥çš„æ¨¡æ¿è®¿é—®ã€‚å¯ä»¥ä½¿ç”¨ <code>assign æŒ‡ä»¤</code>æ¥åˆ›å»ºæˆ–æ›¿æ¢è¿™äº›å˜é‡ã€‚å› ä¸ºå®å’Œæ–¹æ³•åªæ˜¯å˜é‡ï¼Œé‚£ä¹ˆ <code>macro æŒ‡ä»¤ å’Œ function æŒ‡ä»¤ ä¹Ÿå¯ä»¥ç”¨æ¥è®¾ç½®å˜é‡</code>ï¼Œå°±åƒ assign é‚£æ ·ã€‚</p></li><li><p>å±€éƒ¨å˜é‡ï¼šå®ƒä»¬åªèƒ½è¢«è®¾ç½®åœ¨ å®å®šä¹‰ä½“å†…ï¼Œ è€Œä¸”åªåœ¨å®å†…å¯è§ã€‚ä¸€ä¸ªå±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸåªæ˜¯å®çš„è°ƒç”¨è¿‡ç¨‹ã€‚å¯ä»¥ä½¿ç”¨<code> localæŒ‡ä»¤</code> åœ¨å®å®šä¹‰ä½“å†…åˆ›å»ºæˆ–æ›¿æ¢å±€éƒ¨å˜é‡ã€‚</p></li><li><p>å¾ªç¯å˜é‡ï¼šå¾ªç¯å˜é‡æ˜¯ç”±å¦‚ <code>list æŒ‡ä»¤</code>è‡ªåŠ¨åˆ›å»ºçš„ï¼Œè€Œä¸”å®ƒä»¬åªåœ¨æŒ‡ä»¤çš„å¼€å§‹å’Œç»“æŸæ ‡è®°å†…æœ‰æ•ˆã€‚å® çš„å‚æ•°æ˜¯å±€éƒ¨å˜é‡è€Œä¸æ˜¯å¾ªç¯å˜é‡ã€‚</p></li><li><p>å…¨å±€å˜é‡ï¼šè¿™æ˜¯ä¸€ä¸ªé«˜çº§è¯é¢˜äº†ï¼Œ å¹¶ä¸”è¿™ç§å˜é‡æœ€å¥½åˆ«ç”¨ã€‚å³ä¾¿å®ƒä»¬å±äºä¸åŒçš„å‘½åç©ºé—´ï¼Œ å…¨å±€å˜é‡ä¹Ÿè¢«æ‰€æœ‰æ¨¡æ¿å…±äº«ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¢« importè¿›æ¥çš„ï¼Œ ä¸åŒäº include è¿›æ¥çš„ã€‚é‚£ä¹ˆå®ƒä»¬çš„å¯è§åº¦å°±åƒæ•°æ®æ¨¡å‹é‚£æ ·ã€‚ å…¨å±€å˜é‡é€šè¿‡ <code>globalæŒ‡ä»¤</code>æ¥å®šä¹‰ã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‘½åç©ºé—´">å‘½åç©ºé—´<a href="#å‘½åç©ºé—´" class="hash-link" aria-label="å‘½åç©ºé—´çš„ç›´æ¥é“¾æ¥" title="å‘½åç©ºé—´çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä½¿ç”¨ assign å’Œ macro æŒ‡ä»¤åˆ›å»ºçš„å˜é‡çš„é›†åˆ, è¿™æ ·çš„å˜é‡é›†åˆå°±æ˜¯å‘½åç©ºé—´; å¦‚æœæƒ³åˆ›å»ºå¯ä»¥é‡å¤ä½¿ç”¨çš„å®ï¼Œå‡½æ•°å’Œå…¶ä»–å˜é‡çš„é›†åˆï¼Œ é€šå¸¸ç”¨æœ¯è¯­æ¥è¯´å°±æ˜¯å¼•ç”¨ åº“, ä¸ºäº†é¿å…å˜é‡åå†²çª, å¼•å…¥å‘½åç©ºé—´;</p><p>é¦–å…ˆå»ºç«‹ä¸€ä¸ªåº“:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ä¿©å˜é‡: copyright, mail; ä¿å­˜åœ¨æ–‡ä»¶my_test.ftl --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">copyright</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">date</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Copyright (C) ${date} Julia Smith. All rights reserved.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">mail</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c"> </span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">jsmith@acme.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨: é€šè¿‡importå‘½ä»¤å¼•å…¥(ä¸è¦ä½¿ç”¨includeå‘½ä»¤, å› ä¸ºè¿™æ ·ä¼šåœ¨ä¸»å‘½åç©ºé—´åˆ›å»ºä¸¤ä¸ªå˜é‡, è€Œimportä¼šå¼•å…¥æ–°çš„å‘½åç©ºé—´)</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;#import &quot;/lib/my_test.ftl&quot; as my&gt; </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">the</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">hash</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">called</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;my&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">will</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">be</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">the</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;gate&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@my.copyright</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">date</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1999-2002</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${my.mail}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- åœ¨å¼•å…¥çš„å‘½åç©ºé—´ä¸­å¢åŠ å˜é‡, assignå‘½ä»¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ç»“æœ:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    jsmith@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">jsmith@other.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;#import &quot;/lib/my_test.ftl&quot; as my&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${my.mail}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">mail</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">jsmith@other.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">in</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">my</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${my.mail}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ¨¡æ¿ä¸­çš„å˜é‡ä¼˜å…ˆçº§é«˜äºæ•°æ®æ¨¡å‹ä¸­çš„å˜é‡.</p><p>åº“çš„è·¯å¾„ä¸€èˆ¬è¿™æ ·: /lib/yourcompany.com/your_library.ftl, æ–¹ä¾¿ä»–äººå¼•ç”¨;</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è”åˆä½¿ç”¨æŒ‡ä»¤">è”åˆä½¿ç”¨æŒ‡ä»¤<a href="#è”åˆä½¿ç”¨æŒ‡ä»¤" class="hash-link" aria-label="è”åˆä½¿ç”¨æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥" title="è”åˆä½¿ç”¨æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æŒ‡ä»¤å¯åµŒå¥—ä½¿ç”¨, å³ä½¿æ˜¯åœ¨å°–æ‹¬å·å†…éƒ¨; å› ä¸ºFreeMarkerå¹¶ä¸è§£æFTLæ ‡ç­¾ä»¥å¤–çš„æ–‡æœ¬ã€æ’å€¼å’Œæ³¨é‡Šï¼Œ æ‰€ä»¥åœ¨HTMLå±æ€§ä¸­ä½¿ç”¨FTLæ ‡ç­¾ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ã€‚</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animals</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;div</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">animal.protected</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> class=&quot;protected&quot;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ${animal.name} for ${animal.price} Euros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å»ºå‡½æ•°">å†…å»ºå‡½æ•°<a href="#å†…å»ºå‡½æ•°" class="hash-link" aria-label="å†…å»ºå‡½æ•°çš„ç›´æ¥é“¾æ¥" title="å†…å»ºå‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å†…å»ºå‡½æ•°ç±»ä¼¼äºå­å±æ€§(scalars), ä½†æ˜¯è®¿é—®æ–¹æ³•ä¸æ˜¯<code>.</code>, è€Œæ˜¯<code>?</code>, å¸¸ç”¨çš„åˆ—åœ¨è¿™é‡Œ</p><ul><li>user?html ç»™å‡º user çš„HTMLè½¬ä¹‰ç‰ˆæœ¬ï¼Œ æ¯”å¦‚ &amp; ä¼šç”± <code>&amp;amp;</code> æ¥ä»£æ›¿ã€‚</li><li>user?upper_case ç»™å‡º user å€¼çš„å¤§å†™ç‰ˆæœ¬ (æ¯”å¦‚ &quot;JOHN DOE&quot; æ¥æ›¿ä»£ &quot;John Doe&quot;)</li><li>animal.name?cap_first ç»™å‡º animal.name çš„é¦–å­—æ¯å¤§å†™ç‰ˆæœ¬(æ¯”å¦‚ &quot;Mouse&quot; æ¥æ›¿ä»£ &quot;mouse&quot;)</li><li>user?length ç»™å‡º user å€¼ä¸­ å­—ç¬¦çš„æ•°é‡(å¯¹äº &quot;John Doe&quot; æ¥è¯´å°±æ˜¯8)</li><li>animals?size ç»™å‡º animals åºåˆ—ä¸­ é¡¹ç›® çš„ä¸ªæ•°</li><li>animal.protected?string(&quot;Y&quot;, &quot;N&quot;) åŸºäº animal.protected çš„å¸ƒå°”å€¼æ¥è¿”å›å­—ç¬¦ä¸² &quot;Y&quot; æˆ– &quot;N&quot;ã€‚</li><li><code>animal?item_cycle(&#x27;lightRow&#x27;,&#x27;darkRow&#x27;)</code>, æ ¹æ®å½“å‰animalè®¡æ•°çš„å¥‡å¶æ€§, è¿”å›å­—ç¬¦ä¸² &quot;odd&quot; æˆ– &quot;even&quot;, åœ¨ç»™ä¸åŒè¡Œç€è‰²æ—¶ä½¿ç”¨</li><li><code>fruits?join(&quot;, &quot;)</code> é€šè¿‡è¿æ¥æ‰€æœ‰é¡¹ï¼Œå°†åˆ—è¡¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œ åœ¨æ¯ä¸ªé¡¹ä¹‹é—´æ’å…¥å‚æ•°åˆ†éš”ç¬¦<code>, </code></li><li><code>user?starts_with(&quot;J&quot;)</code> æ ¹æ® user çš„é¦–å­—æ¯æ˜¯å¦æ˜¯ &quot;J&quot; è¿”å›å¸ƒå°”å€¼trueæˆ–false</li><li>ä¸“é—¨åœ¨&lt;#list&gt;æŒ‡ä»¤ä½“å†…ä½¿ç”¨çš„<ul><li>animal?index ç»™å‡ºäº†åœ¨ animals ä¸­åŸºäº0å¼€å§‹çš„ animalçš„ç´¢å¼•å€¼</li><li>animal?counter ä¹Ÿåƒ indexï¼Œ ä½†æ˜¯ç»™å‡ºçš„æ˜¯åŸºäº1çš„ç´¢å¼•å€¼</li><li><code>animal?item_parity</code> åŸºäºå½“å‰è®¡æ•°çš„å¥‡å¶æ€§ï¼Œç»™å‡ºå­—ç¬¦ä¸² &quot;odd&quot; æˆ– &quot;even&quot;ã€‚åœ¨ç»™ä¸åŒè¡Œç€è‰²æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨ <code>&lt;td class=&quot;${animal?item_parity}Row&quot;&gt;</code>ä¸­ã€‚åŠŸèƒ½åŒanimal?item_cycle(&#x27;lightRow&#x27;,&#x27;darkRow&#x27;)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹æ³•å’Œå‡½æ•°">æ–¹æ³•å’Œå‡½æ•°<a href="#æ–¹æ³•å’Œå‡½æ•°" class="hash-link" aria-label="æ–¹æ³•å’Œå‡½æ•°çš„ç›´æ¥é“¾æ¥" title="æ–¹æ³•å’Œå‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä½¿ç”¨: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The average of 3 and 5 is: ${avg(3, 5)}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The average of 6 and 10 and 20 is: ${avg(6, 10, 20)}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The average of the price of a python and an elephant is:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${avg(animals.python.price, animals.elephant.price)}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ–¹æ³•æ¥è‡ªäºæ•°æ®æ¨¡å‹ä¸­çš„å®šä¹‰, å‡½æ•°æ¥è‡ªäºæ¨¡ç‰ˆå†…çš„å®šä¹‰</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤æ¨èä¼˜å…ˆä½¿ç”¨">ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤(æ¨èä¼˜å…ˆä½¿ç”¨)<a href="#ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤æ¨èä¼˜å…ˆä½¿ç”¨" class="hash-link" aria-label="ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤(æ¨èä¼˜å…ˆä½¿ç”¨)çš„ç›´æ¥é“¾æ¥" title="ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤(æ¨èä¼˜å…ˆä½¿ç”¨)çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ¢å¥è¯è¯´ï¼Œå°±æ˜¯FreeMarkerçš„æ ‡ç­¾</p><p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªå˜é‡ boxï¼Œå®ƒçš„å€¼æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„æŒ‡ä»¤ï¼Œ ç”¨æ¥æ‰“å°ä¸€äº›ç‰¹å®šçš„HTMLä¿¡æ¯ï¼ŒåŒ…å«æ ‡é¢˜å’Œä¸€æ¡ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œ box å˜é‡å°±å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨: </p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@box</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">title</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Attention!</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Too much copy-pasting may leads to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  maintenance headaches.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@box</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="macro-nested-å®æŒ‡ä»¤-åµŒå¥—æŒ‡ä»¤">macro nested å®æŒ‡ä»¤ åµŒå¥—æŒ‡ä»¤<a href="#macro-nested-å®æŒ‡ä»¤-åµŒå¥—æŒ‡ä»¤" class="hash-link" aria-label="macro nested å®æŒ‡ä»¤ åµŒå¥—æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥" title="macro nested å®æŒ‡ä»¤ åµŒå¥—æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--user-customized-directive--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">define--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">greet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">font</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">size</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">+2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Greet: hello</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">font</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">è°ƒç”¨</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@greet</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">define</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">å¸¦å‚æ•°,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">è¿™é‡Œåç§°ç›¸åŒä¼šè¦†ç›–ä¹‹å‰å®šä¹‰çš„åŒåå®--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">greet</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">person</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">font</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">size</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">+2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hello, ${person}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">font</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@greet</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">person</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">xiaoyutest</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å®šä¹‰å¤šä¸ªå‚æ•°, å¸¦é»˜è®¤å€¼, è°ƒç”¨æ—¶å¯ä»¥è¦†ç›– --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">greet</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">person</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">color</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">black</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">font</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">size</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">+2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">color</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${color}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello ${person}!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">font</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- è‡ªå®šä¹‰æŒ‡ä»¤åµŒå¥—å†…å®¹, &lt;#nested&gt; æŒ‡ä»¤æ‰§è¡Œä½äºå¼€å§‹å’Œç»“æŸæ ‡è®°æŒ‡ä»¤ä¹‹é—´çš„æ¨¡æ¿ä»£ç æ®µã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    è¾“å‡º:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    &lt;table border=4 cellspacing=0 cellpadding=4&gt;&lt;tr&gt;&lt;td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    The bordered text</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">border</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">table</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">border</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">4</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">cellspacing</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">cellpadding</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">4</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@border</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">The bordered text</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@border</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;#nested&gt;å¯å¤šæ¬¡è°ƒç”¨ </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    è¾“å‡º:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">do_thrice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@do_thrice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@do_thrice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å¦‚æœ ä¸ä½¿ç”¨nestedæŒ‡ä»¤, åµŒå¥—å†…å®¹å°†ä¸ä¼šè¾“å‡º --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡">å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡<a href="#å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡" class="hash-link" aria-label="å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡çš„ç›´æ¥é“¾æ¥" title="å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">do_thrice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- åœ¨è¿™é‡ŒæŒ‡å®šå˜é‡çš„value, --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#nested</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">3</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- x ç›¸å½“äº &lt;#list foos as foo&gt;...&lt;/#list&gt; ä¸­çš„ foo), å³å˜é‡çš„name </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ç»“æœ:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     1 Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  2 Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  3 Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@do_thrice</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">user-defined</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">directive</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">uses</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;;&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">instead</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">of</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;as&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ${x} Anything.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@do_thrice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å®æŒ‡ä»¤ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªå¾ªç¯å˜é‡ </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ç»“æœ:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     1. 0.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    2. 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    3. 1.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    4. 2 Last!</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">repeat</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">count</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å®æŒ‡ä»¤å®šä¹‰æ—¶, å®šä¹‰è‡ªå·±çš„å˜é‡ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">1..count</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;#nested x, x/2, x==count&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- å®å‘½ä»¤è°ƒç”¨æ—¶å€™, å®šä¹‰è°ƒç”¨æ—¶å€™ä½¿ç”¨çš„å˜é‡ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">count</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">4</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">c,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">halfc,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">last</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ${c}. ${halfc}</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">last</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> Last!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¡¨è¾¾å¼">è¡¨è¾¾å¼<a href="#è¡¨è¾¾å¼" class="hash-link" aria-label="è¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥" title="è¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è¡¨è¾¾å¼ç”¨äºæ’å€¼/æŒ‡ä»¤å‚æ•°</p><ul><li>ç›´æ¥æŒ‡å®šå€¼<ul><li>å­—ç¬¦ä¸²ï¼š &quot;Foo&quot; æˆ–è€… &#x27;Foo&#x27; æˆ–è€… &quot;It&#x27;s \&quot;quoted\&quot;&quot; æˆ–è€… &#x27;It\&#x27;s &quot;quoted&quot;&#x27; æˆ–è€… r&quot;C:\raw\string&quot;</li><li>æ•°å­—ï¼š 123.45</li><li>å¸ƒå°”å€¼ï¼š trueï¼Œ false</li><li>åºåˆ—ï¼š <!-- -->[&quot;foo&quot;, &quot;bar&quot;, 123.45]<!-- -->ï¼› å€¼åŸŸï¼š 0..9, 0..&lt;10 (æˆ– 0..!10), 0..</li><li>å“ˆå¸Œè¡¨ï¼š {&quot;name&quot;:&quot;green mouse&quot;, &quot;price&quot;:150}</li></ul></li><li>æ£€ç´¢å˜é‡<ul><li>é¡¶å±‚å˜é‡ï¼š user</li><li>ä»å“ˆå¸Œè¡¨ä¸­æ£€ç´¢æ•°æ®ï¼š user.nameï¼Œ user<!-- -->[&quot;name&quot;]</li><li>ä»åºåˆ—ä¸­æ£€ç´¢æ•°æ®ï¼š products<!-- -->[5]</li><li>ç‰¹æ®Šå˜é‡ï¼š .main</li></ul></li><li>å­—ç¬¦ä¸²æ“ä½œ<ul><li>æ’å€¼(æˆ–è¿æ¥)ï¼š &quot;Hello ${user}!&quot; (æˆ– &quot;Hello &quot; + user + &quot;!&quot;)</li><li>è·å–ä¸€ä¸ªå­—ç¬¦ï¼š name<!-- -->[0]</li><li>å­—ç¬¦ä¸²åˆ‡åˆ†ï¼š åŒ…å«ç»“å°¾ï¼š name<!-- -->[0..4]<!-- -->ï¼Œä¸åŒ…å«ç»“å°¾ï¼š name<!-- -->[0..&lt;5]<!-- -->ï¼ŒåŸºäºé•¿åº¦(å®½å®¹å¤„ç†)ï¼š name<!-- -->[0..*5]<!-- -->ï¼Œå»é™¤å¼€å¤´ï¼š name<!-- -->[5..]</li></ul></li><li>åºåˆ—æ“ä½œ<ul><li>è¿æ¥ï¼š users + <!-- -->[&quot;guest&quot;]</li><li>åºåˆ—åˆ‡åˆ†ï¼šåŒ…å«ç»“å°¾ï¼š products<!-- -->[20..29]<!-- -->ï¼Œ ä¸åŒ…å«ç»“å°¾ï¼š products<!-- -->[20..&lt;30]<!-- -->ï¼ŒåŸºäºé•¿åº¦(å®½å®¹å¤„ç†)ï¼š products<!-- -->[20..*10]<!-- -->ï¼Œå»é™¤å¼€å¤´ï¼šproducts<!-- -->[20..]</li></ul></li><li>å“ˆå¸Œè¡¨æ“ä½œ<ul><li>è¿æ¥ï¼š passwords + { &quot;joe&quot;: &quot;secret42&quot; }</li></ul></li><li>ç®—æœ¯è¿ç®—ï¼š (x * 1.5 + 10) / 2 - y % 100</li><li>æ¯”è¾ƒè¿ç®—ï¼š x == yï¼Œ x != yï¼Œ x &lt; yï¼Œ x &gt; yï¼Œ x &gt;= yï¼Œ x &lt;= yï¼Œ x lt yï¼Œ x lte yï¼Œ x gt yï¼Œ x gte yï¼Œ ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</li><li>é€»è¾‘æ“ä½œï¼š !registered &amp;&amp; (firstVisit || fromEurope)</li><li>å†…å»ºå‡½æ•°ï¼š name?upper_case, path?ensure_starts_with(&#x27;/&#x27;)</li><li>æ–¹æ³•è°ƒç”¨ï¼š repeat(&quot;What&quot;, 3)</li><li>å¤„ç†ä¸å­˜åœ¨çš„å€¼ï¼š<ul><li>é»˜è®¤å€¼ï¼š name!&quot;unknown&quot; æˆ–è€… (user.name)!&quot;unknown&quot; æˆ–è€… name! æˆ–è€… (user.name)!</li><li>æ£€æµ‹ä¸å­˜åœ¨çš„å€¼ï¼š name?? æˆ–è€… (user.name)??</li></ul></li><li>èµ‹å€¼æ“ä½œï¼š =, +=, -=, *=, /=, %=, ++, --</li></ul><h1>å¤„ç†ä¸å­˜åœ¨çš„å˜é‡</h1><p>è¿™é‡Œå¯åˆ†ä¸º2ç§æƒ…å†µ, å˜é‡ä¸å­˜åœ¨orå˜é‡å€¼ä¸ºnull. freemakerä¸€è§†åŒä»</p><p>å¯ä»¥ä¸ºå˜é‡è®¾ç½®é»˜è®¤å€¼:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Welcome ${user!&quot;visitor&quot;}!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>${user!&quot;visitor&quot;}</code>è¡¨ç¤ºå¦‚æœuserå˜é‡å€¼ä¸¢å¤±, ç”¨visitorä»£æ›¿; </p><p>è¿˜å¯ä»¥å’ŒifæŒ‡ä»¤ç»“åˆä½¿ç”¨</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">user??</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Welcome ${user}!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœç¢°åˆ°äº†å¤šçº§è®¿é—®çš„å˜é‡, å¦‚<code>animals.python.price!0</code>, å¦‚æœ animals æˆ– python ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆæ¨¡æ¿å¤„ç†è¿‡ç¨‹å°†ä¼šä»¥&quot;æœªå®šä¹‰çš„å˜é‡&quot;é”™è¯¯è€Œåœæ­¢, å½“ä¸”ä»…å½“ animals.python æ°¸è¿œå­˜åœ¨ï¼Œ è€Œä»…ä»…æœ€åä¸€ä¸ªå­å˜é‡ price å¯èƒ½ä¸å­˜åœ¨æ—¶ç”¨é»˜è®¤å€¼0ä»£æ›¿æœ€ç»ˆå€¼, å…¶ä»–æƒ…å†µå‡æŠ¥é”™ç¨‹åºç»ˆæ­¢;åˆé€‚çš„å†™æ³•æ˜¯: <code>(animals.python.price)!0</code>, animals æˆ– python ä¸å­˜åœ¨æ—¶ï¼Œ è¡¨è¾¾å¼çš„ç»“æœæ˜¯ 0; </p><p>å¯¹äº<code>??</code> å¤šçº§è®¿é—®å˜é‡çš„å¤„ç†ç±»ä¼¼</p><h1>å¸¸è§é”™è¯¯</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€">æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€${}<a href="#æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€" class="hash-link" aria-label="æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€${}çš„ç›´æ¥é“¾æ¥" title="æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€${}çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç”¨æˆ·æ‰€çŠ¯çš„ä¸€ä¸ªå¸¸è§é”™è¯¯æ˜¯å°†æ’å€¼æ”¾åœ¨äº†ä¸éœ€è¦/ä¸åº”è¯¥ä½¿ç”¨çš„åœ°æ–¹ã€‚ æ’å€¼ ä»… åœ¨ æ–‡æœ¬ åŒº ä¸­æœ‰æ•ˆã€‚(æ¯”å¦‚ï¼Œ <code>&lt;h1&gt;Hello ${name}!&lt;/h1&gt;</code>) è¿˜æœ‰åœ¨å­—ç¬¦ä¸²å€¼ä¸­ (æ¯”å¦‚ï¼Œ <code>&lt;#include &quot;/footer/${company}.html&quot;&gt;</code>)ã€‚ å…¸å‹çš„ é”™è¯¯ ä½¿ç”¨æ˜¯ &lt;#if ${big}&gt;...&lt;/#if&gt;ï¼Œ è¿™ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚ç®€å•å†™ä¸º &lt;#if big&gt;...&lt;/#if&gt;å³å¯ã€‚ è€Œä¸”ï¼Œ &lt;#if &quot;${big}&quot;&gt;...&lt;/#if&gt; ä¹Ÿæ˜¯ é”™è¯¯çš„ï¼Œ å› ä¸ºå®ƒå°†å‚æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯ if æŒ‡ä»¤åªæ¥å—å¸ƒå°”å€¼ï¼Œ é‚£ä¹ˆè¿™å°†å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–">æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–<a href="#æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–" class="hash-link" aria-label="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–çš„ç›´æ¥é“¾æ¥" title="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p> å› ä¸ºå¾ˆå¤šåœ°åŒºä½¿ç”¨åˆ†ç»„(åƒåˆ†ä½åˆ†éš”ç¬¦)ï¼Œé‚£ä¹ˆ &quot;someUrl?id=&quot; + id å°±å¯èƒ½ä¼šæ˜¯ &quot;someUrl?id=1 234&quot;ã€‚ è¦é¢„é˜²è¿™ç§äº‹æƒ…çš„å‘ç”Ÿï¼Œè¯·ä½¿ç”¨ <code>?c </code>(å¯¹è®¡ç®—æœºæ¥è¯´)å†…å»ºå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨ <code>&quot;someUrl?id=&quot; + id?c </code>æˆ– <code>&quot;someUrl?id=${id?c}&quot;</code>ä¸­ï¼Œ å°±ä¼šå¾—åˆ°å¦‚ &quot;someUrl?id=1234&quot; è¿™æ ·çš„è¾“å‡ºï¼Œ è€Œä¸ç®¡æœ¬åœ°åŒ–å’Œæ ¼å¼çš„è®¾ç½®æ˜¯ä»€ä¹ˆã€‚</p><h1>ç¨‹åºå¼€å‘</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="freemakerå¯¹è±¡çš„åŒ…è£…">freemakerå¯¹è±¡çš„åŒ…è£…<a href="#freemakerå¯¹è±¡çš„åŒ…è£…" class="hash-link" aria-label="freemakerå¯¹è±¡çš„åŒ…è£…çš„ç›´æ¥é“¾æ¥" title="freemakerå¯¹è±¡çš„åŒ…è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ•°æ®æ¨¡å‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åŸºæœ¬çš„Javaé›†åˆç±»ä½œä¸ºå˜é‡ï¼Œå› ä¸ºè¿™äº›å˜é‡ä¼šåœ¨å†…éƒ¨è¢«æ›¿æ¢ä¸ºé€‚å½“çš„ TemplateModel ç±»å‹ã€‚è¿™ç§åŠŸèƒ½ç‰¹æ€§è¢«ç§°ä½œæ˜¯ å¯¹è±¡åŒ…è£…; å¯¹è±¡åŒ…è£…åŠŸèƒ½å¯ä»¥é€æ˜åœ°æŠŠ ä»»ä½• ç±»å‹çš„å¯¹è±¡è½¬æ¢ä¸ºå®ç°äº† TemplateModel æ¥å£ç±»å‹çš„å®ä¾‹;</p><p>ç¼–å†™ä¸€ä¸ªç®€å•çš„æ¨¡ç‰ˆ, åªæœ‰æ’å€¼</p><p>test.ftl</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hello ${user.name}, your job is ${user.job}, your school is ${user.school}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">And your addr is ${user.addr}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯åŠ¨ç±»:
CodeGenerator.java</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class CodeGenerator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String classpathWithSeparator = new CodeGenerator().getClasspath();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Configuration cfg = new Configuration(Configuration.VERSION_2_3_27);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cfg.setDirectoryForTemplateLoading(new File(classpathWithSeparator + &quot;codetpl&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TplDirNotExistException(&quot;æ¨¡ç‰ˆç›®å½•ä¸å­˜åœ¨&quot;, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cfg.setDefaultEncoding(&quot;UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cfg.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Template tpl = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tpl = cfg.getTemplate(&quot;test.ftl&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TplFileNotExistException(&quot;æ¨¡ç‰ˆæ–‡ä»¶ä¸å­˜åœ¨&quot;, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OutputStreamWriter writer = new OutputStreamWriter(System.out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        User user = new User();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user.setAddr(&quot;ä¸Šæµ·&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user.setJob(&quot;ç¨‹åºå‘˜&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user.setName(&quot;è°¢å¤§è„š&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user.setSchool(&quot;è±¡ç‰™å±±å°å­¦&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        map.put(&quot;user&quot;, user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tpl.process(map, writer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getClasspath() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return this.getClass()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .getClassLoader()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .getResource(&quot;&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .getPath().toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–è¿˜æœ‰ä¸€äº›è‡ªå®šä¹‰exception, bean, è¿™é‡Œçœç•¥äº†, ç»“æœå¦‚ä¸‹:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">20:12:53.854 [main] DEBUG freemarker.cache - Couldn&#x27;t find template in cache for &quot;test.ftl&quot;(&quot;zh_CN&quot;, UTF-8, parsed); will try to load it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20:12:53.854 [main] DEBUG freemarker.cache - TemplateLoader.findTemplateSource(&quot;test_zh_CN.ftl&quot;): Not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20:12:53.854 [main] DEBUG freemarker.cache - TemplateLoader.findTemplateSource(&quot;test_zh.ftl&quot;): Not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20:12:53.854 [main] DEBUG freemarker.cache - TemplateLoader.findTemplateSource(&quot;test.ftl&quot;): Found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20:12:53.854 [main] DEBUG freemarker.cache - Loading template for &quot;test.ftl&quot;(&quot;zh_CN&quot;, UTF-8, parsed) from &quot;D:\\repo\\eclipse\\ssm-demo-yml\\target\\classes\\codetpl\\test.ftl&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello è°¢å¤§è„š, your job is ç¨‹åºå‘˜, your school is è±¡ç‰™å±±å°å­¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">And your addr is ä¸Šæµ·</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½†æ˜¯åœ¨å¼€å‘è‡ªå®šä¹‰æ–¹æ³•orå‘½ä»¤æ—¶, éœ€è¦ä½¿ç”¨åˆ°freemakerä¸­çš„åŒ…è£…å¯¹è±¡, æ¨¡æ¿ä¸­å¯ç”¨çš„å˜é‡éƒ½æ˜¯å®ç°äº† freemarker.template.TemplateModel æ¥å£çš„Javaå¯¹è±¡ </p><p> é¡¶å±‚æ¥å£<code>freemarker.template.TemplateModel</code> çš„å­æ¥å£å¯¹åº”æ¯ç§åŸºæœ¬å˜é‡ç±»å‹(<code>TemplateHashModel</code> å¯¹åº”å“ˆå¸Œè¡¨ï¼Œ<code> TemplateSequenceModel</code> å¯¹åº”åºåˆ—ï¼Œ <code>TemplateNumberModel</code> å¯¹åº”æ•°å­—, <code>TemplateScalarModel</code>å¯¹åº”å­—ç¬¦ä¸²ç­‰ç­‰)ã€‚</p><p> æ¯”å¦‚ï¼Œæƒ³ä¸ºæ¨¡æ¿ä½¿ç”¨ java.sql.ResultSet å˜é‡ä½œä¸ºä¸€ä¸ªåºåˆ—ï¼Œé‚£ä¹ˆå°±éœ€è¦ç¼–å†™ä¸€ä¸ª<code>TemplateSequenceModel</code>çš„å®ç°ç±»ï¼Œè¿™ä¸ªç±»è¦èƒ½å¤Ÿè¯»å– java.sql.ResultSet ä¸­çš„å†…å®¹ã€‚å³TemplateModel çš„å®ç°ç±» ä¸­ç»´æŠ¤ä¸€ä¸ªResultSetç§æœ‰å˜é‡; è¯·æ³¨æ„ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ª TemplateModel æ¥å£ï¼›è¿™å°±æ˜¯ä¸ºä»€ä¹ˆFTLå˜é‡å¯ä»¥æœ‰å¤šç§ç±»å‹;</p><p> freemakerå·²ç»å®ç°äº†å¸¸ç”¨çš„å˜é‡ç±»å‹: SimpleScalar(String), SimpleHash (Map)ç­‰ç­‰</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-é…ç½®">Configuration é…ç½®<a href="#configuration-é…ç½®" class="hash-link" aria-label="Configuration é…ç½®çš„ç›´æ¥é“¾æ¥" title="Configuration é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>é…ç½®(configuration)å°±æ˜¯ freemarker.template.Configuration å¯¹è±¡ï¼Œ å®ƒå­˜å‚¨äº†å¸¸ç”¨(å…¨å±€ï¼Œåº”ç”¨ç¨‹åºçº§)çš„è®¾ç½®ï¼Œå®šä¹‰äº†æƒ³è¦åœ¨æ‰€æœ‰æ¨¡æ¿ä¸­å¯ç”¨çš„å˜é‡(ç§°ä¸ºå…±äº«å˜é‡)ã€‚ è€Œä¸”ï¼Œå®ƒä¼šå¤„ç† Template å®ä¾‹çš„æ–°å»ºå’Œç¼“å­˜</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å…±äº«å˜é‡">å…±äº«å˜é‡<a href="#å…±äº«å˜é‡" class="hash-link" aria-label="å…±äº«å˜é‡çš„ç›´æ¥é“¾æ¥" title="å…±äº«å˜é‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Shared variables (å…±äº«å˜é‡)æ˜¯ä¸ºæ‰€æœ‰æ¨¡æ¿å®šä¹‰çš„å˜é‡ã€‚å¯ä»¥ä½¿ç”¨ setSharedVariable æ–¹æ³•å‘é…ç½®ä¸­æ·»åŠ å…±äº«å˜é‡ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Configuration cfg = new Configuration(Configuration.VERSION_2_3_22);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cfg.setSharedVariable(&quot;warp&quot;, new WarpDirective());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cfg.setSharedVariable(&quot;company&quot;, &quot;Foo Inc.&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ‰€æœ‰ä½¿ç”¨è¿™ä¸ªé…ç½®çš„æ¨¡æ¿ä¸­ï¼Œåä¸º wrap çš„ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤å’Œä¸€ä¸ªåä¸º company çš„å­—ç¬¦ä¸²å°†ä¼šåœ¨æ•°æ®æ¨¡å‹çš„æ ¹rootä¸Šå¯è§ï¼Œ é‚£å°±ä¸ç”¨åœ¨æ ¹å“ˆå¸Œè¡¨ä¸Šä¸€æ¬¡åˆä¸€æ¬¡çš„æ·»åŠ å®ƒä»¬ã€‚åœ¨ä¼ é€’ç»™ Template.process çš„ æ ¹rootå¯¹è±¡é‡Œçš„å˜é‡å°†ä¼šéšè—åŒåçš„å…±äº«å˜é‡</p><p>å‡ºäºå‘åå…¼å®¹çš„ç‰¹æ€§ï¼Œå…±äº«å˜é‡çš„é›†åˆåˆå§‹åŒ–æ—¶ (å°±æ˜¯å¯¹äºæ–°çš„ Configuration å®ä¾‹æ¥è¯´)ä¸èƒ½ä¸ºç©ºã€‚ å®ƒåŒ…å«ä¸‹åˆ—ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤(ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤ä½¿ç”¨æ—¶éœ€è¦ç”¨ @ æ¥ä»£æ›¿#)ï¼š</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‰å±‚é…ç½®">ä¸‰å±‚é…ç½®<a href="#ä¸‰å±‚é…ç½®" class="hash-link" aria-label="ä¸‰å±‚é…ç½®çš„ç›´æ¥é“¾æ¥" title="ä¸‰å±‚é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Settings(é…ç½®è®¾ç½®) æ˜¯å½±å“FreeMarkerè¡Œä¸ºçš„å·²è¢«å‘½åçš„å€¼ã€‚é…ç½®è®¾ç½®æœ‰å¾ˆå¤šï¼Œ ä¾‹å¦‚ï¼šlocaleï¼Œnumber_formatï¼Œ default_encodingï¼Œ template_exception_handlerã€‚</p><p>é…ç½®ä¿¡æ¯å¯ä»¥è¢«æƒ³è±¡æˆ3å±‚(Configurationï¼Œ Templateï¼ŒEnvironment), åŠ è½½é¡ºåºç”±ååˆ°å‰ä¸º(ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½):</p><p>å…·ä½“å¦‚ä½•é…ç½®å‘¢?</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configurationå±‚">Configurationå±‚<a href="#configurationå±‚" class="hash-link" aria-label="Configurationå±‚çš„ç›´æ¥é“¾æ¥" title="Configurationå±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Configuration myCfg = new Configuration(Configuration.VERSION_2_3_23);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myCfg.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myCfg.setDefaultEncoding(&quot;UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>springä¸­é…ç½®:</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">freemarkerConfig</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">freemarkerSettings</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">props</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">incompatible_improvements</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.3.23</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">template_exception_handler</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rethrow</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">default_encoding</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">UTF-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">props</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="template">Template<a href="#template" class="hash-link" aria-label="Templateçš„ç›´æ¥é“¾æ¥" title="Templateçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Environmentçš„ç›´æ¥é“¾æ¥" title="Environmentçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>ä½¿ç”¨Java APIï¼šä½¿ç”¨ Environment å¯¹è±¡çš„setteræ–¹æ³•ã€‚å½“ç„¶æƒ³è¦åœ¨æ¨¡æ¿æ‰§è¡Œä¹‹å‰æ¥åšï¼Œç„¶åå½“è°ƒç”¨ myTemplate.process(...) æ—¶ä¼šé‡åˆ°é—®é¢˜ï¼Œ å› ä¸ºåœ¨å†…éƒ¨åˆ›å»º Environment å¯¹è±¡åç«‹å³å°±æ‰§è¡Œæ¨¡æ¿äº†ï¼Œ å¯¼è‡´æ²¡æœ‰æœºä¼šæ¥è¿›è¡Œè®¾ç½®ã€‚è¿™ä¸ªé—®é¢˜çš„è§£å†³å¯ä»¥ç”¨ä¸‹é¢ä¸¤ä¸ªæ­¥éª¤è¿›è¡Œï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Environment env = myTemplate.createProcessingEnvironment(root, out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env.setLocale(java.util.Locale.ITALY);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env.setNumberFormat(&quot;0.####&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env.process();  // process the template</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿˜æœ‰ä¸€ç§æ–¹æ³•, ä½†æ˜¯ä¸æ¨è:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">locale</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">it_IT</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">number_format</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0.####</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡æ¿çš„åŠ è½½">æ¨¡æ¿çš„åŠ è½½<a href="#æ¨¡æ¿çš„åŠ è½½" class="hash-link" aria-label="æ¨¡æ¿çš„åŠ è½½çš„ç›´æ¥é“¾æ¥" title="æ¨¡æ¿çš„åŠ è½½çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>configurationæä¾›äº†ä¸‰ä¸ªæ–¹æ³•, ä»£è¡¨ä¸‰ç§æ–¹å¼:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void setClassForTemplateLoading(Class clazz, String pathPrefix);// ä½¿ç”¨: cfg.setClassForTemplateLoading(FreemarkerUtil.class, &quot;/template&quot;);    cfg.getTemplate(&quot;Base.ftl&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void setDirectoryForTemplateLoading(File dir) throws IOException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void setServletContextForTemplateLoading(Object servletContext, String path);// åŸºäºweb project, å‚æ•°pathè¡¨ç¤ºWebRootä¸‹çš„ç›®å½•è·¯å¾„, å¦‚: &quot;/ftl&quot;) å°±æ˜¯ /WebRoot/ftlç›®å½•</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»å¤šä¸ªä½ç½®åŠ è½½æ¨¡ç‰ˆ: ä¸ä½¿ç”¨å†…å»ºåŠ è½½å™¨ ,ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„åŠ è½½å™¨---ClassTemplateLoader</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FileTemplateLoader ftl1 = new FileTemplateLoader(new File(&quot;/tmp/templates&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FileTemplateLoader ftl2 = new FileTemplateLoader(new File(&quot;/usr/data/templates&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClassTemplateLoader ctl = new ClassTemplateLoader(getClass(), &quot;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TemplateLoader[] loaders = new TemplateLoader[] { ftl1, ftl2, ctl };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MultiTemplateLoader mtl = new MultiTemplateLoader(loaders);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cfg.setTemplateLoader(mtl);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç°åœ¨ï¼ŒFreeMarkerå°†ä¼šå°è¯•ä» /tmp/templates ç›®å½•åŠ è½½æ¨¡æ¿ï¼Œå¦‚æœåœ¨è¿™ä¸ªç›®å½•ä¸‹æ²¡æœ‰å‘ç°è¯·æ±‚çš„æ¨¡æ¿ï¼Œå®ƒå°±ä¼šç»§ç»­å°è¯•ä» /usr/data/templates ç›®å½•ä¸‹åŠ è½½ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰å‘ç°è¯·æ±‚çš„æ¨¡æ¿ï¼Œ é‚£ä¹ˆå®ƒå°±ä¼šä½¿ç”¨ç±»åŠ è½½å™¨æ¥åŠ è½½æ¨¡æ¿ã€‚</p><p>ç¼–å†™è‡ªå·±çš„æ¨¡ç‰ˆåŠ è½½å™¨è¦æ³¨æ„é‚£äº›å‘¢?</p><p>å¦‚æœå†…å»ºçš„ç±»åŠ è½½å™¨éƒ½ä¸é€‚åˆä½¿ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦æ¥ç¼–å†™è‡ªå·±çš„ç±»åŠ è½½å™¨äº†ï¼Œ è¿™ä¸ªç±»éœ€è¦å®ç° freemarker.cache.TemplateLoader æ¥å£ï¼Œ ç„¶åå°†å®ƒä¼ é€’ç»™ Configuration å¯¹è±¡çš„ setTemplateLoader(TemplateLoader loader)æ–¹æ³•ã€‚</p><p>å¦‚æœæ¨¡æ¿éœ€è¦é€šè¿‡URLè®¿é—®å…¶ä»–æ¨¡æ¿ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å®ç° TemplateLoader æ¥å£äº†ï¼Œå¯ä»¥é€‰æ‹©å­æ¥å£ freemarker.cache.URLTemplateLoader æ¥æ›¿ä»£ï¼Œ åªéœ€å®ç° URL getURL(String templateName) æ–¹æ³•å³å¯</p><p>æ¨¡ç‰ˆç¼“å­˜:</p><p>FreeMarker æ˜¯ä¼šç¼“å­˜æ¨¡æ¿çš„(å‡è®¾ä½¿ç”¨ Configuration å¯¹è±¡çš„æ–¹æ³•æ¥åˆ›å»º Template å¯¹è±¡)ã€‚è¿™å°±æ˜¯è¯´å½“è°ƒç”¨ getTemplateæ–¹æ³•æ—¶ï¼ŒFreeMarkerä¸ä½†è¿”å›äº† Template å¯¹è±¡ï¼Œè€Œä¸”è¿˜ä¼šå°†å®ƒå­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œ å½“ä¸‹ä¸€æ¬¡å†ä»¥ç›¸åŒ(æˆ–ç›¸ç­‰)è·¯å¾„è°ƒç”¨ getTemplate æ–¹æ³•æ—¶ï¼Œ é‚£ä¹ˆå®ƒåªè¿”å›ç¼“å­˜çš„ Template å®ä¾‹ï¼Œ è€Œä¸ä¼šå†æ¬¡åŠ è½½å’Œè§£ææ¨¡æ¿æ–‡ä»¶äº†ã€‚</p><p>é‚£ä¹ˆå¼€å‘é˜¶æ®µæ€ä¹ˆç¦ç”¨è¿™ä¸ªç‰¹æ€§? --- æœ‰ä¸€ä¸ª Configuration çº§åˆ«çš„è®¾ç½®è¢«ç§°ä½œ&quot;æ›´æ–°å»¶è¿Ÿ&quot;, è¿™ä¸ªæ—¶é—´å°±æ˜¯ä»ä¸Šæ¬¡å¯¹æŸä¸ªæ¨¡æ¿æ£€æŸ¥æ›´æ–°åï¼ŒFreeMarkerå†æ¬¡æ£€æŸ¥æ¨¡æ¿æ‰€è¦é—´éš”çš„æ—¶é—´ã€‚ å…¶é»˜è®¤å€¼æ˜¯5ç§’; è®¾ä¸º0å³å¯;</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯æ§åˆ¶">é”™è¯¯æ§åˆ¶<a href="#é”™è¯¯æ§åˆ¶" class="hash-link" aria-label="é”™è¯¯æ§åˆ¶çš„ç›´æ¥é“¾æ¥" title="é”™è¯¯æ§åˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å…³äº FreeMarker å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¯ä»¥åˆ†ä¸º3ç±»:</p><ul><li>å½“é…ç½® FreeMarker æ—¶å‘ç”Ÿå¼‚å¸¸ï¼šå…¸å‹åœ°æƒ…å†µï¼Œå°±æ˜¯åœ¨åº”ç”¨ç¨‹åºåˆå§‹åŒ–æ—¶ï¼Œ ä»…ä»…é…ç½®äº†ä¸€æ¬¡ FreeMarkerã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¼‚å¸¸å°±ä¼šå‘ç”Ÿ</li><li>å½“åŠ è½½å’Œè§£ææ¨¡æ¿æ—¶å‘ç”Ÿå¼‚å¸¸ï¼šè°ƒç”¨äº† Configuration.getTemplate(...) æ–¹æ³•ï¼Œ FreeMarkerå°±è¦æŠŠæ¨¡æ¿æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ç„¶åæ¥è§£æå®ƒ (é™¤éæ¨¡æ¿å·²ç»åœ¨ Configuration å¯¹è±¡ä¸­è¢« ç¼“å­˜ äº†)ã€‚ åœ¨è¿™æœŸé—´, å¼‚å¸¸åˆå¯ä»¥è¢«ç»†åˆ†ä¸ºä¸¤ç±»<ul><li>å› æ¨¡æ¿æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°è€Œå‘ç”Ÿçš„ IOException å¼‚å¸¸</li><li>æ ¹æ®FTLè¯­è¨€çš„è§„åˆ™ï¼Œæ¨¡æ¿æ–‡ä»¶å‘ç”Ÿè¯­æ³•é”™è¯¯æ—¶ä¼šå¯¼è‡´ freemarker.core.ParseExceptionå¼‚å¸¸ã€‚å½“è·å¾— Templateå¯¹è±¡ (Configuration.getTemplate(...))æ—¶ï¼Œ è¿™ç§é”™è¯¯å°±ä¼šå‘ç”Ÿï¼Œè€Œä¸æ˜¯å½“æ‰§è¡Œ (Template.process(...))æ¨¡æ¿çš„æ—¶å€™ã€‚ è¿™ç§å¼‚å¸¸æ˜¯ IOException çš„ä¸€ä¸ªå­ç±»ã€‚</li></ul></li><li>å½“æ‰§è¡Œ(å¤„ç†)æ¨¡æ¿æ—¶å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯å½“è°ƒç”¨äº† Template.process(...) æ–¹æ³•æ—¶ä¼šå‘ç”Ÿçš„ä¸¤ç§å¼‚å¸¸ï¼š<ul><li>å½“è¯•å›¾å†™å…¥è¾“å‡ºå¯¹è±¡æ—¶å‘ç”Ÿé”™è¯¯è€Œå¯¼è‡´çš„ IOException å¼‚å¸¸</li><li>æ‰§è¡Œæ¨¡æ¿æ—¶å‘ç”Ÿçš„å…¶å®ƒé—®é¢˜è€Œå¯¼è‡´çš„ freemarker.template.TemplatException å¼‚å¸¸</li></ul></li></ul><p>æ ¹æ®ä¸åŒçš„TemplateExceptionæ¥è‡ªå®šä¹‰å¤„ç†æ–¹å¼:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class MyTemplateExceptionHandler implements TemplateExceptionHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void handleTemplateException(TemplateException te, Environment env, java.io.Writer out)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws TemplateException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            out.write(&quot;[ERROR: &quot; + te.getMessage() + &quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateException(&quot;Failed to print error message. Cause: &quot; + e, env);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// è®¾ç½®è¿›configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cfg.setTemplateExceptionHandler(new MyTemplateExceptionHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™æ˜¯å¦‚æœæ¨¡ç‰ˆæ–‡ä»¶æ˜¯è¿™æ · <code>a${&quot;xiaoyu&quot; + badVar}b</code>, è€Œ badVarä¸å­˜åœ¨, è¾“å‡ºçš„å†…å®¹æ˜¯è¿™æ ·:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a[ERROR: Expression badVar is undefined on line 1, column 4 in test.ftl.]b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ•´ä¸ªæ’å€¼ä¼šè¢«è·³è¿‡.</p><p>åŒæ ·, å¦‚æœé”™è¯¯å‘ç”Ÿåœ¨æŒ‡ä»¤è°ƒç”¨ä¸­çš„å‚æ•°è®¡ç®—æ—¶, æ•´ä¸ªæŒ‡ä»¤ä¼šè¢«è·³è¿‡, å¦‚: æ¨¡ç‰ˆ<code>a&lt;#if badVar&gt;Foo&lt;/#if&gt;b</code>, è¾“å‡ºæ˜¯</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a[ERROR: Expression badVar is undefined on line 1, column 7 in test.ftl.]b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœé”™è¯¯å‘ç”Ÿåœ¨å·²ç»å¼€å§‹æ‰§è¡Œçš„æŒ‡ä»¤ä¹‹åï¼Œé‚£ä¹ˆæŒ‡ä»¤è°ƒç”¨å°†ä¸ä¼šè¢«è·³è¿‡, å¦‚: </p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">true</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ${badVar}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡ºæ˜¯è¿™æ ·çš„: </p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ERROR: Expression badVar is undefined on line 4, column 5 in test.ftl.]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>FreeMarker æœ¬èº«å¸¦æœ‰è¿™äº›é¢„å…ˆç¼–å†™çš„é”™è¯¯æ§åˆ¶å™¨:</p><ul><li><p><code>TemplateExceptionHandler.DEBUG_HANDLER</code>ï¼š æ‰“å°å †æ ˆè·Ÿè¸ªä¿¡æ¯(åŒ…æ‹¬FTLé”™è¯¯ä¿¡æ¯å’ŒFTLå †æ ˆè·Ÿè¸ªä¿¡æ¯)å’Œé‡æ–°æŠ›å‡ºçš„å¼‚å¸¸ã€‚ è¿™æ˜¯é»˜è®¤çš„å¼‚å¸¸æ§åˆ¶å™¨(ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ‰€æœ‰æ–°çš„ Configuration å¯¹è±¡ä¸­ï¼Œå®ƒæ˜¯åˆå§‹åŒ–å¥½çš„)ã€‚</p></li><li><p><code>TemplateExceptionHandler.HTML_DEBUG_HANDLER</code>ï¼š å’Œ DEBUG_HANDLER ç›¸åŒï¼Œä½†æ˜¯å®ƒå¯ä»¥æ ¼å¼åŒ–å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œ é‚£ä¹ˆå°±å¯ä»¥åœ¨Webæµè§ˆå™¨ä¸­æ¥é˜…è¯»é”™è¯¯ä¿¡æ¯ã€‚ åœ¨åˆ¶ä½œHTMLé¡µé¢æ—¶ï¼Œå»ºè®®ä½¿ç”¨å®ƒè€Œä¸æ˜¯ DEBUG_HANDLERã€‚</p></li><li><p><code>TemplateExceptionHandler.IGNORE_HANDLER</code>ï¼š å¿½ç•¥æ‰€æœ‰å¼‚å¸¸, FreeMarker ä»ç„¶ä¼šå†™æ—¥å¿—ã€‚ å®ƒå¯¹å¤„ç†å¼‚å¸¸æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œä¹Ÿä¸ä¼šé‡æ–°æŠ›å‡ºå¼‚å¸¸ã€‚</p></li><li><p><code>TemplateExceptionHandler.RETHROW_HANDLER</code>ï¼š ç®€å•é‡æ–°æŠ›å‡ºæ‰€æœ‰å¼‚å¸¸è€Œä¸ä¼šåšå…¶å®ƒçš„äº‹æƒ…ã€‚ è¿™ä¸ªæ§åˆ¶å™¨å¯¹Webåº”ç”¨ç¨‹åºæ¥è¯´éå¸¸å¥½ï¼Œ å› ä¸ºå®ƒåœ¨ç”Ÿæˆçš„é¡µé¢å‘ç”Ÿé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œç»™äº†ä½ å¾ˆå¤šå¯¹Webåº”ç”¨ç¨‹åºçš„æ§åˆ¶æƒ (å› ä¸ºFreeMarkerä¸å‘è¾“å‡ºä¸­æ‰“å°ä»»ä½•å…³äºè¯¥é”™è¯¯çš„ä¿¡æ¯)ã€‚ è¦è·å¾—æ›´å¤šåœ¨Webåº”ç”¨ç¨‹åºä¸­å¤„ç†é”™è¯¯çš„ä¿¡æ¯</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•">é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•<a href="#é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•" class="hash-link" aria-label="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å¼€å‘è¿™æ ·ä¸€ä¸ªæ–¹æ³•: indexOf(arg1, arg2), è¿”å›å­—ç¬¦ä¸²arg1åœ¨arg2ä¸­çš„ä½ç½®ç´¢å¼•</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class IndexOfMethod implements TemplateMethodModelEx {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Object exec(List args) throws TemplateModelException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (args.size() != 2) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateModelException(&quot;å‚æ•°ä¸ªæ•°ä¸å¯¹.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Object obj1 = args.get(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (obj1 instanceof SimpleScalar) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SimpleScalar sca1 = (SimpleScalar) obj1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Object obj2 = args.get(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (obj2 instanceof SimpleScalar) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    SimpleScalar sca2 = (SimpleScalar) obj2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return sca1.toString().indexOf(sca2.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw new TemplateModelException(&quot;å‚æ•°[2]ç±»å‹ä¸å¯¹.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw new TemplateModelException(&quot;å‚æ•°[1]ç±»å‹ä¸å¯¹.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å½“ç„¶éœ€è¦å°†å¼€å‘çš„æ–¹æ³•ä¼ åˆ°æ•°æ®æ¨¡å‹ä¸­, å¦‚æœéœ€è¦è®¿é—®FTLè¿è¡Œæ—¶ç¯å¢ƒ(è¯»/å†™å˜é‡ï¼Œè·å–æœ¬åœ°åŒ–ä¿¡æ¯ç­‰)ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ Environment.getCurrentEnvironment() æ¥è·å–ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¯åŠ¨ç±»åŸºç¡€ä¸Šå¢åŠ :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;indexOf&quot;, new IndexOfMethod());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨test.ftlä¸­ä½¿ç”¨</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c"> </span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">something</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${indexOf(&quot;m&quot;, x)}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${indexOf(&quot;foo&quot;, x)}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤">é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤<a href="#é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤" class="hash-link" aria-label="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥" title="é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è½¬å¤§å†™æŒ‡ä»¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @version 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @author xy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @date 2018å¹´2æœˆ2æ—¥ ä¸‹åˆ10:03:59</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UpperDirective implements TemplateDirectiveModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Logger logger = LoggerFactory.getLogger(UpperDirective.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute(Environment env, Map params, TemplateModel[] loopVars, TemplateDirectiveBody body)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws TemplateException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;xy---------UpperDirective: execute()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!params.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateModelException(&quot;ä¸å…è®¸å‚æ•°&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (loopVars.length != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateModelException(&quot;ä¸å…è®¸å¾ªç¯å˜é‡&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (body != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            body.render(new Writer() {// handle the body content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Writer out = env.getOut();// é€šè¿‡Environmentè·å–åœ¨å¯åŠ¨ç±»ä¸­è®¾ç½®çš„writter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void write(char[] cbuf, int off, int len) throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // transfer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    char[] rst = new char[len];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for(int i=0; i&lt;len; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        rst[i] = Character.toUpperCase(cbuf[i + off]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    out.write(rst);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void flush() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    out.flush();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void close() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    out.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new RuntimeException(&quot;ç¼ºå¤±åµŒå¥—å†…å®¹&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¯åŠ¨ç±»åŸºç¡€ä¸Šæ·»åŠ :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;upper&quot;, new UpperDirective());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™é‡Œæ˜¯ç›´æ¥å°†æŒ‡ä»¤æ·»åŠ è¿›äº†æ•°æ®æ¨¡å‹ä¸­, ä½†æ›´å¥½çš„åšæ³•æ˜¯å°†å¸¸ç”¨çš„æŒ‡ä»¤ä½œä¸º å…±äº«å˜é‡ æ”¾åˆ° Configuration ä¸­</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ å†…å»ºå‡½æ•°new å°†æŒ‡ä»¤æ”¾åˆ°ä¸€ä¸ªFTLåº“(å®çš„é›†åˆï¼Œå°±åƒåœ¨æ¨¡æ¿ä¸­ï¼Œ ä½¿ç”¨ include æˆ– import )ä¸­ï¼š</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Maybe</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">you</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">have</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">directives</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">that</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">you</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">have</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">implemented</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">in</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">FTL</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">something</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#macro</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Now</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">you</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">can&#x27;t</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">use</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&lt;#macro</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">upper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">, but instead you can: --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">upper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c"> </span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.example.UpperDirective</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-name" style="color:#00a4db">?new()</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ¨¡ç‰ˆä¸­ä½¿ç”¨:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@upper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#--</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">All</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">kind</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">of</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">FTL</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">is</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">allowed</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">here</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">--</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">[&quot;red&quot;,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;green&quot;,</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;blue&quot;]</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">color</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ${color}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">#list</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  baaz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@upper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wombat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»“æœ:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BAR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GREEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BLUE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BAAZ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wombat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸‹é¢æ¥ä¸ªå¤æ‚ç‚¹çš„ä¾‹å­: åˆ›å»ºä¸€ä¸ªæŒ‡ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥ä¸€æ¬¡åˆä¸€æ¬¡åœ°æ‰§è¡Œå…¶ä¸­çš„åµŒå¥—å†…å®¹ï¼Œ è¿™ä¸ªæ¬¡æ•°ç”±æŒ‡å®šçš„æ•°å­—æ¥ç¡®å®š(å°±åƒ list æŒ‡ä»¤)ï¼Œ å¯ä»¥ä½¿ç”¨<code>&lt;hr&gt;</code>å°†è¾“å‡ºçš„é‡å¤å†…å®¹åˆ†å¼€</p><p>æ¨¡ç‰ˆå†…å®¹:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c"> 1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">count</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">4</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test ${x}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">#assign</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x++</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">count</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">3</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">hr</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">count</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">3;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">cnt</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ${cnt}. Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">@repeat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é¢„æœŸç»“æœ:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  Test 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hr&gt;  Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hr&gt;  Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  1. Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2. Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3. Test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¼€å‘æŒ‡ä»¤:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * repeat directive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @version 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @author xy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @date 2018å¹´2æœˆ3æ—¥ ä¸‹åˆ1:49:20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RepeatDirective implements TemplateDirectiveModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final Logger logger = LoggerFactory.getLogger(RepeatDirective.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final String PARAM_NAME_COUNT = &quot;count&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final String PARAM_NAME_HR = &quot;hr&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @SuppressWarnings(&quot;rawtypes&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute(Environment env, Map params, TemplateModel[] loopVars, TemplateDirectiveBody body)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throws TemplateException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;xy-----------RepeatDirective: execute()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int count = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean hr = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean countSetup = false; // count å‚æ•°æ˜¯å¦è®¾ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (loopVars.length &gt; 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateModelException(&quot;å¾ªç¯å˜é‡ä¸ªæ•°åªèƒ½ä¸º[1]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (params.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TemplateModelException(&quot;å¿…é¡»æœ‰å‚æ•°&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Iterator iter = params.entrySet().iterator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while(iter.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Entry ent = (Entry) iter.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Object keyObj = ent.getKey();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String key = (String) keyObj;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Object valueObj = ent.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                TemplateModel value = (TemplateModel) valueObj;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (PARAM_NAME_COUNT.equals(key)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (value instanceof TemplateNumberModel) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        count = ((TemplateNumberModel) value).getAsNumber().intValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        countSetup = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if (count &lt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            throw new TemplateModelException(&quot;å‚æ•°[&quot;+key+&quot;]ä¸å¯ä»¥æ˜¯è´Ÿæ•°&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        throw new TemplateModelException(&quot;å‚æ•°[&quot;+key+&quot;]ç±»å‹ä¸æ˜¯number.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else if (PARAM_NAME_HR.equals(key)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (value instanceof TemplateBooleanModel) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        hr = ((TemplateBooleanModel) value).getAsBoolean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw new TemplateModelException(&quot;ä¸æ”¯æŒçš„å‚æ•°:[&quot;+key+&quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!countSetup) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw new TemplateModelException(&quot;å‚æ•°[&quot;+PARAM_NAME_COUNT+&quot;]æœªè®¾ç½®&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (body != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Writer out = env.getOut();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                for(int i=0; i&lt;count; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (loopVars.length == 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        loopVars[0] = new SimpleNumber(i + 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (hr &amp;&amp; i != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        out.write(&quot;&lt;hr&gt;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    body.render(out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw new RuntimeException(&quot;body ç¼ºå¤±.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/template">template</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xiaoyureed/xiaoyureed.github.io/tree/main/docs/FreeMarker-note.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/intro"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/SpringBoot-note"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">Spring Boot å¤‡å¿˜</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ”¯æŒçš„ç±»å‹" class="table-of-contents__link toc-highlight">æ”¯æŒçš„ç±»å‹</a></li><li><a href="#if-æ¡ä»¶æŒ‡ä»¤" class="table-of-contents__link toc-highlight">if æ¡ä»¶æŒ‡ä»¤</a></li><li><a href="#list-éå†æŒ‡ä»¤" class="table-of-contents__link toc-highlight">list éå†æŒ‡ä»¤</a></li><li><a href="#include-å’Œ-import" class="table-of-contents__link toc-highlight">include å’Œ import</a></li><li><a href="#å®šä¹‰å˜é‡" class="table-of-contents__link toc-highlight">å®šä¹‰å˜é‡</a></li><li><a href="#å‘½åç©ºé—´" class="table-of-contents__link toc-highlight">å‘½åç©ºé—´</a></li><li><a href="#è”åˆä½¿ç”¨æŒ‡ä»¤" class="table-of-contents__link toc-highlight">è”åˆä½¿ç”¨æŒ‡ä»¤</a></li><li><a href="#å†…å»ºå‡½æ•°" class="table-of-contents__link toc-highlight">å†…å»ºå‡½æ•°</a></li><li><a href="#æ–¹æ³•å’Œå‡½æ•°" class="table-of-contents__link toc-highlight">æ–¹æ³•å’Œå‡½æ•°</a></li><li><a href="#ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤æ¨èä¼˜å…ˆä½¿ç”¨" class="table-of-contents__link toc-highlight">ç”¨æˆ·è‡ªå®šä¹‰æŒ‡ä»¤(æ¨èä¼˜å…ˆä½¿ç”¨)</a><ul><li><a href="#macro-nested-å®æŒ‡ä»¤-åµŒå¥—æŒ‡ä»¤" class="table-of-contents__link toc-highlight">macro nested å®æŒ‡ä»¤ åµŒå¥—æŒ‡ä»¤</a></li><li><a href="#å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡" class="table-of-contents__link toc-highlight">å®æŒ‡ä»¤ä¸­çš„å¾ªç¯å˜é‡</a></li></ul></li><li><a href="#è¡¨è¾¾å¼" class="table-of-contents__link toc-highlight">è¡¨è¾¾å¼</a></li><li><a href="#æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€" class="table-of-contents__link toc-highlight">æŒ‡ä»¤ä½“å†…éƒ¨å˜é‡æ— éœ€${}</a></li><li><a href="#æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–" class="table-of-contents__link toc-highlight">æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–</a></li><li><a href="#freemakerå¯¹è±¡çš„åŒ…è£…" class="table-of-contents__link toc-highlight">freemakerå¯¹è±¡çš„åŒ…è£…</a></li><li><a href="#configuration-é…ç½®" class="table-of-contents__link toc-highlight">Configuration é…ç½®</a><ul><li><a href="#å…±äº«å˜é‡" class="table-of-contents__link toc-highlight">å…±äº«å˜é‡</a></li><li><a href="#ä¸‰å±‚é…ç½®" class="table-of-contents__link toc-highlight">ä¸‰å±‚é…ç½®</a><ul><li><a href="#configurationå±‚" class="table-of-contents__link toc-highlight">Configurationå±‚</a></li><li><a href="#template" class="table-of-contents__link toc-highlight">Template</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li></ul></li><li><a href="#æ¨¡æ¿çš„åŠ è½½" class="table-of-contents__link toc-highlight">æ¨¡æ¿çš„åŠ è½½</a></li><li><a href="#é”™è¯¯æ§åˆ¶" class="table-of-contents__link toc-highlight">é”™è¯¯æ§åˆ¶</a></li></ul></li><li><a href="#é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•" class="table-of-contents__link toc-highlight">é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æ–¹æ³•</a></li><li><a href="#é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤" class="table-of-contents__link toc-highlight">é€šè¿‡javaå¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6d396791.js"></script>
<script src="/assets/js/main.f6c8ad5f.js"></script>
</body>
</html>