<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-outline-about-cache">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Cache ç¼“å­˜ğŸŒˆ - Xiaoyureed çš„ç½‘ç»œ Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" name="twitter:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" property="og:url" content="https://xiaoyureed.github.io/docs/outline-about-cache"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="keywords" content="xiaoyureed"><meta data-rh="true" name="keywords" content="blog, java, spring, microservice, python, rust, typescript, react, web"><meta data-rh="true" name="keywords" content=" åŠè·¯è½¬è¡Œçš„ç¼–ç¨‹çˆ±å¥½è€…, å†™è¿‡ Python, Rust, ç°åœ¨ä¸»æ”» Java åˆ†å¸ƒå¼ç³»ç»Ÿ"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cache ç¼“å­˜ğŸŒˆ - Xiaoyureed çš„ç½‘ç»œ Wiki"><meta data-rh="true" name="description" content="ehchach, memcache, redis..."><meta data-rh="true" property="og:description" content="ehchach, memcache, redis..."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xiaoyureed.github.io/docs/outline-about-cache"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/en/docs/outline-about-cache" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/outline-about-cache" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/outline-about-cache" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5SAMPKXTP9-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Xiaoyureed çš„ç½‘ç»œ Wiki" href="/opensearch.xml">


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f6da56a47f5085d1e0fedae39b8de00a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="xiaoyureed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="xiaoyureed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="xiaoyureed JSON Feed">

<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)">
<meta name="description" content="Xiaoyureed çš„ä¸ªäººåšå®¢"><link rel="stylesheet" href="/assets/css/styles.d08d09a2.css">
<link rel="preload" href="/assets/js/runtime~main.b52d440f.js" as="script">
<link rel="preload" href="/assets/js/main.7d36310a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="/docs/rust-note" target="_blank">æœ€è¿‘æ­£åœ¨æŠ˜è…¾çš„ Rust, æ¬¢è¿æŸ¥çœ‹...</a></div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">èœå•</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/archive">åšå®¢</a></li><li><a class="dropdown__link" href="/docs/intro">æ•™ç¨‹</a></li><li><a class="dropdown__link" href="/resource">å¯¼èˆª</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"><b></b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FreeMarker-note">FreeMarker Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SpringBoot-note">Spring Boot å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/agile-development-user-story-scrum">æ•æ·å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/android">Android å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/autohotkey">Autohotkey è„šæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/blockchain">blockchainåŒºå—é“¾</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/c-sharp-and-dot-net">C# &amp; .NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chatgpt">Chatgpt Usage Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cloud-native-platform">äº‘æœåŠ¡å¹³å°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cpp">CPP and C å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cross-gfw">Cross The GFW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-note">Computer Science Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/css-pre-processor">å‡ ç§CSSé¢„å¤„ç†å™¨æ¯”è¾ƒé€‰å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data-structure-and-algorithm">Data Structure and Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/design-pattern-note">Design Pattern ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-resources">å¼€å‘è€…èµ„æº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/devops">DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distributed-system">Distributed System åˆ†å¸ƒå¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docker-note-virtual-dev-env">Docker Note &amp; Other Virtual Develop Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/effective-java-reading-note">Effective Java é˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/elk-elastic-log">Distributed log collectionåˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/english-note">è‹±è¯­å­¦ä¹ ğŸ”¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/extjs-note">Extjs ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/flutter">flutter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/games-development-introduce">æ¸¸æˆå¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git-note">Git å¤‡å¿˜ ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/github-starts">Github æ˜Ÿæ ‡â­ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/golang-note">Golang ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gps-gis-tracing">åŸºäºåœ°ç†ä½ç½®å¼€å‘æŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gradle">gradle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/greasy-monkey">æ²¹çŒ´æ’ä»¶&amp;ç¼–å†™è„šæœ¬ğŸ’</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/groovy-note">groovy note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/health">Health å…³çˆ±ç¨‹åºå‘˜å¥åº·ğŸ¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/how-to-test-java-app">How to Test Java App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/html-note">HTML å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/idea-note">InteliJ idea tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/interview-system-design">ç»å…¸çš„ç³»ç»Ÿè®¾è®¡æ€è·¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iot">Iot ç‰©è”ç½‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-code-clean">Java Clean Code Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-concurrent">Java ConcurrentğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-memory-model-jmm-jvm">JMM and GCğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-note">Java Core ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jquery-note">JQuery notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/js-tutorial">JavaScript tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kotlin">kotlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kubernetes-k8s">kubernetes-k8s â˜ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux-note">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœé˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mac">Mac å¼€å‘ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/machine-learning-ml">machine-learning-ml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/maven-note">Maven NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/message-queue">Message QueueğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/money">Investment Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mongodb-note">MongoDB NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/monitor-system-grafana-prometheus-influxdb-hbase">monitor-system-grafana-prometheusç›‘æ§ğŸ–¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mvc-mvvm">MVC to MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mybatis-note">MyBatis Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/netty-note">netty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nlp-natural-language-processing">nlp-natural-language-processingğŸ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodejs-yarn-npm">Nodejs, Yarn, Npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/oracle">Oracle å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-audio-video">Audio and Video development Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-big-data-introduce">å¤§æ•°æ®å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/outline-about-cache">Cache ç¼“å­˜ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-computational-ad">è®¡ç®—å¹¿å‘Š Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-crawler-spider">ç½‘ç»œçˆ¬è™« Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-db-design-note">å…³ç³»å‹æ•°æ®åº“è¡¨è®¾è®¡ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-desktop-develop">æ¡Œé¢åº”ç”¨å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-http">HTTP protocol Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-reactive-programming">å“åº”å¼ç¼–ç¨‹ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rest-api">RESTful api åŠ å…¶ä»–webServiceæŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rpc">RPC Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rule-engine-note">è§„åˆ™å¼•æ“ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/php-note">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/play-framework">Playæ¡†æ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/postgres-note">Postgres noteğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/process-workflow-bpm-engine">å·¥ä½œæµå¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/protect-your-app-authentication-oauth2-jwt-https">Protect Your App å®‰å…¨ä¿æŠ¤è®¤è¯é‰´æƒğŸ”‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/python-note">PythonğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quant-money">é‡åŒ–äº¤æ˜“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react-note">ReactğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/real-time-communication-protocol">å®æ—¶é€šä¿¡ Real-time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/redis-note">RedisğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/regex">Regular Expression æ­£åˆ™ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rust-note">Rust ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/saas-paas-iaas-as-a-service">SaaS Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-mesh">service mesh æœåŠ¡ç½‘æ ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/servlet">Servlet Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/shell-bash-note">shell-bashè„šæœ¬æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/spring-note">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springcloud-note">Spring Cloud ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springmvc-note">Spring MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/task-schedule-note">Task Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tcp-ip-note">TCP IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tomcat-jetty-nginx">Tomcat Jetty Nginx ç­‰ web å®¹å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">Vertx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-creator">æ‹æ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webassembly">webassembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webpack-esbuild-vite-rollup">å‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/windows-sub-system-on-linux">WSL ä½¿ç”¨</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cache ç¼“å­˜ğŸŒˆ</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>Cache ç¼“å­˜ğŸŒˆ</h1></header><div align="center">ehchach, memcache, redis... https://www.tianmaying.com/tutorial/spring-web-ehcache webç¼“å­˜ä½“ç³»: http://clsn.io/clsn/lx1088.html https://sourcegraph.com/github.com/qiujiayu/AutoLoadCache ç¼“å­˜æ¡†æ¶</div><ul><li><a href="#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98">1. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜</a></li><li><a href="#2-%E7%BC%93%E5%AD%98%E7%9A%84%E7%89%B9%E5%BE%81">2. ç¼“å­˜çš„ç‰¹å¾</a><ul><li><a href="#21-%E5%91%BD%E4%B8%AD%E7%8E%87">2.1. å‘½ä¸­ç‡</a></li><li><a href="#22-%E6%9C%80%E5%A4%A7%E5%85%83%E7%B4%A0%E6%9C%80%E5%A4%A7%E7%A9%BA%E9%97%B4">2.2. æœ€å¤§å…ƒç´ ï¼ˆæœ€å¤§ç©ºé—´ï¼‰</a></li><li><a href="#23-%E6%B8%85%E7%A9%BA%E7%AD%96%E7%95%A5">2.3. æ¸…ç©ºç­–ç•¥</a></li><li><a href="#24-%E7%BC%93%E5%AD%98%E4%BB%8B%E8%B4%A8">2.4. ç¼“å­˜ä»‹è´¨</a></li></ul></li><li><a href="#3-%E5%88%86%E7%B1%BB-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">3. åˆ†ç±» åº”ç”¨åœºæ™¯</a><ul><li><a href="#31-%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98local-cache">3.1. æœ¬åœ°ç¼“å­˜ï¼ˆlocal cacheï¼‰</a><ul><li><a href="#311-%E7%BC%96%E7%A8%8B%E7%9B%B4%E6%8E%A5%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98">3.1.1. ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜</a><ul><li><a href="#3111-%E6%88%90%E5%91%98%E5%8F%98%E9%87%8For%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E5%AE%9E%E7%8E%B0">3.1.1.1. æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°</a></li><li><a href="#3112-%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E5%AE%9E%E7%8E%B0">3.1.1.2. é™æ€å˜é‡å®ç°</a></li></ul></li><li><a href="#312-ehcache">3.1.2. Ehcache</a></li><li><a href="#313-guava-cache">3.1.3. Guava Cache</a></li></ul></li><li><a href="#32-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98remote-cache">3.2. åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆremote cacheï¼‰</a><ul><li><a href="#321-memcache%E7%BC%93%E5%AD%98">3.2.1. memcacheç¼“å­˜</a></li><li><a href="#322-redis%E7%BC%93%E5%AD%98">3.2.2. Redisç¼“å­˜</a></li></ul></li><li><a href="#33-%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88%E9%80%89%E5%9E%8B">3.3. ç¼“å­˜æ–¹æ¡ˆé€‰å‹</a></li></ul></li><li><a href="#4-%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E7%9A%84%E7%AD%96%E7%95%A5">4. ç¼“å­˜æ›´æ–°çš„ç­–ç•¥</a></li><li><a href="#5-%E7%BC%93%E5%AD%98%E5%B8%A6%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98">5. ç¼“å­˜å¸¦æ¥çš„é—®é¢˜</a><ul><li><a href="#51-%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98">5.1. ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</a><ul><li><a href="#511-%E6%8C%87%E5%AE%9A%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4">5.1.1. æŒ‡å®šè¿‡æœŸæ—¶é—´</a></li><li><a href="#512-%E5%88%A0%E9%99%A4%E7%BC%93%E5%AD%98">5.1.2. åˆ é™¤ç¼“å­˜</a></li><li><a href="#513-%E4%B8%BB%E5%8A%A8%E6%9B%B4%E6%96%B0%E7%BC%93%E5%AD%98">5.1.3. ä¸»åŠ¨æ›´æ–°ç¼“å­˜</a></li><li><a href="#514-%E4%BD%BF%E7%94%A8-canal-%E4%B8%AD%E9%97%B4%E4%BB%B6">5.1.4. ä½¿ç”¨ canal ä¸­é—´ä»¶</a></li></ul></li><li><a href="#52-%E9%9B%AA%E5%B4%A9%E9%97%AE%E9%A2%98">5.2. é›ªå´©é—®é¢˜</a></li><li><a href="#53-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F">5.3. ç¼“å­˜ç©¿é€</a></li><li><a href="#54-%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%97%AE%E9%A2%98">5.4. ç¼“å­˜å‡»ç©¿é—®é¢˜</a></li><li><a href="#55-%E7%BC%93%E5%AD%98%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E9%97%AE%E9%A2%98">5.5. ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜</a></li></ul></li><li><a href="#6-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%BC%93%E5%AD%98-%E5%9B%BE%E7%89%87%E7%BC%93%E5%AD%98">6. é™æ€èµ„æºç¼“å­˜-å›¾ç‰‡ç¼“å­˜</a></li></ul><h1>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜</h1><p>é«˜æ€§èƒ½(è¯·æ±‚æ‰§è¡Œè€—æ—¶æ›´çŸ­)</p><p>é«˜å¹¶å‘(1så†…å¯ä»¥æ¥æ”¶æ›´å¤šè¯·æ±‚)</p><h1>ç¼“å­˜çš„ç‰¹å¾</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å‘½ä¸­ç‡">å‘½ä¸­ç‡<a href="#å‘½ä¸­ç‡" class="hash-link" aria-label="å‘½ä¸­ç‡çš„ç›´æ¥é“¾æ¥" title="å‘½ä¸­ç‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å‘½ä¸­ç‡=è¿”å›æ­£ç¡®ç»“æœæ•°/è¯·æ±‚ç¼“å­˜æ¬¡æ•°ï¼Œå‘½ä¸­ç‡è¶Šé«˜ï¼Œè¡¨æ˜ç¼“å­˜çš„ä½¿ç”¨ç‡è¶Šé«˜ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æœ€å¤§å…ƒç´ æœ€å¤§ç©ºé—´">æœ€å¤§å…ƒç´ ï¼ˆæœ€å¤§ç©ºé—´ï¼‰<a href="#æœ€å¤§å…ƒç´ æœ€å¤§ç©ºé—´" class="hash-link" aria-label="æœ€å¤§å…ƒç´ ï¼ˆæœ€å¤§ç©ºé—´ï¼‰çš„ç›´æ¥é“¾æ¥" title="æœ€å¤§å…ƒç´ ï¼ˆæœ€å¤§ç©ºé—´ï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç¼“å­˜ä¸­å¯ä»¥å­˜æ”¾çš„æœ€å¤§å…ƒç´ çš„æ•°é‡ï¼Œä¸€æ—¦è¶…è¿‡ï¼Œé‚£ä¹ˆå°†ä¼šè§¦å‘ç¼“å­˜å¯åŠ¨æ¸…ç©ºç­–ç•¥</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ¸…ç©ºç­–ç•¥">æ¸…ç©ºç­–ç•¥<a href="#æ¸…ç©ºç­–ç•¥" class="hash-link" aria-label="æ¸…ç©ºç­–ç•¥çš„ç›´æ¥é“¾æ¥" title="æ¸…ç©ºç­–ç•¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç¼“å­˜çš„å­˜å‚¨ç©ºé—´æœ‰é™åˆ¶ï¼Œå½“ç¼“å­˜ç©ºé—´è¢«ç”¨æ»¡æ—¶ï¼Œå¦‚ä½•ä¿è¯åœ¨ç¨³å®šæœåŠ¡çš„åŒæ—¶æœ‰æ•ˆæå‡å‘½ä¸­ç‡ï¼Ÿè¿™å°±ç”±ç¼“å­˜æ¸…ç©ºç­–ç•¥æ¥å¤„ç†</p><ul><li><p>FIFO(first in first out)</p><p>  å…ˆè¿›å…ˆå‡ºï¼›æ»¡è¶³æ•°æ®å®æ•ˆæ€§ï¼Œä¼˜å…ˆä¿è¯æœ€æ–°æ•°æ®å¯ç”¨</p></li><li><p>LFU(less frequently used)</p><p>  æœ€å°‘ä½¿ç”¨ï¼›æ— è®ºæ˜¯å¦è¿‡æœŸï¼Œæ¸…é™¤ä½¿ç”¨æ¬¡æ•°è¾ƒå°‘çš„å…ƒç´ ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªhit (å‘½ä¸­æ¬¡æ•°)å±æ€§ï¼Œhit å€¼æœ€å°çš„å°†ä¼šè¢«æ¸…å‡ºç¼“å­˜ã€‚ï¼Œæ»¡è¶³é«˜é¢‘æ•°æ®æœ‰æ•ˆæ€§</p></li><li><p>LRU(least recently used)ehcache é»˜è®¤å€¼</p><p>  æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼›æ— è®ºæ˜¯å¦è¿‡æœŸï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå½“ç¼“å­˜å®¹é‡æ»¡äº†ï¼Œè€Œåˆéœ€è¦è…¾å‡ºåœ°æ–¹æ¥ç¼“å­˜æ–°çš„å…ƒç´ çš„æ—¶å€™ï¼Œé‚£ä¹ˆç°æœ‰ç¼“å­˜å…ƒç´ ä¸­æ—¶é—´æˆ³ç¦»å½“å‰æ—¶é—´æœ€è¿œçš„å…ƒç´ å°†è¢«æ¸…å‡ºç¼“å­˜ï¼Œä¼˜å…ˆä¿è¯çƒ­ç‚¹æ•°æ®æœ‰æ•ˆæ€§  </p></li></ul><p>æ­¤å¤–è¿˜æœ‰ä¸€äº›ï¼š<br>
<!-- -->æ ¹æ®è¿‡æœŸæ—¶é—´åˆ¤æ–­ï¼Œæ¸…ç†è¿‡æœŸæ—¶é—´æœ€é•¿çš„å…ƒç´ ï¼›<br>
<!-- -->æ ¹æ®è¿‡æœŸæ—¶é—´åˆ¤æ–­ï¼Œæ¸…ç†æœ€è¿‘è¦è¿‡æœŸçš„å…ƒç´ ï¼›<br>
<!-- -->éšæœºæ¸…ç†ï¼›<br>
<!-- -->æ ¹æ®å…³é”®å­—ï¼ˆæˆ–å…ƒç´ å†…å®¹ï¼‰é•¿çŸ­æ¸…ç†ç­‰ã€‚  </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜ä»‹è´¨">ç¼“å­˜ä»‹è´¨<a href="#ç¼“å­˜ä»‹è´¨" class="hash-link" aria-label="ç¼“å­˜ä»‹è´¨çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜ä»‹è´¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å†…å­˜ã€ç¡¬ç›˜(æ–‡ä»¶ç³»ç»Ÿ)ã€æ•°æ®åº“ï¼ˆredisç­‰nosqlæ•°æ®åº“ï¼‰</p><h1>åˆ†ç±» åº”ç”¨åœºæ™¯</h1><p>æ ¹æ®ç¼“å­˜ä¸åº”ç”¨çš„è€¦åˆåº¦å¯åˆ†ä¸ºlocal Cacheã€remote Cache  </p><ul><li>local cache</li></ul><p>ç›´æ¥å­˜åœ¨äºåº”ç”¨ä¸­çš„ç¼“å­˜ç»„ä»¶ï¼›<br>
<!-- -->ä¼˜ç‚¹ï¼šç›´æ¥ä¸åº”ç”¨å­˜åœ¨äºåŒä¸€ä¸ªè¿›ç¨‹ï¼Œè¯·æ±‚ç¼“å­˜é€Ÿåº¦å¿«ï¼Œæ²¡æœ‰è¿‡å¤šçš„ç½‘ç»œå¼€é”€<br>
<!-- -->ç¼ºç‚¹ï¼šç”±äºä¸åº”ç”¨è€¦åˆï¼Œå¤šä¸ªç¨‹åºæ— æ³•å…±äº«ç¼“å­˜ï¼›æ¯ä¸ªç¨‹åºéœ€è¦ç»´æŠ¤è‡ªå·±çš„å•ç‹¬ç¼“å­˜ï¼Œæµªè´¹å†…å­˜<br>
<!-- -->é€‚ç”¨äºï¼š å•åº”ç”¨ä¸éœ€è¦é›†ç¾¤ï¼Œæˆ–é›†ç¾¤ä¸‹å„èŠ‚ç‚¹ä¸è®¸äº’ç›¸é€šä¿¡</p><ul><li>remote cache</li></ul><p>ä¸åº”ç”¨åˆ†ç¦»çš„ç¼“å­˜ç»„ä»¶ï¼›
ä¼˜ç‚¹ï¼šä¸ç¨‹åºè§£è€¦ï¼Œå¤šä¸ªç¨‹åºå¯å…±äº«ç¼“å­˜<br>
<!-- -->ç¼ºç‚¹ï¼š ç½‘ç»œå¼€é”€</p><p>æ ¹æ®ç¼“å­˜ä½ç½®ä¸åŒå¯ä»¥åˆ†ä¸ºå®¢æˆ·ç«¯ç¼“å­˜å’ŒæœåŠ¡å™¨ç¼“å­˜</p><ul><li>å®¢æˆ·ç«¯ç¼“å­˜ï¼ˆç¼“å­˜åœ¨ç”¨æˆ·çš„å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚æµè§ˆå™¨ä¸­ï¼‰</li><li>æœåŠ¡å™¨ç¼“å­˜ï¼ˆç¼“å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¯ä»¥ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä¹Ÿå¯ä»¥ç¼“å­˜åœ¨æ–‡ä»¶é‡Œï¼Œå¹¶ä¸”è¿˜å¯ä»¥è¿›ä¸€æ­¥åœ°åŒºåˆ†ä¸ºæœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜ä¸¤ç§ï¼‰</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æœ¬åœ°ç¼“å­˜local-cache">æœ¬åœ°ç¼“å­˜ï¼ˆlocal cacheï¼‰<a href="#æœ¬åœ°ç¼“å­˜local-cache" class="hash-link" aria-label="æœ¬åœ°ç¼“å­˜ï¼ˆlocal cacheï¼‰çš„ç›´æ¥é“¾æ¥" title="æœ¬åœ°ç¼“å­˜ï¼ˆlocal cacheï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜">ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜<a href="#ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜" class="hash-link" aria-label="ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä¾‹å¦‚ä½¿ç”¨hashmapå­˜å‚¨é”®å€¼å¯¹.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°">æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°<a href="#æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°" class="hash-link" aria-label="æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°çš„ç›´æ¥é“¾æ¥" title="æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">UseLocalCache</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token comment" style="color:rgb(0, 128, 0)">//ä¸€ä¸ªæœ¬åœ°çš„ç¼“å­˜å˜é‡,åªä½œç”¨åŸŸç±»å†…éƒ¨ï¼Œç±»é—´æ— æ³•å…±äº«ç¼“å­˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> localCacheStoreMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">List</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> infosList </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getInfoList</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> item</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain">infosList</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">localCacheStoreMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">containsKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//ç¼“å­˜å‘½ä¸­ ä½¿ç”¨ç¼“å­˜æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// todo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// ç¼“å­˜æœªå‘½ä¸­  IOè·å–æ•°æ®ï¼Œç»“æœå­˜å…¥ç¼“å­˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> valueObject </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getInfoFromDB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            localCacheStoreMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">valueObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">toString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> valueObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//ç¤ºä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">List</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getInfoList</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ArrayList</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//ç¤ºä¾‹æ•°æ®åº“IOè·å–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getInfoFromDB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é™æ€å˜é‡å®ç°">é™æ€å˜é‡å®ç°<a href="#é™æ€å˜é‡å®ç°" class="hash-link" aria-label="é™æ€å˜é‡å®ç°çš„ç›´æ¥é“¾æ¥" title="é™æ€å˜é‡å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">//O2Oä¸šåŠ¡ä¸­å¸¸ç”¨çš„åŸå¸‚åŸºç¡€åŸºæœ¬ä¿¡æ¯åˆ¤æ–­ï¼Œé€šè¿‡é™æ€å˜é‡ä¸€æ¬¡è·å–ç¼“å­˜å†…å­˜ä¸­ï¼Œå‡å°‘é¢‘ç¹çš„I/Oè¯»å–ï¼Œé™æ€å˜é‡å®ç°ç±»é—´å¯å…±äº«ï¼Œè¿›ç¨‹å†…å¯å…±äº«ï¼Œç¼“å­˜çš„å®æ—¶æ€§ç¨å·®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CityUtils</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpClient</span><span class="token plain"> httpClient </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServerHolder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createClientWithPool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> cityIdNameMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> districtIdNameMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpGet</span><span class="token plain"> get </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;http://gis-in.sankuai.com/api/location/city/all&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">generateAuthAndDateHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">CLIENT_TO_REQUEST_MDC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SECRET_TO_REQUEST_MDC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> resultStr </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> httpClient</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BasicResponseHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token plain"> resultJo </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">resultStr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONArray</span><span class="token plain"> dataJa </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> resultJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getJSONArray</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;data&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> dataJa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">length</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(0, 0, 0)">++</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token plain"> itemJo </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> dataJa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getJSONObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            cityIdNameMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">itemJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> itemJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Init City List Error!&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpGet</span><span class="token plain"> get </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;http://gis-in.sankuai.com/api/location/district/all&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">generateAuthAndDateHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">CLIENT_TO_REQUEST_MDC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">BaseAuthorizationUtils</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SECRET_TO_REQUEST_MDC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> resultStr </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> httpClient</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BasicResponseHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token plain"> resultJo </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">resultStr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONArray</span><span class="token plain"> dataJa </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> resultJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getJSONArray</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;data&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> dataJa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">length</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(0, 0, 0)">++</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JSONObject</span><span class="token plain"> itemJo </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> dataJa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getJSONObject</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            districtIdNameMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">itemJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> itemJo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Init District List Error!&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getCityName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> cityId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cityIdNameMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cityId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;æœªçŸ¥&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getDistrictName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> districtId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> districtIdNameMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">districtId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">         name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;æœªçŸ¥&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é™æ€å˜é‡å®ç°ç±»é—´å¯å…±äº«ï¼Œè¿›ç¨‹å†…å¯å…±äº«ï¼Œç¼“å­˜çš„å®æ—¶æ€§ç¨å·®<br>
<!-- -->ä¸ºäº†è§£å†³æœ¬åœ°ç¼“å­˜æ•°æ®çš„å®æ—¶æ€§é—®é¢˜ï¼Œç›®å‰å¤§é‡ä½¿ç”¨çš„æ˜¯ç»“åˆZooKeeperçš„è‡ªåŠ¨å‘ç°æœºåˆ¶ï¼Œå®æ—¶å˜æ›´æœ¬åœ°é™æ€å˜é‡ç¼“å­˜  </p><blockquote><p>è¿™ç±»ç¼“å­˜å®ç°ï¼Œä¼˜ç‚¹æ˜¯èƒ½ç›´æ¥åœ¨heapåŒºå†…è¯»å†™ï¼Œæœ€å¿«ä¹Ÿæœ€æ–¹ä¾¿ï¼›ç¼ºç‚¹åŒæ ·æ˜¯å—heapåŒºåŸŸå½±å“ï¼Œç¼“å­˜çš„æ•°æ®é‡éå¸¸æœ‰é™ï¼ŒåŒæ—¶ç¼“å­˜æ—¶é—´å—GCå½±å“ã€‚ä¸»è¦æ»¡è¶³å•æœºåœºæ™¯ä¸‹çš„å°æ•°æ®é‡ç¼“å­˜éœ€æ±‚ï¼ŒåŒæ—¶å¯¹ç¼“å­˜æ•°æ®çš„å˜æ›´æ— éœ€å¤ªæ•æ„Ÿæ„ŸçŸ¥ï¼Œå¦‚ä¸Šä¸€èˆ¬é…ç½®ç®¡ç†ã€åŸºç¡€é™æ€æ•°æ®ç­‰åœºæ™¯ã€‚</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ehcache">Ehcache<a href="#ehcache" class="hash-link" aria-label="Ehcacheçš„ç›´æ¥é“¾æ¥" title="Ehcacheçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><p>çº¯Javaå¼€æºç¼“å­˜æ¡†æ¶</p></li><li><p>ä¸€ä¸ªéå¸¸è½»é‡çº§çš„ç¼“å­˜å®ç°, åªä¾èµ–slf4j, Hibernateå°±ä½¿ç”¨äº†ä»–</p></li><li><p>ä¸¤çº§ç¼“å­˜ä»‹è´¨ï¼Œcache.flush()æ‰èƒ½ç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±</p></li><li><p>å¿«é€Ÿï¼Œé’ˆå¯¹å¤§å‹é«˜å¹¶å‘ç³»ç»Ÿåœºæ™¯ï¼ŒEhcacheçš„å¤šçº¿ç¨‹æœºåˆ¶æœ‰ç›¸åº”çš„ä¼˜åŒ–æ”¹å–„ã€‚</p></li><li><p>å…·æœ‰ç¼“å­˜(CacheEvenListener)å’Œç¼“å­˜ç®¡ç†å™¨(CacheManagerListener)çš„ä¾¦å¬æ¥å£ï¼Œèƒ½æ›´ç®€å•æ–¹ä¾¿çš„è¿›è¡Œç¼“å­˜å®ä¾‹çš„ç›‘æ§ç®¡ç†(åšä¸€äº›ç»Ÿè®¡æˆ–æ•°æ®ä¸€è‡´æ€§å¹¿æ’­æŒºå¥½ç”¨çš„)</p></li><li><p>æ”¯æŒå¤šç¼“å­˜ç®¡ç†å™¨å®ä¾‹ï¼Œä»¥åŠä¸€ä¸ªå®ä¾‹çš„å¤šä¸ªç¼“å­˜åŒºåŸŸã€‚</p></li></ul><p>æ ¸å¿ƒå®šä¹‰ï¼š  </p><ul><li><p>cache managerï¼šç¼“å­˜ç®¡ç†å™¨</p></li><li><p>cacheï¼š ç¼“å­˜ç®¡ç†å™¨ä¸­å¯æ”¾ç½®è‹¥å¹²</p></li><li><p>elementï¼š å•æ¡ç¼“å­˜æ•°æ®çš„ç»„æˆå•ä½</p></li><li><p>system of recordï¼ˆSORï¼‰ï¼šå¯ä»¥å–åˆ°çœŸå®æ•°æ®çš„ç»„ä»¶ï¼Œå¯ä»¥æ˜¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ã€å¤–éƒ¨æ¥å£è°ƒç”¨ã€å­˜æ”¾çœŸå®æ•°æ®çš„æ•°æ®åº“ç­‰ï¼Œç¼“å­˜å°±æ˜¯ä»SORä¸­è¯»å–æˆ–è€…å†™å…¥åˆ°SORä¸­å»çš„ã€‚</p></li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">ehcache</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        ç£ç›˜å­˜å‚¨:å°†ç¼“å­˜ä¸­æš‚æ—¶ä¸ä½¿ç”¨çš„å¯¹è±¡,è½¬ç§»åˆ°ç¡¬ç›˜,ç±»ä¼¼äºWindowsç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        path:æŒ‡å®šåœ¨ç¡¬ç›˜ä¸Šå­˜å‚¨å¯¹è±¡çš„è·¯å¾„</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     --&gt;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">diskStore</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">path</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">d:/ehcache/</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">diskStore</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- é»˜è®¤ç¼“å­˜é…ç½® --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    å¿…é¡»:</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * defaultCache:é»˜è®¤çš„ç¼“å­˜é…ç½®ä¿¡æ¯,å¦‚æœä¸åŠ ç‰¹æ®Šè¯´æ˜,åˆ™æ‰€æœ‰å¯¹è±¡æŒ‰ç…§æ­¤é…ç½®é¡¹å¤„ç†</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * maxElementsInMemory:è®¾ç½®äº†ç¼“å­˜çš„ä¸Šé™,æœ€å¤šå­˜å‚¨å¤šå°‘ä¸ªè®°å½•å¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * eternal:ä»£è¡¨å¯¹è±¡æ˜¯å¦æ°¸ä¸è¿‡æœŸ(å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œå¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsï¼ŒtimeToLiveSecondsåˆ¤æ–­ã€‚)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * overflowToDisk:å¦‚æœå†…å­˜ä¸­æ•°æ®è¶…è¿‡å†…å­˜é™åˆ¶ï¼Œæ˜¯å¦è¦ç¼“å­˜åˆ°ç£ç›˜ä¸Š</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    å¯é€‰:</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * maxElementsOnDiskï¼šåœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®, è¾¾åˆ°åold dataä¼šåˆ·åˆ°ç£ç›˜ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºä¸é™åˆ¶</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * timeToIdleSeconds:æœ€å¤§çš„å‘å‘†æ—¶é—´(å¤šé•¿æ—¶é—´æ²¡æœ‰è¢«è®¿é—®å°±ä¼šå¤±æ•ˆ), é»˜è®¤0, æ°¸ä¸å¤±æ•ˆ</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * timeToLiveSeconds:æœ€å¤§çš„å­˜æ´»æ—¶é—´, é»˜è®¤0, åŒä¸Š</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * diskSpoolBufferSizeMBï¼š DiskStoreä½¿ç”¨çš„ç£ç›˜å¤§å°ï¼Œé»˜è®¤å€¼30MBã€‚æ¯ä¸ªcacheä½¿ç”¨å„è‡ªçš„DiskStore</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        * memoryStoreEvictionPolicyï¼š å¦‚æœå†…å­˜ä¸­æ•°æ®è¶…è¿‡å†…å­˜é™åˆ¶ï¼Œå‘ç£ç›˜ç¼“å­˜æ—¶çš„ç­–ç•¥ã€‚é»˜è®¤å€¼LRUï¼Œå¯é€‰FIFOã€LFU</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">defaultCache</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">maxElementsInMemory</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">10000</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">eternal</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">false</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">timeToIdleSeconds</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">120</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">timeToLiveSeconds</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">120</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">overflowToDisk</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">true</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- Userç¼“å­˜é…ç½® --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        cache:ä¸ºæŒ‡å®šåç§°çš„å¯¹è±¡è¿›è¡Œç¼“å­˜çš„ç‰¹æ®Šé…ç½®</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        name:æŒ‡å®šå¯¹è±¡çš„å®Œæ•´å(å¦‚æœæœ‰åˆ«åäº¦å¯    )</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">cache</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">User</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">maxElementsInMemory</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">10000</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">eternal</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">false</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">timeToIdleSeconds</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">300</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">timeToLiveSeconds</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">600</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">        </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">overflowToDisk</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">true</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><br></span><span class="token-line" style="color:#000000"><span class="token tag" style="color:rgb(128, 0, 0)">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">ehcache</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="guava-cache">Guava Cache<a href="#guava-cache" class="hash-link" aria-label="Guava Cacheçš„ç›´æ¥é“¾æ¥" title="Guava Cacheçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain"># waiting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ†å¸ƒå¼ç¼“å­˜remote-cache">åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆremote cacheï¼‰<a href="#åˆ†å¸ƒå¼ç¼“å­˜remote-cache" class="hash-link" aria-label="åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆremote cacheï¼‰çš„ç›´æ¥é“¾æ¥" title="åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆremote cacheï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="memcacheç¼“å­˜">memcacheç¼“å­˜<a href="#memcacheç¼“å­˜" class="hash-link" aria-label="memcacheç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="memcacheç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://blog.csdn.net/jationxiaozi/article/details/8509732" target="_blank" rel="noopener noreferrer">ref</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisç¼“å­˜">Redisç¼“å­˜<a href="#redisç¼“å­˜" class="hash-link" aria-label="Redisç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="Redisç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://blog.csdn.net/jationxiaozi/article/details/8509732" target="_blank" rel="noopener noreferrer">ref</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜æ–¹æ¡ˆé€‰å‹">ç¼“å­˜æ–¹æ¡ˆé€‰å‹<a href="#ç¼“å­˜æ–¹æ¡ˆé€‰å‹" class="hash-link" aria-label="ç¼“å­˜æ–¹æ¡ˆé€‰å‹çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜æ–¹æ¡ˆé€‰å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://www.zhihu.com/question/24504292/answer/86908460" target="_blank" rel="noopener noreferrer">ref</a>, <a href="https://www.zhihu.com/question/19645807/answer/12605611" target="_blank" rel="noopener noreferrer">ref</a>, <a href="https://www.zhihu.com/question/19829601" target="_blank" rel="noopener noreferrer">æ›´å¤šmemcachedå’ŒredisåŒºåˆ«</a></p><p><a href="https://www.imooc.com/article/23549" target="_blank" rel="noopener noreferrer">memcache å’Œ redis åŒºåˆ«</a></p><ul><li><p>ehcacheç›´æ¥åœ¨jvmè™šæ‹Ÿæœºä¸­ç¼“å­˜ï¼Œé€Ÿåº¦å¿«, ä½†æ˜¯ç¼“å­˜å…±äº«éº»çƒ¦, å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿä¸é€‰ç”¨</p></li><li><p>redis æ•°æ®ç±»å‹å¤š (String listï¼Œsetï¼Œzset(sort set)ï¼Œhash), meme ä»…ä»…æ”¯æŒ string/äºŒè¿›åˆ¶</p></li><li><p>redis æ”¯æŒæŒä¹…åŒ– (rdbå¿«ç…§, aofæ—¥å¿—), binlog, mem ä¸æ”¯æŒæŒä¹…åŒ–</p></li><li><p>redis åŸç”Ÿæ”¯æŒé›†ç¾¤éƒ¨ç½², mem æ”¯æŒä¸å¥½ (éœ€è¦é€šè¿‡å®¢æˆ·ç«¯æ¥å®ç°å¾€é›†ç¾¤ä¸­åˆ†ç‰‡å†™å…¥æ•°æ®)</p></li><li><p>Redisä½¿ç”¨å•çº¿ç¨‹çš„IOå¤ç”¨æ¨¡å‹ã€‚Memcachedæ˜¯å¤šçº¿ç¨‹, å¯ä»¥é«˜æ•ˆåˆ©ç”¨å¤šæ ¸ï¼Œéé˜»å¡IOå¤ç”¨çš„ç½‘ç»œæ¨¡å‹.</p><p>  redisæ˜¯å•çº¿ç¨‹æ¨¡å‹, åªä½¿ç”¨cpuå•æ ¸, mem å¯ä½¿ç”¨å¤šæ ¸, æ‰€ä»¥åœ¨ç¼“å­˜å°æ•°æ®çš„æ—¶å€™, redisæ›´å¿«(æ²¡æœ‰çº¿ç¨‹åˆ‡æ¢,èµ„æºç«äº‰), ç¼“å­˜100kä»¥ä¸Šçš„å¤§æ•°æ®æ—¶memæ›´å¿«</p></li></ul><h1>ç¼“å­˜æ›´æ–°çš„ç­–ç•¥</h1><p><a href="https://coolshell.cn/articles/17416.html" target="_blank" rel="noopener noreferrer">ref</a></p><h1>ç¼“å­˜å¸¦æ¥çš„é—®é¢˜</h1><p>å¸¸ç”¨ä¸‰è¿: æŸ¥æ•°æ®åº“æ·é”é˜²æ­¢ç¼“å­˜å‡»ç©¿, ç¼“å­˜ç©ºå¯¹è±¡/å¸ƒéš†è¿‡æ»¤å™¨é˜²æ­¢ç©¿é€, è¿‡æœŸæ—¶é—´åŠ éšæœºå€¼/é€»è¾‘è¿‡æœŸåˆ é™¤é˜²æ­¢é›ªå´©</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜">ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜<a href="#ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜" class="hash-link" aria-label="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä¸€è‡´æ€§é—®é¢˜: å†™åº“æ“ä½œå, æ•°æ®åº“å’Œç¼“å­˜æ•°æ®ä¸ä¸€è‡´äº†</p><p>æœ‰å¦‚ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆ, å¼€å‘æˆæœ¬ä¾æ¬¡å‡é«˜:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æŒ‡å®šè¿‡æœŸæ—¶é—´">æŒ‡å®šè¿‡æœŸæ—¶é—´<a href="#æŒ‡å®šè¿‡æœŸæ—¶é—´" class="hash-link" aria-label="æŒ‡å®šè¿‡æœŸæ—¶é—´çš„ç›´æ¥é“¾æ¥" title="æŒ‡å®šè¿‡æœŸæ—¶é—´çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ç¼“å­˜æŒ‡å®šè¿‡æœŸæ—¶é—´ , å®¹è®¸æŸæ®µæ—¶é—´çš„æ•°æ®ä¸ä¸€è‡´</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="åˆ é™¤ç¼“å­˜">åˆ é™¤ç¼“å­˜<a href="#åˆ é™¤ç¼“å­˜" class="hash-link" aria-label="åˆ é™¤ç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="åˆ é™¤ç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å…ˆå†™ db, æˆåŠŸå, å†åˆ é™¤ç¼“å­˜/è®©ç¼“å­˜å¤±æ•ˆ</p><p>ä½†æ˜¯ä¹Ÿæœ‰é—®é¢˜, é—®é¢˜æè¿°: å†™åº“æ—¶, å…ˆæ›´æ–°æ•°æ®åº“, å†åˆ é™¤ç¼“å­˜, å¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥äº†, é‚£æ•°æ®åº“å’Œç¼“å­˜æ•°æ®å°±ä¸ä¸€è‡´äº† </p><ul><li><p>è§£å†³: åˆ©ç”¨æ¶ˆæ¯ä¸­é—´ä»¶å¯¹ç¼“å­˜åˆ é™¤è¿›è¡Œå¤±è´¥é‡è¯•</p></li><li><p>è§£å†³: æ”¹ä¸ºå…ˆåˆ é™¤ç¼“å­˜ç„¶åæ›´æ–°æ•°æ®åº“, è¿™æ ·å¦‚æœæ•°æ®åº“æ›´æ–°å¤±è´¥, æ•°æ®åº“ä¸­æ˜¯æ—§æ•°æ®, ç¼“å­˜ä¸­æ˜¯ç©ºçš„, æ•°æ®ä¸ä¼šä¸ä¸€è‡´;</p><p>  ä½†æ˜¯åœ¨é«˜å¹¶å‘ä¸‹, è¿˜æ˜¯æœ‰å¯èƒ½é—®é¢˜: å…ˆåˆ é™¤ç¼“å­˜, æ­£å‡†å¤‡æ›´æ–°æ•°æ®åº“, è¿™æ—¶åˆæœ‰ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚è¿›æ¥äº†, æ²¡æœ‰ç¼“å­˜, æŸ¥è¯¢æ•°æ®åº“, å¾—åˆ°æ—§æ•°æ®å¹¶å†™å…¥ç¼“å­˜ç»“æŸè¿”å›, è¿™æ—¶ä¹‹å‰é‚£ä¸ªæ›´æ–°è¯·æ±‚æ›´æ–°æ•°æ®åº“å®Œæˆ, ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®ä¸ä¸€è‡´äº†</p><p>  è§£å†³: ç®€å•ç‚¹çš„: &quot;å»¶æ—¶é‡å¤åˆ é™¤&quot; - åœ¨æ›´æ–°æ•°æ®åº“å‰åå„åˆ é™¤ä¸€æ¬¡ç¼“å­˜, ç¬¬äºŒæ¬¡åˆ é™¤å‰ç­‰å¾…ä¸€æ®µæ—¶é—´(æ¯”å¦‚200ms); ç¬¬äºŒæ¬¡åˆ é™¤æ˜¯ä¸ºäº†åˆ é™¤å†™åº“å‰æœ‰è¯»åº“æ“ä½œé€ æˆç¼“å­˜è„æ•°æ®, è¿™æ®µå»¶æ—¶å°±æ˜¯ä¸€ä¸ªè¯»åº“æ“ä½œçš„è€—æ—¶, ç›®çš„æ˜¯ä¸ºäº†è®©è„æ•°æ®å®Œå…¨å†™å…¥ç¼“å­˜, ä»¥ä¾¿æˆ‘ä»¬åˆšå¥½èƒ½å¤Ÿåˆ é™¤; (ä¼‘çœ å’Œç¬¬äºŒæ¬¡åˆ é™¤å¯å¦èµ·ä¸€ä¸ªçº¿ç¨‹,è¿™æ ·å¯ä»¥æé«˜qps)</p></li><li><p>è§£å†³: è¿˜å¯ä»¥ åˆ©ç”¨å†…å­˜queue , å°†è¯»è¯·æ±‚/å†™è¯·æ±‚ ä¸²è¡ŒåŒ–, å¯¹åŒä¸€ä¸ª id çš„è¯»å†™ä¸²è¡ŒåŒ–, å†™åº“å®Œæˆå‰, æ— æ³•è¯»åº“ (ä¸¥æ ¼çš„ä¸€è‡´æ€§): åˆ›å»ºå‡ ä¸ªjvmå†…å­˜queue, æ¯”å¦‚20ä¸ªï¼Œ æ¯ä¸ªqueueå¯¹åº”ä¸€ä¸ªworkerçº¿ç¨‹; æ‰€æœ‰è¯·æ±‚å‡åŒ€åˆ†å‘ç»™å„ä¸ª queue, æ¯”å¦‚æŒ‰ç…§ id å–æ¨¡, ç„¶åè®©å¯¹åº”çš„çº¿ç¨‹å¤„ç†</p><p>  è¿™æ ·çš„è¯, æ›´æ–°æ•°æ®æ—¶æ ¹æ®å”¯ä¸€æ ‡è¯†(æ¯”å¦‚å•†å“id),å¾—åˆ°hashcode,ç„¶åå¯¹queueä¸ªæ•°å–æ¨¡, å‡åŒ€çš„æ”¾å…¥queueä¸­; </p><p>  è¯»å–æ•°æ®æ—¶ï¼Œå¦‚æœå‘ç°æ•°æ®ä¸å†ç¼“å­˜ä¸­ï¼Œ å°†è¿›è¡Œã€é‡æ–°è¯»å–æ•°æ®+æ·»åŠ ç¼“å­˜ã€‘çš„æ“ä½œï¼Œæ ¹æ®å”¯ä¸€æ ‡è¯†hashè·¯ç”±ååŠ å…¥åŒä¸€ä¸ªjvmå†…å­˜é˜Ÿåˆ—ï¼›è¿™æ ·workerä¸²è¡Œæ‹¿åˆ°å¯¹åº”æ“ä½œï¼Œç„¶åä¾æ¬¡æ‰§è¡Œï¼Œè¿™æ ·çš„è¯ï¼Œä¸€ä¸ªæ›´æ–°æ•°æ®çš„æ“ä½œï¼Œå…ˆåˆ é™¤ç¼“å­˜ï¼Œ ç„¶åæ›´æ–°æ•°æ®åº“ï¼Œ è¿˜æ²¡æœ‰å®Œæˆçš„è¯ï¼Œåé¢çš„è¯»è¯·æ±‚ä¼šåœ¨queueä¸­ç§¯å‹ï¼Œ ç­‰å¾…æ•°æ®åº“æ›´æ–°æ“ä½œå®Œæˆï¼›</p><p>  è¿™é‡Œæœ‰ä¸ªä¼˜åŒ–ç‚¹ï¼šä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå…¶å®å¯¹åŒä¸ªidçš„å¤šä¸ªæ›´æ–°ç¼“å­˜è¯·æ±‚ä¸²åœ¨ä¸€èµ·æ˜¯æ²¡æ„ä¹‰çš„ï¼Œå› æ­¤å¯ä»¥åšè¿‡æ»¤ï¼Œå¦‚æœå‘ç°é˜Ÿåˆ—ä¸­å·²ç»æœ‰ä¸€ä¸ªæ›´æ–°ç¼“å­˜çš„è¯·æ±‚äº†ï¼Œé‚£ä¹ˆå°±ä¸ç”¨å†æ”¾ä¸ªæ›´æ–°è¯·æ±‚æ“ä½œè¿›å»äº†ï¼Œç›´æ¥ç­‰å¾…å‰é¢çš„æ›´æ–°æ“ä½œè¯·æ±‚å®Œæˆå³å¯</p><p>  å¦‚æœè¯·æ±‚è¿˜åœ¨ç­‰å¾…æ—¶é—´èŒƒå›´å†…ï¼Œä¸æ–­è½®è¯¢å‘ç°å¯ä»¥å–åˆ°å€¼äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›ï¼›å¦‚æœè¯·æ±‚ç­‰å¾…çš„æ—¶é—´è¶…è¿‡ä¸€å®šæ—¶é•¿ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡ç›´æ¥ä»æ•°æ®åº“ä¸­è¯»å–å½“å‰çš„æ—§å€¼ã€‚</p></li></ul><ul><li>è¿˜å¯ä»¥ : åˆ©ç”¨MySQLçš„binlogå¼‚æ­¥æ›´æ–°æ•°æ®åˆ°ç¼“å­˜; æ¨è</li></ul><p>è¿˜æœ‰ä¸€ä¸ªå‡ºç°å‡ ç‡å¾ˆå°çš„é—®é¢˜:</p><blockquote><p>æ¯”å¦‚ï¼Œä¸€ä¸ªæ˜¯è¯»æ“ä½œï¼Œä½†æ˜¯æ²¡æœ‰å‘½ä¸­ç¼“å­˜ï¼Œç„¶åå°±åˆ°æ•°æ®åº“ä¸­å–æ•°æ®ï¼Œæ­¤æ—¶æ¥äº†ä¸€ä¸ªå†™æ“ä½œï¼Œå†™å®Œæ•°æ®åº“åï¼Œè®©ç¼“å­˜å¤±æ•ˆï¼Œç„¶åï¼Œä¹‹å‰çš„é‚£ä¸ªè¯»æ“ä½œå†æŠŠè€çš„æ•°æ®æ”¾è¿›å»ï¼Œæ‰€ä»¥ï¼Œä¼šé€ æˆè„æ•°æ®
é¡ºåºæ˜¯è¿™æ ·çš„: thread 1è¯»åº“ (ç¼“å­˜æ²¡æœ‰) -&gt; thread2å†™åº“ -&gt; thread2è®©ç¼“å­˜å¤±æ•ˆ -&gt; thread1 è®¾ç½®ç¼“å­˜
å› ä¸ºè¿™ç§æƒ…å†µè¦æ±‚ä¸€ä¸ªå®Œæ•´çš„å†™åº“æ“ä½œåœ¨ä¸€ä¸ªè¯»åº“æ“ä½œå‘¨æœŸå†…å®Œæˆ, è¿™æ˜¾ç„¶ä¸å¤§å¯èƒ½, å› ä¸ºå†™åº“å¤§æ¦‚ç‡æ…¢äºè¯»åº“</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¸»åŠ¨æ›´æ–°ç¼“å­˜">ä¸»åŠ¨æ›´æ–°ç¼“å­˜<a href="#ä¸»åŠ¨æ›´æ–°ç¼“å­˜" class="hash-link" aria-label="ä¸»åŠ¨æ›´æ–°ç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="ä¸»åŠ¨æ›´æ–°ç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ•°æ®åº“æ›´æ–°å, ç¼“å­˜ç«‹å³æ›´æ–°, é€‚ç”¨äºå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯, ä½†æ˜¯å¼€å‘æˆæœ¬æœ€é«˜, éœ€è¦æˆ‘ä»¬è‡ªå·±å®Œæˆç¼“å­˜çš„æ›´æ–°</p><p>ä¸€è‡´æ€§æœ€å¥½, ä½†æ˜¯å¦‚æœä¸»åŠ¨æ›´æ–°å‡ºç°é—®é¢˜, ä¼šå‡ºç°ä¸ä¸€è‡´é—®é¢˜, è€Œä¸”å¯èƒ½å¾ˆä¹…éƒ½ä¸ä¼šå†æ›´æ–°ç¼“å­˜, æ‰€ä»¥<code>ä¸€èˆ¬ç»“åˆè¶…æ—¶å‰”é™¤</code> (æœ€ä½³å®è·µ)</p><p>å¯èƒ½çš„é—®é¢˜: å¦‚æœå¯¹ç¼“å­˜çš„æ“ä½œæ˜¯æ›´æ–°è€Œä¸æ˜¯åˆ é™¤, é‚£ä¹ˆé«˜å¹¶å‘ä¸‹, ä¸¤ä¸ªå¹¶å‘çš„å†™åº“æ“ä½œä¼šå¯¼è‡´ä¸ä¸€è‡´, ä¸€ä¸ªå¯èƒ½çš„è¯·æ±‚æ‰§è¡Œé¡ºåºæ˜¯: thread1æ›´æ–°ç¼“å­˜, thread2æ›´æ–°ç¼“å­˜, thread2æ›´æ–°db, thread1æ›´æ–°db. æ­¤æ—¶ ç¼“å­˜å’Œdbæ•°æ®ä¸ä¸€è‡´äº†</p><p>è¿™æ—¶å› ä¸º åœ¨é«˜å¹¶å‘ä¸‹, æ›´æ–°db å’Œ æ›´æ–°ç¼“å­˜ä¸æ˜¯åŸå­æ“ä½œ (é€šè¿‡åŠ é”å¯ä»¥é¿å…)</p><p>è§£å†³: åˆ é™¤ç¼“å­˜, è€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ </p><p>ä¹Ÿæœ‰æ‡’åŠ è½½çš„æ€æƒ³; è¿˜æœ‰è¿™ä¸ªåŸå› : ç¼“å­˜æ•°æ®å¯èƒ½æ˜¯é€šè¿‡è´Ÿè½½è®¡ç®—åå¾—å‡ºçš„, æ›´æ–°ç¼“å­˜å¤ªå¤æ‚, è¿˜æ˜¯ç›´æ¥åˆ é™¤ç®€å•æ–¹ä¾¿</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨-canal-ä¸­é—´ä»¶">ä½¿ç”¨ canal ä¸­é—´ä»¶<a href="#ä½¿ç”¨-canal-ä¸­é—´ä»¶" class="hash-link" aria-label="ä½¿ç”¨ canal ä¸­é—´ä»¶çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨ canal ä¸­é—´ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>é˜¿é‡Œå¼€æº, è®¢é˜… MySQL çš„ binglogæ¥æ›´æ–°ç¼“å­˜, ä¸šåŠ¡ä»£ç ä¸­å°±æ— éœ€å…³æ³¨ç¼“å­˜ä¸€è‡´æ€§ç›¸å…³çš„é—®é¢˜äº†, ç›´æ¥æŠŠcanal å½“æˆ MySQL çš„ä»æœåŠ¡å™¨, æŸ¥è¯¢å³å¯</p><p>æ­¤å¤– canal è¿˜èƒ½è§£å†³æ•°æ®å¼‚æ„é—®é¢˜ (ä½¿ç”¨ canal è®¢é˜… å¤šä¸ªæ•°æ®æº, èšåˆæ•°æ®, è¿›è¡Œåˆ†æå¤„ç†)</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é›ªå´©é—®é¢˜">é›ªå´©é—®é¢˜<a href="#é›ªå´©é—®é¢˜" class="hash-link" aria-label="é›ªå´©é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="é›ªå´©é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ‰€æœ‰è¯·æ±‚ç¬é—´è¶Šè¿‡ç¼“å­˜ç›´æ¥å¥”å‘æ•°æ®åº“, å¯¼è‡´æ•°æ®åº“ä¹ŸæŒ‚, å¯èƒ½åŸå› :</p><ul><li><p>ç¼“å­˜å±‚æŒ‚äº†</p><ul><li><p>ç¼“å­˜å±‚é«˜å¯ç”¨ - å¤šä¸ªç¼“å­˜èŠ‚ç‚¹(redis é›†ç¾¤, ä¸»ä» + å“¨å…µ)</p></li><li><p>ä½¿ç”¨ä¾èµ–éš”ç¦»ç»„ä»¶ä¸ºåç«¯é™æµå¦‚é˜Ÿåˆ—, é™çº§å¦‚ Hystrix</p></li><li><p>redisæŒä¹…åŒ–ï¼Œå¿«é€Ÿæ¢å¤ç¼“å­˜æ•°æ®</p></li></ul></li><li><p>é¡¹ç›®åˆšä¸Šçº¿, redis ä¸­æ²¡æœ‰ä»»ä½•æ•°æ®, ç¬é—´å¤§é‡è¯·æ±‚è¿‡æ¥, é€ æˆé›ªå´©</p><ul><li>ç¼“å­˜é¢„çƒ­ - ä¸Šçº¿å‰, é¢„å…ˆå°†çƒ­ç‚¹æ•°æ®æ”¾å…¥redis</li></ul></li><li><p>ç¼“å­˜å¤§é‡çš„ key é‡‡ç”¨äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´, æŸä¸€æ—¶åˆ»é›†ä¸­å¤±æ•ˆ</p><ul><li><p>ä¸ºæ¯ä¸ªkey çš„è¿‡æœŸæ—¶é—´åŠ ä¸Šä¸€ä¸ªéšæœºæ•°å­—</p></li><li><p>ä½¿ç”¨ &quot;é€»è¾‘è¿‡æœŸ&quot; ç­–ç•¥, å³è®¾ç½®keyæ°¸ä¸è¿‡æœŸ, è€Œå°†ä¸šåŠ¡è¦æ±‚çš„è¿‡æœŸæ—¶é—´å­˜å‚¨åˆ°value (åˆ°æœŸæ—¶é—´: now() + expire), æ¯æ¬¡è¯»å–value, éƒ½è¯„ä¼°ä¸€ä¸‹æ˜¯å¦è¿‡æœŸ (åˆ°æœŸæ—¶é—´ == now() ?), å¦‚æœè¿‡æœŸ, åˆ™æ‰‹åŠ¨åˆ é™¤key(è¿™æ ·, æ°¸è¿œä¸ä¼šæŸ¥ä¸åˆ°key)</p></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜ç©¿é€">ç¼“å­˜ç©¿é€<a href="#ç¼“å­˜ç©¿é€" class="hash-link" aria-label="ç¼“å­˜ç©¿é€çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜ç©¿é€çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æŸ¥è¯¢ä¸€æ¡ä¸å­˜åœ¨çš„ç©ºè®°å½•, æ¯æ¬¡è¯·æ±‚éƒ½ä¼šç©¿é€ç¼“å­˜å±‚åˆ°è¾¾æ•°æ®åº“ (å¹¶ä¸”æŸ¥ä¸åˆ°æ•°æ®,ä¹Ÿæ²¡æœ‰å†™å…¥ç¼“å­˜), å¤±å»äº† &quot;ç¼“å­˜ä¿æŠ¤åç«¯æ•°æ®åº“&quot; çš„æ„ä¹‰</p><p>é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› :</p><ul><li>ä¸šåŠ¡ä»£ç æœ¬èº«çš„é—®é¢˜</li><li>æ¶æ„æ”»å‡», çˆ¬è™«... é€ æˆçš„å¤§é‡ç©ºå‘½ä¸­</li></ul><p>æ€ä¹ˆè§£å†³:</p><ul><li><p>å¯¹äºæ¶æ„è¯·æ±‚, é¢„å…ˆè¿‡æ»¤ , å¦‚é™åˆ¶é¢‘ç‡</p></li><li><p>ç¼“å­˜ç©ºå¯¹è±¡ - å½“ç¬¬ä¸€æ¬¡ç©¿é€ç¼“å­˜åˆ°è¾¾æ•°æ®åº“, æŸ¥è¯¢ä¸ºç©º, å°±å°†è¿™ä¸ªç©ºå¯¹è±¡ç¼“å­˜åˆ° redis, ä¹‹åé’ˆå¯¹è¿™æ¡æ•°æ®çš„è®¿é—®å°±ä¸ä¼šç©¿é€ç¼“å­˜è€Œæ˜¯ç›´æ¥è¿”å›ç©ºå¯¹è±¡</p><p>  è¿™ç§æ–¹æ³•å ç”¨æ›´å¤šçš„ redis å­˜å‚¨ç©ºé—´, éœ€è¦ä¸º null ç¼“å­˜å¯¹è±¡è®¾ç½®è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´</p><p>  æ•°æ®ä¸€è‡´æ€§é—®é¢˜, å¯åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¸…é™¤ null å¯¹è±¡</p></li><li><p>å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª - é€‚ç”¨äº æ•°æ®å‘½ä¸­ä¸é«˜, æ•°æ®å˜åŒ–ä¸å¤§çš„åœºæ™¯<br>
<!-- -->TODO</p></li><li><p>ä½¿ç”¨ setnx, å°±æ˜¯åœ¨ç¼“å­˜æŸ¥ä¸åˆ°çš„æ—¶å€™, ä¸æ˜¯ç«‹å³å»load db, è€Œæ˜¯å…ˆ setnx, æˆåŠŸåå†å» load db, å¦åˆ™è¯æ˜å…¶ä»–çº¿ç¨‹å·²ç»load dbå¹¶å›è®¾åˆ°ç¼“å­˜äº†ï¼Œè¿™æ—¶å€™ç¡çœ  50ms ç„¶åé‡è¯•è·å–ç¼“å­˜å€¼å³å¯</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜å‡»ç©¿é—®é¢˜">ç¼“å­˜å‡»ç©¿é—®é¢˜<a href="#ç¼“å­˜å‡»ç©¿é—®é¢˜" class="hash-link" aria-label="ç¼“å­˜å‡»ç©¿é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜å‡»ç©¿é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å¤§é‡è¯·æ±‚åŒæ—¶è®¿é—®æŸä¸ª key (é«˜é¢‘çƒ­ç‚¹ key), è€Œè¿™ä¸ª key æ­£å¥½åˆ°äº†å¤±æ•ˆæ—¶é—´, è¯·æ±‚ ç›´æ¥æ‰“åˆ° db</p><p>è®¿é—®æ•°æ®åº“æ—¶åŠ é”, å¤§é‡è¯·æ±‚åªè®©ä¸€ä¸ªå»  db, æŸ¥åˆ°åå­˜å…¥ç¼“å­˜, å…¶ä»–è¯·æ±‚ç­‰å¾…ç›´åˆ°è·å–é” å…ˆå» Redis æŸ¥, åˆ°åç›´æ¥è¿”å›, ä¼ªä»£ç :</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">resp </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">queryRedis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">resp </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">synchronized</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        resp </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">queryRedis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">resp </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            resp </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">queryDB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token function" style="color:rgb(0, 0, 255)">setRedis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> resp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦ä¸€ä¸ªæ€è·¯æ˜¯å¯¹å³å°†è¿‡æœŸçš„æ•°æ®ä¸»åŠ¨åˆ·æ–°ï¼Œåšæ³•å¯ä»¥æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚èµ·ä¸€ä¸ªçº¿ç¨‹è½®è¯¢æ•°æ®</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜">ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜<a href="#ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜" class="hash-link" aria-label="ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å¤šä¸ª client å¯¹æŸä¸ª key æ“ä½œ, å¦‚æœ:</p><ul><li><p>å¯¹è¿™ä¸ª key çš„æ“ä½œä¸è¦æ±‚é¡ºåº: ä½¿ç”¨åˆ†å¸ƒå¼é”, æŠ¢åˆ°é”çš„clientå°±è¿›è¡Œæ“ä½œ</p></li><li><p>å¯¹è¿™ä¸ª key çš„æ“ä½œè¦æ±‚é¡ºåº: åœ¨ set value æ—¶, value ä¸­åŒ…å«ä¸€ä¸ªæ—¶é—´æˆ³(æ ‡è¯†é¡ºåº), æ¯ä¸ªclient åœ¨ set æ—¶è¦ä¿è¯è‡ªå·±çš„æ—¶é—´æ™šäºè¯¥æ—¶é—´æˆ³</p></li></ul><h1>é™æ€èµ„æºç¼“å­˜-å›¾ç‰‡ç¼“å­˜</h1><p>å›¾ç‰‡è¿™äº›æ˜¯é™æ€èµ„æºå§ï¼Œé™æ€èµ„æºæ¨èçš„è¯æ˜¯ä½¿ç”¨CDNç¼“å­˜æˆ–è€…Nginxæœ¬åœ°ä»£ç†ç¼“å­˜å’Œæ§åˆ¶å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç¼“å­˜æ—¶å¸¸ä»¥æ­¤æ¥è¾¾åˆ°ä¸€ä¸ªç¼“å­˜çš„ä½œç”¨ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/cache">cache</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/outline">outline</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/outline-about-big-data-introduce"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">å¤§æ•°æ®å¼€å‘ Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/outline-about-computational-ad"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">è®¡ç®—å¹¿å‘Š Intro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å‘½ä¸­ç‡" class="table-of-contents__link toc-highlight">å‘½ä¸­ç‡</a></li><li><a href="#æœ€å¤§å…ƒç´ æœ€å¤§ç©ºé—´" class="table-of-contents__link toc-highlight">æœ€å¤§å…ƒç´ ï¼ˆæœ€å¤§ç©ºé—´ï¼‰</a></li><li><a href="#æ¸…ç©ºç­–ç•¥" class="table-of-contents__link toc-highlight">æ¸…ç©ºç­–ç•¥</a></li><li><a href="#ç¼“å­˜ä»‹è´¨" class="table-of-contents__link toc-highlight">ç¼“å­˜ä»‹è´¨</a></li><li><a href="#æœ¬åœ°ç¼“å­˜local-cache" class="table-of-contents__link toc-highlight">æœ¬åœ°ç¼“å­˜ï¼ˆlocal cacheï¼‰</a><ul><li><a href="#ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜" class="table-of-contents__link toc-highlight">ç¼–ç¨‹ç›´æ¥å®ç°ç¼“å­˜</a><ul><li><a href="#æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°" class="table-of-contents__link toc-highlight">æˆå‘˜å˜é‡orå±€éƒ¨å˜é‡å®ç°</a></li><li><a href="#é™æ€å˜é‡å®ç°" class="table-of-contents__link toc-highlight">é™æ€å˜é‡å®ç°</a></li></ul></li><li><a href="#ehcache" class="table-of-contents__link toc-highlight">Ehcache</a></li><li><a href="#guava-cache" class="table-of-contents__link toc-highlight">Guava Cache</a></li></ul></li><li><a href="#åˆ†å¸ƒå¼ç¼“å­˜remote-cache" class="table-of-contents__link toc-highlight">åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆremote cacheï¼‰</a><ul><li><a href="#memcacheç¼“å­˜" class="table-of-contents__link toc-highlight">memcacheç¼“å­˜</a></li><li><a href="#redisç¼“å­˜" class="table-of-contents__link toc-highlight">Redisç¼“å­˜</a></li></ul></li><li><a href="#ç¼“å­˜æ–¹æ¡ˆé€‰å‹" class="table-of-contents__link toc-highlight">ç¼“å­˜æ–¹æ¡ˆé€‰å‹</a></li><li><a href="#ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜" class="table-of-contents__link toc-highlight">ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</a><ul><li><a href="#æŒ‡å®šè¿‡æœŸæ—¶é—´" class="table-of-contents__link toc-highlight">æŒ‡å®šè¿‡æœŸæ—¶é—´</a></li><li><a href="#åˆ é™¤ç¼“å­˜" class="table-of-contents__link toc-highlight">åˆ é™¤ç¼“å­˜</a></li><li><a href="#ä¸»åŠ¨æ›´æ–°ç¼“å­˜" class="table-of-contents__link toc-highlight">ä¸»åŠ¨æ›´æ–°ç¼“å­˜</a></li><li><a href="#ä½¿ç”¨-canal-ä¸­é—´ä»¶" class="table-of-contents__link toc-highlight">ä½¿ç”¨ canal ä¸­é—´ä»¶</a></li></ul></li><li><a href="#é›ªå´©é—®é¢˜" class="table-of-contents__link toc-highlight">é›ªå´©é—®é¢˜</a></li><li><a href="#ç¼“å­˜ç©¿é€" class="table-of-contents__link toc-highlight">ç¼“å­˜ç©¿é€</a></li><li><a href="#ç¼“å­˜å‡»ç©¿é—®é¢˜" class="table-of-contents__link toc-highlight">ç¼“å­˜å‡»ç©¿é—®é¢˜</a></li><li><a href="#ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜" class="table-of-contents__link toc-highlight">ç¼“å­˜å¹¶å‘ç«äº‰é—®é¢˜</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å†å²</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tags">æ ‡ç­¾</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">å½’æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾äº¤åª’ä½“</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">å…³äºæˆ‘</a></li><li class="footer__item"><a href="https://github.com/xiaoyureed" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/xiaoyuhfq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/3fPgwd3naN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">å‹é“¾</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/resource">å¯¼èˆª</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Xiaoyureed, Inc. Built with â¤ï¸ by xiaoyu.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b52d440f.js"></script>
<script src="/assets/js/main.7d36310a.js"></script>
</body>
</html>