<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-outline-about-http-restful">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">HTTP protocol Intro &amp; RESTful - Xiaoyureed çš„ç½‘ç»œ Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" name="twitter:image" content="https://xiaoyureed.github.io/img/logo.webp"><meta data-rh="true" property="og:url" content="https://xiaoyureed.github.io/docs/outline-about-http-restful"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="keywords" content="xiaoyureed"><meta data-rh="true" name="keywords" content="blog, java, spring, microservice, python, rust, typescript, react, web"><meta data-rh="true" name="keywords" content=" åŠè·¯è½¬è¡Œçš„ç¼–ç¨‹çˆ±å¥½è€…, å†™è¿‡ Python, Rust, ç°åœ¨ä¸»æ”» Java åˆ†å¸ƒå¼ç³»ç»Ÿ"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="HTTP protocol Intro &amp; RESTful - Xiaoyureed çš„ç½‘ç»œ Wiki"><meta data-rh="true" name="description" content="http://www.httpbin.org/ åœ¨çº¿æ¼”ç¤º http æ ‡å‡†"><meta data-rh="true" property="og:description" content="http://www.httpbin.org/ åœ¨çº¿æ¼”ç¤º http æ ‡å‡†"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xiaoyureed.github.io/docs/outline-about-http-restful"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/en/docs/outline-about-http-restful" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/outline-about-http-restful" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://xiaoyureed.github.io/docs/outline-about-http-restful" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5SAMPKXTP9-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Xiaoyureed çš„ç½‘ç»œ Wiki" href="/opensearch.xml">


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f6da56a47f5085d1e0fedae39b8de00a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="xiaoyureed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="xiaoyureed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="xiaoyureed JSON Feed">

<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)">
<meta name="description" content="Xiaoyureed çš„ä¸ªäººåšå®¢"><link rel="stylesheet" href="/assets/css/styles.261d8673.css">
<link rel="preload" href="/assets/js/runtime~main.032ee0f7.js" as="script">
<link rel="preload" href="/assets/js/main.ad8a83de.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="/docs/rust-note" target="_blank">Rust æŒ‡åŒ—, æ¬¢è¿æŸ¥çœ‹...</a></div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">èœå•</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/archive">åšå®¢</a></li><li><a class="dropdown__link" href="/docs/intro">æ•™ç¨‹</a></li><li><a class="dropdown__link" href="/resource">å¯¼èˆª</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="xiaoyureed" class="themedImage_ToTc themedImage--dark_i4oU"><b></b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SpringBoot-note">Spring Boot å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/autohotkey">Autohotkey è„šæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/blockchain">blockchainåŒºå—é“¾</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/c-sharp-and-dot-net">C# &amp; .NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chatgpt">Chatgpt Usage Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cpp">CPP and C å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cross-gfw">Cross The GFW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-note">Computer Science Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/css-pre-processor">å‡ ç§CSSé¢„å¤„ç†å™¨æ¯”è¾ƒé€‰å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data-structure-and-algorithm">Data Structure and Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/design-pattern-note">Design Pattern ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-resources">å¼€å‘è€…èµ„æº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distributed-system">Distributed System åˆ†å¸ƒå¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docker-note-virtual-dev-env">Docker Note &amp; Other Virtual Develop Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/effective-java-reading-note">Effective Java é˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/elk-elastic-log">Distributed log collectionåˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/english-note">è‹±è¯­å­¦ä¹ ğŸ”¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/extjs-note">Extjs ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git-note">Git å¤‡å¿˜ ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/golang-note">Golang ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gps-gis-tracing">åŸºäºåœ°ç†ä½ç½®å¼€å‘æŠ€æœ¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gradle">Gradle note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/greasy-monkey">æ²¹çŒ´æ’ä»¶&amp;ç¼–å†™è„šæœ¬ğŸ’</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/groovy-note">groovy note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/health">Health å…³çˆ±ç¨‹åºå‘˜å¥åº·ğŸ¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/how-to-test-java-app">How to Test Java App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/interview-system-design">ç³»ç»Ÿè®¾è®¡ System design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iot">Iot ç‰©è”ç½‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-code-clean">Java Clean Code Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-concurrent">Java ConcurrentğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-memory-model-jmm-jvm">JMM and GCğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/java-note">Java Core ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/js-tutorial">JavaScript tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kotlin">kotlin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/kubernetes-k8s">kubernetes-k8s â˜ï¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux-note">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœé˜…è¯»ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/low-code-platform">å…³äºä½ä»£ç å¹³å°çš„è°ƒç ”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mac">Mac å¼€å‘ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/machine-learning-ml">machine-learning-ml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/marketing-seo">Marketing SEO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/maven-note">Maven NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/message-queue">Message QueueğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/money">Investment Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mongodb-note">MongoDB NotesğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/monitor-system-grafana-prometheus-influxdb-hbase-time-serials-database">monitor-system-grafana-prometheusç›‘æ§ğŸ–¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mvc-mvvm">MVC to MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mybatis-note">MyBatis Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/netty-note">netty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nlp-natural-language-processing">nlp-natural-language-processingğŸ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodejs-yarn-npm">Nodejs, Yarn, Npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/oracle">Oracle å¤‡å¿˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-audio-video">Audio and Video development Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-big-data-introduce">å¤§æ•°æ®å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-cache">Cache ç¼“å­˜ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-computational-ad">è®¡ç®—å¹¿å‘Š Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-crawler-spider">ç½‘ç»œçˆ¬è™« Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-db-design-note">å…³ç³»å‹æ•°æ®åº“è¡¨è®¾è®¡ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-desktop-develop">æ¡Œé¢åº”ç”¨å¼€å‘ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/outline-about-http-restful">HTTP protocol Intro &amp; RESTful</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-reactive-programming">å“åº”å¼ç¼–ç¨‹ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rpc">RPC Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/outline-about-rule-engine-note">è§„åˆ™å¼•æ“ Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/php-note">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/postgres-note">Postgres noteğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/process-workflow-bpm-engine">å·¥ä½œæµå¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/protect-your-app-authentication-oauth2-jwt-https">Protect Your App å®‰å…¨ä¿æŠ¤è®¤è¯é‰´æƒğŸ”‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/python-note">PythonğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quant-money">é‡åŒ–äº¤æ˜“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react-note">ReactğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/real-time-communication-protocol">å®æ—¶é€šä¿¡ Real-time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/redis-note">RedisğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/regex">Regular Expression æ­£åˆ™ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rust-note">Rust ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/scala-akka-play-framework">Scala è¯­è¨€</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-mesh">service mesh æœåŠ¡ç½‘æ ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/servlet">Servlet Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/shell-bash-note">shell-bashè„šæœ¬æ”¶é›†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/spring-note">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springcloud-note">Spring Cloud ç¬”è®°ğŸŒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/springmvc-note">Spring MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/task-schedule-note">Task Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tcp-ip-note-p2p">TCP IP, p2p</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tomcat-jetty-nginx">Tomcat Jetty Nginx ç­‰ web å®¹å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">Vertx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-creator">æ‹æ‘„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vue">Vue Brief Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webassembly">webassembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webpack-esbuild-vite-rollup">å‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">HTTP protocol Intro &amp; RESTful</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>HTTP protocol Intro &amp; RESTful</h1></header><div align="center">http://www.httpbin.org/ åœ¨çº¿æ¼”ç¤º http æ ‡å‡† https://httpie.org/ http è®¿é—®å·¥å…·, ä»£æ›¿ curl<p><a href="https://github.com/dbohdan/automatic-api" target="_blank" rel="noopener noreferrer">https://github.com/dbohdan/automatic-api</a> turns your database into a REST/GraphQL API</p><p><a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2014/05/restful_api.html</a>,</p><p>javaçš„rmiä½¿ç”¨<a href="https://blog.csdn.net/zhaowen25/article/details/45443951" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/zhaowen25/article/details/45443951</a>, </p><p>xml-rpcä½¿ç”¨<a href="http://www.cnblogs.com/flyoung2008/archive/2011/11/12/2246282.html" target="_blank" rel="noopener noreferrer">http://www.cnblogs.com/flyoung2008/archive/2011/11/12/2246282.html</a></p><p><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2016/04/cors.html</a></p><p><a href="https://kalasearch.cn/blog/rest-api-best-practices/" target="_blank" rel="noopener noreferrer">https://kalasearch.cn/blog/rest-api-best-practices/</a></p></div><ul><li><a href="#%E5%85%8D%E8%B4%B9-api-%E8%B5%84%E6%BA%90">å…è´¹ api èµ„æº</a></li><li><a href="#1-%E6%A6%82%E5%BF%B5">1. æ¦‚å¿µ</a></li><li><a href="#2-http%E5%92%8Ctcpip%E6%AF%94%E8%BE%83">2. httpå’Œtcp/ipæ¯”è¾ƒ</a></li><li><a href="#3-%E6%80%8E%E4%B9%88%E6%9F%A5%E7%9C%8B">3. æ€ä¹ˆæŸ¥çœ‹</a></li><li><a href="#4-http%E8%AF%B7%E6%B1%82">4. httpè¯·æ±‚</a><ul><li><a href="#41-%E5%B8%B8%E8%A7%81%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F">4.1. å¸¸è§è¯·æ±‚æ–¹å¼</a></li><li><a href="#42-get-vs-post">4.2. GET vs. POST</a></li><li><a href="#43-%E5%B8%B8%E8%A7%81%E8%AF%B7%E6%B1%82%E5%A4%B4">4.3. å¸¸è§è¯·æ±‚å¤´</a></li><li><a href="#44-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF">4.4. è·å–è¯·æ±‚ä¿¡æ¯</a></li><li><a href="#45-%E7%BD%91%E9%A1%B5%E5%8F%82%E6%95%B0%E6%8F%90%E4%BA%A4%E8%8E%B7%E5%8F%96">4.5. ç½‘é¡µå‚æ•°æäº¤è·å–</a></li><li><a href="#46-servicedogetdopost%E5%85%B3%E7%B3%BB">4.6. service(),doGet(),doPost()å…³ç³»</a></li><li><a href="#47-request%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">4.7. requestä¸­æ–‡ä¹±ç é—®é¢˜</a></li></ul></li><li><a href="#5-the-security-between-different-http-methods">5. the security between different http methods</a></li><li><a href="#6-http%E5%93%8D%E5%BA%94">6. httpå“åº”</a><ul><li><a href="#61-%E5%93%8D%E5%BA%94%E8%A1%8C%E7%8A%B6%E6%80%81%E7%A0%81">6.1. å“åº”è¡Œ\&amp;çŠ¶æ€ç </a></li><li><a href="#62-%E5%B8%B8%E8%A7%81%E5%93%8D%E5%BA%94%E5%A4%B4">6.2. å¸¸è§å“åº”å¤´</a></li><li><a href="#63-%E8%AE%BE%E7%BD%AEhttp%E5%93%8D%E5%BA%94">6.3. è®¾ç½®httpå“åº”</a></li><li><a href="#64-api%E7%A4%BA%E4%BE%8B">6.4. apiç¤ºä¾‹</a></li><li><a href="#65-%E8%AF%B7%E6%B1%82%E9%87%8D%E5%AE%9A%E5%90%91">6.5. è¯·æ±‚é‡å®šå‘</a></li><li><a href="#66-%E5%93%8D%E5%BA%94%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81">6.6. å“åº”ä¸­æ–‡ä¹±ç </a></li></ul></li><li><a href="#7-url%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81">7. urlä¸­æ–‡ä¹±ç </a><ul><li><a href="#71-%E5%9C%A8js%E4%B8%AD%E5%A4%84%E7%90%86">7.1. åœ¨JSä¸­å¤„ç†</a></li><li><a href="#72-%E5%9C%A8java%E4%B8%AD%E5%A4%84%E7%90%86">7.2. åœ¨javaä¸­å¤„ç†</a></li></ul></li><li><a href="#8-%E5%9F%BA%E4%BA%8Ehttp%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%AE%9E%E6%97%B6%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96">8. åŸºäºHTTPåè®®çš„å®æ—¶æ•°æ®è·å–</a><ul><li><a href="#81-%E7%9F%AD%E8%BD%AE%E8%AF%A2">8.1. çŸ­è½®è¯¢</a></li><li><a href="#82-%E9%95%BF%E8%BF%9E%E6%8E%A5">8.2. é•¿è¿æ¥</a></li><li><a href="#83-websocket">8.3. WebSocket</a></li></ul></li><li><a href="#9-%E4%B8%80%E6%AC%A1%E5%AE%8C%E6%95%B4%E7%9A%84http%E8%AF%B7%E6%B1%82">9. ä¸€æ¬¡å®Œæ•´çš„httpè¯·æ±‚</a><ul><li><a href="#91-http%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B">9.1. httpè¯·æ±‚æµç¨‹</a></li><li><a href="#92-%E5%8F%91%E8%B5%B7http%E8%AF%B7%E6%B1%82">9.2. å‘èµ·httpè¯·æ±‚</a></li><li><a href="#93-http%E8%A7%A3%E6%9E%90">9.3. httpè§£æ</a><ul><li><a href="#931-%E5%B8%B8%E7%94%A8%E7%9A%84%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%93%8D%E5%BA%94%E5%A4%B4%E7%8A%B6%E6%80%81%E7%A0%81">9.3.1. å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´ï¼ŒçŠ¶æ€ç </a></li></ul></li><li><a href="#94-dns%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90">9.4. DNSåŸŸåè§£æ</a><ul><li><a href="#941-%E6%95%B4%E4%B8%AA%E6%B5%81%E7%A8%8B">9.4.1. æ•´ä¸ªæµç¨‹</a></li><li><a href="#942-%E6%B8%85%E9%99%A4dns%E7%BC%93%E5%AD%98">9.4.2. æ¸…é™¤DNSç¼“å­˜</a></li><li><a href="#943-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F">9.4.3. åŸŸåè§£ææ–¹å¼</a></li></ul></li><li><a href="#95-cdn-%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6">9.5. CDN å·¥ä½œæœºåˆ¶</a></li><li><a href="#96-%E5%85%8D%E8%B4%B9-cdn">9.6. å…è´¹ cdn</a></li></ul></li><li><a href="#10-https">10. https</a><ul><li><a href="#101-%E5%92%8C-http-%E5%AF%B9%E6%AF%94">10.1. å’Œ http å¯¹æ¯”</a></li><li><a href="#102-%E5%A6%82%E4%BD%95%E5%85%8D%E8%B4%B9%E5%BC%80%E5%90%AF-https">10.2. å¦‚ä½•å…è´¹å¼€å¯ https</a></li></ul></li><li><a href="#11-resutful">11. resutful</a><ul><li><a href="#111-web-service">11.1. Web Service</a></li><li><a href="#112-%E4%BB%80%E4%B9%88%E6%98%AFrestful%E6%9E%B6%E6%9E%84">11.2. ä»€ä¹ˆæ˜¯restfulæ¶æ„ï¼Ÿ</a></li><li><a href="#113-restful%E6%9C%80%E5%A4%A7%E7%9A%84%E4%BC%98%E5%8A%BF">11.3. RESTfulæœ€å¤§çš„ä¼˜åŠ¿</a></li><li><a href="#114-%E5%85%B8%E5%9E%8B%E7%9A%84%E8%AE%BE%E8%AE%A1%E9%94%99%E8%AF%AF">11.4. å…¸å‹çš„è®¾è®¡é”™è¯¯</a></li><li><a href="#115-%E8%AE%BE%E8%AE%A1%E5%90%88%E7%90%86%E7%9A%84restful-api">11.5. è®¾è®¡åˆç†çš„restful API</a></li><li><a href="#116-%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E8%AE%BE%E8%AE%A1">11.6. æ¥å£å®‰å…¨è®¾è®¡</a></li><li><a href="#117-%E5%AE%9E%E8%B7%B5">11.7. å®è·µ</a><ul><li><a href="#1171-%E8%AE%BE%E8%AE%A1%E7%BB%9F%E4%B8%80%E7%9A%84%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%84">11.7.1. è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„</a></li><li><a href="#1172-%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96">11.7.2. å®ç°å¯¹è±¡åºåˆ—åŒ–</a></li><li><a href="#1173-%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8">11.7.3. å¤„ç†å¼‚å¸¸</a></li><li><a href="#1174-%E6%94%AF%E6%8C%81%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81">11.7.4. æ”¯æŒå‚æ•°éªŒè¯</a></li><li><a href="#1175-%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">11.7.5. è§£å†³è·¨åŸŸé—®é¢˜</a></li><li><a href="#1176-api%E8%AE%BF%E9%97%AE%E6%9D%83">11.7.6. APIè®¿é—®æƒ</a></li></ul></li></ul></li></ul><h1>å…è´¹ api èµ„æº</h1><p><a href="https://github.com/public-apis/public-apis" target="_blank" rel="noopener noreferrer">https://github.com/public-apis/public-apis</a></p><h1>1. æ¦‚å¿µ</h1><p>httpåè®®æ˜¯å®šä¹‰çš„ä¸€å¥—clientå’Œserverä¹‹é—´æ•°æ®ä¼ è¾“çš„è§„èŒƒ</p><h1>2. httpå’Œtcp/ipæ¯”è¾ƒ</h1><h1>3. æ€ä¹ˆæŸ¥çœ‹</h1><ol><li>ä½¿ç”¨æµè§ˆå™¨</li><li>ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„telnetå·¥å…·(è¿œç¨‹è®¿é—®å·¥å…·)</li></ol><h1>4. httpè¯·æ±‚</h1><p>å…ˆçœ‹ä¸€ä¸ªå…¨æ™¯:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">è¯·æ±‚ï¼ˆæµè§ˆå™¨ </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> æœåŠ¡å™¨ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">day09</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">hello </span><span class="token constant" style="color:rgb(129, 31, 63)">HTTP</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">Host</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> localhost</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token maybe-class-name">Agent</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Mozilla</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">5.0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token maybe-class-name">Windows</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">NT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">6.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">WOW64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> rv</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token number" style="color:rgb(9, 134, 88)">35.0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token maybe-class-name">Gecko</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">20100101</span><span class="token plain"> </span><span class="token maybe-class-name">Firefox</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">35.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">Accept</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> text</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">html</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">application</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">xhtml</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">xml</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">application</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">xml</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">q</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token comment" style="color:rgb(0, 128, 0)">/*;q=0.8</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Accept-Language: zh-cn,en-us;q=0.8,zh;q=0.5,en;q=0.3</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Accept-Encoding: gzip, deflate</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Connection: keep-alive</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">å“åº”ï¼ˆæœåŠ¡å™¨-&gt;æµè§ˆå™¨ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Server: Apache-Coyote/1.1</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Content-Length: 24</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">Date: Fri, 30 Jan 2015 01:54:57 GMT</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">this is hello servlet!!!</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="41-å¸¸è§è¯·æ±‚æ–¹å¼">4.1. å¸¸è§è¯·æ±‚æ–¹å¼<a href="#41-å¸¸è§è¯·æ±‚æ–¹å¼" class="hash-link" aria-label="4.1. å¸¸è§è¯·æ±‚æ–¹å¼çš„ç›´æ¥é“¾æ¥" title="4.1. å¸¸è§è¯·æ±‚æ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>GET: è·å–èµ„æº
POST:ä¼ è¾“å®ä½“æ–‡æœ¬, Restfulé£æ ¼apié‡Œç”¨äºæ–°å¢
HEAD: è·å–æŠ¥æ–‡é¦–éƒ¨, å’Œgetç±»ä¼¼, åªæ˜¯ä¸è¿”å›æŠ¥æ–‡çš„ä¸»é¢˜éƒ¨åˆ†
PUT: ä¼ è¾“æ–‡ä»¶, Restfulé£æ ¼apié‡Œç”¨äºä¿®æ”¹; ç±»ä¼¼æ–‡ä»¶ä¸Šä¼ , ä½†æ˜¯HTTP/1.1çš„PUTæ–¹æ³•è‡ªèº«ä¸å¸¦éªŒè¯æœºåˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œå­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œæ•…ä¸€èˆ¬ä¸ç”¨ã€‚
DELETE: åˆ é™¤æ–‡ä»¶
OPTIONS: è¯¢é—®æ”¯æŒçš„æ–¹æ³•(clientè¯¢é—®serverå¯ä»¥æäº¤é‚£äº›è¯·æ±‚æ–¹æ³•)
TRACE: è¿½è¸ªè·¯å¾„(æˆ·ç«¯å¯ä»¥å¯¹è¯·æ±‚æ¶ˆæ¯çš„ä¼ è¾“è·¯å¾„è¿›è¡Œè¿½è¸ªï¼ŒTRACEæ–¹æ³•æ˜¯è®©WebæœåŠ¡å™¨ç«¯å°†ä¹‹å‰çš„è¯·æ±‚é€šä¿¡è¿˜ç»™å®¢æˆ·ç«¯çš„æ–¹æ³•)
CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†(ä¸»è¦ä½¿ç”¨SSLï¼ˆå®‰å…¨å¥—æ¥å±‚ï¼‰å’ŒTLSï¼ˆä¼ è¾“å±‚å®‰å…¨ï¼‰åè®®æŠŠé€šä¿¡å†…å®¹åŠ å¯†åç»ç½‘ç»œéš§é“ä¼ è¾“)</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="42-get-vs-post">4.2. GET vs. POST<a href="#42-get-vs-post" class="hash-link" aria-label="4.2. GET vs. POSTçš„ç›´æ¥é“¾æ¥" title="4.2. GET vs. POSTçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>getæäº¤å‚æ•°æœ‰é™åˆ¶, ä¸è¶…è¿‡1kb.</li><li>GETå‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTæ”¾åœ¨Request bodyä¸­ã€‚</li><li>GETåœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚</li><li>GETäº§ç”Ÿçš„URLåœ°å€å¯ä»¥è¢«Bookmarkï¼Œè€ŒPOSTä¸å¯ä»¥ã€‚</li><li>GETè¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨cacheï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚</li><li>GETè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€ŒPOSTæ”¯æŒå¤šç§ç¼–ç æ–¹å¼ã€‚</li><li>GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™ã€‚</li><li>GETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€ŒPOSTæ²¡æœ‰ã€‚</li><li>å¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼ŒGETåªæ¥å—ASCIIå­—ç¬¦ï¼Œè€ŒPOSTæ²¡æœ‰é™åˆ¶ã€‚</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="43-å¸¸è§è¯·æ±‚å¤´">4.3. å¸¸è§è¯·æ±‚å¤´<a href="#43-å¸¸è§è¯·æ±‚å¤´" class="hash-link" aria-label="4.3. å¸¸è§è¯·æ±‚å¤´çš„ç›´æ¥é“¾æ¥" title="4.3. å¸¸è§è¯·æ±‚å¤´çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Accept: text/html,image/*ã€€ã€€-- æµè§ˆå™¨æ¥å—çš„æ•°æ®ç±»å‹
Accept-Charset: ISO-8859-1ã€€ã€€-- æµè§ˆå™¨æ¥å—çš„ç¼–ç æ ¼å¼
Accept-Encoding: gzip,compressã€€ã€€--æµè§ˆå™¨æ¥å—çš„æ•°æ®å‹ç¼©æ ¼å¼
Accept-Language: en-us,zh-       ã€€ã€€--æµè§ˆå™¨æ¥å—çš„è¯­è¨€
Host: <a href="http://www.it315.org:80" target="_blank" rel="noopener noreferrer">www.it315.org:80</a>          ã€€ã€€--ï¼ˆå¿…é¡»çš„ï¼‰å½“å‰è¯·æ±‚è®¿é—®çš„ç›®æ ‡åœ°å€ï¼ˆä¸»æœº:ç«¯å£ï¼‰
If-Modified-Since: Tue, 11 Jul 2000 18:23:51 GMTã€€ã€€  --æµè§ˆå™¨æœ€åçš„ç¼“å­˜æ—¶é—´
Referer: <a href="http://www.it315.org/index.jsp" target="_blank" rel="noopener noreferrer">http://www.it315.org/index.jsp</a>      ã€€ã€€-- å½“å‰è¯·æ±‚æ¥è‡ªäºå“ªé‡Œ
User-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)  ã€€ã€€--æµè§ˆå™¨ç±»å‹
Cookie:name=ericã€€ã€€                     -- æµè§ˆå™¨ä¿å­˜çš„cookieä¿¡æ¯
Connection: close/Keep-Alive   ã€€ã€€         -- æµè§ˆå™¨è·ŸæœåŠ¡å™¨è¿æ¥çŠ¶æ€ã€‚close: è¿æ¥å…³é—­  keep-aliveï¼šä¿æŒè¿æ¥ã€‚ä½¿ç”¨http1.1æ—¶ï¼Œå¦‚æœæƒ³ä¸»åŠ¨å’ŒæœåŠ¡å™¨æ–­å¼€è¿æ¥ï¼Œå‘é€åŒ…å«æ­¤é”®å€¼å¯¹çš„è¯·æ±‚å¤´
Date: Tue, 11 Jul 2000 18:23:51 GMTdsã€€ã€€--è¯·æ±‚å‘å‡ºçš„æ—¶é—´</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="44-è·å–è¯·æ±‚ä¿¡æ¯">4.4. è·å–è¯·æ±‚ä¿¡æ¯<a href="#44-è·å–è¯·æ±‚ä¿¡æ¯" class="hash-link" aria-label="4.4. è·å–è¯·æ±‚ä¿¡æ¯çš„ç›´æ¥é“¾æ¥" title="4.4. è·å–è¯·æ±‚ä¿¡æ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>demo:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * è¯·æ±‚æ•°æ®çš„è·å–</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestDemo1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 1)tomcatæœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å‘é€çš„è¯·æ±‚æ•°æ®ï¼Œç„¶åå°è£…åˆ°HttpServetRequestå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 2ï¼‰tomcatæœåŠ¡å™¨è°ƒç”¨doGetæ–¹æ³•ï¼Œç„¶åæŠŠrequestå¯¹è±¡ä¼ å…¥åˆ°servletä¸­ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3)ä»requestå¯¹è±¡å–å‡ºè¯·æ±‚æ•°æ®ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">t1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">t2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ä¸ºäº†æ¥æ”¶POSTæ–¹å¼æäº¤çš„è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doPost</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> resp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.3 è¯·æ±‚çš„å®ä½“å†…å®¹</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">InputStream</span><span class="token plain"> in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getInputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//å¾—åˆ°å®ä½“å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">byte</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> buf </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">byte</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">len</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">in</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">read</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> str </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">t2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.2 è¯·æ±‚å¤´</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> host </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Host&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//æ ¹æ®å¤´åç§°çš„åˆ°å¤´çš„å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//éå†æ‰€æœ‰è¯·æ±‚å¤´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enumeration</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> enums </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeaderNames</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//å¾—åˆ°æ‰€æœ‰çš„è¯·æ±‚å¤´åç§°åˆ—è¡¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">enums</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasMoreElements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">//åˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> headerName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> enums</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> headerValue </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">headerName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">headerName</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;:&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">headerValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">t1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.1 è¯·æ±‚è¡Œ   æ ¼å¼ï¼šï¼ˆGET /day09/hello HTTP/1.1ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;è¯·æ±‚æ–¹å¼ï¼š&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//è¯·æ±‚æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;URI:&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRequestURI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//è¯·æ±‚èµ„æº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;URL:&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRequestURL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;httpåè®®ç‰ˆæœ¬ï¼š&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getProtocol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//httpåè®®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">get browser type</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestDemo3</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setContentType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//è·å–è¯·æ±‚å¤´ï¼š user-agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> userAgent </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;user-agent&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">userAgent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//åˆ¤æ–­ç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">userAgent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Firefox&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ä½ æ­£åœ¨ä½¿ç”¨ç«ç‹æµè§ˆå™¨&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">userAgent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Chrome&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ä½ æ­£åœ¨ä½¿ç”¨è°·æ­Œæµè§ˆå™¨&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">userAgent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Trident&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ä½ æ­£åœ¨ä½¿ç”¨IEæµè§ˆå™¨&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;åœ°çƒä¸Šæ²¡æœ‰è¿™ä¸ªæµè§ˆå™¨ï¼Œå»ºè®®ä½¿ç”¨ç«ç‹æµè§ˆå™¨&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * æ¡ˆä¾‹- é˜²æ­¢éæ³•é“¾æ¥</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestDemo4</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setContentType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//å¾—åˆ°refererå¤´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> referer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;referer&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;referer=&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">referer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * åˆ¤æ–­éæ³•é“¾æ¥ï¼š</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         *  1ï¼‰ç›´æ¥è®¿é—®çš„è¯referer=null</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         *  2ï¼‰å¦‚æœå½“å‰è¯·æ±‚ä¸æ˜¯æ¥è‡ªå¹¿å‘Š   </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">referer</span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">referer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/day09/adv.html&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;å½“å‰æ˜¯éæ³•é“¾æ¥ï¼Œè¯·å›åˆ°é¦–é¡µã€‚&lt;a href=&#x27;/day09/adv.html&#x27;&gt;é¦–é¡µ&lt;/a&gt;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">//æ­£ç¡®çš„é“¾æ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;èµ„æºæ­£åœ¨ä¸‹è½½...&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="45-ç½‘é¡µå‚æ•°æäº¤è·å–">4.5. ç½‘é¡µå‚æ•°æäº¤è·å–<a href="#45-ç½‘é¡µå‚æ•°æäº¤è·å–" class="hash-link" aria-label="4.5. ç½‘é¡µå‚æ•°æäº¤è·å–çš„ç›´æ¥é“¾æ¥" title="4.5. ç½‘é¡µå‚æ•°æäº¤è·å–çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// è·å–æŒ‡å®šåç§°çš„å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> resp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;æ–¹å¼ï¼&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enumeration</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> enums </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getParameterNames</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">enums</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">hasMoreElements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">     </span><span class="token comment" style="color:rgb(0, 128, 0)">//éå†å‚æ•°å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> enums</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hobbit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">equals</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">//å¦‚æœæ‰¾åˆ°hobbit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> values </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getParameterValues</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;:&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> str </span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">str </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;, &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//å…¶ä»–çš„å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getParameter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">System</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">println</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;----&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="46-servicedogetdopostå…³ç³»">4.6. service(),doGet(),doPost()å…³ç³»<a href="#46-servicedogetdopostå…³ç³»" class="hash-link" aria-label="4.6. service(),doGet(),doPost()å…³ç³»çš„ç›´æ¥é“¾æ¥" title="4.6. service(),doGet(),doPost()å…³ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>container server (tomcat/jetty...) ä¼šé¦–å…ˆ service(), ç„¶ååœ¨ service() å†…éƒ¨æ ¹æ® get/post è°ƒç”¨ doGet()/doPost()</p><p>servletæœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ¥å£, å®šä¹‰äº†ä¸€ç§è§„èŒƒ, è‡ªå®šä¹‰çš„servletéœ€è¦å®ç°è¿™ä¸ªæ¥å£, å®ç°init(), service(), destroy()ç­‰æ–¹æ³•.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="47-requestä¸­æ–‡ä¹±ç é—®é¢˜">4.7. requestä¸­æ–‡ä¹±ç é—®é¢˜<a href="#47-requestä¸­æ–‡ä¹±ç é—®é¢˜" class="hash-link" aria-label="4.7. requestä¸­æ–‡ä¹±ç é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="4.7. requestä¸­æ–‡ä¹±ç é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h1>5. the security between different http methods</h1><p><a href="https://www.zhihu.com/question/38770182" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/38770182</a></p><p>å„ç§Methodçš„åŒºåˆ«æ˜¯è¯­ä¹‰ä¸Šçš„ã€‚æ˜¯ä¸ºäº†è®©ä½ çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ¸…æ™°ç®€åŒ–çš„è¿›è¡Œé€šä¿¡ã€‚å¯¹äºHTTPæœ¬èº«æ¥è®²æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å½“ç„¶å®‰å…¨æ€§ä¹Ÿæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><blockquote><p>But  why there are always people saying that the method &quot;delete&quot;/&quot;put&quot; is unsafe? </p><p>This reason might be something about the history: å¼€å¯äº†WebDAV çš„ IIS å…è®¸åŒ¿åè®¿é—®è€…ç›´æ¥é€šè¿‡ PUT å¾€æœåŠ¡å™¨ä¸Šä¸Šä¼ æ–‡ä»¶ï¼Œæ›¾ç»å¯¼è‡´äº†å¾ˆå¤šä¸¥é‡çš„æ¼æ´ï¼Œå…·ä½“å¯ä»¥æœä¸‹ IIS put ã€‚æ­¤å¤– apache é»˜è®¤å…è®¸ traceï¼Œ åˆå¯¼è‡´äº†ä¸€æ‰¹XSSã€‚è¿™äº›å†å²é—®é¢˜ç»™è¿ç»´é€ æˆå¾ˆä¸å¥½çš„å°è±¡ï¼Œæ‰€ä»¥å¹²è„†æŠŠé™¤å¿…é¡»çš„httpå¤´å¤–éƒ½ç¦æ‰äº†äº‹</p></blockquote><h1>6. httpå“åº”</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="61-å“åº”è¡ŒçŠ¶æ€ç ">6.1. å“åº”è¡Œ&amp;çŠ¶æ€ç <a href="#61-å“åº”è¡ŒçŠ¶æ€ç " class="hash-link" aria-label="6.1. å“åº”è¡Œ&amp;çŠ¶æ€ç çš„ç›´æ¥é“¾æ¥" title="6.1. å“åº”è¡Œ&amp;çŠ¶æ€ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="http://www.w3school.com.cn/tags/html_ref_httpmessages.asp" target="_blank" rel="noopener noreferrer">http://www.w3school.com.cn/tags/html_ref_httpmessages.asp</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="62-å¸¸è§å“åº”å¤´">6.2. å¸¸è§å“åº”å¤´<a href="#62-å¸¸è§å“åº”å¤´" class="hash-link" aria-label="6.2. å¸¸è§å“åº”å¤´çš„ç›´æ¥é“¾æ¥" title="6.2. å¸¸è§å“åº”å¤´çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="63-è®¾ç½®httpå“åº”">6.3. è®¾ç½®httpå“åº”<a href="#63-è®¾ç½®httpå“åº”" class="hash-link" aria-label="6.3. è®¾ç½®httpå“åº”çš„ç›´æ¥é“¾æ¥" title="6.3. è®¾ç½®httpå“åº”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="64-apiç¤ºä¾‹">6.4. apiç¤ºä¾‹<a href="#64-apiç¤ºä¾‹" class="hash-link" aria-label="6.4. apiç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="6.4. apiç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * è®¾ç½®å“åº”ä¿¡æ¯</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseDemo1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 1)tomcatæœåŠ¡å™¨æŠŠè¯·æ±‚ä¿¡æ¯å°è£…åˆ°HttpServletRequestå¯¹è±¡ï¼Œä¸”æŠŠå“åº”ä¿¡æ¯å°è£…åˆ°HttpServletResponse</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 2ï¼‰tomcatæœåŠ¡å™¨è°ƒç”¨doGetæ–¹æ³•ï¼Œä¼ å…¥requestï¼Œå’Œresponseå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3ï¼‰é€šè¿‡responseå¯¹è±¡æ”¹å˜å“åº”ä¿¡æ¯</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.1 å“åº”è¡Œ</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">404</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//ä¿®æ”¹çŠ¶æ€ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sendError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">404</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// å‘é€404çš„çŠ¶æ€ç +404çš„é”™è¯¯é¡µé¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.2 å“åº”å¤´</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;server&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;JBoss&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * 3.3 å®ä½“å†…å®¹(æµè§ˆå™¨ç›´æ¥èƒ½å¤Ÿçœ‹åˆ°çš„å†…å®¹å°±æ˜¯å®ä½“å†…å®¹)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;01.hello world&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//å­—ç¬¦å†…å®¹ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getOutputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;02.hello world&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getBytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//å­—èŠ‚å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * æ¡ˆä¾‹- content-Typeä½œç”¨: è®¾ç½®å“åº”ç±»å®¹æ ¼å¼</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseDemo4</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * è®¾ç½®å“åº”å®ä½“å†…å®¹ç¼–ç </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//      response.setCharacterEncoding(&quot;utf-8&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//      response.setHeader(&quot;content-type&quot;, &quot;text/html&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setContentType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//å’Œä¸Šé¢ä»£ç ç­‰ä»·ã€‚æ¨èä½¿ç”¨æ­¤æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//response.setContentType(&quot;text/xml&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//response.setContentType(&quot;image/jpg&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getWriter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;this is tilte&lt;/title&gt;&lt;/head&gt;&lt;body&gt;ä¸­å›½&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getOutputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;this is tilte&lt;/title&gt;&lt;/head&gt;&lt;body&gt;ä¸­å›½&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getBytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;e:/mm.jpg&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * è®¾ç½®ä»¥ä¸‹è½½æ–¹å¼æ‰“å¼€æ–‡ä»¶</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Content-Disposition&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;attachment; filename=&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * ä¸‹è½½å›¾ç‰‡</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">FileInputStream</span><span class="token plain"> in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">FileInputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">byte</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> buf </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">byte</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//æŠŠå›¾ç‰‡å†…å®¹å†™å‡ºåˆ°æµè§ˆå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">len</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">in</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">read</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getOutputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="65-è¯·æ±‚é‡å®šå‘">6.5. è¯·æ±‚é‡å®šå‘<a href="#65-è¯·æ±‚é‡å®šå‘" class="hash-link" aria-label="6.5. è¯·æ±‚é‡å®šå‘çš„ç›´æ¥é“¾æ¥" title="6.5. è¯·æ±‚é‡å®šå‘çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * æ¡ˆä¾‹- è¯·æ±‚é‡å®šå‘</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * ï¼ˆç›¸å½“äºè¶…é“¾æ¥è·³è½¬é¡µé¢ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseDemo2</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * éœ€æ±‚ï¼š è·³è½¬åˆ°adv.html</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * ä½¿ç”¨è¯·æ±‚é‡å®šå‘ï¼š å‘é€ä¸€ä¸ª302çŠ¶æ€ç +locationçš„å“åº”å¤´</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/*response.setStatus(302);//å‘é€ä¸€ä¸ª302çŠ¶æ€ç </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        response.setHeader(&quot;location&quot;, &quot;/day09/adv.html&quot;); //locationçš„å“åº”å¤´</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">*/</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//è¯·æ±‚é‡å®šå‘ç®€åŒ–å†™æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sendRedirect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/day09/adv.html&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">          </span><span class="token comment" style="color:rgb(0, 128, 0)">//æ­¤æ—¶è¿™é‡Œçš„è·¯å¾„æ˜¯ç»™æµè§ˆå™¨ç”¨ï¼Œé¦–ä½æ–œæ ä»£è¡¨webappsç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * æ¡ˆä¾‹- å®šæ—¶åˆ·æ–°, å®šæ—¶è·³è½¬</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ResponseDemo3</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * å®šæ—¶åˆ·æ–°</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * åŸç†ï¼šæµè§ˆå™¨è®¤è¯†refreshå¤´ï¼Œå¾—åˆ°refreshå¤´ä¹‹åé‡æ–°è¯·æ±‚å½“å‰èµ„æº</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;refresh&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//æ¯éš”1ç§’åˆ·æ–°æ¬¡é¡µé¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * éš”nç§’ä¹‹åè·³è½¬å¦å¤–çš„èµ„æº</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;refresh&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;3;url=/day09/adv.html&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//éš”3ç§’ä¹‹åè·³è½¬åˆ°adv.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * BufferedImage:å†…å­˜å›¾åƒ</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    Graphicsï¼šç”»ç¬”</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    ImageIOï¼šè¾“å‡ºå›¾åƒ</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">    æ”¾åœ¨htmlé¡µé¢ä¸Š&lt;img src/&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CaptchaDemo4</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setContentType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;image/jpeg&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">// conf/web.xmlä¸­æŸ¥jpg       æ–‡ä»¶ç±»å‹çš„MIMEå€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> width </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">120</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">25</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//1.å¾—åˆ°ä¸€ä¸ªå†…å­˜ä¸­çš„å›¾åƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">BufferedImage</span><span class="token plain"> bimage </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BufferedImage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">width</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BufferedImage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">TYPE_INT_RGB</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//2.å¾—åˆ°ç”»ç¬”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Graphics</span><span class="token plain"> g </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> bimage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getGraphics</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//3.è®¾ç½®ç”»ç¬”é¢œè‰²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setColor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BLUE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//4.ç”»ä¸€ä¸ªçŸ©å½¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drawRect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> width</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//5.è®¾ç½®å¡«å……è‰²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setColor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">YELLOW</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fillRect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> width</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> height</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//6.ç”»éšæœºå¹²æ‰°çº¿æ¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Random</span><span class="token plain"> random </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setColor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GRAY</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(0, 0, 0)">++</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drawLine</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">width</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">height</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">width</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">height</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//7.ç”»éšæœºæ•°å­—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setColor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">RED</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setFont</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;é»‘ä½“&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BOLD</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ITALIC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(0, 0, 0)">++</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            g</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drawString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">nextInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">9</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">i</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">18</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//ä¸éœ€è¦æœ‰ç¼“å­˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Cache-Control&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;no-cache&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//http1.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;pragma&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;no-cache&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//http1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Expires&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;-1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">//åªè¦å°äº1970-1-1è·ç¦»ç°åœ¨çš„æ¯«ç§’æ•°å°±å¯ä»¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//8.è¾“å‡ºå†…å­˜ä¸­çš„å›¾åƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ImageIO</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">bimage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;jpg&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getOutputStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>jspé¡µé¢:</p><div class="language-jsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   function changeImg(){</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        var imgObj =   document.getElementById(&quot;mycode&quot;);</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        imgObj.src=imgObj.src+&quot;?time=&quot;+new Date().getTime();// åŠ æ—¶é—´æˆ³, è¡¨ç¤ºä¸è¦ä½¿ç”¨ç¼“å­˜çš„å›¾åƒ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&lt;!-- servlet/CaptchaDemo4     --&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> éªŒè¯ç :&lt;input type=&quot;text&quot; name=&quot;code&quot;&gt; &lt;img  id=&quot;mycode&quot; alt=&quot;&quot; src=&quot;servlet/CaptchaDemo4&quot;&gt;  &lt;a href=&quot;javascript:changeImg()&quot;&gt;çœ‹ä¸æ¸…ï¼Œæ¢ä¸€å¼ &lt;/a&gt;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">&lt;/body&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è½¬å‘&amp;é‡å®šå‘:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * è½¬å‘ï¼ˆæ•ˆæœï¼šè·³è½¬é¡µé¢ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ForwardDemo1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//è½¬å‘    </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * æ³¨æ„ï¼šä¸èƒ½è½¬å‘å½“å‰webåº”ç”¨ä»¥å¤–çš„èµ„æºã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getServletContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRequestDispatcher</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/GetDateServlet&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">forward</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//åŒ…å«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getServletContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRequestDispatcher</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">include</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token comment" style="color:rgb(0, 128, 0)">//å°†ç›®æ ‡ç»“æœåŒ…å«åˆ°æºï¼›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">/*é‡å®šå‘æ•ˆæœ</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedirectDemo1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServlet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">doGet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServletResponse</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ServletException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * ä¿å­˜æ•°æ®åˆ°requeståŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setAttribute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;rose&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//é‡å®šå‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         * æ³¨æ„ï¼šå¯ä»¥è·³è½¬åˆ°webåº”ç”¨å†…ï¼Œæˆ–å…¶ä»–webåº”ç”¨ï¼Œç”šè‡³å…¶ä»–å¤–éƒ¨åŸŸåã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//response.sendRedirect(&quot;/day09/adv.html&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sendRedirect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/day10/GetDataServlet&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="66-å“åº”ä¸­æ–‡ä¹±ç ">6.6. å“åº”ä¸­æ–‡ä¹±ç <a href="#66-å“åº”ä¸­æ–‡ä¹±ç " class="hash-link" aria-label="6.6. å“åº”ä¸­æ–‡ä¹±ç çš„ç›´æ¥é“¾æ¥" title="6.6. å“åº”ä¸­æ–‡ä¹±ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æœ€ä¾¿æ·çš„åŠæ³•æ˜¯:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setContentType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>7. urlä¸­æ–‡ä¹±ç </h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="71-åœ¨jsä¸­å¤„ç†">7.1. åœ¨JSä¸­å¤„ç†<a href="#71-åœ¨jsä¸­å¤„ç†" class="hash-link" aria-label="7.1. åœ¨JSä¸­å¤„ç†çš„ç›´æ¥é“¾æ¥" title="7.1. åœ¨JSä¸­å¤„ç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="72-åœ¨javaä¸­å¤„ç†">7.2. åœ¨javaä¸­å¤„ç†<a href="#72-åœ¨javaä¸­å¤„ç†" class="hash-link" aria-label="7.2. åœ¨javaä¸­å¤„ç†çš„ç›´æ¥é“¾æ¥" title="7.2. åœ¨javaä¸­å¤„ç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// éœ€è¦ä½¿ç”¨user-agentå¤´ä¿¡æ¯ï¼Œè·å–å½“å‰æ­£åœ¨ä½¿ç”¨çš„æµè§ˆå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> agent </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;user-agent&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Mozilla/5.0 (Windows NT 6.1; WOW64; rv:39.0) Gecko/20100101 Firefox/39.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// System.out.println(agent);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// ç«ç‹é‡‡ç”¨çš„Base64ç¼–ç  IEæˆ–è€…è°·æ­Œé‡‡ç”¨URLç¼–ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">agent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">contains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Firefox&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ä½¿ç”¨çš„ç«ç‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    filename </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DownloadUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">base64EncodeFileName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ä½¿ç”¨çš„IEæˆ–è€…è°·æ­Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    filename </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">URLEncoder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">encode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;UTF-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// downloadUtilä»£ç ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import class-name" style="color:rgb(38, 127, 153)">UnsupportedEncodingException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token import namespace">sun</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import namespace">misc</span><span class="token import namespace punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token import class-name" style="color:rgb(38, 127, 153)">BASE64Encoder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DownloadUtil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * æŠŠæ–‡ä»¶åç§°è¿›è¡ŒBase64ç¼–ç </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @param fileName</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * @return</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">base64EncodeFileName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> fileName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">BASE64Encoder</span><span class="token plain"> base64Encoder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BASE64Encoder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;=?UTF-8?B?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">base64Encoder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">encode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">fileName</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getBytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;UTF-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;?=&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">UnsupportedEncodingException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">printStackTrace</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>8. åŸºäºHTTPåè®®çš„å®æ—¶æ•°æ®è·å–</h1><p>æœåŠ¡å™¨ä¸»åŠ¨æ¨æ•°æ®ç»™ client</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="81-çŸ­è½®è¯¢">8.1. çŸ­è½®è¯¢<a href="#81-çŸ­è½®è¯¢" class="hash-link" aria-label="8.1. çŸ­è½®è¯¢çš„ç›´æ¥é“¾æ¥" title="8.1. çŸ­è½®è¯¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>å®šä¹‰: å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚æ•°æ®ï¼ŒæœåŠ¡ç«¯ç«‹å³å°†æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰æ‹¿åˆ°æƒ³è¦çš„æ•°æ®ï¼ˆæ¯”å¦‚è¿”å›ç»“æœå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œæ•°æ®å¤„ç†ä¸­ï¼‰ï¼Œå®¢æˆ·ç«¯ç»§ç»­å‘è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ç»§ç»­ç«‹å³å“åº”ï¼Œå‘¨è€Œå¤å§‹</p></li><li><p>åˆ©å¼Š: æµªè´¹å¸¦å®½å’ŒæœåŠ¡å™¨çš„è®¡ç®—èµ„æº</p></li><li><p>åœºæ™¯: æ•°æ®å˜åŒ–æ¯”è¾ƒé¢‘ç¹æˆ–è€…èƒ½é¢„æœŸåˆ°æ•°æ®åœ¨çŸ­æ—¶é—´å†…ä¼šå‘ç”Ÿä¸€æ¬¡å˜åŒ–çš„åœºæ™¯å¯ä»¥ä½¿ç”¨çŸ­è½®è¯¢</p></li></ul><p>æ¯”å¦‚: ç”¨æˆ·åœ¨PCç«¯ä¹°äº†ä¸€ä¸ªä¸œè¥¿å”¤èµ·ç½‘é¡µç«¯ï¼Œç”±äºPCç«¯å’Œç½‘é¡µç«¯æ˜¯ä¸é€šçš„ï¼Œæˆ‘ä»¬é¢„æœŸåˆ°ç”¨æˆ·åº”è¯¥å¾ˆå¿«ä¼šå®Œæˆä»˜æ¬¾ï¼Œè¿™ç§æ—¶å€™ä¸ºäº†å¼€å‘ç®€å•çŸ­è½®è¯¢æ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨çš„æ–¹å¼ï¼Œç›´æ¥æœåŠ¡ç«¯æä¾›ä¸€ä¸ªæ¥å£å‘Šè¯‰å®¢æˆ·ç«¯è®¢å•çŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ¯5ç§’è¯·æ±‚ä¸€æ¬¡å³å¯ï¼Œæ‹¿åˆ°ç»“æœå°±å¯ä»¥ä¸ç”¨è¯·æ±‚äº†</p><p>Note: æ³¨æ„è¦åšå¥½è¯·æ±‚æ¬¡æ•°ä¸Šé™çš„æ§åˆ¶ï¼Œæ¯”å¦‚è¯·æ±‚100æ¬¡è¿˜æ²¡æ£€æµ‹åˆ°ç”¨æˆ·ä»˜æ¬¾ï¼Œå¯ä»¥å¼¹çª—&quot;è¯·å®Œæˆä»˜æ¬¾åå»æˆ‘çš„è®¢å•é¡µé¢æŸ¥è¯¢&quot;å°±å¯ä»¥ä¸ç”¨è¯·æ±‚äº†</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="82-é•¿è¿æ¥">8.2. é•¿è¿æ¥<a href="#82-é•¿è¿æ¥" class="hash-link" aria-label="8.2. é•¿è¿æ¥çš„ç›´æ¥é“¾æ¥" title="8.2. é•¿è¿æ¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æˆ–è€…å« é•¿è½®è¯¢</p><ul><li><p>å®šä¹‰: æœ¬è´¨ä¸Šæ²¡æœ‰æ”¹å˜ï¼Œä¾ç„¶æ˜¯å®¢æˆ·ç«¯åœ¨æ²¡æœ‰æ”¶åˆ°è‡ªå·±æƒ³è¦æ•°æ®çš„æƒ…å†µä¸‹ä¸æ–­å‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œå·®åˆ«åœ¨äºæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ä¸å†ç›´æ¥ç»™å“åº”ï¼Œè€Œæ˜¯å°†è¯·æ±‚æŒ‚èµ·ï¼Œè‡ªå·±å»å®šæ—¶åˆ¤æ–­æ•°æ®çš„å˜åŒ–ï¼Œæœ‰å˜åŒ–å°±ç«‹é©¬è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ²¡æœ‰å°±ç­‰åˆ°è¶…æ—¶ä¸ºæ­¢ã€‚</p></li><li><p>åˆ©å¼Š: é•¿è½®è¯¢çš„ä¼˜ç‚¹å°±æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å°‘äº†å¾ˆå¤šé¿å…äº†æ— è°“çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œç¼ºç‚¹åˆ™æ˜¯æœåŠ¡ç«¯ä¼šæŒ‚èµ·å¤§é‡è¯·æ±‚å¢åŠ èµ„æºæ¶ˆè€—ä¸”æœåŠ¡å™¨å¯¹HTTPè¯·æ±‚å¹¶å‘æ•°é‡æ˜¯æœ‰é™åˆ¶çš„</p></li><li><p>åœºæ™¯: å¾®ä¿¡ç½‘é¡µç‰ˆçš„ç™»é™†, å®¢æˆ·ç«¯ä¸æ–­å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç¬¬ä¸€æ—¶é—´å¹¶æ²¡æœ‰ç»™å‡ºå›åº”ï¼Œäºæ˜¯å®¢æˆ·ç«¯ç­‰å¾…ï¼Œåœ¨è¶…æ—¶çš„æƒ…å†µä¸‹ç»§ç»­å‘é€è¯·æ±‚ã€‚</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="83-websocket">8.3. WebSocket<a href="#83-websocket" class="hash-link" aria-label="8.3. WebSocketçš„ç›´æ¥é“¾æ¥" title="8.3. WebSocketçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>references: <a href="https://www.cnblogs.com/xrq730/p/9280404.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xrq730/p/9280404.html</a></p><p>å½“æœåŠ¡ç«¯æ•°æ®æœ‰å˜åŒ–çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯å¯ä»¥ä¸»åŠ¨æ¨é€åˆ°å®¢æˆ·ç«¯, å»ºç«‹äº† server å’Œ browser çš„å…¨åŒå·¥é€šä¿¡</p><p>WebSocketå®¢æˆ·ç«¯é¦–å…ˆé€šè¿‡HTTPåè®®å‘é€å‡ ä¸ªç‰¹åˆ«çš„headeråˆ°æœåŠ¡ç«¯ï¼Œå‘Šè¯‰æœåŠ¡ç«¯ç°åœ¨æˆ‘å‘èµ·çš„æ˜¯HTTPè¯·æ±‚ï¼Œä½†æˆ‘è¦å‡çº§åˆ°WebSocketäº†, æœåŠ¡å™¨å“åº”åå°±å»ºç«‹äº† websocketè¿æ¥</p><p>Netty-Socketio æœ‰ç°æˆçš„ websocket api, çœŸæ­£çš„å¼€å‘æˆæœ¬åœ¨äºåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„æ•°æ®åŒæ­¥é—®é¢˜</p><h1>9. ä¸€æ¬¡å®Œæ•´çš„httpè¯·æ±‚</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="91-httpè¯·æ±‚æµç¨‹">9.1. httpè¯·æ±‚æµç¨‹<a href="#91-httpè¯·æ±‚æµç¨‹" class="hash-link" aria-label="9.1. httpè¯·æ±‚æµç¨‹çš„ç›´æ¥é“¾æ¥" title="9.1. httpè¯·æ±‚æµç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="92-å‘èµ·httpè¯·æ±‚">9.2. å‘èµ·httpè¯·æ±‚<a href="#92-å‘èµ·httpè¯·æ±‚" class="hash-link" aria-label="9.2. å‘èµ·httpè¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="9.2. å‘èµ·httpè¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>å‘èµ·httpè¯·æ±‚æœ¬è´¨å°±æ˜¯å»ºç«‹socket</li></ul><p>æµè§ˆå™¨æ ¹æ®åœ°å€æ çš„URLè®¿é—®DNS serverè§£æå‡ºIPåœ°å€ï¼Œä¸serverå»ºç«‹socketè¿æ¥<!-- -->â‡’<!-- -->æµè§ˆå™¨æ ¹æ®URLç»„è£…ä¸€ä¸ªhttp request headerï¼Œé€šè¿‡outputStream.writeå‘é€åˆ°ç›®æ ‡server<!-- -->â‡’<!-- -->æœåŠ¡å™¨ç­‰å¾…outputStream.readè¿”å›æ•°æ®ï¼Œæœ€åæ–­å¼€è¿æ¥</p><ul><li>å‘èµ·httpçš„å·¥å…·</li></ul><p>Javaä¸­çš„httpclientã€Linuxä¸­çš„curl+URLå‘½ä»¤</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="93-httpè§£æ">9.3. httpè§£æ<a href="#93-httpè§£æ" class="hash-link" aria-label="9.3. httpè§£æçš„ç›´æ¥é“¾æ¥" title="9.3. httpè§£æçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="931-å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´çŠ¶æ€ç ">9.3.1. å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´ï¼ŒçŠ¶æ€ç <a href="#931-å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´çŠ¶æ€ç " class="hash-link" aria-label="9.3.1. å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´ï¼ŒçŠ¶æ€ç çš„ç›´æ¥é“¾æ¥" title="9.3.1. å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´ï¼ŒçŠ¶æ€ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li><p>http headerï¼šæ§åˆ¶æµè§ˆå™¨çš„æ¸²æŸ“è¡Œä¸ºå’Œserverçš„æ‰§è¡Œé€»è¾‘</p></li><li><p>æµè§ˆå™¨ç¼“å­˜ç›¸å…³çš„header</p></li></ul><p>Cache-Controlï¼šno-cache ---------------ä¼˜å…ˆçº§æœ€é«˜çš„headerï¼Œæœ‰å¤šä¸ªå¯é€‰å€¼<br>
<!-- -->Expireï¼šæ—¶é—´ -------------------------è¶…è¿‡åå¤±æ•ˆ<br>
<!-- -->lastModifiedï¼šæ—¶é—´--------------------æœ€åä¿®æ”¹æ—¶é—´ï¼Œå“åº”å¤´ï¼›å¯¹åº”if-modified-sinceè¯·æ±‚å¤´</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="94-dnsåŸŸåè§£æ">9.4. DNSåŸŸåè§£æ<a href="#94-dnsåŸŸåè§£æ" class="hash-link" aria-label="9.4. DNSåŸŸåè§£æçš„ç›´æ¥é“¾æ¥" title="9.4. DNSåŸŸåè§£æçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="941-æ•´ä¸ªæµç¨‹">9.4.1. æ•´ä¸ªæµç¨‹<a href="#941-æ•´ä¸ªæµç¨‹" class="hash-link" aria-label="9.4.1. æ•´ä¸ªæµç¨‹çš„ç›´æ¥é“¾æ¥" title="9.4.1. æ•´ä¸ªæµç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å½“ä½ åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ <a href="http://xxx.yyy.com/" target="_blank" rel="noopener noreferrer">http://xxx.yyy.com/</a>  </p><ol><li>æå–å‡ºåŸŸå: xxx.yyy.com  </li><li>å¦‚æœç³»ç»Ÿä¸­é…ç½®äº† Hosts æ–‡ä»¶ï¼Œé‚£ä¹ˆç”µè„‘ä¼šå…ˆæŸ¥è¯¢ Hosts æ–‡ä»¶ï¼Œçœ‹è¿™ä¸ªxxx.yyy.com å¦å·²ç»åœ¨ Hosts é‡Œé¢æœ‰äº†å¯¹åº”çš„è®°å½•ã€‚å¦‚æœæœ‰ï¼Œç›´æ¥å°±å¯ä»¥æ‹¿åˆ°è¯¥è®°å½•ä¸­çš„ IPåœ°å€ï¼Œè¿‡ç¨‹å°±ç»“æŸ</li><li>å¦‚æœæ²¡æœ‰hostæ–‡ä»¶è¿™ä¸ªåˆ«åï¼Œä¼šå‘é…ç½®çš„DNS server å‘é€DNSæŸ¥è¯¢è¯·æ±‚ï¼Œè·å–åˆ°IPåœ°å€</li><li>æµè§ˆå™¨æ ¹æ®è¿™ä¸ªIPåœ°å€å‘é€httpè¯·æ±‚</li></ol><p>ä½†æ˜¯ï¼ŒDNS server å¦‚ä½•çŸ¥é“IPè¿™äº›ä¿¡æ¯ï¼Ÿ  </p><ul><li><p>DNS ç¼“å­˜</p><p>  åŸŸåæœåŠ¡å™¨å«â€œé€’å½’åŸŸåæœåŠ¡å™¨â€ï¼Œserverå†…éƒ¨ä¼šæœ‰ä¸€ä¸ªDNSè®°å½•çš„ç¼“å­˜ï¼Œå¦‚æœDNS è¯·æ±‚æ— æ³•åœ¨ç¼“å­˜ä¸­æŸ¥åˆ°ï¼Œå†è¿›å…¥ä¸‹ä¸€æ­¥ï¼šç¼“å­˜åŒæ­¥    </p><p>  ç¼“å­˜é‡Œæ¯æ¡è®°å½•éƒ½æœ‰ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œå¦‚æœåˆ°äº†è¿‡æœŸæ—¶é—´ï¼Œå°±ä¼šè¢«åˆ é™¤ï¼Œç„¶åé‡æ–°åŒæ­¥  </p></li><li><p>ç¼“å­˜åŒæ­¥</p><ol><li>â€œé€’å½’æœåŠ¡å™¨â€å‘ç°ç¼“å­˜ä¸­æ²¡æœ‰DNSè®°å½•ï¼Œé‚£ä¹ˆå®ƒä¼šé—®â€œæ ¹æœåŠ¡å™¨â€ï¼Œâ€œæ ¹æœåŠ¡å™¨â€ä¼šå‘Šè¯‰â€œé€’å½’æœåŠ¡å™¨â€è¯´ï¼šè¿™ä¸ªåŸŸåå±äº com è¿™ä¸ªåˆ†æ”¯ä¹‹ä¸‹ï¼Œä½ å»æ‰¾ com è¿™ä¸ªåŸŸåçš„â€œæƒå¨æœåŠ¡å™¨â€ï¼Œè¿™ä¸ªæƒå¨æœåŠ¡å™¨çš„ IPåœ°å€ æ˜¯ mmm  </li><li>ç„¶åâ€œé€’å½’æœåŠ¡å™¨â€æ ¹æ®æ‹¿åˆ°çš„è¿™ä¸ª mmm åœ°å€ï¼Œåˆå»æ‰¾â€œcom åŸŸåçš„æƒå¨æœåŠ¡å™¨â€ã€‚â€œcom åŸŸåçš„æƒå¨æœåŠ¡å™¨â€å‘Šè¯‰å®ƒï¼šä½ åº”è¯¥å»æ‰¾â€œyyy.com åŸŸåçš„æƒå¨æœåŠ¡å™¨â€ï¼Œè¿™ä¸ªæƒå¨æœåŠ¡å™¨çš„ IPåœ°å€ æ˜¯ nnn</li><li>ç„¶åâ€œé€’å½’æœåŠ¡å™¨â€åˆæ ¹æ®nnnæ‰¾â€œyyy.com åŸŸåçš„æƒå¨æœåŠ¡å™¨â€ï¼Œè¿™æ—¶å€™â€œyyy.com åŸŸåçš„æƒå¨æœåŠ¡å™¨â€æ‰ä¼šå‘Šè¯‰å®ƒ/xxx.yyy.com/è¿™ä¸ªåŸŸåçš„IPæ˜¯å¤šå°‘  </li></ol></li></ul><p>æ•´ä¸ªç¼“å­˜åŒæ­¥è¿‡ç¨‹åƒæ˜¯è¸¢çš®çƒï¼Œæ•ˆç‡ä½ä¸‹ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªDNSç¼“å­˜</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="942-æ¸…é™¤dnsç¼“å­˜">9.4.2. æ¸…é™¤DNSç¼“å­˜<a href="#942-æ¸…é™¤dnsç¼“å­˜" class="hash-link" aria-label="9.4.2. æ¸…é™¤DNSç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="9.4.2. æ¸…é™¤DNSç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>ä¸»è¦åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š1. LDNS,æ— æ³•ä»‹å…¥ï¼›2. æœ¬æœº cmdä¸‹ï¼šipconfig /flushdns</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="943-åŸŸåè§£ææ–¹å¼">9.4.3. åŸŸåè§£ææ–¹å¼<a href="#943-åŸŸåè§£ææ–¹å¼" class="hash-link" aria-label="9.4.3. åŸŸåè§£ææ–¹å¼çš„ç›´æ¥é“¾æ¥" title="9.4.3. åŸŸåè§£ææ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Aè®°å½•-------è®°å½•åŸŸåï¼ŒIPæ˜ å°„</li><li>MXè®°å½•-------é‚®ä»¶ç›¸å…³</li><li>CNAMEè®°å½•-------å¤šä¸ªåˆ«åæ˜ å°„åˆ°ä¸€ä¸ªåŸŸå</li><li>NSè®°å½•---------ä¸ºæŸä¸ªåŸŸåæŒ‡å®šä¸€ä¸ªDNS server</li><li>TXTè®°å½•-----------ä¸ºæŸä¸ªä¸»æœº/åŸŸåè®¾ç½®è¯´æ˜</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="95-cdn-å·¥ä½œæœºåˆ¶">9.5. CDN å·¥ä½œæœºåˆ¶<a href="#95-cdn-å·¥ä½œæœºåˆ¶" class="hash-link" aria-label="9.5. CDN å·¥ä½œæœºåˆ¶çš„ç›´æ¥é“¾æ¥" title="9.5. CDN å·¥ä½œæœºåˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>cdnä»¥ç¼“å­˜é™æ€æ•°æ®ä¸ºä¸»<br>
<!-- -->æµè§ˆå™¨ä»ä¸»ç«™è¯·æ±‚åŠ¨æ€æ•°æ®åï¼Œå†ä»cdnä¸‹è½½é™æ€æ•°æ® </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="96-å…è´¹-cdn">9.6. å…è´¹ cdn<a href="#96-å…è´¹-cdn" class="hash-link" aria-label="9.6. å…è´¹ cdnçš„ç›´æ¥é“¾æ¥" title="9.6. å…è´¹ cdnçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://www.cnblogs.com/lfri/p/12212878.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/lfri/p/12212878.html</a> (jsDelivr, staticaly, githack)</p><h1>10. https</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="101-å’Œ-http-å¯¹æ¯”">10.1. å’Œ http å¯¹æ¯”<a href="#101-å’Œ-http-å¯¹æ¯”" class="hash-link" aria-label="10.1. å’Œ http å¯¹æ¯”çš„ç›´æ¥é“¾æ¥" title="10.1. å’Œ http å¯¹æ¯”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>http: httpæ¶ˆæ¯ç›´æ¥åŸºäºtcpä¼ è¾“</p><p>https: httpæ¶ˆæ¯é€šè¿‡ SSL/TLS åè®®åŠ å¯†, å†é€šè¿‡ tcp ä¼ è¾“</p><p>sslåè®®ä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½, è·å– ca è¯ä¹¦å¯ä»¥è´­ä¹°æ”¶è´¹çš„(äº‘å‚å•†æä¾›), ä¹Ÿèƒ½ä½¿ç”¨å…è´¹çš„ (Letsencryptæ˜¯ä¸€ä¸ªå…è´¹ã€è‡ªåŠ¨åŒ–å’Œå¼€æ”¾çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œå…¶é¢å‘çš„è¯ä¹¦ä¸€æ¬¡æœ‰æ•ˆæœŸä¸ºä¸‰ä¸ªæœˆï¼Œä½†æ˜¯åªè¦èƒ½æŒç»­æ›´æ–°ï¼ŒåŸºæœ¬å¯ä»¥æ°¸ä¹…ä½¿ç”¨ã€‚)</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="102-å¦‚ä½•å…è´¹å¼€å¯-https">10.2. å¦‚ä½•å…è´¹å¼€å¯ https<a href="#102-å¦‚ä½•å…è´¹å¼€å¯-https" class="hash-link" aria-label="10.2. å¦‚ä½•å…è´¹å¼€å¯ httpsçš„ç›´æ¥é“¾æ¥" title="10.2. å¦‚ä½•å…è´¹å¼€å¯ httpsçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://mp.weixin.qq.com/s/wtVxG0weBUiC0-Lwu7vVDw" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/wtVxG0weBUiC0-Lwu7vVDw</a></p><p>Spring Boot Secured By Letâ€™s Encrypt, Let&#x27;s Encryptæä¾›å…è´¹çš„TLSè¯ä¹¦</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzI3ODcxMzQzMw==&amp;mid=2247484381&amp;idx=1&amp;sn=f6919853976da79e52602589ec164a15&amp;chksm=eb5386ebdc240ffd9d9f0b869c2ecad755a8d1f5a78115da40634ce87e906251c919c8bb32cf&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">tomcat å¼€å¯ https æ”¯æŒ</a>, spring bootä¹Ÿè¦åšè®¾ç½®, ç»§æ‰¿ WebSecurityConfigurerAdapter, è¦†ç›– configure(HttpSecurity http), http.requiresChannel().requiresSecure()</p><p><a href="https://www.cnblogs.com/imfjj/p/9058443.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/imfjj/p/9058443.html</a></p><p>TODO</p><p><a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="noopener noreferrer">https://github.com/Neilpang/acme.sh</a> , è„šæœ¬acme.shï¼Œå®ç°äº† acme åè®®, å¯ä»¥å¸®ä½ æŒç»­è‡ªåŠ¨ä»Letsencryptæ›´æ–°CAè¯ä¹¦</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">curl https://get.acme.sh | sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>11. resutful</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="111-web-service">11.1. Web Service<a href="#111-web-service" class="hash-link" aria-label="11.1. Web Serviceçš„ç›´æ¥é“¾æ¥" title="11.1. Web Serviceçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æœåŠ¡å™¨å¦‚ä½•å‘å®¢æˆ·ç«¯æä¾›æœåŠ¡</p><p>å¸¸ç”¨çš„æ–¹æ³•æœ‰:</p><p>RPC æ‰€è°“çš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ (é¢å‘æ–¹æ³•, å¼ºè°ƒåŠ¨ä½œ): åƒè°ƒç”¨æœ¬åœ°æœåŠ¡(æ–¹æ³•)ä¸€æ ·è°ƒç”¨æœåŠ¡å™¨çš„æœåŠ¡(æ–¹æ³•), æ¯”å¦‚xml-rpc, json-rpc
SOA æ‰€è°“çš„é¢å‘æœåŠ¡çš„æ¶æ„(é¢å‘æ¶ˆæ¯), å’Œå…·ä½“è¯­è¨€æ— å…³
REST æ‰€è°“çš„ Representational state transfer è¡¨ç°å±‚çŠ¶æ€è½¬ç§» (é¢å‘èµ„æº, å¼ºè°ƒèµ„æº)
Hessian è§<a href="https://blog.csdn.net/weigao_easy/article/details/52351042" target="_blank" rel="noopener noreferrer">ref</a></p><p><a href="#webservice%E5%85%B3%E6%B3%A8%E7%82%B9">webserviceå…³æ³¨ç‚¹</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="112-ä»€ä¹ˆæ˜¯restfulæ¶æ„">11.2. ä»€ä¹ˆæ˜¯restfulæ¶æ„ï¼Ÿ<a href="#112-ä»€ä¹ˆæ˜¯restfulæ¶æ„" class="hash-link" aria-label="11.2. ä»€ä¹ˆæ˜¯restfulæ¶æ„ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="11.2. ä»€ä¹ˆæ˜¯restfulæ¶æ„ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>ä¸€ä¸ªæ¶æ„ç¬¦åˆreståŸåˆ™åˆ™ç§°ä¹‹ä¸ºrestfulæ¶æ„</p></li><li><p>reståŸåˆ™ï¼ˆèµ„æºçš„â€œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ï¼‰</p><ul><li><p>æ¯ä¸ªURIä»£è¡¨ä¸€ä¸ªèµ„æºï¼ˆèµ„æºå¯ä»¥ä½¿ä¸€æ®µæ–‡æœ¬ï¼Œä¸€å¼ å›¾ç‰‡ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªåŠ¨ä½œï¼‰ï¼ŒURIä¸­åªèƒ½å‡ºç°åè¯</p></li><li><p>client å’Œserveré—´ä¼ é€’èµ„æºçš„æŸç§è¡¨ç°å±‚ï¼ˆæ–‡æœ¬è¡¨ç°å±‚æœ‰textï¼Œjsonï¼Œxmlï¼›å›¾ç‰‡è¡¨ç°å±‚æœ‰JPGï¼Œpngç­‰ï¼‰</p></li><li><p>å®¢æˆ·ç«¯é€šè¿‡httpå››ä¸ªåŠ¨è¯å¯¹æœåŠ¡å™¨èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°â€œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€</p></li><li><p>æ— çŠ¶æ€åŸåˆ™ï¼šå³httpçš„æ— çŠ¶æ€ï¼ŒæŒ‡çš„æ˜¯æœåŠ¡å™¨æ²¡æœ‰ä¿å­˜å®¢æˆ·ç«¯çš„çŠ¶æ€ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯å¿…é¡»æ¯æ¬¡å¸¦ä¸Šè‡ªå·±çš„çŠ¶æ€å»è¯·æ±‚æœåŠ¡å™¨ã€‚æ¯”å¦‚ç™»é™†ï¼Œæˆ‘ä»¬ä½¿ç”¨Cookieé€šè¿‡å®¢æˆ·ç«¯ä¿æŒç™»é™†çŠ¶æ€ã€‚æœ‰åˆ©äºå®ç°è´Ÿè½½å‡è¡¡ï¼ˆå› ä¸ºè¯·æ±‚è‡ªèº«å¸¦æœ‰çŠ¶æ€ä¿¡æ¯ï¼Œä»»ä½•serverå‡å¯ä»¥å¤„ç†clientè¯·æ±‚ï¼‰</p><blockquote><p>å¦‚ï¼šå¦‚æœé¥æ§å™¨ä¸ç©ºè°ƒä¹‹é—´æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå‡è®¾ä½ ç¦»å¼€ç©ºè°ƒæ¥æ”¶èŒƒå›´è°ƒæ•´äº†é¥æ§å™¨æ¸©åº¦ï¼Œå˜æˆ19ï¼Œé‚£å›åˆ°èŒƒå›´å†…ä½ æŒ‰ä¸€æ¬¡å‡é«˜ä¸€åº¦ï¼ŒåŸºäºåŸå…ˆæ¸©åº¦çŠ¶æ€ï¼Œé¥æ§å™¨ç»™ç©ºè°ƒå‘é€ä¸€ä¸ªâ€æé«˜1åº¦â€œçš„æŒ‡ä»¤ï¼Œå°±ä¼šå‡ºç°é¥æ§å™¨æé«˜åˆ°20ï¼Œè€Œç©ºè°ƒå˜æˆ21ã€‚å¦‚æœè¦ç©ºé—´ä¸ç©ºè°ƒä¹‹å‰æ˜¯æ— çŠ¶æ€çš„ï¼Œå‡è®¾ä½ ç¦»å¼€ç©ºè°ƒæ¥æ”¶èŒƒå›´è°ƒæ•´äº†é¥æ§å™¨æ¸©åº¦ï¼Œå˜æˆ19ï¼Œé‚£å›åˆ°èŒƒå›´å†…ä½ æŒ‰ä¸€æ¬¡å‡é«˜ä¸€åº¦ï¼Œé¥æ§å™¨ç»™ç©ºè°ƒå‘é€ä¸€ä¸ªâ€è®¾å®šæ¸©åº¦å€¼20â€œï¼Œè¿™æ ·ä¸¤è€…æœ€ç»ˆè¿˜æ˜¯ç›¸åŒçš„å€¼ã€‚</p></blockquote></li><li><p>å¦‚æœä¸€ä¸ªåŠ¨ä½œæ˜¯httpåŠ¨è¯è¡¨ç°ä¸äº†çš„ï¼Œåº”è¯¥æŠŠè¿™ä¸ªåŠ¨ä½œå˜ä¸ºä¸€ä¸ªèµ„æºï¼Œä»¥åè¯å½¢å¼é€šè¿‡URIå‘å¸ƒå‡ºæ¥</p></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="113-restfulæœ€å¤§çš„ä¼˜åŠ¿">11.3. RESTfulæœ€å¤§çš„ä¼˜åŠ¿<a href="#113-restfulæœ€å¤§çš„ä¼˜åŠ¿" class="hash-link" aria-label="11.3. RESTfulæœ€å¤§çš„ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥" title="11.3. RESTfulæœ€å¤§çš„ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è¦æ±‚ä»èµ„æºçš„è§’åº¦å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†, è€Œä¸æ˜¯åƒä»¥å‰ä»åŠ¨ä½œ/æ“ä½œçš„è§’åº¦</p><p>æˆ‘ä»¬å¹³æ—¶æç³»ç»Ÿæ˜¯è¿™æ ·çš„ï¼š</p><ol><li>æœ‰æ–°å»ºç”¨æˆ·åŠŸèƒ½</li><li>æ–°å»ºç”¨æˆ·éœ€è¦ä¸€ä¸ªURL</li><li>å¾€è¿™ä¸ªURLå‘é€çš„æ•°æ®è¦å®šä¹‰å¥½</li><li>å¼€å§‹å†™åç«¯å’Œå‰ç«¯</li></ol><p>è¿™ç§æ–¹å¼å½“ç„¶å¯ä»¥æ¶æ„å‡ºä¸€ä¸ªç³»ç»Ÿï¼Œç”šè‡³æ˜¯ä¸€ä¸ªå¥½ç³»ç»Ÿï¼Œä½†æ˜¯å¶å°”ä¼šæœ‰äº›é—®é¢˜</p><ul><li>æ“ä½œä¹‹é—´æ˜¯ä¼šæœ‰å…³è”ï¼Œä½ çš„è®¾è®¡å®¹æ˜“å˜æˆâ€œç¬¬2ä¸ªæ“ä½œè¦æ±‚ç¬¬1ä¸ªæ“ä½œè¿›è¡Œè¿‡â€ï¼Œè¿™ç§å…³ç³»å¤šèµ·æ¥ç³»ç»Ÿå°±ä¹±äº†</li><li>URLè®¾è®¡ä¼šç¼ºä¹ä¸€è‡´æ€§</li><li>æ“ä½œé€šå¸¸è¢«è®¤ä¸ºæ˜¯æœ‰å‰¯ä½œç”¨ï¼ˆSide Effectï¼‰çš„ï¼Œæ‰€ä»¥å¾ˆå°‘æœ‰äººåŸºäºæ“ä½œå»è®¾è®¡ç¼“å­˜ä¹‹ç±»çš„ä¸œè¥¿</li></ul><p>éµå¾ªRestfulé£æ ¼å, ç³»ç»Ÿä¼šè·å¾—è¿™äº›å¥½å¤„:</p><ul><li>å„ä¸ªèµ„æºè™½ç„¶å¯èƒ½æœ‰å…³è”ï¼Œä½†ä¾æ—§æ˜¯èƒ½å¤Ÿç®€å•åœ°åˆ‡æ‰è¿™äº›å…³è”å¯¼è‡´ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰éå¸¸ä¹±çš„è€¦åˆæ€§</li><li>å¯¹èµ„æºçš„æ“ä½œå°±è¿™ä¹ˆå‡ ç§ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è®¾è®¡ä¸€è‡´çš„URL</li><li>æˆ‘ä»¬æ˜ç™½å¯¹èµ„æºçš„è¯»æ“ä½œæ˜¯æ— å‰¯ä½œç”¨çš„ï¼Œæ‰€ä»¥èƒ½æ–¹ä¾¿çš„æ¥å…¥ç¼“å­˜</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="114-å…¸å‹çš„è®¾è®¡é”™è¯¯">11.4. å…¸å‹çš„è®¾è®¡é”™è¯¯<a href="#114-å…¸å‹çš„è®¾è®¡é”™è¯¯" class="hash-link" aria-label="11.4. å…¸å‹çš„è®¾è®¡é”™è¯¯çš„ç›´æ¥é“¾æ¥" title="11.4. å…¸å‹çš„è®¾è®¡é”™è¯¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>URIä¸­åŒ…å«åŠ¨è¯</p><p>  URIä¸­ä¸åº”è¯¥æœ‰åŠ¨è¯ï¼Œå› ä¸ºURIè¡¨ç¤ºä¸€ä¸ªèµ„æºï¼Œåªèƒ½æ˜¯åè¯ï¼ŒåŠ¨è¯æ”¾åœ¨httpåè®®ä¸­ï¼Œå¦‚ï¼š  </p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">posts</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">show</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token plain">é”™è¯¯    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">posts</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">æ­£ç¡®ï¼Œåœ¨httpä¸­ç”¨</span><span class="token keyword" style="color:rgb(0, 0, 255)">get</span><span class="token plain">è¡¨ç¤ºshowæ–¹æ³•</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  å¦‚æœæŸä¸ªåŠ¨ä½œå››ä¸ªhttpåŠ¨è¯è¡¨ç°ä¸äº†ï¼Œå¦‚ï¼štransfer è½¬è´¦,ç”¨æˆ·1å‘ç”¨æˆ·2è½¬è´¦500å…ƒ  </p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">accounts</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">transfer</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">to</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">é”™è¯¯</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">transaction </span><span class="token constant" style="color:rgb(129, 31, 63)">HTTP</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1.1</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">Host</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">127.0</span><span class="token number" style="color:rgb(9, 134, 88)">.0</span><span class="token number" style="color:rgb(9, 134, 88)">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword module" style="color:rgb(0, 0, 255)">from</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">to</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">amount</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">500.00</span><span class="token plain">  </span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token operator" style="color:rgb(0, 0, 0)">--</span><span class="token plain">æ­£ç¡®ï¼Œèµ„æºå¯ä»¥æ˜¯ä¸€ç§æœåŠ¡ï¼Œå°†åŠ¨ä½œ ä½œä¸ºä¸€ç§èµ„æºå¯¹å¤–æä¾›</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  å†æ¯”å¦‚: ç™»å½•åœºæ™¯. æˆ‘ä»¬å¯ä»¥å°†ç™»å½•è¿™ä¸ªåŠ¨ä½œèµ„æºåŒ–, å°†ç™»å½•è§†ä½œä¸€ç§èµ„æº</p><p>  æŠŠâ€œç™»å½•â€ä½œä¸ºä¸€ä¸ªèµ„æºï¼Œæ‰€ä»¥ç™»å½•æ˜¯POST /loginsï¼Œé€€å‡ºæ˜¯DELETE /logins; å½“ç„¶è¿˜æœ‰å…¶ä»–çš„è§£é‡Šæ¯”å¦‚, ç™»å½•ç™»å‡ºè§†ä½œsessionçš„å¢åˆ , è€Œsessionæ˜¯èµ„æº</p></li></ul><ul><li><p>URIä¸­åŠ å…¥èµ„æºçš„ç‰ˆæœ¬å·</p><p>  APIçš„ç‰ˆæœ¬å·å¯ä»¥æ”¾è¿›URIä¸­ï¼Œèµ„æºçš„ç‰ˆæœ¬å·åˆ™ä¸è¦æ”¾å…¥  </p><p>  ä¸åŒçš„ç‰ˆæœ¬æ˜¯åŒä¸€ä¸ªèµ„æºçš„ä¸åŒè¡¨ç°å½¢å¼ï¼Œå¦‚ä¸‹æ˜¯é”™è¯¯çš„ï¼š</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token literal-property property">http</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">www</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">app</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1.0</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">foo</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">http</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">www</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">app</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">1.1</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">foo</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">http</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">www</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">app</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">2.0</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  æ­£ç¡®çš„åšæ³•æ˜¯é‡‡ç”¨åŒä¸€ä¸ªURIï¼Œç‰ˆæœ¬å·åœ¨httpçš„è¯·æ±‚å¤´acceptå­—æ®µä¸­æ ‡æ˜ï¼š</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token literal-property property">Accept</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> vnd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">com</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">foo</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">Accept</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> vnd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">com</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">foo</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">Accept</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> vnd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">com</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">foo</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="115-è®¾è®¡åˆç†çš„restful-api">11.5. è®¾è®¡åˆç†çš„restful API<a href="#115-è®¾è®¡åˆç†çš„restful-api" class="hash-link" aria-label="11.5. è®¾è®¡åˆç†çš„restful APIçš„ç›´æ¥é“¾æ¥" title="11.5. è®¾è®¡åˆç†çš„restful APIçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä¸»è¦è€ƒè™‘å¦‚ä¸‹å‡ ä¸ªè¦ç´ ï¼š</p><ul><li><p>åè®®</p><p>  http æˆ–è€… https  </p></li><li><p>èº«ä»½è®¤è¯</p><p>  APIçš„èº«ä»½è®¤è¯åº”è¯¥ä½¿ç”¨OAuth 2.0æ¡†æ¶</p></li><li><p>æ•°æ®æ ¼å¼</p><p>  jsoné¿å…ä½¿ç”¨xml</p></li><li><p>åŸŸå</p><p>  å°½é‡éƒ¨ç½²åœ¨ä¸“æœ‰åŸŸåä¸‹ï¼Œå¦‚ï¼š<a href="https://api.example.com" target="_blank" rel="noopener noreferrer">https://api.example.com</a><br>
<!-- -->å¦‚æœç¡®å®šAPIå¾ˆç®€å•ï¼Œä¸ä¼šæœ‰è¿›ä¸€æ­¥æ‰©å±•ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨ä¸»åŸŸåä¸‹ï¼š<a href="https://example.org/api/" target="_blank" rel="noopener noreferrer">https://example.org/api/</a></p></li><li><p>ç‰ˆæœ¬</p><p>  åº”è¯¥å°†APIç‰ˆæœ¬å·æ”¾å…¥URLï¼š<a href="https://api.example.com/v1/" target="_blank" rel="noopener noreferrer">https://api.example.com/v1/</a><br>
<!-- -->or
å°†ç‰ˆæœ¬ä¿¡æ¯æ”¾åœ¨http headerä¸­ï¼Œä½†æ˜¯ä¸å¦‚æ”¾åœ¨URLä¸­ç›´è§‚</p></li><li><p>è·¯å¾„ï¼ˆendpoint)</p><p>  åªå«æœ‰åè¯ï¼Œä¸€èˆ¬ä¸ºå¤æ•°å½¢å¼ï¼Œå¦‚ï¼š  </p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token literal-property property">https</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">api</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">zoos</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">https</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">api</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">animals</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token literal-property property">https</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">api</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">example</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>httpåŠ¨è¯</p><p>  å¸¸ç”¨çš„æœ‰å¦‚ä¸‹5ç§ï¼š  </p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token plain">ï¼ˆ</span><span class="token constant" style="color:rgb(129, 31, 63)">SELECT</span><span class="token plain">ï¼‰ï¼šä»æœåŠ¡å™¨å–å‡ºèµ„æºï¼ˆä¸€é¡¹æˆ–å¤šé¡¹ï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token plain">ï¼ˆ</span><span class="token constant" style="color:rgb(129, 31, 63)">CREATE</span><span class="token plain">ï¼‰ï¼šåœ¨æœåŠ¡å™¨æ–°å»ºä¸€ä¸ªèµ„æºã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">PUT</span><span class="token plain">ï¼ˆ</span><span class="token constant" style="color:rgb(129, 31, 63)">UPDATE</span><span class="token plain">ï¼‰ï¼šåœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜åçš„å®Œæ•´èµ„æºï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">PATCH</span><span class="token plain">ï¼ˆ</span><span class="token constant" style="color:rgb(129, 31, 63)">UPDATE</span><span class="token plain">ï¼‰ï¼šåœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜çš„å±æ€§ï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">DELETE</span><span class="token plain">ï¼ˆ</span><span class="token constant" style="color:rgb(129, 31, 63)">DELETE</span><span class="token plain">ï¼‰ï¼šä»æœåŠ¡å™¨åˆ é™¤èµ„æºã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  è¿˜æœ‰ä¸¤ä¸ªä¸å¸¸ç”¨çš„ï¼š----<a href="https://stackoverflow.com/questions/6660019/restful-api-methods-head-options" target="_blank" rel="noopener noreferrer">ref</a>
</p></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)"></span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">HEAD: è·å–æŸäº›header, å’Œgetç±»ä¼¼, ä½†æ˜¯responseæ²¡æœ‰body, ç¡®å®šç¼“å­˜å“ªäº›ä¿¡æ¯, å“ªäº›ç¼“å­˜ä¿¡æ¯éœ€è¦æ›´æ–°</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">OPTIONSï¼šå¯¹äºæŸä¸ªresourceså¯ä»¥ä½¿ç”¨å“ªäº›httpåŠ¨è¯</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)"></span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)"></span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">GET /zoosï¼šåˆ—å‡ºæ‰€æœ‰åŠ¨ç‰©å›­</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">POST /zoosï¼šæ–°å»ºä¸€ä¸ªåŠ¨ç‰©å›­</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">GET /zoos/IDï¼šè·å–æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">PUT /zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„å…¨éƒ¨ä¿¡æ¯ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">PATCH /zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„éƒ¨åˆ†ä¿¡æ¯ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">DELETE /zoos/IDï¼šåˆ é™¤æŸä¸ªåŠ¨ç‰©å›­</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">GET /zoos/ID/animalsï¼šåˆ—å‡ºæŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æ‰€æœ‰åŠ¨ç‰©</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)">DELETE /zoos/ID/animals/IDï¼šåˆ é™¤æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æŒ‡å®šåŠ¨ç‰©</span><br></span><span class="token-line" style="color:#000000"><span class="token template-string string" style="color:rgb(163, 21, 21)"></span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>è¿‡æ»¤ä¿¡æ¯ï¼ˆfilteringï¼‰</p><p>  å¦‚æœè®°å½•æ•°é‡å¾ˆå¤šï¼ŒæœåŠ¡å™¨ä¸å¯èƒ½éƒ½å°†å®ƒä»¬è¿”å›ç»™ç”¨æˆ·ã€‚APIåº”è¯¥æä¾›å‚æ•°ï¼Œè¿‡æ»¤è¿”å›ç»“æœã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ï¼š</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">limit</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">ï¼šæŒ‡å®šè¿”å›è®°å½•çš„æ•°é‡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">offset</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain">ï¼šæŒ‡å®šè¿”å›è®°å½•çš„å¼€å§‹ä½ç½®ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">page</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">per_page</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain">ï¼šæŒ‡å®šç¬¬å‡ é¡µï¼Œä»¥åŠæ¯é¡µçš„è®°å½•æ•°ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">sortby</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">name</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">order</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">ascï¼šæŒ‡å®šè¿”å›ç»“æœæŒ‰ç…§å“ªä¸ªå±æ€§æ’åºï¼Œä»¥åŠæ’åºé¡ºåºã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">animal_type_id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">ï¼šæŒ‡å®šç­›é€‰æ¡ä»¶</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>çŠ¶æ€ç ï¼ˆstatus codeï¼‰</p><p>  å¸¸ç”¨çš„å¦‚ä¸‹ï¼š  </p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token number" style="color:rgb(9, 134, 88)">200</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">OK</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ï¼ˆIdempotentï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">201</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">CREATED</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PUT</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PATCH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">202</span><span class="token plain"> </span><span class="token maybe-class-name">Accepted</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">204</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">NO</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">CONTENT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">DELETE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·åˆ é™¤æ•°æ®æˆåŠŸã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">400</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">INVALID</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">REQUEST</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PUT</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PATCH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">401</span><span class="token plain"> </span><span class="token maybe-class-name">Unauthorized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">403</span><span class="token plain"> </span><span class="token maybe-class-name">Forbidden</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> è¡¨ç¤ºç”¨æˆ·å¾—åˆ°æˆæƒï¼ˆä¸</span><span class="token number" style="color:rgb(9, 134, 88)">401</span><span class="token plain">é”™è¯¯ç›¸å¯¹ï¼‰ï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">404</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">NOT</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">FOUND</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">406</span><span class="token plain"> </span><span class="token maybe-class-name">Not</span><span class="token plain"> </span><span class="token maybe-class-name">Acceptable</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ï¼ˆæ¯”å¦‚ç”¨æˆ·è¯·æ±‚</span><span class="token known-class-name class-name" style="color:rgb(38, 127, 153)">JSON</span><span class="token plain">æ ¼å¼ï¼Œä½†æ˜¯åªæœ‰</span><span class="token constant" style="color:rgb(129, 31, 63)">XML</span><span class="token plain">æ ¼å¼ï¼‰ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">410</span><span class="token plain"> </span><span class="token maybe-class-name">Gone</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šç”¨æˆ·è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">422</span><span class="token plain"> </span><span class="token maybe-class-name">Unprocesable</span><span class="token plain"> entity </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PUT</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token constant" style="color:rgb(129, 31, 63)">PATCH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">INTERNAL</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">SERVER</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">ERROR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">ï¼šæœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œç”¨æˆ·å°†æ— æ³•åˆ¤æ–­å‘å‡ºçš„è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>é”™è¯¯å¤„ç†ï¼ˆerror handlingï¼‰</p><p>  å¦‚æœçŠ¶æ€ç æ˜¯4xxï¼Œå°±åº”è¯¥å‘ç”¨æˆ·è¿”å›å‡ºé”™ä¿¡æ¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿”å›çš„ä¿¡æ¯ä¸­å°†errorä½œä¸ºé”®åï¼Œå‡ºé”™ä¿¡æ¯ä½œä¸ºé”®å€¼å³å¯ã€‚</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">error</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Invalid API key&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>è¿”å›ç»“æœ</p><p>  é’ˆå¯¹ä¸åŒçš„æ“ä½œï¼ŒæœåŠ¡å™¨çš„è¿”å›ç»“æœåº”è¯¥ç¬¦åˆä¸‹é¢çš„è§„èŒƒï¼š</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collectionï¼šè¿”å›èµ„æºå¯¹è±¡çš„åˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">GET</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collection</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">resourceï¼šè¿”å›å•ä¸ªèµ„æºå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">POST</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collectionï¼šè¿”å›æ–°ç”Ÿæˆçš„èµ„æºå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">PUT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collection</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">resourceï¼šè¿”å›å®Œæ•´çš„èµ„æºå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">PATCH</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collection</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">resourceï¼šè¿”å›å®Œæ•´çš„èµ„æºå¯¹è±¡</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">DELETE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">collection</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">resourceï¼šè¿”å›ä¸€ä¸ªç©ºæ–‡æ¡£</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li>Hypermedia API</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="116-æ¥å£å®‰å…¨è®¾è®¡">11.6. æ¥å£å®‰å…¨è®¾è®¡<a href="#116-æ¥å£å®‰å…¨è®¾è®¡" class="hash-link" aria-label="11.6. æ¥å£å®‰å…¨è®¾è®¡çš„ç›´æ¥é“¾æ¥" title="11.6. æ¥å£å®‰å…¨è®¾è®¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://www.cnblogs.com/jurendage/p/12653865.html" target="_blank" rel="noopener noreferrer">1</a></p><p><a href="https://blog.csdn.net/angryjiji/article/details/99476028" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/angryjiji/article/details/99476028</a></p><p>å¯¹äºå®‰å…¨æ•æ„Ÿçš„æ¥å£, éœ€è¦ä½œå‡ºç‰¹æ®Šçš„å®‰å…¨è®¾è®¡, å½“ç„¶é¦–å…ˆå°±æ˜¯æ¨èä½¿ç”¨ https</p><ul><li><p>token - ä¸€èˆ¬ä¸º ä¸€ä¸ª UUID, ç”¨äºæ ‡è¯†æ¥å£è°ƒç”¨è€…çš„èº«ä»½, å‡å°‘ç”¨æˆ·åå’Œå¯†ç çš„ä¼ è¾“æ¬¡æ•°  </p><p>ä¸€èˆ¬æƒ…å†µä¸‹å®¢æˆ·ç«¯(æ¥å£è°ƒç”¨æ–¹)éœ€è¦å…ˆå‘æœåŠ¡å™¨ç«¯ç”³è¯·ä¸€ä¸ªæ¥å£è°ƒç”¨çš„è´¦å·ï¼ŒæœåŠ¡å™¨ä¼šç»™å‡ºä¸€ä¸ªappIdå’Œå¤šä¸ª (appkey, appSecret)å¯¹, keyç”¨äºå‚æ•°ç­¾åä½¿ç”¨ (åŒä¸€ä¸ª app_id å¯ä»¥å¯¹åº”å¤šä¸ª app_key+app_secret, è¿™æ · å¹³å°å°±å¯ä»¥åˆ†é…ä½ ä¸ä¸€æ ·çš„æƒé™, æ¯”å¦‚ app_key1 + app_secect1 åªæœ‰åªè¯»æƒé™ ä½†æ˜¯ app_key2+app_secret2 æœ‰è¯»å†™æƒé™)</p><p>server ç”Ÿæˆ token å, å°† token ä½œä¸º key, å°†å…¶ä»–å…³è”ä¿¡æ¯ä½œä¸º value å­˜å…¥ redis, å½“ä¸€ä¸ª req è¿‡æ¥, ä¼šå¸¦ç€ token, åˆ° redis æŸ¥è¿™ä¸ª token, å¦‚æœå­˜åœ¨, åˆ™æ”¾è¡Œ, ä¸å­˜åœ¨, åˆ™æ‹¦æˆª</p><p>ç»†åˆ†ä¸º:</p><ul><li>æ¥å£ä»¤ç‰Œ (api token) - è®¿é—®æ— éœ€ç™»å½•çš„æ¥å£, å¦‚ ç™»å½•, æ³¨å†Œ éœ€è¦æ‹¿appIdã€timestampå’Œsignæ¥æ¢ï¼Œsign=åŠ å¯†(appId + timestamp + key)</li><li>ç”¨æˆ·ä»¤ç‰Œ (user token) - ç”¨äºè®¿é—®éœ€è¦ç™»å½•åè°ƒç”¨çš„æ¥å£ éœ€è¦æ‹¿ç”¨æˆ·åå’Œå¯†ç æ¥æ¢</li></ul></li><li><p>sign - ç”¨äºå‚æ•°ç­¾åï¼Œé˜²æ­¢å‚æ•°è¢«éæ³•ç¯¡æ”¹, æ¯”å¦‚æ¶‰åŠåˆ°è½¬è´¦çš„æ¥å£</p><p>signçš„å€¼ä¸€èˆ¬æ˜¯å°†æ‰€æœ‰éç©ºå‚æ•°æŒ‰ç…§å‡ç»­æ’åºç„¶å+token+key+timestamp+nonceæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç„¶åä½¿ç”¨æŸç§åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ï¼Œä½œä¸ºæ¥å£ä¸­çš„ä¸€ä¸ªå‚æ•°signæ¥ä¼ é€’ï¼Œä¹Ÿå¯ä»¥å°†signæ”¾åˆ°è¯·æ±‚å¤´ä¸­ (nonce ä¸ºéšæœºæ•°, å®¢æˆ·ç«¯éšæœºç”Ÿæˆ, ç›®çš„æ˜¯å¢åŠ signç­¾åçš„å¤šå˜æ€§, ä¸€èˆ¬æ˜¯æ•°å­—å’Œå­—æ¯çš„ç»„åˆï¼Œ6ä½é•¿åº¦)</p><p>å½“æœåŠ¡å™¨è°ƒç”¨æ¥å£å‰ä¼šæŒ‰ç…§signçš„è§„åˆ™é‡æ–°è®¡ç®—å‡ºsignçš„å€¼ç„¶åå’Œæ¥å£ä¼ é€’çš„signå‚æ•°çš„å€¼åšæ¯”è¾ƒ, ç›¸åŒåˆ™æ”¾è¡Œ, å¦åˆ™æ‹¦æˆª</p><p>server ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª sign ç»™ client, ç”¨äºé˜²æ­¢ response è¢«ç¯¡æ”¹</p></li><li><p>é˜²é‡å¤æäº¤(å¹‚ç­‰)</p><p>  å½“è¯·æ±‚ç¬¬ä¸€æ¬¡æäº¤æ—¶å°†signä½œä¸ºkeyä¿å­˜åˆ°redisï¼Œå¹¶è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶æ—¶é—´å’ŒTimestampä¸­è®¾ç½®çš„å·®å€¼ç›¸åŒ; è¿™æ ·, å½“åŒä¸€ä¸ªè¯·æ±‚ç¬¬äºŒæ¬¡è®¿é—®æ—¶ä¼šå…ˆæ£€æµ‹redisæ˜¯å¦å­˜åœ¨è¯¥signï¼Œå¦‚æœå­˜åœ¨åˆ™è¯æ˜é‡å¤æäº¤äº†ï¼Œæ¥å£å°±ä¸å†ç»§ç»­è°ƒç”¨äº†ã€‚å¦‚æœsignåœ¨ç¼“å­˜æœåŠ¡å™¨ä¸­å› è¿‡æœŸæ—¶é—´åˆ°äº†ï¼Œè€Œè¢«åˆ é™¤äº†ï¼Œæ­¤æ—¶å½“è¿™ä¸ªurlå†æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œå› tokençš„è¿‡æœŸæ—¶é—´å’Œsignçš„è¿‡æœŸæ—¶é—´ä¸€ç›´ï¼Œsignè¿‡æœŸä¹Ÿæ„å‘³ç€tokenè¿‡æœŸï¼Œé‚£æ ·åŒæ ·çš„urlå†è®¿é—®æœåŠ¡å™¨ä¼šå› tokené”™è¯¯ä¼šè¢«æ‹¦æˆªæ‰</p><p>  timestamp - æ˜¯å®¢æˆ·ç«¯è°ƒç”¨æ¥å£æ—¶å¯¹åº”çš„å½“å‰æ—¶é—´æˆ³ï¼Œç”¨äºé˜²æ­¢DoSæ”»å‡»; æ¯æ¬¡è°ƒç”¨æ¥å£æ—¶æ¥å£éƒ½ä¼šåˆ¤æ–­æœåŠ¡å™¨å½“å‰ç³»ç»Ÿæ—¶é—´å’Œæ¥å£ä¸­ä¼ çš„çš„timestampçš„å·®å€¼ï¼Œå¦‚æœè¿™ä¸ªå·®å€¼è¶…è¿‡æŸä¸ªè®¾ç½®çš„æ—¶é—´(å‡å¦‚5åˆ†é’Ÿ)ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯·æ±‚å°†è¢«æ‹¦æˆªæ‰ï¼Œé˜²æ­¢ ddos æ”»å‡»</p></li></ul><p>API KEYè·ŸAPI SECRET KEY: secert keyæ˜¯ä¸å‘å¤–å…¬å¼€çš„ï¼Œç”¨å…¶åŠ å…¥å„ä¸ªè¯·æ±‚å‚æ•°å’Œapi keyï¼Œç»„åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶ååšæ‘˜è¦è¿ç®—ï¼Œç”Ÿæˆçš„æ‘˜è¦ä¸€èµ·å‘é€ç»™è¯·æ±‚æœåŠ¡å™¨ï¼Œè¿™æ ·æœåŠ¡å™¨ç«¯éªŒè¯å½“å‰æ‘˜è¦æ˜¯å¦åˆæ³•ï¼Œå¯ä»¥å¾—çŸ¥å½“å‰api keyå¯¹åº”çš„secert keyæ˜¯å¦åˆæ³•äº† (<a href="https://blog.csdn.net/weixin_41964962/article/details/105383504" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_41964962/article/details/105383504</a>), <a href="http://www.hello1010.com/api-sign" target="_blank" rel="noopener noreferrer">http://www.hello1010.com/api-sign</a>
<a href="http://qtdebug.com/java-sign/" target="_blank" rel="noopener noreferrer">http://qtdebug.com/java-sign/</a></p><p><a href="http://qtdebug.com/java-sign/" target="_blank" rel="noopener noreferrer">http://qtdebug.com/java-sign/</a>
<a href="https://my.oschina.net/chenmou/blog/4933872" target="_blank" rel="noopener noreferrer">https://my.oschina.net/chenmou/blog/4933872</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="117-å®è·µ">11.7. å®è·µ<a href="#117-å®è·µ" class="hash-link" aria-label="11.7. å®è·µçš„ç›´æ¥é“¾æ¥" title="11.7. å®è·µçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1171-è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„">11.7.1. è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„<a href="#1171-è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„" class="hash-link" aria-label="11.7.1. è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„çš„ç›´æ¥é“¾æ¥" title="11.7.1. è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>There are lots of benefits to have a unified response structure</p><ul><li><p>make it easier for the frontend to handling the api call</p></li><li><p>Inside the backend, it brings convenience for us to set up aop</p></li><li><p>to prevent è¿è¥å•†åŠ«æŒ (å½“ç„¶, ç°åœ¨æƒ…å†µå¥½è½¬äº†, ä½†æ˜¯å†å²é—ç•™åŸå› è¿˜æ˜¯ä¿æŒ &quot;ä¸€ç›´ç”¨ 200ï¼Œä¸”åœ¨ JSON ä¸­å†å†™ä¸ªçŠ¶æ€ç &quot;)</p><p>åœ¨è¿è¥å•†åŠ«æŒæ¨ªè¡Œã€HTTPS æœªæ™®éä¹‹å‰ï¼ŒåŸºæœ¬ä¸Šä½ ä¸å¯ä»¥ä¿¡ä»»ä»»ä½•é 200 çš„å“åº”ç ã€‚æ¯”å¦‚ä½ è¿”å›ä¸€ä¸ª 404ï¼Œå®ƒä¼šæŠŠä½ çš„è¿”å›å®Œå®Œå…¨å…¨å˜æˆå¦ä¸€ä¸ª HTML ä»£ç ï¼ˆå¯¹ï¼Œå³ä½¿ä½ æ˜¯ JSONï¼‰ï¼Œé‡Œé¢å…¨æ˜¯è¿è¥å•†åŠ«æŒçš„å¹¿å‘Š</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1172-å®ç°å¯¹è±¡åºåˆ—åŒ–">11.7.2. å®ç°å¯¹è±¡åºåˆ—åŒ–<a href="#1172-å®ç°å¯¹è±¡åºåˆ—åŒ–" class="hash-link" aria-label="11.7.2. å®ç°å¯¹è±¡åºåˆ—åŒ–çš„ç›´æ¥é“¾æ¥" title="11.7.2. å®ç°å¯¹è±¡åºåˆ—åŒ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Spring MVC å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†è¿™ç±»åºåˆ—åŒ–ç‰¹æ€§ï¼Œåªéœ€åœ¨ Controller çš„æ–¹æ³•å‚æ•°ä¸­ä½¿ç”¨ @RequestBody æ³¨è§£å®šä¹‰éœ€è¦ååºåˆ—åŒ–çš„å‚æ•°å³å¯  </p><p>è‹¥éœ€è¦å¯¹ Controller çš„æ–¹æ³•è¿”å›å€¼è¿›è¡Œåºåˆ—åŒ–ï¼Œåˆ™éœ€è¦åœ¨è¯¥è¿”å›å€¼ä¸Šä½¿ç”¨ @ResponseBody æ³¨è§£æ¥å®šä¹‰  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestMapping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/advertiser/{id}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseBody</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getAdvertiser</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@PathVariable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> advertiserId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç”±äºç»å¸¸ä¼šä½¿ç”¨åˆ° @ResponseBody æ³¨è§£ï¼Œæ‰€ä»¥ Spring æä¾›äº†ä¸€ä¸ªåä¸º @RestController çš„æ³¨è§£æ¥å–ä»£ä»¥ä¸Šçš„ @Controller æ³¨è§£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çœç•¥è¿”å›å€¼å‰é¢çš„ @ResponseBody æ³¨è§£äº†ï¼Œä½†å‚æ•°å‰é¢çš„ @RequestBody æ³¨è§£æ˜¯æ— æ³•çœç•¥çš„  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestMapping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/advertiser&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">createAdvertiser</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestBody</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserParam</span><span class="token plain"> advertiserParam</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestMapping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/advertiser/{id}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getAdvertiser</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@PathVariable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> advertiserId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨ Jackson æ¥æä¾› JSON çš„åºåˆ—åŒ–æ“ä½œï¼Œåœ¨ Spring é…ç½®æ–‡ä»¶ä¸­åªéœ€æ·»åŠ ä»¥ä¸‹é…ç½®å³å¯ï¼š</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">annotation-driven</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">message-converters</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.http.converter.json.MappingJackson2HttpMessageConverter</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">message-converters</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">annotation-driven</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½†æ˜¯è¿™æ˜¯æœ€åŸºç¡€çš„jsonåºåˆ—åŒ–æ“ä½œï¼Œå¦‚æœéœ€è¦æ’é™¤å€¼ä¸ºç©ºå±æ€§ã€è¿›è¡Œç¼©è¿›è¾“å‡ºã€å°†é©¼å³°è½¬ä¸ºä¸‹åˆ’çº¿ã€è¿›è¡Œæ—¥æœŸæ ¼å¼åŒ–ç­‰ï¼Œè¿™åˆå¦‚ä½•å®ç°å‘¢ï¼Ÿ  </p><p>ç¬¬ä¸€æ­¥ï¼šæ‰©å±• Jackson æä¾›çš„ ObjectMapper ç±»  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CustomObjectMapper</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ObjectMapper</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> camelCaseToLowerCaseWithUnderscores </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> dateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setCamelCaseToLowerCaseWithUnderscores</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> camelCaseToLowerCaseWithUnderscores</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">camelCaseToLowerCaseWithUnderscores </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> camelCaseToLowerCaseWithUnderscores</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setDateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> dateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">dateFormatPattern </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> dateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ’é™¤å€¼ä¸ºç©ºå±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">setSerializationInclusion</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">JsonInclude</span><span class="token class-name punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name" style="color:rgb(38, 127, 153)">Include</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">NON_NULL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// è¿›è¡Œç¼©è¿›è¾“å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">configure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SerializationFeature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">INDENT_OUTPUT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// å°†é©¼å³°è½¬ä¸ºä¸‹åˆ’çº¿</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">camelCaseToLowerCaseWithUnderscores</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token function" style="color:rgb(0, 0, 255)">setPropertyNamingStrategy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PropertyNamingStrategy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// è¿›è¡Œæ—¥æœŸæ ¼å¼åŒ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isNotEmpty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">dateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateFormat</span><span class="token plain"> dateFormat </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SimpleDateFormat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">dateFormatPattern</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token function" style="color:rgb(0, 0, 255)">setDateFormat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">dateFormat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¬¬äºŒæ­¥ï¼šå°† CustomObjectMapper æ³¨å…¥åˆ° MappingJackson2HttpMessageConverter ä¸­ï¼ŒSpring é…ç½®å¦‚ä¸‹ï¼š  </p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">objectMapper</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">com.xxx.api.json.CustomObjectMapper</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">init-method</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">init</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">property</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">camelCaseToLowerCaseWithUnderscores</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">true</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">property</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">dateFormatPattern</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">yyyy-MM-dd HH:mm:ss</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">annotation-driven</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">message-converters</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.http.converter.json.MappingJackson2HttpMessageConverter</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">property</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">objectMapper</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">objectMapper</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">message-converters</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">mvc:</span><span class="token tag" style="color:rgb(128, 0, 0)">annotation-driven</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1173-å¤„ç†å¼‚å¸¸">11.7.3. å¤„ç†å¼‚å¸¸<a href="#1173-å¤„ç†å¼‚å¸¸" class="hash-link" aria-label="11.7.3. å¤„ç†å¼‚å¸¸çš„ç›´æ¥é“¾æ¥" title="11.7.3. å¤„ç†å¼‚å¸¸çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä½¿ç”¨ AOP æŠ€æœ¯ï¼Œç¼–å†™ä¸€ä¸ªå…¨å±€çš„å¼‚å¸¸å¤„ç†åˆ‡é¢ç±»ï¼Œç”¨å®ƒæ¥ç»Ÿä¸€å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸è¡Œä¸º;å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶é€šè¿‡ @ControllerAdvice æ³¨è§£å°†å…¶æ ‡æ³¨å³å¯ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨ @ResponseBody æ³¨è§£è¡¨ç¤ºè¿”å›å€¼å¯åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²    </p><p>åœ¨è¿è¡Œæ—¶ä»ä¸Šå¾€ä¸‹ä¾æ¬¡è°ƒç”¨æ¯ä¸ªå¼‚å¸¸å¤„ç†æ–¹æ³•ï¼ŒåŒ¹é…å½“å‰å¼‚å¸¸ç±»å‹æ˜¯å¦ä¸ @ExceptionHandler æ³¨è§£æ‰€å®šä¹‰çš„å¼‚å¸¸ç›¸åŒ¹é…ï¼Œè‹¥åŒ¹é…ï¼Œåˆ™æ‰§è¡Œè¯¥æ–¹æ³•ï¼ŒåŒæ—¶å¿½ç•¥åç»­æ‰€æœ‰çš„å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼Œæœ€ç»ˆä¼šè¿”å›ç» JSON åºåˆ—åŒ–åçš„ Response å¯¹è±¡</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ControllerAdvice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseBody</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ExceptionAdvice</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 400 - Bad Request</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BAD_REQUEST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ExceptionHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpMessageNotReadableException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleHttpMessageNotReadableException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpMessageNotReadableException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;å‚æ•°è§£æå¤±è´¥&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">failure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could_not_read_json&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 405 - Method Not Allowed</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">METHOD_NOT_ALLOWED</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ExceptionHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpRequestMethodNotSupportedException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleHttpRequestMethodNotSupportedException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpRequestMethodNotSupportedException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ä¸æ”¯æŒå½“å‰è¯·æ±‚æ–¹æ³•&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">failure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;request_method_not_supported&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 415 - Unsupported Media Type</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">UNSUPPORTED_MEDIA_TYPE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ExceptionHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpMediaTypeNotSupportedException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleHttpMediaTypeNotSupportedException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ä¸æ”¯æŒå½“å‰åª’ä½“ç±»å‹&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">failure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;content_type_not_supported&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 500 - Internal Server Error</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">INTERNAL_SERVER_ERROR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ExceptionHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;æœåŠ¡è¿è¡Œå¼‚å¸¸&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">failure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMessage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1174-æ”¯æŒå‚æ•°éªŒè¯">11.7.4. æ”¯æŒå‚æ•°éªŒè¯<a href="#1174-æ”¯æŒå‚æ•°éªŒè¯" class="hash-link" aria-label="11.7.4. æ”¯æŒå‚æ•°éªŒè¯çš„ç›´æ¥é“¾æ¥" title="11.7.4. æ”¯æŒå‚æ•°éªŒè¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æä¾›ä¸€ä¸ª @Valid æ³¨è§£æ¥å®šä¹‰ AdvertiserParam å‚æ•°ï¼Œå¹¶åœ¨ AdvertiserParam ç±»ä¸­é€šè¿‡ @NotEmpty æ³¨è§£æ¥å®šä¹‰ advertiserName å±æ€§, like this:  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestMapping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/advertiser&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RequestMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">createAdvertiser</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@RequestBody</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Valid</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserParam</span><span class="token plain"> advertiserParam</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">//è¿™é‡Œçš„@Validéœ€è¦jaråŒ…æ”¯æŒï¼Œpomå¼•å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AdvertiserParam</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@NotEmpty</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> advertiserName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> description</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// çœç•¥ getter/setter æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//å®šä¹‰@NotEmpty æ³¨è§£ç±»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Documented</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">ElementType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">FIELD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ElementType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">PARAMETER</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Retention</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RetentionPolicy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">RUNTIME</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Constraint</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">validatedBy </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotEmptyValidator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token comment" style="color:rgb(0, 128, 0)">//æŒ‡å®šä¸€ä¸ªéªŒè¯å™¨ç±»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotEmpty</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//ä»¥ä¸‹ä¸‰ä¸ªå±æ€§ä¸ºå¿…é¡»ï¼Œæ˜¯è§„èŒƒæ‰€è¦æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;not_empty&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">groups</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Class</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics operator" style="color:rgb(0, 0, 0)">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(0, 0, 255)">extends</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">Payload</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">payload</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//å®šä¹‰éªŒè¯å™¨ç±»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotEmptyValidator</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConstraintValidator</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">NotEmpty</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token comment" style="color:rgb(0, 128, 0)">//NotEmptyæ˜¯éªŒè¯æ³¨è§£ç±»å‹ï¼ŒStringæ˜¯éœ€è¦éªŒè¯çš„å‚æ•°ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">initialize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotEmpty</span><span class="token plain"> constraintAnnotation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">isValid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConstraintValidatorContext</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isNotEmpty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™é‡Œçš„ @Valid æ³¨è§£å®é™…ä¸Šæ˜¯ Validation Bean è§„èŒƒæä¾›çš„æ³¨è§£ï¼Œè¯¥è§„èŒƒå·²ç”± Hibernate Validator æ¡†æ¶å®ç°ï¼Œå› æ­¤éœ€è¦æ·»åŠ ä»¥ä¸‹ Maven ä¾èµ–åˆ° pom.xml æ–‡ä»¶ä¸­:  </p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">dependency</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">groupId</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">org.hibernate</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">groupId</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">artifactId</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">hibernate-validator</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">artifactId</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">version</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">${hibernate-validator.version}</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">version</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">dependency</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œéœ€è¦åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¼€å¯æ ¡éªŒï¼Œéœ€æ·»åŠ å¦‚ä¸‹é…ç½®</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">org.springframework.validation.beanvalidation.MethodValidationPostProcessor</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œéœ€è¦åœ¨å…¨å±€å¼‚å¸¸å¤„ç†ç±»ä¸­æ·»åŠ å‚æ•°éªŒè¯å¤„ç†æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ControllerAdvice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseBody</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ExceptionAdvice</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/**</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     * 400 - Bad Request</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ResponseStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpStatus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BAD_REQUEST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@ExceptionHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ValidationException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handleValidationException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ValidationException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;å‚æ•°éªŒè¯å¤±è´¥&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">failure</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;validation_exception&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1175-è§£å†³è·¨åŸŸé—®é¢˜">11.7.5. è§£å†³è·¨åŸŸé—®é¢˜<a href="#1175-è§£å†³è·¨åŸŸé—®é¢˜" class="hash-link" aria-label="11.7.5. è§£å†³è·¨åŸŸé—®é¢˜çš„ç›´æ¥é“¾æ¥" title="11.7.5. è§£å†³è·¨åŸŸé—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ•´ä¸ªæ¶æ„åŒ…å«ä¸¤ä¸ªåº”ç”¨ï¼Œå‰ç«¯åº”ç”¨æä¾›çº¯é™æ€çš„ HTML é¡µé¢ï¼Œåç«¯åº”ç”¨å‘å¸ƒ REST APIï¼Œå‰ç«¯éœ€è¦é€šè¿‡ AJAX è°ƒç”¨åç«¯å‘å¸ƒçš„ REST APIï¼Œç„¶è€Œ AJAX æ˜¯ä¸æ”¯æŒè·¨åŸŸè®¿é—®çš„  </p><p>æµè§ˆå™¨è®¿é—®æŸä¸ª server  ä¸­çš„ js èµ„æº, js ä¸­å‘å¦å¤–ä¸åŒæºçš„ server å‘é€äº† ajax è¯·æ±‚, è¿™æ˜¯æµè§ˆå™¨ä¸å…è®¸çš„, ä¹Ÿå°±æ˜¯ä¸æ”¯æŒè·¨åŸŸè®¿é—®</p><p>å¦‚, Aç½‘é¡µè®¾ç½®çš„ Cookieï¼ŒBç½‘é¡µä¸èƒ½æ‰“å¼€ï¼Œé™¤éè¿™ä¸¤ä¸ªç½‘é¡µ&quot;åŒæº&quot;   , é˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®</p><p>åŒæºå¿…é¡»ç¬¦åˆä¸€ä¸‹ä¸‰ç‚¹ç›¸åŒï¼š</p><ol><li>åè®®ç›¸åŒ</li><li>åŸŸåç›¸åŒ</li><li>ç«¯å£ç›¸åŒ</li></ol><p>å¦‚æœåˆ¤å®šä¸ºéåŒæºï¼Œæœ‰ä¸‰ç‚¹è¡Œä¸ºå—é™åˆ¶ï¼š</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">ï¼ˆ</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">ï¼‰ </span><span class="token maybe-class-name">Cookieã€LocalStorage</span><span class="token plain"> å’Œ </span><span class="token maybe-class-name">IndexDB</span><span class="token plain"> æ— æ³•è¯»å–ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ï¼ˆ</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">ï¼‰ </span><span class="token constant" style="color:rgb(129, 31, 63)">DOM</span><span class="token plain"> æ— æ³•è·å¾—ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ï¼ˆ</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">ï¼‰ </span><span class="token constant" style="color:rgb(129, 31, 63)">AJAX</span><span class="token plain"> è¯·æ±‚ä¸èƒ½å‘é€ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦å‰åç«¯äº’ç›¸é…åˆï¼Œåç«¯çš„å·¥ä½œåªè¦èƒ½å°† CORS å“åº”å¤´å†™å…¥ response å¯¹è±¡ä¸­å³å¯, SpringBooté…åˆå‰ç«¯å®ç°è·¨åŸŸ - <a href="https://blog.csdn.net/saytime/article/details/74937204" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/saytime/article/details/74937204</a></p><p>csrf è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»
<a href="https://www.cnblogs.com/Infernal/p/11282443.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/Infernal/p/11282443.html</a>
<a href="https://www.cnblogs.com/lailailai/p/4528092.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/lailailai/p/4528092.html</a>
TODO</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1176-apiè®¿é—®æƒ">11.7.6. APIè®¿é—®æƒ<a href="#1176-apiè®¿é—®æƒ" class="hash-link" aria-label="11.7.6. APIè®¿é—®æƒçš„ç›´æ¥é“¾æ¥" title="11.7.6. APIè®¿é—®æƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ç”±äº REST æ˜¯æ— çŠ¶æ€çš„ï¼Œåç«¯åº”ç”¨å‘å¸ƒçš„ REST API å¯åœ¨ç”¨æˆ·æœªç™»å½•çš„æƒ…å†µä¸‹è¢«ä»»æ„è°ƒç”¨ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å®‰å…¨çš„  </p><p>å®ç°æ€è·¯ï¼š  </p><ol><li>ç™»å½•æˆåŠŸåï¼Œserverç”Ÿæˆä¸€ä¸ªtokenï¼ŒJVMä¸­ä¿å­˜ä¸€ä»½ï¼ŒåŒæ—¶è¿”å›å®¢æˆ·ç«¯ä¸€ä»½</li><li>å®¢æˆ·ç«¯ä¸­å°†tokenå†™å…¥cookieï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å¸¦ä¸Š</li><li>æä¾›ä¸€ä¸ªaopåˆ‡é¢ï¼Œæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œåˆ¤æ–­tokenæœ‰æ•ˆæ€§</li><li>ç™»å‡ºæ—¶ï¼Œæ¸…æ¥šcookieä¸­çš„tokenï¼ŒæœåŠ¡ç«¯çš„tokenå¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè‡ªè¡Œç§»é™¤</li></ol><p>å¦‚æœéœ€è¦åšåˆ°åˆ†å¸ƒå¼é›†ç¾¤ï¼Œå»ºè®®åŸºäº Redis æä¾›ä¸€ä¸ªå®ç°ç±»<br>
<!-- -->å¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ç°ï¼š  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokenManager</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">createToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> username</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">checkToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//ç®€å•ç‰ˆçš„å®ç°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultTokenManager</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokenManager</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Map</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(38, 127, 153)">String</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"> tokenMap </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConcurrentHashMap</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token generics punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">createToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> username</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CodecUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createUUID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        tokenMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">put</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> username</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(4, 81, 165)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">checkToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isEmpty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> tokenMap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">containsKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//åˆ‡é¢ç±»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SecurityAspect</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> DEFAULT_TOKEN_NAME </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;X-Token&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokenManager</span><span class="token plain"> tokenManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> tokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setTokenManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">TokenManager</span><span class="token plain"> tokenManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">tokenManager </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> tokenManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setTokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> tokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringUtil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isEmpty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">tokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            tokenName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> DEFAULT_TOKEN_NAME</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">this</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">tokenName </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> tokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Object</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">execute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ProceedingJoinPoint</span><span class="token plain"> pjp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Throwable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ä»åˆ‡ç‚¹ä¸Šè·å–ç›®æ ‡æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">MethodSignature</span><span class="token plain"> methodSignature </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MethodSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> pjp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Method</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> methodSignature</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getMethod</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// è‹¥ç›®æ ‡æ–¹æ³•å¿½ç•¥äº†å®‰å…¨æ€§æ£€æŸ¥ï¼Œåˆ™ç›´æ¥è°ƒç”¨ç›®æ ‡æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">method</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">isAnnotationPresent</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IgnoreSecurity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> pjp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">proceed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ä» request header ä¸­è·å–å½“å‰ token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">WebContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRequest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getHeader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">tokenName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// æ£€æŸ¥ token æœ‰æ•ˆæ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">tokenManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">checkToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">format</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;token [%s] is invalid&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokenException</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// è°ƒç”¨ç›®æ ‡æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> pjp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">proceed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿åˆ‡é¢ç”Ÿæ•ˆï¼Œæ·»åŠ å¦‚ä¸‹Springé…ç½®ï¼š</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">securityAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">com.xxx.api.security.SecurityAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">property</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">tokenManager</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">tokenManager</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">property</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">tokenName</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">X-Token</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">bean</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">config</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">aspect</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">securityAspect</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">around</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">method</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">execute</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">pointcut</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">@annotation(org.springframework.web.bind.annotation.RequestMapping)</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">aspect</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag namespace" style="color:rgb(128, 0, 0)">aop:</span><span class="token tag" style="color:rgb(128, 0, 0)">config</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œåœ¨ web.xml ä¸­æ·»åŠ å…è®¸çš„ X-Token å“åº”å¤´ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">init-param</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">param-name</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">allowHeaders</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">param-name</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">param-value</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">Content-Type,X-Token</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">param-value</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">init-param</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/http">http</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/restful">restful</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/outline">outline</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/outline-about-desktop-develop"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">æ¡Œé¢åº”ç”¨å¼€å‘ Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/outline-about-reactive-programming"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">å“åº”å¼ç¼–ç¨‹ Intro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#41-å¸¸è§è¯·æ±‚æ–¹å¼" class="table-of-contents__link toc-highlight">4.1. å¸¸è§è¯·æ±‚æ–¹å¼</a></li><li><a href="#42-get-vs-post" class="table-of-contents__link toc-highlight">4.2. GET vs. POST</a></li><li><a href="#43-å¸¸è§è¯·æ±‚å¤´" class="table-of-contents__link toc-highlight">4.3. å¸¸è§è¯·æ±‚å¤´</a></li><li><a href="#44-è·å–è¯·æ±‚ä¿¡æ¯" class="table-of-contents__link toc-highlight">4.4. è·å–è¯·æ±‚ä¿¡æ¯</a></li><li><a href="#45-ç½‘é¡µå‚æ•°æäº¤è·å–" class="table-of-contents__link toc-highlight">4.5. ç½‘é¡µå‚æ•°æäº¤è·å–</a></li><li><a href="#46-servicedogetdopostå…³ç³»" class="table-of-contents__link toc-highlight">4.6. service(),doGet(),doPost()å…³ç³»</a></li><li><a href="#47-requestä¸­æ–‡ä¹±ç é—®é¢˜" class="table-of-contents__link toc-highlight">4.7. requestä¸­æ–‡ä¹±ç é—®é¢˜</a></li><li><a href="#61-å“åº”è¡ŒçŠ¶æ€ç " class="table-of-contents__link toc-highlight">6.1. å“åº”è¡Œ&amp;çŠ¶æ€ç </a></li><li><a href="#62-å¸¸è§å“åº”å¤´" class="table-of-contents__link toc-highlight">6.2. å¸¸è§å“åº”å¤´</a></li><li><a href="#63-è®¾ç½®httpå“åº”" class="table-of-contents__link toc-highlight">6.3. è®¾ç½®httpå“åº”</a></li><li><a href="#64-apiç¤ºä¾‹" class="table-of-contents__link toc-highlight">6.4. apiç¤ºä¾‹</a></li><li><a href="#65-è¯·æ±‚é‡å®šå‘" class="table-of-contents__link toc-highlight">6.5. è¯·æ±‚é‡å®šå‘</a></li><li><a href="#66-å“åº”ä¸­æ–‡ä¹±ç " class="table-of-contents__link toc-highlight">6.6. å“åº”ä¸­æ–‡ä¹±ç </a></li><li><a href="#71-åœ¨jsä¸­å¤„ç†" class="table-of-contents__link toc-highlight">7.1. åœ¨JSä¸­å¤„ç†</a></li><li><a href="#72-åœ¨javaä¸­å¤„ç†" class="table-of-contents__link toc-highlight">7.2. åœ¨javaä¸­å¤„ç†</a></li><li><a href="#81-çŸ­è½®è¯¢" class="table-of-contents__link toc-highlight">8.1. çŸ­è½®è¯¢</a></li><li><a href="#82-é•¿è¿æ¥" class="table-of-contents__link toc-highlight">8.2. é•¿è¿æ¥</a></li><li><a href="#83-websocket" class="table-of-contents__link toc-highlight">8.3. WebSocket</a></li><li><a href="#91-httpè¯·æ±‚æµç¨‹" class="table-of-contents__link toc-highlight">9.1. httpè¯·æ±‚æµç¨‹</a></li><li><a href="#92-å‘èµ·httpè¯·æ±‚" class="table-of-contents__link toc-highlight">9.2. å‘èµ·httpè¯·æ±‚</a></li><li><a href="#93-httpè§£æ" class="table-of-contents__link toc-highlight">9.3. httpè§£æ</a><ul><li><a href="#931-å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´çŠ¶æ€ç " class="table-of-contents__link toc-highlight">9.3.1. å¸¸ç”¨çš„è¯·æ±‚å¤´å“åº”å¤´ï¼ŒçŠ¶æ€ç </a></li></ul></li><li><a href="#94-dnsåŸŸåè§£æ" class="table-of-contents__link toc-highlight">9.4. DNSåŸŸåè§£æ</a><ul><li><a href="#941-æ•´ä¸ªæµç¨‹" class="table-of-contents__link toc-highlight">9.4.1. æ•´ä¸ªæµç¨‹</a></li><li><a href="#942-æ¸…é™¤dnsç¼“å­˜" class="table-of-contents__link toc-highlight">9.4.2. æ¸…é™¤DNSç¼“å­˜</a></li><li><a href="#943-åŸŸåè§£ææ–¹å¼" class="table-of-contents__link toc-highlight">9.4.3. åŸŸåè§£ææ–¹å¼</a></li></ul></li><li><a href="#95-cdn-å·¥ä½œæœºåˆ¶" class="table-of-contents__link toc-highlight">9.5. CDN å·¥ä½œæœºåˆ¶</a></li><li><a href="#96-å…è´¹-cdn" class="table-of-contents__link toc-highlight">9.6. å…è´¹ cdn</a></li><li><a href="#101-å’Œ-http-å¯¹æ¯”" class="table-of-contents__link toc-highlight">10.1. å’Œ http å¯¹æ¯”</a></li><li><a href="#102-å¦‚ä½•å…è´¹å¼€å¯-https" class="table-of-contents__link toc-highlight">10.2. å¦‚ä½•å…è´¹å¼€å¯ https</a></li><li><a href="#111-web-service" class="table-of-contents__link toc-highlight">11.1. Web Service</a></li><li><a href="#112-ä»€ä¹ˆæ˜¯restfulæ¶æ„" class="table-of-contents__link toc-highlight">11.2. ä»€ä¹ˆæ˜¯restfulæ¶æ„ï¼Ÿ</a></li><li><a href="#113-restfulæœ€å¤§çš„ä¼˜åŠ¿" class="table-of-contents__link toc-highlight">11.3. RESTfulæœ€å¤§çš„ä¼˜åŠ¿</a></li><li><a href="#114-å…¸å‹çš„è®¾è®¡é”™è¯¯" class="table-of-contents__link toc-highlight">11.4. å…¸å‹çš„è®¾è®¡é”™è¯¯</a></li><li><a href="#115-è®¾è®¡åˆç†çš„restful-api" class="table-of-contents__link toc-highlight">11.5. è®¾è®¡åˆç†çš„restful API</a></li><li><a href="#116-æ¥å£å®‰å…¨è®¾è®¡" class="table-of-contents__link toc-highlight">11.6. æ¥å£å®‰å…¨è®¾è®¡</a></li><li><a href="#117-å®è·µ" class="table-of-contents__link toc-highlight">11.7. å®è·µ</a><ul><li><a href="#1171-è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„" class="table-of-contents__link toc-highlight">11.7.1. è®¾è®¡ç»Ÿä¸€çš„å“åº”ç»“æ„</a></li><li><a href="#1172-å®ç°å¯¹è±¡åºåˆ—åŒ–" class="table-of-contents__link toc-highlight">11.7.2. å®ç°å¯¹è±¡åºåˆ—åŒ–</a></li><li><a href="#1173-å¤„ç†å¼‚å¸¸" class="table-of-contents__link toc-highlight">11.7.3. å¤„ç†å¼‚å¸¸</a></li><li><a href="#1174-æ”¯æŒå‚æ•°éªŒè¯" class="table-of-contents__link toc-highlight">11.7.4. æ”¯æŒå‚æ•°éªŒè¯</a></li><li><a href="#1175-è§£å†³è·¨åŸŸé—®é¢˜" class="table-of-contents__link toc-highlight">11.7.5. è§£å†³è·¨åŸŸé—®é¢˜</a></li><li><a href="#1176-apiè®¿é—®æƒ" class="table-of-contents__link toc-highlight">11.7.6. APIè®¿é—®æƒ</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å†å²</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tags">æ ‡ç­¾</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">å½’æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾äº¤åª’ä½“</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">å…³äºæˆ‘</a></li><li class="footer__item"><a href="https://github.com/xiaoyureed" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/xiaoyuhfq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/3fPgwd3naN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">å‹é“¾</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/resource">å¯¼èˆª</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Xiaoyureed, Inc. Built with â¤ï¸ by xiaoyu.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.032ee0f7.js"></script>
<script src="/assets/js/main.ad8a83de.js"></script>
</body>
</html>