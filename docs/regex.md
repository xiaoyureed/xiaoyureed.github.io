---
title: Regular Expression æ­£åˆ™ğŸŒˆ
date: 2014-03-25 22:13:07
tags: [regex]
toc_min_heading_level: 2
toc_max_heading_level: 5
---

<div align="center">
æ­£åˆ™è¡¨è¾¾å¼, js
Javaä¸­çš„æ­£åˆ™ï¼šhttps://www.cnblogs.com/chanshuyi/p/9197164.html
</div>

<!-- more -->

<!-- TOC -->

- [1. åŒ¹é…å­—ç¬¦](#1-%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6)
    - [1.1. æ¨ªå‘åŒ¹é… é‡è¯](#11-%E6%A8%AA%E5%90%91%E5%8C%B9%E9%85%8D-%E9%87%8F%E8%AF%8D)
    - [1.2. çºµå‘åŒ¹é… å­—ç¬¦ç»„](#12-%E7%BA%B5%E5%90%91%E5%8C%B9%E9%85%8D-%E5%AD%97%E7%AC%A6%E7%BB%84)
    - [1.3. è´ªå©ª/æƒ°æ€§åŒ¹é…](#13-%E8%B4%AA%E5%A9%AA%E6%83%B0%E6%80%A7%E5%8C%B9%E9%85%8D)
    - [1.4. å¤šé€‰](#14-%E5%A4%9A%E9%80%89)
- [2. åŒ¹é…ä½ç½®](#2-%E5%8C%B9%E9%85%8D%E4%BD%8D%E7%BD%AE)
    - [2.1. ä½ç½®çš„ç†è§£](#21-%E4%BD%8D%E7%BD%AE%E7%9A%84%E7%90%86%E8%A7%A3)
    - [2.2. é”šå­—ç¬¦](#22-%E9%94%9A%E5%AD%97%E7%AC%A6)
    - [2.3. æ¡ˆä¾‹](#23-%E6%A1%88%E4%BE%8B)
- [3. æ‹¬å·çš„ä½œç”¨](#3-%E6%8B%AC%E5%8F%B7%E7%9A%84%E4%BD%9C%E7%94%A8)
    - [3.1. åˆ†ç»„ åˆ†æ”¯ç»“æ„](#31-%E5%88%86%E7%BB%84-%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84)
    - [3.2. é€šè¿‡APIå¼•ç”¨åˆ†ç»„](#32-%E9%80%9A%E8%BF%87api%E5%BC%95%E7%94%A8%E5%88%86%E7%BB%84)
        - [3.2.1. æå–æ•°æ®](#321-%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE)
        - [3.2.2. æ›¿æ¢](#322-%E6%9B%BF%E6%8D%A2)
    - [3.3. æ­£åˆ™å†…å¼•ç”¨åˆ†ç»„](#33-%E6%AD%A3%E5%88%99%E5%86%85%E5%BC%95%E7%94%A8%E5%88%86%E7%BB%84)
    - [3.4. éæ•è·åˆ†ç»„](#34-%E9%9D%9E%E6%8D%95%E8%8E%B7%E5%88%86%E7%BB%84)
    - [3.5. å…ˆè¡Œå¦å®šæ–­è¨€](#35-%E5%85%88%E8%A1%8C%E5%90%A6%E5%AE%9A%E6%96%AD%E8%A8%80)
    - [3.6. æ¡ˆä¾‹](#36-%E6%A1%88%E4%BE%8B)
- [4. åŒ¹é…åŸç†--å›æº¯](#4-%E5%8C%B9%E9%85%8D%E5%8E%9F%E7%90%86--%E5%9B%9E%E6%BA%AF)
- [5. æ‹†åˆ†](#5-%E6%8B%86%E5%88%86)
- [6. å®è·µ](#6-%E5%AE%9E%E8%B7%B5)
    - [6.1. å››ç§æ“ä½œ](#61-%E5%9B%9B%E7%A7%8D%E6%93%8D%E4%BD%9C)
        - [6.1.1. éªŒè¯](#611-%E9%AA%8C%E8%AF%81)
        - [6.1.2. åˆ‡åˆ†](#612-%E5%88%87%E5%88%86)
        - [6.1.3. æå–](#613-%E6%8F%90%E5%8F%96)
        - [6.1.4. æ›¿æ¢](#614-%E6%9B%BF%E6%8D%A2)
    - [6.2. ç›¸å…³APIæ³¨æ„](#62-%E7%9B%B8%E5%85%B3api%E6%B3%A8%E6%84%8F)
        - [6.2.1. searchå’Œmatchçš„å‚æ•°é—®é¢˜](#621-search%E5%92%8Cmatch%E7%9A%84%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98)
        - [6.2.2. matchè¿”å›ç»“æœçš„æ ¼å¼é—®é¢˜](#622-match%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%E6%A0%BC%E5%BC%8F%E9%97%AE%E9%A2%98)
        - [6.2.3. execæ¯”matchæ›´å¼ºå¤§](#623-exec%E6%AF%94match%E6%9B%B4%E5%BC%BA%E5%A4%A7)
        - [6.2.4. ä¿®é¥°ç¬¦gï¼Œå¯¹exexå’Œtestçš„å½±å“](#624-%E4%BF%AE%E9%A5%B0%E7%AC%A6g%E5%AF%B9exex%E5%92%8Ctest%E7%9A%84%E5%BD%B1%E5%93%8D)
        - [6.2.5. splitç›¸å…³æ³¨æ„äº‹é¡¹](#625-split%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9)
        - [6.2.6. replace åŠŸèƒ½å¼ºå¤§](#626-replace-%E5%8A%9F%E8%83%BD%E5%BC%BA%E5%A4%A7)
        - [6.2.7. regex.sourceå±æ€§](#627-regexsource%E5%B1%9E%E6%80%A7)
    - [6.3. æ¡ˆä¾‹](#63-%E6%A1%88%E4%BE%8B)
- [7. Java ä¸­çš„æ­£åˆ™](#7-java-%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99)

<!-- /TOC -->

# åŒ¹é…å­—ç¬¦

## æ¨ªå‘åŒ¹é… é‡è¯

ä¸€ä¸ªæ­£åˆ™å¯åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„  

```js
var regex = /ab{2,5}c/g;
var string = "abc abbc abbbc abbbbc abbbbbc abbbbbbc";
console.log( string.match(regex) ); 
// => ["abbc", "abbbc", "abbbbc", "abbbbbc"]
```

**{m,}** : è¡¨ç¤ºè‡³å°‘å‡ºç°mæ¬¡ã€‚  
**{m}** ç­‰ä»·äº{m,m}ï¼Œè¡¨ç¤ºå‡ºç°mæ¬¡ã€‚  
**?** ç­‰ä»·äº{0,1}ï¼Œè¡¨ç¤ºå‡ºç°æˆ–è€…ä¸å‡ºç°ã€‚è®°å¿†æ–¹å¼ï¼šé—®å·çš„æ„æ€è¡¨ç¤ºï¼Œæœ‰å—ï¼Ÿ  è‹¥è·Ÿåœ¨ä¸¤æ¬¡ä¹‹å, è¡¨ç¤ºæ‡’æƒ°åŒ¹é…
+: ç­‰ä»·äº{1,}ï¼Œè¡¨ç¤ºå‡ºç°è‡³å°‘ä¸€æ¬¡ã€‚è®°å¿†æ–¹å¼ï¼šåŠ å·æ˜¯è¿½åŠ çš„æ„æ€ï¼Œå¾—å…ˆæœ‰ä¸€ä¸ªï¼Œç„¶åæ‰è€ƒè™‘è¿½åŠ ã€‚  
**\*** ç­‰ä»·äº{0,}ï¼Œè¡¨ç¤ºå‡ºç°ä»»æ„æ¬¡ï¼Œæœ‰å¯èƒ½ä¸å‡ºç°ã€‚è®°å¿†æ–¹å¼ï¼šçœ‹çœ‹å¤©ä¸Šçš„æ˜Ÿæ˜Ÿï¼Œå¯èƒ½ä¸€é¢—æ²¡æœ‰ï¼Œå¯èƒ½é›¶æ•£æœ‰å‡ é¢—ï¼Œå¯èƒ½æ•°ä¹Ÿæ•°ä¸è¿‡æ¥ã€‚  


## çºµå‘åŒ¹é… å­—ç¬¦ç»„

ä¸€ä¸ªæ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…·ä½“åˆ°æŸä¸€ä½å­—ç¬¦æ—¶ï¼Œå®ƒå¯ä»¥ä¸æ˜¯æŸä¸ªç¡®å®šçš„å­—ç¬¦ï¼Œå¯ä»¥æœ‰å¤šç§å¯èƒ½

```js
var regex = /a[123]b/g;
var string = "a0b a1b a2b a3b a4b";
console.log( string.match(regex) ); 
// => ["a1b", "a2b", "a3b"]
```

[123456abcdefGHIJKLM]ï¼Œå¯ä»¥å†™æˆ[1-6a-fG-M]  

åŒ¹é…â€œaâ€ã€â€œ-â€ã€â€œzâ€è¿™ä¸‰è€…ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼š[-az]æˆ–[az-]æˆ–[a\-z]ã€‚å³è¦ä¹ˆæ”¾åœ¨å¼€å¤´ï¼Œè¦ä¹ˆæ”¾åœ¨ç»“å°¾ï¼Œè¦ä¹ˆè½¬ä¹‰ã€‚æ€»ä¹‹ä¸ä¼šè®©å¼•æ“è®¤ä¸ºæ˜¯èŒƒå›´è¡¨ç¤ºæ³•å°±è¡Œäº†  


```
x|y , x æˆ– y

[^abc]ï¼Œåå‘åŒ¹é…è¡¨ç¤ºæ˜¯ä¸€ä¸ªé™¤â€aâ€ã€â€bâ€ã€â€câ€ä¹‹å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦  

\d æ•°å­—å­—ç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº [0-9]
\D éæ•°å­—å­—ç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº [^0-9]

\s
åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ã€‚ä¸ [ \f\n\r\t\v] ç­‰æ•ˆ
\S
åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ä¸ [^ \f\n\r\t\v] ç­‰æ•ˆ

\w
åŒ¹é…ä»»ä½•å­—ç±»å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ã€‚ä¸"[A-Za-z0-9_]"ç­‰æ•ˆ
\W
ä¸ä»»ä½•éå•è¯å­—ç¬¦åŒ¹é…ã€‚ä¸"[^A-Za-z0-9_]"ç­‰æ•ˆ

\num
åŒ¹é… numï¼Œæ­¤å¤„çš„ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚åˆ°æ•è·åŒ¹é…çš„åå‘å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ"(.)\1"åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚

```


## è´ªå©ª/æƒ°æ€§åŒ¹é…

é€šè¿‡åœ¨é‡è¯åé¢åŠ ä¸ªé—®å·å°±èƒ½å®ç°æƒ°æ€§åŒ¹é…  
é»˜è®¤æ˜¯è´ªå©ªåŒ¹é…ï¼Œå®ƒä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚ä½ æä¾›ç»™æˆ‘æˆ‘6ä¸ªæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ï¼Œæˆ‘å°±è¦åŒ¹é…6ä¸ªã€‚ä½ èƒ½ç»™æˆ‘3ä¸ªå­—ç¬¦ï¼Œæˆ‘å°±3ã€‚åæ­£åªè¦åœ¨èƒ½åŠ›èŒƒå›´å†…ï¼Œè¶Šå¤šè¶Šå¥½

```js
var s = 'aaa';
s.match(/a+/) // ["aaa"]

// =========================

var regex = /\d{2,5}/g;
var string = "123 1234 12345 123456";
console.log( string.match(regex) ); 
// => ["123", "1234", "12345", "12345"]
```

è€Œæƒ°æ€§åŒ¹é…ï¼Œå°±æ˜¯å°½å¯èƒ½å°‘çš„åŒ¹é…, ä¸€æ—¦æ¡ä»¶æ»¡è¶³ï¼Œå°±ä¸å†å¾€ä¸‹åŒ¹é…ã€‚

å¦‚æœæƒ³å°†è´ªå©ªæ¨¡å¼æ”¹ä¸ºéè´ªå©ªæ¨¡å¼ï¼Œå¯ä»¥åœ¨é‡è¯ç¬¦åé¢åŠ ä¸€ä¸ªé—®å·


*?ï¼šè¡¨ç¤ºæŸä¸ªæ¨¡å¼å‡ºç°0æ¬¡æˆ–å¤šæ¬¡ï¼ŒåŒ¹é…æ—¶é‡‡ç”¨éè´ªå©ªæ¨¡å¼ã€‚
+?ï¼šè¡¨ç¤ºæŸä¸ªæ¨¡å¼å‡ºç°1æ¬¡æˆ–å¤šæ¬¡ï¼ŒåŒ¹é…æ—¶é‡‡ç”¨éè´ªå©ªæ¨¡å¼ã€‚

```js
var s = 'aaa';
s.match(/a+?/) // ["a"]

// =========================

var regex = /\d{2,5}?/g;
var string = "123 1234 12345 123456";
console.log( string.match(regex) ); 
// => ["12", "12", "34", "12", "34", "12", "34", "56"]
```
å…¶ä¸­`/\d{2,5}?/`è¡¨ç¤ºï¼Œè™½ç„¶2åˆ°5æ¬¡éƒ½è¡Œï¼Œå½“2ä¸ªå°±å¤Ÿçš„æ—¶å€™ï¼Œå°±ä¸åœ¨å¾€ä¸‹å°è¯•äº†ã€‚

## å¤šé€‰

(p1|p2|p3)ï¼Œå…¶ä¸­p1ã€p2å’Œp3æ˜¯å­æ¨¡å¼ï¼Œç”¨|ï¼ˆç®¡é“ç¬¦ï¼‰åˆ†éš”ï¼Œè¡¨ç¤ºå…¶ä¸­ä»»ä½•ä¹‹ä¸€ã€‚  

åˆ†æ”¯ç»“æ„ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼Œå³å½“å‰é¢çš„åŒ¹é…ä¸Šäº†ï¼Œåé¢çš„å°±ä¸å†å°è¯•äº†  

```js
var regex = /good|nice/g;
var string = "good idea, nice try.";
console.log( string.match(regex) ); 
// => ["good", "nice"]
```

# åŒ¹é…ä½ç½®

## ä½ç½®çš„ç†è§£

ä½ç½®æ˜¯ç›¸é‚»å­—ç¬¦ä¹‹é—´çš„ä½ç½®ï¼Œç›¸å½“äºä¸€ä¸ªç©ºå­—ç¬¦ä¸²`""`  

## é”šå­—ç¬¦

* **`^`**
* **`$`**
* **`\b`**
* **`\B`** (åŒ…æ‹¬å•è¯ä¸­é—´çš„ä½ç½®)
* **`(?=p)`**: å…¶ä¸­pæ˜¯ä¸€ä¸ªå­æ¨¡å¼ï¼Œå³på‰é¢çš„ä½ç½®, æˆ–è€…è¿™ä¹ˆç†è§£--æœ¬ä½ç½®åçš„å­—ç¬¦éœ€å¤åˆpæ¨¡å¼
* **`(?!p)`**ï¼šä¸ä¸Šé¢ç›¸å

```js
var result = "hello".replace(/(?=l)/g, '#');
console.log(result); 
// => "he#l#lo"

var result = "hello".replace(/(?!l)/g, '#');
console.log(result); 
// => "#h#ell#o#"
```

## æ¡ˆä¾‹

1. ä¸åŒ¹é…ä»»ä½•ä¸œè¥¿

/.^/

2. æ•°å­—çš„åƒä½åˆ†éš”ç¬¦è¡¨ç¤ºæ³•

```js
var string = "12345678 123456789",
reg = /(?!\b)(?=(\d{3})+\b)/g;
var result = string.replace(reg, ',')
console.log(result); 
// => "12,345,678 123,456,789"
```

å…¶ä¸­(?!\b)æ€ä¹ˆç†è§£å‘¢ï¼Ÿ  
è¦æ±‚å½“å‰æ˜¯ä¸€ä¸ªä½ç½®ï¼Œä½†ä¸æ˜¯\bå‰é¢çš„ä½ç½®ï¼Œå…¶å®(?!\b)è¯´çš„å°±æ˜¯\Bã€‚  
å› æ­¤æœ€ç»ˆæ­£åˆ™å˜æˆäº†ï¼š`/\B(?=(\d{3})+\b)/gã€‚  `

3. éªŒè¯å¯†ç é—®é¢˜

å¯†ç é•¿åº¦6-12ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦  

```js
var reg = /((?=.*[0-9])(?=.*[a-z])|(?=.*[0-9])(?=.*[A-Z])|(?=.*[a-z])(?=.*[A-Z]))^[0-9A-Za-z]{6,12}$/;
console.log( reg.test("1234567") ); // false å…¨æ˜¯æ•°å­—
console.log( reg.test("abcdef") ); // false å…¨æ˜¯å°å†™å­—æ¯
console.log( reg.test("ABCDEFGH") ); // false å…¨æ˜¯å¤§å†™å­—æ¯
console.log( reg.test("ab23C") ); // false ä¸è¶³6ä½
console.log( reg.test("ABCDEF234") ); // true å¤§å†™å­—æ¯å’Œæ•°å­—
console.log( reg.test("abcdEF234") ); // true ä¸‰è€…éƒ½æœ‰

//æˆ–è€…
var reg = /(?!^[0-9]{6,12}$)(?!^[a-z]{6,12}$)(?!^[A-Z]{6,12}$)^[0-9A-Za-z]{6,12}$/;
console.log( reg.test("1234567") ); // false å…¨æ˜¯æ•°å­—
console.log( reg.test("abcdef") ); // false å…¨æ˜¯å°å†™å­—æ¯
console.log( reg.test("ABCDEFGH") ); // false å…¨æ˜¯å¤§å†™å­—æ¯
console.log( reg.test("ab23C") ); // false ä¸è¶³6ä½
console.log( reg.test("ABCDEF234") ); // true å¤§å†™å­—æ¯å’Œæ•°å­—
console.log( reg.test("abcdEF234") ); // true ä¸‰è€…éƒ½æœ‰
```

# æ‹¬å·çš„ä½œç”¨

æ‹¬å·æä¾›äº†åˆ†ç»„ï¼Œä¾¿äºæˆ‘ä»¬å¼•ç”¨å®ƒ  

## åˆ†ç»„ åˆ†æ”¯ç»“æ„

```js
var regex = /(ab)+/g;
var string = "ababa abbb ababab";
console.log( string.match(regex) ); 
// => ["abab", "ab", "ababab"]
// æ­¤æ—¶åˆ†ç»„å†…å®¹æ²¡æœ‰è¢«æ•è·
// æ²¡æœ‰è¿”å›ä½¿ç”¨ç»„åŒ¹é…æ—¶ï¼Œä¸å®œåŒæ—¶ä½¿ç”¨gä¿®é¥°ç¬¦ï¼Œå¦åˆ™matchæ–¹æ³•ä¸ä¼šæ•è·åˆ†ç»„çš„å†…å®¹

var regex = /^I love (JavaScript|Regular Expression)$/;
console.log( regex.test("I love JavaScript") );
console.log( regex.test("I love Regular Expression") );
// => true
// => true
```

## é€šè¿‡APIå¼•ç”¨åˆ†ç»„

### æå–æ•°æ®

æå–å¹´æœˆæ—¥ï¼š

```js
var regex = /(\d{4})-(\d{2})-(\d{2})/;
var string = "2017-06-12";
var arr = string.match(regex);//regex.exec(string)æ•ˆæœç›¸åŒ
console.log( arr ); 
// => ["2017-06-12", "2017", "06", "12", index: 0, input: "2017-06-12"]
console.log(arr[4]);//=> undefined

```

ä¹Ÿå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°çš„å…¨å±€å±æ€§$1è‡³$9æ¥è·å–ï¼š

```js
var regex = /(\d{4})-(\d{2})-(\d{2})/;
var string = "2017-06-12";
regex.test(string); // æ­£åˆ™æ“ä½œå³å¯ï¼Œä¾‹å¦‚
//regex.exec(string);
//string.match(regex);
console.log(RegExp.$1); // "2017"
console.log(RegExp.$2); // "06"
console.log(RegExp.$3); // "12"
```

### æ›¿æ¢

æƒ³æŠŠyyyy-mm-ddæ ¼å¼ï¼Œæ›¿æ¢æˆmm/dd/yyyyæ€ä¹ˆåšï¼Ÿ

```js
var regex = /(\d{4})-(\d{2})-(\d{2})/;
var string = "2017-06-12";
var result = string.replace(regex, "$2/$3/$1");
//ç­‰ä»·äºå¦‚ä¸‹è¡¨è¾¾ï¼š
//var result = string.replace(regex, function() {
//	return RegExp.$2 + "/" + RegExp.$3 + "/" + RegExp.$1;
//});
//ä¹Ÿç­‰ä»·äº
//var result = string.replace(regex, function(match, year, month, day) {
//	return month + "/" + day + "/" + year;
//});
console.log(result); 
// => "06/12/2017"
```

## æ­£åˆ™å†…å¼•ç”¨åˆ†ç»„

é™¤äº†ä½¿ç”¨ç›¸åº”APIæ¥å¼•ç”¨åˆ†ç»„ï¼Œä¹Ÿå¯ä»¥åœ¨æ­£åˆ™æœ¬èº«é‡Œå¼•ç”¨åˆ†ç»„ã€‚ä½†åªèƒ½å¼•ç”¨ä¹‹å‰å‡ºç°çš„åˆ†ç»„ï¼Œå¦‚ï¼š

    éœ€è¦æ»¡è¶³ä¸‰ç§æ ¼å¼çš„æ—¥æœŸï¼š

    2016-06-12
    2016/06/12
    2016.06.12

`var regex = /\d{4}(-|\/|\.)\d{2}\1\d{2}/`  

`\1`å³ç¬¬ä¸€ä¸ªåˆ†ç»„ï¼Œè¡¨ç¤ºçš„å¼•ç”¨ä¹‹å‰çš„é‚£ä¸ªåˆ†ç»„`(-|\/|\.)`ã€‚ä¸ç®¡å®ƒåŒ¹é…åˆ°ä»€ä¹ˆï¼ˆæ¯”å¦‚-ï¼‰ï¼Œ`\1`éƒ½åŒ¹é…é‚£ä¸ªåŒæ ·çš„å…·ä½“æŸä¸ªå­—ç¬¦ã€‚  

1. æ‹¬å·åµŒå¥—çš„æƒ…å†µ

ä»¥å·¦æ‹¬å·ï¼ˆå¼€æ‹¬å·ï¼‰ä¸ºå‡†ã€‚æ¯”å¦‚: `/^((\d)(\d(\d)))\1\2\3\4$/`  

```js
var regex = /^((\d)(\d(\d)))\1\2\3\4$/;
var string = "1231231233";
console.log( regex.test(string) ); // true
console.log( RegExp.$1 ); // 123
console.log( RegExp.$2 ); // 1
console.log( RegExp.$3 ); // 23
console.log( RegExp.$4 ); // 3
```

ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œæ¯”å¦‚è¯´1ï¼Œ  
ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œæ¯”å¦‚è¯´2ï¼Œ  
ç¬¬ä¸‰ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œæ¯”å¦‚è¯´3ï¼Œ  
æ¥ä¸‹æ¥çš„æ˜¯\1ï¼Œæ˜¯ç¬¬ä¸€ä¸ªåˆ†ç»„å†…å®¹ï¼Œé‚£ä¹ˆçœ‹ç¬¬ä¸€ä¸ªå¼€æ‹¬å·å¯¹åº”çš„åˆ†ç»„æ˜¯ä»€ä¹ˆï¼Œæ˜¯123ï¼Œ  
æ¥ä¸‹æ¥çš„æ˜¯\2ï¼Œæ‰¾åˆ°ç¬¬2ä¸ªå¼€æ‹¬å·ï¼Œå¯¹åº”çš„åˆ†ç»„ï¼ŒåŒ¹é…çš„å†…å®¹æ˜¯1ï¼Œ  
æ¥ä¸‹æ¥çš„æ˜¯\3ï¼Œæ‰¾åˆ°ç¬¬3ä¸ªå¼€æ‹¬å·ï¼Œå¯¹åº”çš„åˆ†ç»„ï¼ŒåŒ¹é…çš„å†…å®¹æ˜¯23ï¼Œ  
æœ€åçš„æ˜¯\4ï¼Œæ‰¾åˆ°ç¬¬3ä¸ªå¼€æ‹¬å·ï¼Œå¯¹åº”çš„åˆ†ç»„ï¼ŒåŒ¹é…çš„å†…å®¹æ˜¯3ã€‚ 

2. `\10`è¡¨ç¤ºç¬¬åä¸ªåˆ†ç»„ï¼Œä¸æ˜¯è¡¨ç¤ºç¬¬ä¸€ä¸ªåˆ†ç»„åè·Ÿé›¶å­—ç¬¦


## éæ•è·åˆ†ç»„

å¦‚æœåªæƒ³è¦æ‹¬å·æœ€åŸå§‹çš„åŠŸèƒ½ï¼Œä½†ä¸ä¼šå¼•ç”¨å®ƒï¼Œå³ï¼Œæ—¢ä¸åœ¨APIé‡Œå¼•ç”¨ï¼Œä¹Ÿä¸åœ¨æ­£åˆ™é‡Œåå‘å¼•ç”¨ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨éæ•è·åˆ†ç»„`(?:p)`, pä¸ºè¡¨è¾¾å¼

éæ•è·ç»„çš„ä½œç”¨è¯·è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå‡å®šéœ€è¦åŒ¹é…fooæˆ–è€…foofooï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±åº”è¯¥å†™æˆ/(foo){1, 2}/ï¼Œä½†æ˜¯è¿™æ ·ä¼šå ç”¨ä¸€ä¸ªç»„åŒ¹é…ã€‚è¿™æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨éæ•è·ç»„ï¼Œå°†æ­£åˆ™è¡¨è¾¾å¼æ”¹ä¸º/(?:foo){1, 2}/ï¼Œå®ƒçš„ä½œç”¨ä¸å‰ä¸€ä¸ªæ­£åˆ™æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ä¼šå•ç‹¬è¾“å‡ºæ‹¬å·å†…éƒ¨çš„å†…å®¹ã€‚

```js
var regex = /(?:ab)+/g;
var string = "ababa abbb ababab";
console.log( string.match(regex) ); 
// => ["abab", "ab", "ababab"]

// =====================

var m = 'abc'.match(/(?:.)b(.)/);
m // ["abc", "c"]
// ä¸Šé¢ä»£ç ä¸­çš„æ¨¡å¼ï¼Œä¸€å…±ä½¿ç”¨äº†ä¸¤ä¸ªæ‹¬å·ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªæ‹¬å·æ˜¯éæ•è·ç»„ï¼Œæ‰€ä»¥æœ€åè¿”å›çš„ç»“æœä¸­æ²¡æœ‰ç¬¬ä¸€ä¸ªæ‹¬å·ï¼Œåªæœ‰ç¬¬äºŒä¸ªæ‹¬å·åŒ¹é…çš„å†…å®¹ã€‚

//======================

// æ­£å¸¸åŒ¹é…
var url = /(http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/;

url.exec('http://google.com/');
// ["http://google.com/", "http", "google.com", "/"]

// éæ•è·ç»„åŒ¹é…
var url = /(?:http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/;

url.exec('http://google.com/');
// ["http://google.com/", "google.com", "/"]
// ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯æ­£å¸¸åŒ¹é…ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·è¿”å›ç½‘ç»œåè®®ï¼›åä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯éæ•è·åŒ¹é…ï¼Œè¿”å›ç»“æœä¸­ä¸åŒ…æ‹¬ç½‘ç»œåè®®ã€‚
```

## å…ˆè¡Œ(å¦å®š)æ–­è¨€

x(?=y)ç§°ä¸ºå…ˆè¡Œæ–­è¨€ï¼ˆPositive look-aheadï¼‰ï¼Œxåªæœ‰åœ¨yå‰é¢æ‰åŒ¹é…ï¼Œyä¸ä¼šè¢«è®¡å…¥è¿”å›ç»“æœã€‚æ¯”å¦‚ï¼Œè¦åŒ¹é…åé¢è·Ÿç€ç™¾åˆ†å·çš„æ•°å­—ï¼Œå¯ä»¥å†™æˆ/\d+(?=%)/ã€‚

â€œå…ˆè¡Œæ–­è¨€â€ä¸­ï¼Œæ‹¬å·é‡Œçš„éƒ¨åˆ†æ˜¯ä¸ä¼šè¿”å›çš„ã€‚

x(?!y)ç§°ä¸ºå…ˆè¡Œå¦å®šæ–­è¨€ï¼ˆNegative look-aheadï¼‰ï¼Œxåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…ï¼Œyä¸ä¼šè¢«è®¡å…¥è¿”å›ç»“æœã€‚æ¯”å¦‚ï¼Œè¦åŒ¹é…åé¢è·Ÿçš„ä¸æ˜¯ç™¾åˆ†å·çš„æ•°å­—ï¼Œå°±è¦å†™æˆ/\d+(?!%)/ã€‚

â€œå…ˆè¡Œå¦å®šæ–­è¨€â€ä¸­ï¼Œæ‹¬å·é‡Œçš„éƒ¨åˆ†æ˜¯ä¸ä¼šè¿”å›çš„ã€‚

```js
var m = 'abc'.match(/b(?=c)/);
m // ["b"]

//=====================

/\d+(?!\.)/.exec('3.14')
// ["14"]

```

## æ¡ˆä¾‹

1. å­—ç¬¦ä¸²trimæ–¹æ³•æ¨¡æ‹Ÿ

ç¬¬ä¸€ç§ï¼ŒåŒ¹é…åˆ°å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½ç¬¦ï¼Œç„¶åæ›¿æ¢æˆç©ºå­—ç¬¦,æ•ˆç‡è¾ƒç¬¬äºŒç§é«˜

```js
function trim(str) {
	return str.replace(/^\s+|\s+$/g, '');
}
console.log( trim("  foobar   ") ); 
// => "foobar"
```

ç¬¬äºŒç§ï¼ŒåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åç”¨å¼•ç”¨æ¥æå–å‡ºç›¸åº”çš„æ•°æ®

```js
function trim(str) {
    //è¿™é‡Œä½¿ç”¨äº†æƒ°æ€§åŒ¹é…*?ï¼Œä¸ç„¶ä¹Ÿä¼šåŒ¹é…æœ€åä¸€ä¸ªç©ºæ ¼ä¹‹å‰çš„æ‰€æœ‰ç©ºæ ¼çš„ã€‚
	return str.replace(/^\s*(.*?)\s*$/g, "$1");
}
console.log( trim("  foobar   ") ); 
// => "foobar"
```

2. æ¯ä¸ªå•è¯çš„é¦–å­—æ¯è½¬å¤§å†™

```js
function titleize(str) {
	return str.toLowerCase().replace(/(?:^|\s)\w/g, function(c) {
		return c.toUpperCase();
	});
}
console.log( titleize('my name is epeli') ); 
// => "My Name Is Epeli"
```

3. é©¼å³°åŒ–

```js
function camelize(str) {
	return str.replace(/[-_\s]+(.)?/g, function(match, c) {
		return c ? c.toUpperCase() : '';
	});
}
console.log( camelize('-moz-transform') ); 
// => "MozTransform"
```

å…¶ä¸­åˆ†ç»„(.)è¡¨ç¤ºé¦–å­—æ¯ã€‚å•è¯çš„ç•Œå®šæ˜¯ï¼Œå‰é¢çš„å­—ç¬¦å¯ä»¥æ˜¯å¤šä¸ªè¿å­—ç¬¦ã€ä¸‹åˆ’çº¿ä»¥åŠç©ºç™½ç¬¦ã€‚æ­£åˆ™åé¢çš„?çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†åº”å¯¹strå°¾éƒ¨çš„å­—ç¬¦å¯èƒ½ä¸æ˜¯å•è¯å­—ç¬¦ï¼Œæ¯”å¦‚stræ˜¯â€™-moz-transform  â€˜

4. ä¸­åˆ’çº¿åŒ–---é©¼å³°åŒ–é€†è¿‡ç¨‹

```js
function dasherize(str) {
	return str.replace(/([A-Z])/g, '-$1').replace(/[-_\s]+/g, '-').toLowerCase();
}
console.log( dasherize('MozTransform') ); 
// => "-moz-transform"
```

# åŒ¹é…åŸç†--å›æº¯

æ•´ä¸ªåŒ¹é…è¿‡ç¨‹ï¼š  

1. ç¼–è¯‘
2. è®¾å®šèµ·å§‹ä½ç½®
3. å°è¯•åŒ¹é…
4. åŒ¹é…å¤±è´¥çš„è¯ï¼Œä»ä¸‹ä¸€ä½å¼€å§‹ç»§ç»­ç¬¬3æ­¥
5. æœ€ç»ˆç»“æœï¼šåŒ¹é…æˆåŠŸæˆ–å¤±è´¥

ç®€å•æ€»ç»“å°±æ˜¯ï¼Œæ­£å› ä¸ºæœ‰å¤šç§å¯èƒ½ï¼Œæ‰€ä»¥è¦ä¸€ä¸ªä¸€ä¸ªè¯•ã€‚ç›´åˆ°ï¼Œè¦ä¹ˆåˆ°æŸä¸€æ­¥æ—¶ï¼Œæ•´ä½“åŒ¹é…æˆåŠŸäº†ï¼›è¦ä¹ˆæœ€åéƒ½è¯•å®Œåï¼Œå‘ç°æ•´ä½“åŒ¹é…ä¸æˆåŠŸã€‚  

è´ªå©ªé‡è¯â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šä¹°è¡£æœç ä»·ã€‚ä»·é’±å¤ªé«˜äº†ï¼Œä¾¿å®œç‚¹ï¼Œä¸è¡Œï¼Œå†ä¾¿å®œç‚¹ã€‚  
æƒ°æ€§é‡è¯â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šå–ä¸œè¥¿åŠ ä»·ã€‚ç»™å°‘äº†ï¼Œå†å¤šç»™ç‚¹è¡Œä¸ï¼Œè¿˜æœ‰ç‚¹å°‘å•Šï¼Œå†ç»™ç‚¹ã€‚  
åˆ†æ”¯ç»“æ„â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šè´§æ¯”ä¸‰å®¶ã€‚è¿™å®¶ä¸è¡Œï¼Œæ¢ä¸€å®¶å§ï¼Œè¿˜ä¸è¡Œï¼Œå†æ¢ã€‚  

# æ‹†åˆ†

æ“ä½œç¬¦ä¼˜å…ˆçº§ï¼šï¼ˆç”±é«˜åˆ°ä½ï¼‰  

1. è½¬ä¹‰ç¬¦ \
2. æ‹¬å·å’Œæ–¹æ‹¬å· (...)ã€(?:...)ã€(?=...)ã€(?!...)ã€[...]
3. é‡è¯é™å®šç¬¦ {m}ã€{m,n}ã€{m,}ã€?ã€*ã€+
4. ä½ç½®å’Œåºåˆ— ^ ã€$ã€ \å…ƒå­—ç¬¦ã€ ä¸€èˆ¬å­—ç¬¦
5. ç®¡é“ç¬¦ï¼ˆç«–æ ï¼‰|


# å®è·µ

## å››ç§æ“ä½œ

### éªŒè¯

å¸¸ç”¨testï¼Œ

```js
var regex = /\d/;
var string = "abc123";
console.log( regex.test(string) );
// => true
```

### åˆ‡åˆ†

```js
var regex = /\D/;
console.log( "2017/06/26".split(regex) );
console.log( "2017.06.26".split(regex) );
console.log( "2017-06-26".split(regex) );
// => ["2017", "06", "26"]
// => ["2017", "06", "26"]
// => ["2017", "06", "26"]
```

### æå–

è™½ç„¶æ•´ä½“åŒ¹é…ä¸Šäº†ï¼Œä½†æœ‰æ—¶éœ€è¦æå–éƒ¨åˆ†åŒ¹é…çš„æ•°æ®ã€‚  

```js
//match--å¸¸ç”¨
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
console.log( string.match(regex) );
// =>["2017-06-26", "2017", "06", "26", index: 0, input: "2017-06-26"]

//exec
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
console.log( regex.exec(string) );
// =>["2017-06-26", "2017", "06", "26", index: 0, input: "2017-06-26"]

//test
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
regex.test(string);
console.log( RegExp.$1, RegExp.$2, RegExp.$3 );
// => "2017" "06" "26"

//search
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
string.search(regex);
console.log( RegExp.$1, RegExp.$2, RegExp.$3 );
// => "2017" "06" "26"

//replace
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
var date = [];
string.replace(regex, function(match, year, month, day) {
	date.push(year, month, day);
});
console.log(date);
// => ["2017", "06", "26"]
```

### æ›¿æ¢

æ¯”å¦‚æŠŠæ—¥æœŸæ ¼å¼ï¼Œä»yyyy-mm-ddæ›¿æ¢æˆyyyy/mm/dd  

```js
var string = "2017-06-26";
var today = new Date( string.replace(/-/g, "/") );
console.log( today );
// => Mon Jun 26 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

## ç›¸å…³APIæ³¨æ„

### searchå’Œmatchçš„å‚æ•°é—®é¢˜

searchå’Œmatchï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ­£åˆ™   

```js
var string = "2017.06.27";
console.log( string.search(".") );
// => 0
//éœ€è¦ä¿®æ”¹æˆä¸‹åˆ—å½¢å¼ä¹‹ä¸€
console.log( string.search("\\.") );
console.log( string.search(/\./) );
// => 4
// => 4
console.log( string.match(".") );
// => ["2", index: 0, input: "2017.06.27"]
//éœ€è¦ä¿®æ”¹æˆä¸‹åˆ—å½¢å¼ä¹‹ä¸€
console.log( string.match("\\.") );
console.log( string.match(/\./) );
// => [".", index: 4, input: "2017.06.27"]
// => [".", index: 4, input: "2017.06.27"]
console.log( string.split(".") );
// => ["2017", "06", "27"]
console.log( string.replace(".", "/") );
// => "2017/06.27"
```

### matchè¿”å›ç»“æœçš„æ ¼å¼é—®é¢˜

matchè¿”å›ç»“æœçš„æ ¼å¼ï¼Œä¸æ­£åˆ™å¯¹è±¡æ˜¯å¦æœ‰ä¿®é¥°ç¬¦gæœ‰å…³  

```js
var string = "2017.06.27";
var regex1 = /\b(\d+)\b/;
var regex2 = /\b(\d+)\b/g;
console.log( string.match(regex1) );
console.log( string.match(regex2) );
// => ["2017", "2017", index: 0, input: "2017.06.27"]
// => ["2017", "06", "27"]
```

æ²¡æœ‰gï¼Œè¿”å›çš„æ˜¯æ ‡å‡†åŒ¹é…æ ¼å¼ï¼Œå³ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´ä½“åŒ¹é…çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯åˆ†ç»„æ•è·çš„å†…å®¹ï¼Œç„¶åæ˜¯æ•´ä½“åŒ¹é…çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡ï¼Œæœ€åæ˜¯è¾“å…¥çš„ç›®æ ‡å­—ç¬¦ä¸²ã€‚  

æœ‰gï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…çš„å†…å®¹ã€‚  

å½“æ²¡æœ‰åŒ¹é…æ—¶ï¼Œä¸ç®¡æœ‰æ— gï¼Œéƒ½è¿”å›nullã€‚  

### execæ¯”matchæ›´å¼ºå¤§

å½“æ­£åˆ™æ²¡æœ‰gæ—¶ï¼Œä½¿ç”¨matchè¿”å›çš„ä¿¡æ¯æ¯”è¾ƒå¤šã€‚ä½†æ˜¯æœ‰gåï¼Œå°±æ²¡æœ‰å…³é”®çš„ä¿¡æ¯indexäº†ã€‚  

è€Œexecæ–¹æ³•å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒèƒ½æ¥ç€ä¸Šä¸€æ¬¡åŒ¹é…åç»§ç»­åŒ¹é…  

```js
var string = "2017.06.27";
var regex2 = /\b(\d+)\b/g;
var result;
while ( result = regex2.exec(string) ) {
	console.log( result, regex2.lastIndex );//lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸‹ä¸€æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®
}
// => ["2017", "2017", index: 0, input: "2017.06.27"] 4
// => ["06", "06", index: 5, input: "2017.06.27"] 7
// => ["27", "27", index: 8, input: "2017.06.27"] 10
```

### ä¿®é¥°ç¬¦gï¼Œå¯¹exexå’Œtestçš„å½±å“

ä¸Šé¢æåˆ°äº†æ­£åˆ™å®ä¾‹çš„lastIndexå±æ€§ï¼Œè¡¨ç¤ºå°è¯•åŒ¹é…æ—¶ï¼Œä»å­—ç¬¦ä¸²çš„lastIndexä½å¼€å§‹å»åŒ¹é…ã€‚  

å­—ç¬¦ä¸²çš„å››ä¸ªæ–¹æ³•ï¼Œæ¯æ¬¡åŒ¹é…æ—¶ï¼Œéƒ½æ˜¯ä»0å¼€å§‹çš„ï¼Œå³lastIndexå±æ€§å§‹ç»ˆä¸å˜ã€‚  

è€Œæ­£åˆ™å®ä¾‹çš„ä¸¤ä¸ªæ–¹æ³•execã€testï¼Œå½“æ­£åˆ™æ˜¯å…¨å±€åŒ¹é…æ—¶ï¼Œæ¯ä¸€æ¬¡åŒ¹é…å®Œæˆåï¼Œéƒ½ä¼šä¿®æ”¹lastIndex  

```js
var regex = /a/g;
console.log( regex.test("a"), regex.lastIndex );
console.log( regex.test("aba"), regex.lastIndex );
console.log( regex.test("ababc"), regex.lastIndex );
// => true 1
// => true 3
// => false 0

var regex = /a/;
console.log( regex.test("a"), regex.lastIndex );
console.log( regex.test("aba"), regex.lastIndex );
console.log( regex.test("ababc"), regex.lastIndex );
// => true 0
// => true 0
// => true 0
```

### splitç›¸å…³æ³¨æ„äº‹é¡¹

å®ƒå¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»“æœæ•°ç»„çš„æœ€å¤§é•¿åº¦    

æ­£åˆ™ä½¿ç”¨åˆ†ç»„æ—¶ï¼Œç»“æœæ•°ç»„ä¸­æ˜¯åŒ…å«åˆ†éš”ç¬¦çš„  

```js
var string = "html,css,javascript";
console.log( string.split(/,/, 2) );
// =>["html", "css"]

var string = "html,css,javascript";
console.log( string.split(/(,)/) );
// =>["html", ",", "css", ",", "javascript"]
```

### replace åŠŸèƒ½å¼ºå¤§

```js
"1234 2345 3456".replace(/(\d)\d{2}(\d)/g, function(match, $1, $2, index, input) {
	console.log([match, $1, $2, index, input]);
});
// => ["1234", "1", "4", 0, "1234 2345 3456"]
// => ["2345", "2", "5", 5, "1234 2345 3456"]
// => ["3456", "3", "6", 10, "1234 2345 3456"]
```

### regex.sourceå±æ€§

åœ¨æ„å»ºåŠ¨æ€çš„æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹è¯¥å±æ€§ï¼Œæ¥ç¡®è®¤æ„å»ºå‡ºçš„æ­£åˆ™åˆ°åº•æ˜¯ä»€ä¹ˆï¼š

```js
var className = "high";
var regex = new RegExp("(^|\\s)" + className + "(\\s|$)");
console.log( regex.source )
// => (^|\s)high(\s|$) å³å­—ç¬¦ä¸²"(^|\\s)high(\\s|$)"
```

## æ¡ˆä¾‹

http://blog.didispace.com/regular-expression-6/

# Java ä¸­çš„æ­£åˆ™
